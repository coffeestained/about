// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/accessorSupport/originUtils":function(){define(["exports","../multiOriginJSONSupportUtils"],function(h,b){h.updateOrigins=function(a){a&&a.writtenProperties&&a.writtenProperties.forEach(({target:d,propName:g,newOrigin:q})=>{b.isMultiOriginJSONMixin(d)&&q&&d.originOf(g)!==q&&d.updateOrigin(g,q)})};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/multiOriginJSONSupportUtils":function(){define(["exports"],function(h){h.isMultiOriginJSONMixin=
function(b){return b&&"getAtOrigin"in b&&"originOf"in b};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/networks/UtilityNetwork":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../layers/FeatureLayer ../layers/support/featureQueryAll ./Network ./RulesTable ./support/NamedTraceConfiguration ./support/TerminalConfiguration ./support/typeUtils ../rest/support/Query".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f,m,r,t,y,F){g=function(E){function w(p){p=E.call(this,p)||this;p.sharedNamedTraceConfigurations=[];p.type="utility";return p}h._inheritsLoose(w,E);var A=w.prototype;A.load=function(){var p=h._asyncToGenerator(function*(D){this.addResolvingPromise(E.prototype.load.call(this,D));this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(D));return this});return function(D){return p.apply(this,arguments)}}();A.getTerminalConfiguration=function(p){let D=null,
u=null;var B=p.layer;let G=null;if("feature"===(null==B?void 0:B.type)){if(G=B.layerId,null===G)return null}else return null;B=p.attributes;if(null==B)return null;for(const M of Object.keys(B))"ASSETGROUP"===M.toUpperCase()&&(D=p.getAttribute(M)),"ASSETTYPE"===M.toUpperCase()&&(u=p.getAttribute(M));if(!this.dataElement)return null;let H=null;p=this.dataElement.domainNetworks;for(const M of p){var L;if(p=null==(L=M.junctionSources)?void 0:L.find(O=>O.layerId===G)){var K;if(p=null==(K=p.assetGroups)?
void 0:K.find(O=>O.assetGroupCode===D)){var P;if(p=null==(P=p.assetTypes)?void 0:P.find(O=>O.assetTypeCode===u)){H=p.terminalConfigurationId;break}}}}return null!=H?(L=this.dataElement.terminalConfigurations,(L=null==L?void 0:L.find(M=>M.terminalConfigurationId===H))?t.fromJSON(L):null):null};A.getTierNames=function(p){var D;const u=null==(D=this.dataElement)?void 0:D.domainNetworks.find(B=>B.domainNetworkName===p);return(null==u?void 0:u.tiers.map(B=>B.name))||[]};A.getRulesTable=function(){var p=
h._asyncToGenerator(function*(){return this._createRulesTable()});return function(){return p.apply(this,arguments)}}();A.isUtilityLayer=function(p){return this._utilityLayerList.has(p.layerId)};A._loadNamedTraceConfigurationsFromNetwork=function(){var p=h._asyncToGenerator(function*(D){var u;if(0!==(null==(u=this.sharedNamedTraceConfigurations)?void 0:u.length)){u=this.sharedNamedTraceConfigurations.map(B=>B.globalId);D=yield this._fetchTraceConfigData(this.networkServiceUrl,u,D);for(const B of this.sharedNamedTraceConfigurations)(u=
null==D?void 0:D.find(G=>G.globalId===B.globalId))&&B.read(u,{origin:"service"})}});return function(D){return p.apply(this,arguments)}}();A._createRulesTable=function(){var p=h._asyncToGenerator(function*(){var D;const u=new l({url:this.rulesTableUrl});yield u.load();const B=null==(D=this.dataElement)?void 0:D.domainNetworks;if(!B)return null;const G=B.flatMap(H=>[...H.edgeSources,...H.junctionSources]);D=(yield this._queryRulesTable(u)).map(H=>this._hydrateRuleInfo(u,G,H));return new m({layer:u,
rules:D})});return function(){return p.apply(this,arguments)}}();A._queryRulesTable=function(){var p=h._asyncToGenerator(function*(D){const u=new F({where:"1\x3d1",outFields:["*"]});return(yield k.queryAllJSON(D,u)).features});return function(D){return p.apply(this,arguments)}}();A._hydrateRuleInfo=function(p,D,u){var B=p.fieldsIndex.get("RULETYPE"),G=p.fieldsIndex.get("CREATIONDATE"),H=p.fieldsIndex.get("FROMNETWORKSOURCEID"),L=p.fieldsIndex.get("FROMASSETGROUP"),K=p.fieldsIndex.get("FROMASSETTYPE"),
P=p.fieldsIndex.get("FROMTERMINALID"),M=p.fieldsIndex.get("TONETWORKSOURCEID"),O=p.fieldsIndex.get("TOASSETGROUP");const Y=p.fieldsIndex.get("TOASSETTYPE"),aa=p.fieldsIndex.get("TOTERMINALID"),R=p.fieldsIndex.get("VIANETWORKSOURCEID"),Z=p.fieldsIndex.get("VIAASSETGROUP"),J=p.fieldsIndex.get("VIAASSETTYPE");p=p.fieldsIndex.get("VIATERMINALID");B=u.attributes[B.name];G=new Date(u.attributes[G.name]);u=[{networkSourceId:u.attributes[H.name],assetGroupId:u.attributes[L.name],assetTypeId:u.attributes[K.name],
terminalId:u.attributes[P.name]},{networkSourceId:u.attributes[M.name],assetGroupId:u.attributes[O.name],assetTypeId:u.attributes[Y.name],terminalId:u.attributes[aa.name]},{networkSourceId:u.attributes[R.name],assetGroupId:u.attributes[Z.name],assetTypeId:u.attributes[J.name],terminalId:u.attributes[p.name]}];let T;(function(S){S[S.from=0]="from";S[S.to=1]="to";S[S.via=2]="via"})(T||(T={}));H={ruleType:B,creationDate:G};for(const S of[T.from,T.to,T.via]){if(B!==y.RuleType.RTEdgeJunctionEdgeConnectivity&&
S===T.via)continue;const U=u[S];L=D.find(W=>W.sourceId===U.networkSourceId);K=null==L?void 0:L.assetGroups.find(W=>W.assetGroupCode===U.assetGroupId);P=null==K?void 0:K.assetTypes.find(W=>W.assetTypeCode===U.assetTypeId);M=this._getTerminal(B,P,U);if(B===y.RuleType.RTContainment||B===y.RuleType.RTAttachment)M=null;O="";switch(S){case T.from:O="from";break;case T.to:O="to";break;case T.via:O="via"}H[`${O}NetworkSource`]=L;H[`${O}AssetGroup`]=K;H[`${O}AssetType`]=P;H[`${O}Terminal`]=M}return H};A._getTerminal=
function(p,D,u){var B,G;if(p===y.RuleType.RTAttachment||p===y.RuleType.RTContainment)return null;const H=null==D?void 0:D.terminalConfigurationId;p=null==(B=this.terminalConfigurations)?void 0:B.find(L=>L.id===H);return null==p?void 0:null==(G=p.terminals)?void 0:G.find(L=>L.id===u.terminalId)};A._fetchTraceConfigData=function(p,D,u){return a(`${p}/traceConfigurations/query`,{responseType:"json",query:{globalIds:JSON.stringify(D),f:"json"},...u}).then(B=>B.data.traceConfigurations)};h._createClass(w,
[{key:"serviceTerritoryFeatureLayerId",get:function(){var p;return null==(p=this.dataElement)?void 0:p.serviceTerritoryFeatureLayerId}},{key:"systemLayers",get:function(){var p,D;return{rulesTableId:null==(p=this.sourceJSON)?void 0:p.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.rulesTableId}`:null,subnetworksTableId:null==(D=this.sourceJSON)?void 0:D.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.subnetworksTableId}`:
null}}},{key:"rulesTableId",get:function(){var p;return null==(p=this.sourceJSON)?void 0:p.systemLayers.rulesTableId}},{key:"rulesTableUrl",get:function(){return this.sourceJSON?`${this.featureServiceUrl}/${this.rulesTableId}`:null}},{key:"subnetworksTableId",get:function(){var p;return null==(p=this.sourceJSON)?void 0:p.systemLayers.subnetworksTableId}},{key:"subnetworksTableUrl",get:function(){return this.sourceJSON?`${this.featureServiceUrl}/${this.subnetworksTableId}`:null}},{key:"terminalConfigurations",
get:function(){var p;return(null==(p=this.dataElement)?void 0:p.terminalConfigurations.map(D=>t.fromJSON(D)))||[]}},{key:"domainNetworkNames",get:function(){var p;return(null==(p=this.dataElement)?void 0:p.domainNetworks.map(D=>D.domainNetworkName))||[]}},{key:"_utilityLayerList",get:function(){const p=new Set;this.dataElement.domainNetworks.map(D=>{D.edgeSources.map(u=>{p.add(u.layerId)});D.junctionSources.map(u=>{p.add(u.layerId)})});return p}}]);return w}(f);b.__decorate([d.property({type:[r],
json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],g.prototype,"sharedNamedTraceConfigurations",void 0);b.__decorate([d.property({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],g.prototype,"type",void 0);b.__decorate([d.property({readOnly:!0})],g.prototype,"serviceTerritoryFeatureLayerId",null);b.__decorate([d.property({readOnly:!0})],g.prototype,"systemLayers",null);b.__decorate([d.property({readOnly:!0})],
g.prototype,"rulesTableId",null);b.__decorate([d.property({readOnly:!0})],g.prototype,"rulesTableUrl",null);b.__decorate([d.property({readOnly:!0})],g.prototype,"subnetworksTableId",null);b.__decorate([d.property({readOnly:!0})],g.prototype,"subnetworksTableUrl",null);b.__decorate([d.property({readOnly:!0})],g.prototype,"terminalConfigurations",null);b.__decorate([d.property({readOnly:!0})],g.prototype,"domainNetworkNames",null);return g=b.__decorate([x.subclass("esri.networks.UtilityNetwork")],g)})},
"esri/layers/support/featureQueryAll":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe","../../rest/support/Query"],function(h,b,a,d){function g(){g=b._asyncToGenerator(function*(l,k,f){k=k.clone();l.capabilities.query.supportsMaxRecordCountFactor&&(k.maxRecordCountFactor=x(l));const m=q(l),r=l.capabilities.query.supportsPagination;k.start=0;k.num=m;let t=null;for(;;){const y=yield l.source.queryFeaturesJSON(k,f);a.isNone(t)?t=y:t.features=t.features.concat(y.features);
t.exceededTransferLimit=y.exceededTransferLimit;if(!r||!y.exceededTransferLimit)break;k.start+=m}return t});return g.apply(this,arguments)}function q(l){return x(l)*z(l)}function z(l){return l.capabilities.query.maxRecordCount||2E3}function x(l){return l.capabilities.query.supportsMaxRecordCountFactor?d.MAX_MAX_RECORD_COUNT_FACTOR:1}h.getMaxRecordCountFactor=x;h.getMaximumQuerySize=q;h.getMaximumRecordCount=z;h.queryAllJSON=function(l,k,f){return g.apply(this,arguments)};Object.defineProperties(h,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/networks/Network":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../core/Loadable ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../layers/support/arcgisLayerUrl".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f,m,r,t,y,F,E){const w=g.getLogger("esri.networks.Network");d=function(A){function p(u){u=A.call(this,u)||this;u.id=null;u.title=null;u.layerUrl=null;u.dataElement=null;u.fullExtent=null;u.spatialReference=null;u.type=null;u.sourceJSON=null;return u}h._inheritsLoose(p,A);var D=p.prototype;D.initialize=function(){this.when().catch(u=>{if(!x.isAbortError(u)){var B,G;w.error("#load()",`Failed to load layer (title: '${null!=(B=this.title)?B:"no title"}', id: '${null!=(G=this.id)?
G:"no id"}')`,{error:u})}})};D.load=function(){var u=h._asyncToGenerator(function*(B){this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),B));this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,B));return this});return function(B){return u.apply(this,arguments)}}();D.getLayerIdBySourceId=function(u){if(this.dataElement){const B=this.dataElement.domainNetworks;for(const G of B){for(const H of G.edgeSources?G.edgeSources:[])if(H.sourceId===u)return H.layerId;
for(const H of G.junctionSources?G.junctionSources:[])if(H.sourceId===u)return H.layerId}}return null};D._fetchLayerMetaData=function(){var u=h._asyncToGenerator(function*(B,G){B=yield a(B,{responseType:"json",query:{f:"json"},...G});this.sourceJSON=B.data;this.read(B.data,{origin:"service"})});return function(B,G){return u.apply(this,arguments)}}();D._fetchDataElement=function(){var u=h._asyncToGenerator(function*(B,G,H){this.dataElement||(B=yield a(`${B}/queryDataElements`,{responseType:"json",
query:{layers:JSON.stringify([G]),f:"json"},...H}).then(L=>{var K;return null==(K=L.data.layerDataElements)?void 0:K[0]}))&&this.read(B,{origin:"service"})});return function(B,G,H){return u.apply(this,arguments)}}();h._createClass(p,[{key:"datasetName",get:function(){var u;return null==(u=this.dataElement)?void 0:u.name}},{key:"owner",get:function(){var u;return null==(u=this.dataElement)?void 0:u.userIdentity}},{key:"schemaGeneration",get:function(){var u;return null==(u=this.dataElement)?void 0:
u.schemaGeneration}},{key:"parsedUrl",get:function(){const u=this.layerUrl;return u?l.urlToObject(u):null}},{key:"featureServiceUrl",get:function(){const u=this.parsedUrl&&E.parse(this.parsedUrl.path);return q.isSome(u)?u.url.path:null}},{key:"networkServiceUrl",get:function(){return this.featureServiceUrl?this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer"):null}},{key:"layerId",get:function(){const u=this.parsedUrl&&E.parse(this.parsedUrl.path);return q.isSome(u)?u.sublayer:
null}}]);return p}(z.MultiOriginJSONMixin(d));b.__decorate([k.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],d.prototype,"id",void 0);b.__decorate([k.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],d.prototype,"title",void 0);b.__decorate([k.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],d.prototype,
"layerUrl",void 0);b.__decorate([k.property({type:Object,json:{origins:{service:{read:!0}},read:!1}})],d.prototype,"dataElement",void 0);b.__decorate([k.property({type:y,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],d.prototype,"fullExtent",void 0);b.__decorate([k.property({type:F,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],d.prototype,"spatialReference",void 0);b.__decorate([k.property({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],
d.prototype,"type",void 0);b.__decorate([k.property({readOnly:!0})],d.prototype,"datasetName",null);b.__decorate([k.property({readOnly:!0})],d.prototype,"owner",null);b.__decorate([k.property({readOnly:!0})],d.prototype,"schemaGeneration",null);b.__decorate([k.property({readOnly:!0})],d.prototype,"parsedUrl",null);b.__decorate([k.property({readOnly:!0})],d.prototype,"featureServiceUrl",null);b.__decorate([k.property({readOnly:!0})],d.prototype,"networkServiceUrl",null);b.__decorate([k.property({readOnly:!0})],
d.prototype,"layerId",null);b.__decorate([k.property()],d.prototype,"sourceJSON",void 0);return d=b.__decorate([t.subclass("esri.networks.Network")],d)})},"esri/networks/RulesTable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../core/JSONSupport ../core/Loadable ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/typeUtils".split(" "),function(h,
b,a,d,g,q,z,x,l,k,f){d=function(m){function r(y){y=m.call(this,y)||this;y.request=a;return y}h._inheritsLoose(r,m);var t=r.prototype;t.initialize=function(){};t.load=function(){var y=h._asyncToGenerator(function*(F){F=this.layer.load(F).then(()=>this._initializeRulesTable());this.addResolvingPromise(F);return this});return function(F){return y.apply(this,arguments)}}();t.getFeatureSQL=function(y,F){var E=y.layerId.toString(),w=y.fieldsIndex.normalizeFieldName("assetGroup");y=y.fieldsIndex.normalizeFieldName("assetType");
w=F.attributes[w];F=F.attributes[y];if(E=this.rulesHash[E])if(E=E.assetGroupHash[w])return(E=E.assetTypeHash[F])?E:null;return null};t._initializeRulesTable=function(){var y=h._asyncToGenerator(function*(){const F={};let E;var w=E||(E={});w[w.from=0]="from";w[w.to=1]="to";w[w.via=2]="via";w=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",
assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];for(const R of this.rules)if(R.ruleType===f.RuleType.RTJunctionJunctionConnectivity||R.ruleType===f.RuleType.RTJunctionEdgeConnectivity||R.ruleType===f.RuleType.RTEdgeJunctionEdgeConnectivity){var A=[[E.from,E.to],[E.to,E.from]];R.ruleType===f.RuleType.RTEdgeJunctionEdgeConnectivity&&(A=[[E.from,E.via],[E.via,E.from],[E.to,E.via],[E.via,E.to]]);for(const Z of A){var p,D,u,B,G,H,L;A=Z.shift();var K=Z.shift(),P=!1;switch(R.ruleType){case f.RuleType.RTEdgeJunctionEdgeConnectivity:P=
A===E.from||A===E.to;break;case f.RuleType.RTJunctionEdgeConnectivity:P=A===E.to}var M=w[A];A=R[M.networkSourceId].layerId.toString();const J=null==(p=R[M.assetGroupId])?void 0:null==(D=p.assetGroupCode)?void 0:D.toString();M=R[M.assetTypeId];M=null==M?void 0:null==(u=M.assetTypeCode)?void 0:u.toString();var O=w[K];K=R[O.networkSourceId].layerId.toString();const T=null==(B=R[O.assetGroupId])?void 0:null==(G=B.assetGroupCode)?void 0:G.toString();O=R[O.assetTypeId];const S=null==O?void 0:null==(H=O.assetTypeCode)?
void 0:H.toString(),U=F[A]?F[A]:{assetGroupHash:{}};if(!(J&&M&&T&&S))continue;const W=U.assetGroupHash[J]?U.assetGroupHash[J]:{assetTypeHash:{}},Q=W.assetTypeHash[M]?W.assetTypeHash[M]:{};Q[K]=Q[K]?Q[K]:{};if(P&&(Q[A]=Q[A]?Q[A]:{},P=`(assetgroup = ${J} AND assettype = ${M})`,Q[A].anyVertex=Q[A].anyVertex?`${Q[A].anyVertex}`:`${P}`,"esriNECPEndVertex"===O.connectivityPolicy)){var Y;Q[A].endVertex=null!=(Y=Q[A])&&Y.endVertex?`${Q[A].endVertex}`:`${P}`}P=`(assetgroup = ${T} AND assettype = ${S})`;Q[K].anyVertex=
null!=(L=Q[K])&&L.anyVertex?`${Q[K].anyVertex} OR ${P}`:`${P}`;if("esriNECPEndVertex"===O.connectivityPolicy){var aa;Q[K].endVertex=null!=(aa=Q[K])&&aa.endVertex?`${Q[K].endVertex} OR ${P}`:`${P}`}W.assetTypeHash[M]=Q;U.assetGroupHash[J]=W;F[A]=U}}this.rulesHash=F});return function(){return y.apply(this,arguments)}}();return r}(d.JSONSupportMixin(g));b.__decorate([q.property({constructOnly:!0})],d.prototype,"layer",void 0);b.__decorate([q.property({constructOnly:!0})],d.prototype,"rules",void 0);
b.__decorate([q.property()],d.prototype,"rulesHash",void 0);b.__decorate([q.property({constructOnly:!0})],d.prototype,"request",void 0);return d=b.__decorate([k.subclass("esri.networks.RulesTable")],d)})},"esri/networks/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(h,b){h.RuleType=void 0;var a=h.RuleType||(h.RuleType={});a[a.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity";a[a.RTContainment=2]="RTContainment";a[a.RTAttachment=3]="RTAttachment";a[a.RTJunctionEdgeConnectivity=
4]="RTJunctionEdgeConnectivity";a[a.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity";a=new b.JSONMap({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"});b=new b.JSONMap({connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionMidspanConnectivity:"junction-midspan-connectivity",
junctionEdgeToConnectivity:"junction-edge-to-connectivity"});h.associationTypeKebabDict=b;h.traceTypeKebabDict=a;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/networks/support/NamedTraceConfiguration":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/MultiOriginJSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./TraceConfiguration ./typeUtils ./UNTraceConfiguration".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f,m){a=function(r){function t(y){y=r.call(this,y)||this;y.globalId=null;y.title=null;y.traceConfiguration=null;y.creationDate=null;y.creator=null;y.description=null;y.minStartingPoints=null;y.resultTypes=[];y.tags=[];y.traceType=null;return y}h._inheritsLoose(t,r);t.prototype.readTraceConfiguration=function(y,F){return void 0!==y.tierName?m.fromJSON(y):k.fromJSON(y)};return t}(a.MultiOriginJSONSupport);b.__decorate([d.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},
write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"}}},read:!1}})],a.prototype,"globalId",void 0);b.__decorate([d.property({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],a.prototype,"title",void 0);b.__decorate([d.property({type:k,json:{origins:{service:{read:!0}},read:!1}})],a.prototype,"traceConfiguration",void 0);b.__decorate([x.reader("service","traceConfiguration")],
a.prototype,"readTraceConfiguration",null);b.__decorate([d.property({type:Date,json:{origins:{service:{read:!0}},read:!1}})],a.prototype,"creationDate",void 0);b.__decorate([d.property({type:String,json:{origins:{service:{read:!0}},read:!1}})],a.prototype,"creator",void 0);b.__decorate([d.property({type:String,json:{origins:{service:{read:!0}},read:!1}})],a.prototype,"description",void 0);b.__decorate([d.property({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"}}},
read:!1}})],a.prototype,"minStartingPoints",void 0);b.__decorate([d.property({type:[Object],json:{origins:{service:{read:!0}},read:!1}})],a.prototype,"resultTypes",void 0);b.__decorate([d.property({type:[String],json:{origins:{service:{read:!0}},read:!1}})],a.prototype,"tags",void 0);b.__decorate([d.property({type:f.traceTypeKebabDict.apiValues,json:{type:f.traceTypeKebabDict.jsonValues,origins:{service:{read:f.traceTypeKebabDict.read}},read:!1}})],a.prototype,"traceType",void 0);return a=b.__decorate([l.subclass("esri.networks.support.NamedTraceConfiguration")],
a)})},"esri/networks/support/TraceConfiguration":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(h,b,a,d,g,q,z,x){a=function(l){function k(f){f=l.call(this,f)||this;f.conditionBarriers=[];f.outputConditions=[];f.functions=[];f.functionBarriers=[];f.traversabilityScope=
null;f.shortestPathNetworkAttributeName=null;f.includeBarriers=null;f.validateConsistency=null;f.ignoreBarriersAtStartingPoints=null;return f}h._inheritsLoose(k,l);return k}(a.JSONSupport);b.__decorate([d.property({type:[Object],json:{write:!0}})],a.prototype,"conditionBarriers",void 0);b.__decorate([d.property({type:[Object],json:{write:!0}})],a.prototype,"outputConditions",void 0);b.__decorate([d.property({type:[Object],json:{write:!0}})],a.prototype,"functions",void 0);b.__decorate([d.property({type:[Object],
json:{write:!0}})],a.prototype,"functionBarriers",void 0);b.__decorate([d.property({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],a.prototype,"traversabilityScope",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"shortestPathNetworkAttributeName",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],a.prototype,"includeBarriers",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],a.prototype,"validateConsistency",void 0);b.__decorate([d.property({type:Boolean,
json:{write:!0}})],a.prototype,"ignoreBarriersAtStartingPoints",void 0);return a=b.__decorate([x.subclass("esri.networks.support.TraceConfiguration")],a)})},"esri/networks/support/UNTraceConfiguration":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./TraceConfiguration".split(" "),function(h,b,a,d,
g,q,z,x){d=function(l){function k(f){f=l.call(this,f)||this;f.filterBarriers=[];f.domainNetworkName=null;f.filterBitsetNetworkAttributeName=null;f.filterFunctionBarriers=[];f.filterScope=null;f.includeContainers=null;f.includeContent=null;f.includeIsolated=null;f.includeStructures=null;f.includeUpToFirstSpatialContainer=null;f.nearestNeighbor=null;f.outputFilterCategories=[];f.outputFilters=[];f.propagators=[];f.subnetworkName=null;f.targetTierName=null;f.tierName=null;f.validateLocatability=null;
return f}h._inheritsLoose(k,l);return k}(x);b.__decorate([a.property({type:[Object],json:{write:!0}})],d.prototype,"filterBarriers",void 0);b.__decorate([a.property({type:String,json:{write:!0}})],d.prototype,"domainNetworkName",void 0);b.__decorate([a.property({type:String,json:{write:!0}})],d.prototype,"filterBitsetNetworkAttributeName",void 0);b.__decorate([a.property({type:[Object],json:{write:!0}})],d.prototype,"filterFunctionBarriers",void 0);b.__decorate([a.property({type:["junctions","edges",
"junctionsAndEdges"],json:{write:!0}})],d.prototype,"filterScope",void 0);b.__decorate([a.property({type:Boolean,json:{write:!0}})],d.prototype,"includeContainers",void 0);b.__decorate([a.property({type:Boolean,json:{write:!0}})],d.prototype,"includeContent",void 0);b.__decorate([a.property({type:Boolean,json:{write:!0}})],d.prototype,"includeIsolated",void 0);b.__decorate([a.property({type:Boolean,json:{write:!0}})],d.prototype,"includeStructures",void 0);b.__decorate([a.property({type:Boolean,json:{write:!0}})],
d.prototype,"includeUpToFirstSpatialContainer",void 0);b.__decorate([a.property({type:Object,json:{write:!0}})],d.prototype,"nearestNeighbor",void 0);b.__decorate([a.property({type:[Object],json:{write:!0}})],d.prototype,"outputFilterCategories",void 0);b.__decorate([a.property({type:[Object],json:{write:!0}})],d.prototype,"outputFilters",void 0);b.__decorate([a.property({type:[Object],json:{write:!0}})],d.prototype,"propagators",void 0);b.__decorate([a.property({type:String,json:{write:!0}})],d.prototype,
"subnetworkName",void 0);b.__decorate([a.property({type:String,json:{write:!0}})],d.prototype,"targetTierName",void 0);b.__decorate([a.property({type:String,json:{write:!0}})],d.prototype,"tierName",void 0);b.__decorate([a.property({type:Boolean,json:{write:!0}})],d.prototype,"validateLocatability",void 0);return d=b.__decorate([z.subclass("esri.networks.support.UNTraceConfiguration")],d)})},"esri/networks/support/TerminalConfiguration":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Terminal".split(" "),
function(h,b,a,d,g,q,z,x,l,k){a=new a.JSONMap({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});d=function(f){function m(r){r=f.call(this,r)||this;r.defaultConfiguration=null;r.id=null;r.name=null;r.terminals=[];r.traversabilityModel=null;return r}h._inheritsLoose(m,f);return m}(d.JSONSupport);b.__decorate([g.property({type:String,json:{write:!0}})],d.prototype,"defaultConfiguration",void 0);b.__decorate([g.property({type:Number,json:{read:{source:"terminalConfigurationId"},
write:{target:"terminalConfigurationId"}}})],d.prototype,"id",void 0);b.__decorate([g.property({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],d.prototype,"name",void 0);b.__decorate([g.property({type:[k],json:{write:!0}})],d.prototype,"terminals",void 0);b.__decorate([g.property({type:a.apiValues,json:{type:a.jsonValues,read:a.read,write:a.write}})],d.prototype,"traversabilityModel",void 0);return d=b.__decorate([l.subclass("esri.networks.support.TerminalConfiguration")],
d)})},"esri/networks/support/Terminal":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(h,b,a,d,g,q,z,x){a=function(l){function k(f){f=l.call(this,f)||this;f.id=null;f.name=null;return f}h._inheritsLoose(k,l);return k}(a.JSONSupport);b.__decorate([d.property({type:Number,
json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],a.prototype,"id",void 0);b.__decorate([d.property({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],a.prototype,"name",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],a.prototype,"isUpstreamTerminal",void 0);return a=b.__decorate([x.subclass("esri.networks.support.Terminal")],a)})},"esri/rest/geometryService/project":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../utils ./utils ../support/ProjectParameters".split(" "),
function(h,b,a,d,g,q,z,x){function l(){l=b._asyncToGenerator(function*(f,m,r){m=k(m);f=q.parseUrl(f);const t={...f.query,f:"json",...m.toJSON()},y=m.outSpatialReference,F=g.getJsonType(m.geometries[0]);m=q.asValidOptions(t,r);return a(f.path+"/project",m).then(({data:{geometries:E}})=>z.decodeGeometries(E,F,y))});return l.apply(this,arguments)}const k=d.ensureType(x);h.project=function(f,m,r){return l.apply(this,arguments)};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(h,b){h.decodeGeometries=function(a,d,g){const q=b.getGeometryType(d);return a.map(z=>{z=q.fromJSON(z);z.spatialReference=g;return z})};h.encodeGeometries=function(a){return{geometryType:b.getJsonType(a[0]),geometries:a.map(d=>d.toJSON())}};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/support/ProjectParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/support/jsonUtils".split(" "),
function(h,b,a,d,g,q,z,x,l){a=function(k){function f(m){m=k.call(this,m)||this;m.geometries=null;m.outSpatialReference=null;m.transformation=null;m.transformForward=null;return m}h._inheritsLoose(f,k);f.prototype.toJSON=function(){const m=this.geometries.map(y=>y.toJSON()),r=this.geometries[0],t={};t.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON());t.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference.toJSON());t.geometries=JSON.stringify({geometryType:l.getJsonType(r),
geometries:m});this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation));null!=this.transformForward&&(t.transformForward=this.transformForward);return t};return f}(a.JSONSupport);b.__decorate([d.property()],a.prototype,"geometries",void 0);b.__decorate([d.property({json:{read:{source:"outSR"}}})],a.prototype,"outSpatialReference",void 0);b.__decorate([d.property()],a.prototype,"transformation",void 0);b.__decorate([d.property()],a.prototype,"transformForward",
void 0);return a=b.__decorate([x.subclass("esri.rest.support.ProjectParameters")],a)})},"esri/support/MapFloorInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../layers/support/FacilityLayerInfo ../layers/support/LevelLayerInfo ../layers/support/SiteLayerInfo".split(" "),function(h,b,a,d,g,q,z,
x,l,k,f){a=function(m){function r(t){t=m.call(this,t)||this;t.levelLayer=null;t.facilityLayer=null;t.siteLayer=null;return t}h._inheritsLoose(r,m);return r}(a.JSONSupport);b.__decorate([d.property({type:k,json:{write:!0}})],a.prototype,"levelLayer",void 0);b.__decorate([d.property({type:l,json:{write:!0}})],a.prototype,"facilityLayer",void 0);b.__decorate([d.property({type:f,json:{write:!0}})],a.prototype,"siteLayer",void 0);return a=b.__decorate([x.subclass("esri.support.MapFloorInfo")],a)})},"esri/layers/support/FacilityLayerInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,b,a,d,g,q,z,x){a=function(l){function k(f){f=l.call(this,f)||this;f.facilityIdField=null;f.layerId=null;f.nameField=null;f.siteIdField=null;f.sublayerId=null;return f}h._inheritsLoose(k,l);return k}(a.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"facilityIdField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"layerId",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"nameField",void 0);b.__decorate([d.property({type:String,
json:{write:!0}})],a.prototype,"siteIdField",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],a.prototype,"sublayerId",void 0);return a=b.__decorate([x.subclass("esri.layers.support.FacilityLayerInfo")],a)})},"esri/layers/support/LevelLayerInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,b,a,d,g,q,z,x){a=function(l){function k(f){f=l.call(this,f)||this;f.facilityIdField=null;f.layerId=null;f.levelIdField=null;f.levelNumberField=null;f.longNameField=null;f.shortNameField=null;f.sublayerId=null;f.verticalOrderField=null;return f}h._inheritsLoose(k,l);return k}(a.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"facilityIdField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"layerId",void 0);b.__decorate([d.property({type:String,
json:{write:!0}})],a.prototype,"levelIdField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"levelNumberField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"longNameField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"shortNameField",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],a.prototype,"sublayerId",
void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"verticalOrderField",void 0);return a=b.__decorate([x.subclass("esri.layers.support.LevelLayerInfo")],a)})},"esri/layers/support/SiteLayerInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,b,a,d,g,q,z,x){a=function(l){function k(f){f=l.call(this,f)||this;f.layerId=null;f.nameField=null;f.siteIdField=null;f.sublayerId=null;return f}h._inheritsLoose(k,l);return k}(a.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"layerId",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"nameField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"siteIdField",void 0);b.__decorate([d.property({type:Number,
json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],a.prototype,"sublayerId",void 0);return a=b.__decorate([x.subclass("esri.layers.support.SiteLayerInfo")],a)})},"esri/webdoc/GeotriggersInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./geotriggersInfo/support/geotriggerTypes".split(" "),
function(h,b,a,d,g,q,z,x,l,k){a=function(f){function m(r){r=f.call(this,r)||this;r.geotriggers=null;return r}h._inheritsLoose(m,f);return m}(a.ClonableMixin(d.JSONSupport));b.__decorate([g.property({types:[k.types],json:{write:{isRequired:!0}}})],a.prototype,"geotriggers",void 0);return a=b.__decorate([l.subclass("esri.webdoc.GeotriggersInfo")],a)})},"esri/webdoc/geotriggersInfo/support/geotriggerTypes":function(){define(["exports","../FenceGeotrigger","../Geotrigger"],function(h,b,a){h.types={base:a,
key:"type",typeMap:{fence:b}};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/webdoc/geotriggersInfo/FenceGeotrigger":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./DeviceLocationFeed ./FeatureFenceParameters ./Geotrigger ./GeotriggerNotificationOptions ./support/typeUtils".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f,m,r){d=function(t){function y(F){F=t.call(this,F)||this;F.enterExitRule="enter-contains-and-exit-does-not-intersect";F.feed=null;F.feedAccuracyMode="use-geometry";F.fenceNotificationRule=null;F.fenceParameters=null;F.name=null;F.notificationOptions=null;F.type="fence";return F}h._inheritsLoose(y,t);return y}(f);b.__decorate([z.enumeration(r.enterExitRuleKebabDict)],d.prototype,"enterExitRule",void 0);b.__decorate([a.property({type:l,json:{write:{isRequired:!0}}})],d.prototype,
"feed",void 0);b.__decorate([z.enumeration(r.feedAccuracyModeKebabDict)],d.prototype,"feedAccuracyMode",void 0);b.__decorate([a.property({type:r.fenceNotificationRuleKebabDict.apiValues,json:{type:r.fenceNotificationRuleKebabDict.jsonValues,read:r.fenceNotificationRuleKebabDict.read,write:{writer:r.fenceNotificationRuleKebabDict.write,isRequired:!0}}})],d.prototype,"fenceNotificationRule",void 0);b.__decorate([a.property({type:k,json:{write:{isRequired:!0}}})],d.prototype,"fenceParameters",void 0);
b.__decorate([a.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);b.__decorate([a.property({type:m,json:{write:!0}})],d.prototype,"notificationOptions",void 0);b.__decorate([z.enumeration({fence:"fence"},{readOnly:!0})],d.prototype,"type",void 0);return d=b.__decorate([x.subclass("esri.webdoc.geotriggersInfo.FenceGeotrigger")],d)})},"esri/webdoc/geotriggersInfo/DeviceLocationFeed":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f){d=new d.JSONMap({deviceLocation:"device-location"});a=function(m){function r(t){t=m.call(this,t)||this;t.filterExpression=null;t.type="device-location";return t}h._inheritsLoose(r,m);return r}(a.ClonableMixin(g.JSONSupport));b.__decorate([q.property({type:f,json:{write:!0}})],a.prototype,"filterExpression",void 0);b.__decorate([q.property({type:d.apiValues,readOnly:!0,json:{type:d.jsonValues,read:d.read,write:d.write}})],a.prototype,"type",void 0);return a=b.__decorate([k.subclass("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],
a)})},"esri/webdoc/geotriggersInfo/ExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(h,b,a,d,g,q,z,x,l){a=function(k){function f(m){m=k.call(this,m)||this;m.expression=null;m.returnType="string";m.title=null;return m}h._inheritsLoose(f,
k);return f}(a.ClonableMixin(d.JSONSupport));b.__decorate([g.property({type:String,json:{write:{isRequired:!0}}})],a.prototype,"expression",void 0);b.__decorate([g.property({type:["number","string"],json:{write:!0}})],a.prototype,"returnType",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],a.prototype,"title",void 0);return a=b.__decorate([l.subclass("esri.webdoc.geotriggersInfo.ExpressionInfo")],a)})},"esri/webdoc/geotriggersInfo/FeatureFenceParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./FeatureFilter ./FeatureLayerSource".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f,m){a=function(r){function t(y){y=r.call(this,y)||this;y.fenceSource=null;y.filter=null;y.bufferDistance=null;y.type="features";return y}h._inheritsLoose(t,r);return t}(a.ClonableMixin(d.JSONSupport));b.__decorate([g.property({type:m,json:{write:{isRequired:!0}}})],a.prototype,"fenceSource",void 0);b.__decorate([g.property({type:f,json:{write:!0}})],a.prototype,"filter",void 0);b.__decorate([g.property({type:Number,json:{write:!0}})],a.prototype,"bufferDistance",void 0);
b.__decorate([l.enumeration({features:"features"},{readOnly:!0})],a.prototype,"type",void 0);return a=b.__decorate([k.subclass("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],a)})},"esri/webdoc/geotriggersInfo/FeatureFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/support/jsonUtils".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f){d=function(m){function r(t){t=m.call(this,t)||this;t.geometry=null;t.where=null;return t}h._inheritsLoose(r,m);return r}(d.ClonableMixin(g.JSONSupport));b.__decorate([q.property({types:a.geometryTypes,json:{read:f.fromJSON,write:!0}})],d.prototype,"geometry",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=b.__decorate([k.subclass("esri.webdoc.geotriggersInfo.FeatureFilter")],d)})},"esri/webdoc/geotriggersInfo/FeatureLayerSource":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,b,a,d,g,q,z,x,l,k){a=function(f){function m(r){r=f.call(this,r)||this;r.layerId=null;r.layerUrl=null;r.type="feature-layer";return r}h._inheritsLoose(m,f);return m}(a.ClonableMixin(d.JSONSupport));b.__decorate([g.property({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerUrl}}}}})],a.prototype,"layerId",void 0);b.__decorate([g.property({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerId}}}}})],a.prototype,"layerUrl",void 0);b.__decorate([l.enumeration({featureLayer:"feature-layer"},
{readOnly:!0})],a.prototype,"type",void 0);return a=b.__decorate([k.subclass("esri.webdoc.geotriggersInfo.FeatureLayerSource")],a)})},"esri/webdoc/geotriggersInfo/Geotrigger":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f){a=function(m){function r(t){t=m.call(this,t)||this;t.type="fence";return t}h._inheritsLoose(r,m);return r}(a.ClonableMixin(d.JSONSupport));b.__decorate([k.enumeration({fence:"fence"},{readOnly:!0})],a.prototype,"type",void 0);return a=b.__decorate([f.subclass("esri.webdoc.geotriggersInfo.Geotrigger")],a)})},"esri/webdoc/geotriggersInfo/GeotriggerNotificationOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),
function(h,b,a,d,g,q,z,x,l,k){a=function(f){function m(r){r=f.call(this,r)||this;r.expressionInfo=null;r.requestedActions=null;return r}h._inheritsLoose(m,f);return m}(a.ClonableMixin(d.JSONSupport));b.__decorate([g.property({type:k,json:{write:!0}})],a.prototype,"expressionInfo",void 0);b.__decorate([g.property({type:[String],json:{write:!0}})],a.prototype,"requestedActions",void 0);return a=b.__decorate([l.subclass("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],a)})},"esri/webdoc/geotriggersInfo/support/typeUtils":function(){define(["exports",
"../../../core/jsonMap"],function(h,b){const a=new b.JSONMap({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),d=new b.JSONMap({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"});b=new b.JSONMap({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});h.enterExitRuleKebabDict=
a;h.feedAccuracyModeKebabDict=d;h.fenceNotificationRuleKebabDict=b;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/webdoc/RangeInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass".split(" "),function(h,b,a,d,g,q,z){var x;a=x=function(l){function k(f){f=l.call(this,f)||
this;f.activeRange=null;f.currentRangeExtent=null;f.fullRangeExtent=null;return f}h._inheritsLoose(k,l);k.prototype.clone=function(){return new x(d.clone({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))};return k}(a.JSONSupport);b.__decorate([g.property({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],a.prototype,"activeRange",void 0);b.__decorate([g.property({type:[Number],
json:{write:!0}})],a.prototype,"currentRangeExtent",void 0);b.__decorate([g.property({type:[Number],json:{write:!0}})],a.prototype,"fullRangeExtent",void 0);return a=x=b.__decorate([z.subclass("esri.webdoc.RangeInfo")],a)})},"esri/webdoc/Widgets":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./widgets/FloorFilter ./widgets/Range ./widgets/TimeSlider".split(" "),
function(h,b,a,d,g,q,z,x,l,k){var f;a=f=function(m){function r(t){t=m.call(this,t)||this;t.range=null;t.timeSlider=null;t.floorFilter=null;return t}h._inheritsLoose(r,m);r.prototype.clone=function(){return new f(d.clone({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))};return r}(a.JSONSupport);b.__decorate([g.property({type:l,json:{write:!0}})],a.prototype,"range",void 0);b.__decorate([g.property({type:k,json:{write:!0}})],a.prototype,"timeSlider",void 0);b.__decorate([g.property({type:x,
json:{write:!0}})],a.prototype,"floorFilter",void 0);return a=f=b.__decorate([z.subclass("esri.webdoc.Widgets")],a)})},"esri/webdoc/widgets/FloorFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(h,b,a,d,g,q,z){var x;a=x=function(l){function k(f){f=l.call(this,f)||this;f.enabled=
!1;f.longNames=!1;f.minimized=!1;f.pinnedLevels=!1;f.site=null;f.facility=null;f.level=null;return f}h._inheritsLoose(k,l);k.prototype.clone=function(){return new x(d.clone({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))};return k}(a.JSONSupport);b.__decorate([g.property({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],a.prototype,"enabled",void 0);b.__decorate([g.property({type:Boolean,
json:{read:{source:"longNames"},write:{target:"longNames"}}})],a.prototype,"longNames",void 0);b.__decorate([g.property({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],a.prototype,"minimized",void 0);b.__decorate([g.property({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],a.prototype,"pinnedLevels",void 0);b.__decorate([g.property({type:String,json:{read:{source:"site"},write:{target:"site"}}})],a.prototype,"site",void 0);b.__decorate([g.property({type:String,
json:{read:{source:"facility"},write:{target:"facility"}}})],a.prototype,"facility",void 0);b.__decorate([g.property({type:String,json:{read:{source:"level"},write:{target:"level"}}})],a.prototype,"level",void 0);return a=x=b.__decorate([z.subclass("esri.webdoc.widgets.FloorFilter")],a)})},"esri/webdoc/widgets/Range":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,b,a,d,g,q,z,x,l){var k;a=new a.JSONMap({slider:"slider",picker:"picker"});d=k=function(f){function m(r){r=f.call(this,r)||this;r.interactionMode=null;r.numStops=null;r.stopInterval=null;return r}h._inheritsLoose(m,f);m.prototype.clone=function(){return new k({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})};return m}(d.JSONSupport);b.__decorate([g.property({type:a.apiValues,nonNullable:!0,json:{type:a.jsonValues,default:null,read:{reader:a.read},
write:{isRequired:!0,writer:a.write}}})],d.prototype,"interactionMode",void 0);b.__decorate([g.property({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const f=null!=this.stopInterval;return{enabled:!f,isRequired:!f}}}}})],d.prototype,"numStops",void 0);b.__decorate([g.property({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],d.prototype,"stopInterval",void 0);return d=k=b.__decorate([l.subclass("esri.webdoc.widgets.Range")],
d)})},"esri/webdoc/widgets/TimeSlider":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),function(h,b,a,d,g,q,z,x,l,k,f,m,r){var t;
g=t=function(y){function F(w){w=y.call(this,w)||this;w.currentTimeExtent=null;w.fullTimeExtent=null;w.loop=!1;w.numStops=null;w.numThumbs=null;w.stopDelay=null;w.stopInterval=null;w.stops=null;return w}h._inheritsLoose(F,y);var E=F.prototype;E.readCurrentTimeExtent=function(w){if(w)return new a({start:null!=w[0]?new Date(w[0]):null,end:null!=w[1]?new Date(w[1]):null})};E.writeCurrentTimeExtent=function(w,A,p){w&&x.setDeepValue(p,[z.isSome(w.start)?w.start.getTime():null,z.isSome(w.end)?w.end.getTime():
null],A)};E.readFullTimeExtent=function(w,A){if(w=A.properties)return new a({start:null!=w.startTime?new Date(w.startTime):null,end:null!=w.endTime?new Date(w.endTime):null})};E.writeFullTimeExtent=function(w,A){if(w){A=A.properties=A.properties||{};var p=w.end;w=w.start;p&&(A.endTime=z.isSome(p)?p.getTime():null);w&&(A.startTime=z.isSome(w)?w.getTime():null)}};E.readStopInterval=function(w,A,p){return w?d.fromJSON({value:w.interval,unit:w.units},p):null};E.writeStopInterval=function(w,A,p,D){w&&
(w=w.toJSON(D),x.setDeepValue(p,{interval:w.value,units:w.unit},A))};E.readStops=function(w){return w&&w.length?w.map(A=>new Date(A)):null};E.writeStops=function(w,A,p){w&&w.length&&x.setDeepValue(p,w.map(D=>D.getTime()),A)};E.clone=function(){return new t(q.clone({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))};return F}(g.JSONSupport);
b.__decorate([l.property({type:a,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],g.prototype,"currentTimeExtent",void 0);b.__decorate([f.reader("currentTimeExtent")],g.prototype,"readCurrentTimeExtent",null);b.__decorate([r.writer("currentTimeExtent")],g.prototype,"writeCurrentTimeExtent",null);b.__decorate([l.property({type:a,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],
g.prototype,"fullTimeExtent",void 0);b.__decorate([f.reader("fullTimeExtent")],g.prototype,"readFullTimeExtent",null);b.__decorate([r.writer("fullTimeExtent")],g.prototype,"writeFullTimeExtent",null);b.__decorate([l.property({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],g.prototype,"loop",void 0);b.__decorate([l.property({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var y;
const F=!!this.stopInterval,E=!(null==(y=this.stops)||!y.length);y=!(F||E);return{enabled:y,isRequired:y}}}}})],g.prototype,"numStops",void 0);b.__decorate([l.property({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],g.prototype,"numThumbs",void 0);b.__decorate([l.property({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],g.prototype,
"stopDelay",void 0);b.__decorate([l.property({type:d,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var y;const F=null!=this.numStops,E=!(null==(y=this.stops)||!y.length);return{enabled:!E,isRequired:!(F||E)}}}}})],g.prototype,"stopInterval",void 0);b.__decorate([f.reader("stopInterval")],g.prototype,"readStopInterval",null);b.__decorate([r.writer("stopInterval")],g.prototype,"writeStopInterval",null);b.__decorate([l.property({type:[Date],
json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],g.prototype,"stops",void 0);b.__decorate([f.reader("stops")],g.prototype,"readStops",null);b.__decorate([r.writer("stops")],g.prototype,"writeStops",null);return g=t=b.__decorate([m.subclass("esri.webdoc.widgets.TimeSlider")],g)})},"esri/webdoc/support/thumbnailUtils":function(){define(["exports"],function(h){const b={width:600,height:400};h.getOptimalThumbnailSize=
function(a,d){d=d||b;let {width:g,height:q}=d;d=g/q;1.5>d?q=g/1.5:1.5<d&&(g=1.5*q);g>a.width&&(q*=a.width/g,g=a.width);q>a.height&&(g*=a.height/q,q=a.height);return{width:Math.round(g),height:Math.round(q)}};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/webmap/ApplicationProperties":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../webdoc/applicationProperties/Viewing".split(" "),
function(h,b,a,d,g,q,z,x){var l;a=l=function(k){function f(m){m=k.call(this,m)||this;m.editing=null;m.offline=null;m.viewing=null;return m}h._inheritsLoose(f,k);f.prototype.clone=function(){return new l(d.clone({editing:this.editing,offline:this.offline,viewing:this.viewing}))};return f}(a.JSONSupport);b.__decorate([g.property({json:{write:!0}})],a.prototype,"editing",void 0);b.__decorate([g.property({json:{write:!0}})],a.prototype,"offline",void 0);b.__decorate([g.property({type:x,json:{write:!0}})],
a.prototype,"viewing",void 0);return a=l=b.__decorate([z.subclass("esri.webmap.ApplicationProperties")],a)})},"esri/webdoc/applicationProperties/Viewing":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Search".split(" "),function(h,b,a,d,g,q,z,x){var l;a=l=function(k){function f(m){m=k.call(this,
m)||this;m.search=null;return m}h._inheritsLoose(f,k);f.prototype.clone=function(){return new l(d.clone({search:this.search}))};return f}(a.JSONSupport);b.__decorate([g.property({type:x,json:{write:!0}})],a.prototype,"search",void 0);return a=l=b.__decorate([z.subclass("esri.webdoc.applicationProperties.Viewing")],a)})},"esri/webdoc/applicationProperties/Search":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/extensions/serializableProperty/writePolicyUtils ./SearchLayer ./SearchTable".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f,m,r){var t;const y=a.ofType(m),F=a.ofType(r);a=t=function(E){function w(p){p=E.call(this,p)||this;p.addressSearchEnabled=!0;p.enabled=!0;p.hintText=null;p.layers=new y;p.tables=new F;return p}h._inheritsLoose(w,E);var A=w.prototype;A.readAddressSearchEnabled=function(p){return!p};A.writeAddressSearchEnabled=function(p,D,u){D[u]=!p};A.clone=function(){return new t(g.clone({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,
tables:this.tables}))};return w}(d.JSONSupport);b.__decorate([q.property({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],a.prototype,"addressSearchEnabled",void 0);b.__decorate([x.reader("addressSearchEnabled")],a.prototype,"readAddressSearchEnabled",null);b.__decorate([k.writer("addressSearchEnabled")],a.prototype,"writeAddressSearchEnabled",null);b.__decorate([q.property({type:Boolean,
nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],a.prototype,"enabled",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],a.prototype,"hintText",void 0);b.__decorate([q.property({type:y,json:{write:{overridePolicy:f.writeNonEmptyCollectionPolicy},origins:{"web-scene":{write:{isRequired:!0}}}}})],a.prototype,"layers",void 0);b.__decorate([q.property({type:F,json:{read:!0,write:{overridePolicy:f.writeNonEmptyCollectionPolicy}}})],
a.prototype,"tables",void 0);return a=t=b.__decorate([l.subclass("esri.webdoc.applicationProperties.Search")],a)})},"esri/core/accessorSupport/extensions/serializableProperty/writePolicyUtils":function(){define(["exports"],function(h){h.writeNonEmptyCollectionPolicy=function(b){return{enabled:!(null==b||!b.length)}};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/webdoc/applicationProperties/SearchLayer":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./SearchLayerField".split(" "),
function(h,b,a,d,g,q,z,x){var l;a=l=function(k){function f(m){m=k.call(this,m)||this;m.field=null;m.id=null;m.subLayer=null;return m}h._inheritsLoose(f,k);f.prototype.clone=function(){return new l(d.clone({field:this.field,id:this.id,subLayer:this.subLayer}))};return f}(a.JSONSupport);b.__decorate([g.property({type:x,json:{write:{isRequired:!0}}})],a.prototype,"field",void 0);b.__decorate([g.property({type:String,json:{write:{isRequired:!0}}})],a.prototype,"id",void 0);b.__decorate([g.property({type:q.Integer,
json:{write:!0}})],a.prototype,"subLayer",void 0);return a=l=b.__decorate([z.subclass("esri.webdoc.applicationProperties.SearchLayer")],a)})},"esri/webdoc/applicationProperties/SearchLayerField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldType".split(" "),
function(h,b,a,d,g,q,z,x,l,k){var f;a=f=function(m){function r(t){t=m.call(this,t)||this;t.exactMatch=!1;t.name=null;t.type=null;return t}h._inheritsLoose(r,m);r.prototype.clone=function(){return new f({exactMatch:this.exactMatch,type:this.type,name:this.name})};return r}(a.JSONSupport);b.__decorate([d.property({type:Boolean,json:{write:!0}})],a.prototype,"exactMatch",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"name",void 0);b.__decorate([x.enumeration(k.kebabDict)],
a.prototype,"type",void 0);return a=f=b.__decorate([l.subclass("esri.webdoc.applicationProperties.SearchLayerField")],a)})},"esri/webdoc/applicationProperties/SearchTable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./SearchTableField".split(" "),function(h,b,a,d,g,q,z,x){var l;a=l=function(k){function f(m){m=
k.call(this,m)||this;m.field=null;m.id=null;return m}h._inheritsLoose(f,k);f.prototype.clone=function(){return new l(d.clone({field:this.field,id:this.id}))};return f}(a.JSONSupport);b.__decorate([g.property({type:x,json:{write:{isRequired:!0}}})],a.prototype,"field",void 0);b.__decorate([g.property({type:String,json:{write:{isRequired:!0}}})],a.prototype,"id",void 0);return a=l=b.__decorate([z.subclass("esri.webdoc.applicationProperties.SearchTable")],a)})},"esri/webdoc/applicationProperties/SearchTableField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldType".split(" "),
function(h,b,a,d,g,q,z,x,l,k){var f;a=f=function(m){function r(t){t=m.call(this,t)||this;t.exactMatch=!1;t.name=null;t.type=null;return t}h._inheritsLoose(r,m);r.prototype.clone=function(){return new f({exactMatch:this.exactMatch,type:this.type,name:this.name})};return r}(a.JSONSupport);b.__decorate([d.property({type:Boolean,json:{write:!0}})],a.prototype,"exactMatch",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.prototype,"name",void 0);b.__decorate([x.enumeration(k.kebabDict)],
a.prototype,"type",void 0);return a=f=b.__decorate([l.subclass("esri.webdoc.applicationProperties.SearchTableField")],a)})},"esri/webmap/Bookmark":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../TimeExtent ../Viewpoint ../core/Error ../core/Identifiable ../core/JSONSupport ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../webdoc/support/SlideThumbnail".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f,m,r,t,y,F,E){var w;const A=l.getLogger("esri.webmap.Bookmark");q=w=function(p){function D(B){B=p.call(this,B)||this;B.name=null;B.thumbnail=new E.SlideThumbnail;B.timeExtent=null;return B}h._inheritsLoose(D,p);var u=D.prototype;u.castThumbnail=function(B){return"string"===typeof B?new E.SlideThumbnail({url:B}):F.ensureType(E.SlideThumbnail,B)};u.readViewpoint=function(B,G){const {extent:H,viewpoint:L}=G;return d.fromJSON(L||{targetGeometry:H})};u.writeViewpoint=function(B,
G,H,L){if(B){var {targetGeometry:K}=B;k.isSome(K)&&"extent"!==K.type?null!=L&&L.messages?L.messages.push(new g("property:unsupported","Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.")):A.error("Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent."):(k.isSome(K)&&(G.extent=K.toJSON()),G[H]=B.toJSON())}};u.clone=function(){return new w(x.clone({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,
viewpoint:this.viewpoint}))};h._createClass(D,[{key:"viewpoint",set:function(B){const {targetGeometry:G,scale:H}=B;k.isSome(G)&&"point"===G.type&&k.isNone(H)&&A.warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",B);this._set("viewpoint",B)}}]);return D}(q.IdentifiableMixin(z.JSONSupport));b.__decorate([f.property({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],q.prototype,"name",void 0);b.__decorate([f.property({type:E.SlideThumbnail,json:{write:{overridePolicy(p){return{enabled:!(!p||
!p.url)}}}}})],q.prototype,"thumbnail",void 0);b.__decorate([m.cast("thumbnail")],q.prototype,"castThumbnail",null);b.__decorate([f.property({type:a,json:{write:!0}})],q.prototype,"timeExtent",void 0);b.__decorate([f.property({type:d,nonNullable:!0,json:{write:!0}})],q.prototype,"viewpoint",null);b.__decorate([r.reader("viewpoint",["extent","viewpoint"])],q.prototype,"readViewpoint",null);b.__decorate([y.writer("viewpoint")],q.prototype,"writeViewpoint",null);return q=w=b.__decorate([t.subclass("esri.webmap.Bookmark")],
q)})},"esri/webdoc/support/SlideThumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(h,b,a,d,g,q,z,x,l){var k;h.SlideThumbnail=k=function(f){function m(){var t=f.apply(this,arguments)||this;t.url="";return t}b._inheritsLoose(m,f);var r=m.prototype;
r.destroy=function(){this.url=""};r.clone=function(){return new k({url:this.url})};return m}(d.JSONSupport);a.__decorate([g.property({type:String,json:{write:{isRequired:!0}}})],h.SlideThumbnail.prototype,"url",void 0);h.SlideThumbnail=k=a.__decorate([l.subclass("esri.webdoc.support.SlideThumbnail")],h.SlideThumbnail);Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/webmap/InitialViewProperties":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Viewpoint ../core/Accessor ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/SpatialReference ../webdoc/RangeInfo ./background/ColorBackground".split(" "),
function(h,b,a,d,g,q,z,x,l,k,f){var m;d=m=function(r){function t(y){y=r.call(this,y)||this;y.background=null;y.rangeInfo=null;y.spatialReference=null;y.viewpoint=null;return y}h._inheritsLoose(t,r);t.prototype.clone=function(){return new m(g.clone({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))};return t}(d);b.__decorate([q.property({type:f})],d.prototype,"background",void 0);b.__decorate([q.property({type:k})],d.prototype,"rangeInfo",
void 0);b.__decorate([q.property({type:l})],d.prototype,"spatialReference",void 0);b.__decorate([q.property({type:a})],d.prototype,"viewpoint",void 0);return d=m=b.__decorate([x.subclass("esri.webmap.InitialViewProperties")],d)})},"esri/webmap/background/ColorBackground":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(h,b,a,d,g,q,z,x){var l;d=l=function(k){function f(m){m=k.call(this,m)||this;m.color=new a([0,0,0,1]);return m}h._inheritsLoose(f,k);f.prototype.clone=function(){return new l(g.clone({color:this.color}))};return f}(d.JSONSupport);b.__decorate([q.property({type:a,json:{write:!0}})],d.prototype,"color",void 0);return d=l=b.__decorate([x.subclass("esri.webmap.background.ColorBackground")],d)})},"esri/webmap/Version":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Version"],
function(h,b,a){a=function(d){function g(q,z){return d.call(this,q,z,"webmap")||this}b._inheritsLoose(g,d);return g}(a.Version);h.Version=a;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/Version":function(){define(["exports","./Error"],function(h,b){let a=function(){function d(q,z,x=""){this.major=q;this.minor=z;this._context=x}var g=d.prototype;g.lessThan=function(q,z){return this.major<q||q===this.major&&this.minor<z};g.since=function(q,z){return!this.lessThan(q,
z)};g.validate=function(q){if(this.major!==q.major)throw new b((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:q});};g.clone=function(){return new d(this.major,this.minor,this._context)};d.parse=function(q,z=""){const [x,l]=q.split(".");var k=/^\s*\d+\s*$/;if(!x||!x.match||!x.match(k))throw new b((z&&z+":")+"invalid-version","Expected major version to be a number, but got '${version}'",
{version:q});if(!l||!l.match||!l.match(k))throw new b((z&&z+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:q});q=parseInt(x,10);k=parseInt(l,10);return new d(q,k,z)};return d}();h.Version=a;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"*noref":1}});
define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./kernel ./Map ./Viewpoint ./core/arrayUtils ./core/Collection ./core/Error ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/MultiOriginJSONSupport ./core/Promise ./core/promiseUtils ./core/reactiveUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/originUtils ./core/accessorSupport/read ./geometry/SpatialReference ./geometry/support/spatialReferenceUtils ./geometry/support/webMercatorUtils ./layers/support/arcgisLayerUrl ./layers/support/layerUtils ./networks/UtilityNetwork ./portal/Portal ./portal/PortalItem ./portal/support/portalItemUtils ./rest/geometryService/project ./rest/support/ProjectParameters ./support/basemapUtils ./support/MapFloorInfo ./webdoc/GeotriggersInfo ./webdoc/RangeInfo ./webdoc/Widgets ./webdoc/support/thumbnailUtils ./webdoc/support/writeUtils ./webmap/ApplicationProperties ./webmap/Bookmark ./webmap/InitialViewProperties ./webmap/Version ./webmap/background/ColorBackground".split(" "),function(h,
b,a,d,g,q,z,x,l,k,f,m,r,t,y,F,E,w,A,p,D,u,B,G,H,L,K,P,M,O,Y,aa,R,Z,J,T,S,U,W,Q,ja,oa,pa,qa,ra,sa,ea,ba,ka){const fa=new ba.Version(2,25),la=x.ofType(sa);x=x.ofType(aa);const ha=m.getLogger("esri.WebMap"),ca=new Map;ca.set("image/jpeg","jpeg");ca.set("image/jpg","jpg");ca.set("image/png","png");ca.set("image/gif","gif");const ma=J.TypeKeyword.JSAPI,na=J.TypeKeyword.DEVELOPER_BASEMAP,ta="NatGeo_World_Map Ocean_Basemap USA_Topo_Maps World_Imagery World_Street_Map World_Terrain_Base World_Topo_Map World_Hillshade Canvas/World_Light_Gray_Base Canvas/World_Light_Gray_Reference Canvas/World_Dark_Gray_Base Canvas/World_Dark_Gray_Reference Ocean/World_Ocean_Base Ocean/World_Ocean_Reference Reference/World_Boundaries_and_Places Reference/World_Reference_Overlay Reference/World_Transportation".split(" ").map(X=>
X.toLowerCase());g=function(X){function da(c){c=X.call(this,c)||this;c.applicationProperties=null;c.bookmarks=new la;c.floorInfo=null;c.geotriggersInfo=null;c.initialViewProperties=new ea;c.portalItem=null;c.presentation=null;c.sourceVersion=null;c.widgets=null;c.utilityNetworks=null;c.authoringApp=c.authoringAppVersion=null;c._isAuthoringAppSetByUser=c._isAuthoringAppVersionSetByUser=!1;return c}b._inheritsLoose(da,X);var C=da.prototype;C.destroy=function(){const c=this.portalItem;this.portalItem=
null;null==c?void 0:c.destroy()};C.initialize=function(){this.when().catch(c=>{ha.error("#load()","Failed to load web map",c)});if(this.resourceInfo){let c;try{c=this._validateJSON(this.resourceInfo)}catch(e){this.addResolvingPromise(Promise.reject(e));return}this.read(c)}};C.writeAuthoringApp=function(c,e){e.authoringApp=c&&this._isAuthoringAppSetByUser?c:ma};C.writeAuthoringAppVersion=function(c,e){e.authoringAppVersion=c&&this._isAuthoringAppVersionSetByUser?c:d.version};C.readInitialViewProperties=
function(c,e){var n;c=new ea;e.background&&(c.background=ka.fromJSON(e.background));const v=null==(n=e.initialState)?void 0:n.viewpoint;v&&(v.rotation&&ba.Version.parse(e.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===e.authoringApp&&(v.rotation*=-1),c.viewpoint=q.fromJSON(v));e.mapRangeInfo&&(c.rangeInfo=ja.fromJSON(e.mapRangeInfo));e.spatialReference&&(c.spatialReference=K.fromJSON(e.spatialReference));return c};C.writeInitialViewProperties=function(c,e,n,v){c&&((n=c.background)&&n.color&&
(e.background=n.write({},v)),c.viewpoint&&(e.initialState={viewpoint:c.viewpoint.write({},v)}),c.rangeInfo&&(e.mapRangeInfo=c.rangeInfo.toJSON(v)),c.spatialReference&&(e.spatialReference=c.spatialReference.write({},v)))};C.writeLayers=function(c,e,n,v){e[n]=this._writeLayers(c,v,"operational-layers")};C.readSourceVersion=function(c,e){const [n,v]=e.version.split(".");return new ba.Version(parseInt(n,10),parseInt(v,10))};C.writeSourceVersion=function(c,e,n){e[n]=`${fa.major}.${fa.minor}`};C.writeTables=
function(c,e,n,v){c=this._writeLayers(c,v,"tables");c.length&&(e[n]=c)};C.load=function(c){this.addResolvingPromise(this._loadFromSource());return Promise.resolve(this)};C.loadAll=function(){return f.loadAll(this,c=>{c(this.ground,this.basemap,this.layers,this.tables)})};C.read=function(c,e){e={...e,origin:"web-map"};const n=this._getAuthoringPropsState();L.readLoadable(this,c,v=>X.prototype.read.call(this,c,v),e);this._restoreAuthoringPropsFromState(n)};C.write=function(c,e){if("loaded"!==this.loadStatus)throw c=
new l("webmap:not-loaded","Web map must be loaded before it can be serialized"),ha.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),c;this._removeDanglingLayerRefs();e={...e,origin:"web-map",restrictedWebMapWriting:!0,webmap:this};return X.prototype.write.call(this,c,e)};C.save=function(){var c=b._asyncToGenerator(function*(e){e=e||{};this._validateItem();yield this._updateFromPromise;yield this.load();yield this._loadLayerContainers();yield this._beforeSave();
yield this._validateMap();const n=this.portalItem,v={origin:"web-map",messages:[],writtenProperties:[],url:n.itemUrl&&w.urlToObject(n.itemUrl),portal:n.portal||R.getDefault()},I=this.write({},v);this._validateJSONForWriting(v,e);yield this._updateItemProperties(n);yield this._updateItem(n,I,v);yield this._updateItemThumbnail();return n});return function(e){return c.apply(this,arguments)}}();C.saveAs=function(){var c=b._asyncToGenerator(function*(e,n){n=n||{};e=this._getPortalItem(e);yield this._updateFromPromise;
yield this.load();yield this._loadLayerContainers();yield this._beforeSave();yield this._validateMap();const v={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:e.portal},I=this.write({},v);this._validateJSONForWriting(v,n);yield this._updateItemPropertiesForSaveAs(e);const N=this._getThumbnailState();yield this._createItem(e,I,v,n);this._restoreThumbnailFromState(N);yield this._updateItemThumbnail();return e});return function(e,n){return c.apply(this,arguments)}}();C.updateFrom=
function(){var c=b._asyncToGenerator(function*(e,n){this._updateFromPromise=e=this._updateFromInternal(e,n);yield e;e===this._updateFromPromise&&(this._updateFromPromise=null)});return function(e,n){return c.apply(this,arguments)}}();C.getLayerJSONFromResourceInfo=function(c){var e,n,v,I;const N=this.resourceInfo;return this._collectAllLayersJSON(z.flatten([null==N?void 0:null==(e=N.baseMap)?void 0:e.baseMapLayers,null==N?void 0:N.operationalLayers,null==(n=this.basemap)?void 0:null==(v=n.resourceInfo)?
void 0:null==(I=v.data)?void 0:I.baseMapLayers])).find(V=>V.id===c.id)};C._collectAllLayersJSON=function(c){return c.reduce((e,n)=>{e.push(n);"GroupLayer"===n.layerType&&(e=e.concat(this._collectAllLayersJSON(n.layers||[])));return e},[])};C._writeLayers=function(c,e,n){e={...e,layerContainerType:n};return c.map(v=>r.unwrap(qa.getLayerJSON(v,"tables"===n?null:this.getLayerJSONFromResourceInfo(v),e))).filter(Boolean).toArray()};C._loadFromSource=function(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,
{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)};C._loadFromItem=function(c){return c.load().catch(e=>{throw new l("webmap:load-portal-item","Failed to load portal item",{error:e});}).then(()=>{if("Web Map"!==c.type)throw new l("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:c.type});}).then(()=>c.fetchData()).then(e=>{this.resourceInfo=e;return this._readAndLoadFromJSON(e,{origin:"web-map",
portal:c.portal||R.getDefault()})}).then(()=>this._computeInitialViewpoint())};C._readAndLoadFromJSON=function(c,e){c=this._validateJSON(c);this.read(c,e);return this._loadFromJSON(c,e)};C._validateJSON=function(c){const e=ba.Version.parse(c.version||"","webmap");fa.validate(e);c.version=`${e.major}.${e.minor}`;return c};C._loadFromJSON=function(c,e){const n={context:{...e,layerContainerType:"operational-layers"}};this.portalItem&&(n.context.portal=this.portalItem.portal||R.getDefault());return(new Promise((v,
I)=>h(["./layers/support/layersCreator"],v,I))).then(({populateOperationalLayers:v})=>{const I=[];var N=c.operationalLayers;N&&N.length&&I.push(v(this.layers,N,n));N={...n,context:{...n.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"};const V=c.tables;V&&V.length&&I.push(v(this.tables,V,N));return F.eachAlways(I).then(()=>{})})};C._computeInitialViewpoint=function(){var c=b._asyncToGenerator(function*(){var e,n;let v=this.initialViewProperties;!(null==(e=v)?0:null==(n=e.viewpoint)?
0:n.targetGeometry)&&(e=yield this._getExtentFromItem())&&(v=v?v.clone():new ea,v.viewpoint=new q,v.viewpoint.targetGeometry=e,this.initialViewProperties=v)});return function(){return c.apply(this,arguments)}}();C._getExtentFromItem=function(){var c=b._asyncToGenerator(function*(){var e,n;const v=null==(e=this.initialViewProperties)?void 0:e.spatialReference,I=null==(n=this.portalItem)?void 0:n.extent;return v&&I?v.isWGS84?I.clone():v.isWebMercator?M.geographicToWebMercator(I):(yield new Promise((N,
V)=>h(["./portal/support/geometryServiceUtils"],N,V))).getGeometryServiceURL(this.portalItem).then(N=>{const V=new S;V.geometries=[I];V.outSpatialReference=v;return T.project(N,V)}).then(N=>N[0]).catch(N=>{ha.error("Error projecting item's extent:",N);return null}):null});return function(){return c.apply(this,arguments)}}();C._removeDanglingLayerRefs=function(){var c=this.applicationProperties,e=c&&c.viewing&&c.viewing.search;const n=v=>this.allLayers.some(I=>I.id===v);e&&e.layers&&(e.layers=e.layers.filter(v=>
n(v.id)));e&&e.tables&&(e.tables=e.tables.filter(v=>this.tables.some(I=>I.id===v.id)));(e=c&&c.editing&&c.editing.locationTracking)&&e.info&&!n(e.info.layerId)&&(c.editing=null);(c=this.presentation&&this.presentation.slides)&&c.forEach(v=>{v.visibleLayers&&(v.visibleLayers=v.visibleLayers.filter(I=>n(I.id)))})};C._validateMap=function(){var c=b._asyncToGenerator(function*(){var e;if(null==(e=this.basemap)||!e.baseLayers.length)throw new l("webmap:save","Map does not have a valid basemap with a base layer.");
let n=null;yield E.whenOnce(()=>{const v=U.findSpatialReference(this.initialViewProperties,this.basemap);n=v.spatialReference;return!v.updating});if(!P.equals(n,this.initialViewProperties.spatialReference))throw new l("webmap:save","The spatial reference of the basemap is not compatible with the one from the map.",{expected:this.initialViewProperties.spatialReference,actual:n});});return function(){return c.apply(this,arguments)}}();C._validateItem=function(){if(!this.portalItem)throw ha.error("save: requires the portalItem property to be set"),
new l("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)};C._validateItemType=function(c){if("Web Map"!==c.type)throw new l("webmap:portal-item-wrong-type",'Portal item needs to have type "Web Map"');};C._loadLayerContainers=function(){const c=[];this.basemap&&c.push(this.basemap.load());this.ground&&c.push(this.ground.load());return F.eachAlways(c).then(()=>{})};C._beforeSave=function(){var c=b._asyncToGenerator(function*(){const e=
[];for(const n of this.allLayers)if("beforeSave"in n&&"function"===typeof n.beforeSave){const v=n.beforeSave();v&&e.push(v)}yield F.eachAlways(e)});return function(){return c.apply(this,arguments)}}();C._loadAllLayers=function(){const c=this._getAllLayersAndTables().map(e=>e.load());return F.eachAlways(c).then(()=>{})};C._getAllLayersAndTables=function(){return this.allLayers.concat(this.allTables)};C._validateJSONForWriting=function(c,e){c=c.messages.filter(n=>"error"===n.type).map(n=>new l(n.name,
n.message,n.details));e.ignoreUnsupported&&(c=c.filter(n=>"layer:unsupported"!==n.name&&"symbol:unsupported"!==n.name&&"symbol-layer:unsupported"!==n.name&&"property:unsupported"!==n.name&&"url:unsupported"!==n.name));if(0<c.length)throw new l("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:c});};C._updateItemProperties=function(){var c=b._asyncToGenerator(function*(e){e.extent=yield this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry);
yield this._updateTypeKeywords(e)});return function(e){return c.apply(this,arguments)}}();C._updateItemPropertiesForSaveAs=function(){var c=b._asyncToGenerator(function*(e){J.removeTypeKeyword(e,"CollectorDisabled");J.removeTypeKeyword(e,"FieldMapsDisabled");J.removeTypeKeyword(e,J.TypeKeyword.METADATA);J.removeTypeKeyword(e,"OfflineDisabled");J.removeTypeKeyword(e,"Offline Map Areas");J.removeTypeKeyword(e,"Workforce Dispatcher");J.removeTypeKeyword(e,"Workforce Project");J.removeTypeKeyword(e,"Workforce Worker");
yield this._updateItemProperties(e)});return function(e){return c.apply(this,arguments)}}();C._getWGS84Extent=function(){var c=b._asyncToGenerator(function*(e){e=e.clone().normalize();let n;if(1<e.length)for(const v of e)n?v.width>n.width&&(n=v):n=v;else n=e[0];return this._projectToWGS84(n)});return function(e){return c.apply(this,arguments)}}();C._projectToWGS84=function(){var c=b._asyncToGenerator(function*(e){var n=e.spatialReference;if(n.isWGS84)return e.clone();if(n.isWebMercator)return M.webMercatorToGeographic(e);
n=yield(yield new Promise((I,N)=>h(["./portal/support/geometryServiceUtils"],I,N))).getGeometryServiceURL(this.portalItem);const v=new S;v.geometries=[e];v.outSpatialReference=K.WGS84;return(yield T.project(n,v))[0]});return function(e){return c.apply(this,arguments)}}();C._updateTypeKeywords=function(){var c=b._asyncToGenerator(function*(e){J.addTypeKeyword(e,ma);yield this._loadAllLayers();this._evalCollectorKeyword(e);this._evalDataEditingKeyword(e);this._evalOfflineKeyword(e);this._evalDeveloperBasemapKeyword(e);
e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter((n,v,I)=>I.indexOf(n)===v))});return function(e){return c.apply(this,arguments)}}();C._evalCollectorKeyword=function(c){J.hasTypeKeyword(c,"CollectorDisabled")||J.hasTypeKeyword(c,"Workforce Project")||J.hasTypeKeyword(c,"Workforce Worker")||J.hasTypeKeyword(c,"Workforce Dispatcher")||!this._hasEditableFeatureLayer()?J.removeTypeKeyword(c,"Collector"):J.addTypeKeyword(c,"Collector")};C._evalDataEditingKeyword=function(c){this._hasEditableFeatureLayer()?
J.addTypeKeyword(c,"Data Editing"):J.removeTypeKeyword(c,"Data Editing")};C._evalOfflineKeyword=function(c){!J.hasTypeKeyword(c,"OfflineDisabled")&&this._isOfflineCapableMap()?J.addTypeKeyword(c,"Offline"):J.removeTypeKeyword(c,"Offline")};C._evalDeveloperBasemapKeyword=function(c){U.hasDeveloperBasemapLayer(this.basemap)?J.addTypeKeyword(c,na):J.removeTypeKeyword(c,na)};C._hasEditableFeatureLayer=function(){return this._getAllLayersAndTables().some(c=>c.loaded&&Y.isFeatureServiceLayer(c)&&c.capabilities.operations.supportsEditing&&
c.editingEnabled)};C._isOfflineCapableMap=function(){return this._getAllLayersAndTables().filter(c=>"group"!==c.type).every(c=>c.loaded&&this._isOfflineCapableLayer(c))};C._isFeatureCollectionLike=function(c){return Y.isFeatureCollectionLayer(c)||"map-notes"===c.type||"route"===c.type};C._isOfflineCapableLayer=function(c){return Y.isFeatureServiceLayer(c)&&c.capabilities.operations.supportsSync||this._isFeatureCollectionLike(c)&&!c.portalItem||("tile"===c.type||"vector-tile"===c.type)&&(c.capabilities.operations.supportsExportTiles||
this._isExportableAGOLTileLayer(c)||U.isDeveloperBasemapLayer(c))&&c.spatialReference.equals(this.initialViewProperties.spatialReference)};C._isExportableAGOLTileLayer=function(c){return"tile"===c.type?O.isServerOrServicesAGOLUrl(c.url)&&ta.some(e=>c.url.toLowerCase().includes("/"+e+"/")):!1};C._updateItem=function(){var c=b._asyncToGenerator(function*(e,n,v){yield e.update({data:n});this._syncUpInstanceWithItem(e,n,v)});return function(e,n,v){return c.apply(this,arguments)}}();C._createItem=function(){var c=
b._asyncToGenerator(function*(e,n,v,I){const N=this.portalItem,V=!!(N&&N.id&&N.portal.user),ia=e.portal;yield ia._signIn();if(!(yield this._canCopyItem(N,V,ia)))throw new l("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");yield ia.user.addItem({item:e,folder:I.folder,data:n});this.portalItem=e;this._syncUpInstanceWithItem(e,n,v)});return function(e,n,v,I){return c.apply(this,arguments)}}();C._canCopyItem=function(){var c=b._asyncToGenerator(function*(e,n,
v){if(r.isSome(e)&&e.id&&e.typeKeywords&&e.typeKeywords.includes("useOnly")){if(e.portal.portalHostname!==v.portalHostname)return!1;n||(yield e.reload());return"admin"===e.itemControl||"update"===e.itemControl}return!0});return function(e,n,v){return c.apply(this,arguments)}}();C._syncUpInstanceWithItem=function(c,e,n){t.MultiOriginJSONSupport.prototype.read.call(this,{version:e.version,authoringApp:e.authoringApp,authoringAppVersion:e.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:c.itemUrl&&
w.urlToObject(c.itemUrl)});H.updateOrigins(n);this.resourceInfo=e};C._updateItemThumbnail=function(){var c=b._asyncToGenerator(function*(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(yield this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())});return function(){return c.apply(this,arguments)}}();C._getPortalItem=function(c){c=Z.from(c);c.id&&(c=c.clone(),c.id=null);c.type||(c.type="Web Map");c.portal||(c.portal=
R.getDefault());this._validateItemType(c);return c};C._updateFromInternal=function(){var c=b._asyncToGenerator(function*(e,n){n=n||{};yield E.whenOnce(()=>e.ready);this._updateInitialViewProperties(e,n);if(e.map===this)for(const v of e.allLayerViews)for(const I of["visible","featureEffect"])I in v&&I in v.layer&&v._isOverridden(I)&&(v.layer[I]=v[I]);yield this._updateThumbnailUrl(e,n)});return function(e,n){return c.apply(this,arguments)}}();C._updateInitialViewProperties=function(c,e){if(!e.backgroundExcluded){var n;
this.initialViewProperties.background=null==(n=c.background)?void 0:n.clone()}this.initialViewProperties.spatialReference=c.spatialReference.clone();e.viewpointExcluded||(this.initialViewProperties.viewpoint=new q({rotation:c.rotation,scale:e.scalePreserved?c.scale:null,targetGeometry:this._getViewExtent(c)}));if(!e.widgetsExcluded)for(const v of c.persistableViewModels)v.updateWebDocument(this)};C._getViewExtent=function(c){const e=c.center.clone().normalize();c=c.extent.clone();const n=c.width/
2;c.xmin=e.x-n;c.xmax=e.x+n;return c};C._updateThumbnailUrl=function(){var c=b._asyncToGenerator(function*(e,n){n.thumbnailExcluded||(n=pa.getOptimalThumbnailSize(e,n.thumbnailSize),e=yield e.takeScreenshot({format:"png",width:n.width,height:n.height}),this._setAutoGeneratedThumbnail(e.dataUrl))});return function(e,n){return c.apply(this,arguments)}}();C._setAutoGeneratedThumbnail=function(c){this.thumbnailUrl=c;this._thumbnailFilename=null};C._clearThumbnailOverride=function(){this._clearOverride("thumbnailUrl");
this.clear("thumbnailUrl","user");this._thumbnailFilename=null};C._generateCustomThumbnailFilename=function(c){if(w.isDataProtocol(c)){c=(c=(c=w.dataComponents(c))&&c.mediaType)&&ca.get(c.toLowerCase())||null;const e=`thumbnail${Date.now()}`;return c?`${e}.${c}`:e}return null};C._getThumbnailState=function(){let c=this.thumbnailUrl;c&&(c=this._isOverridden("thumbnailUrl")?c:w.addQueryParameter(c,"w","8192"));return{thumbnailUrl:c,filename:this._thumbnailFilename}};C._restoreThumbnailFromState=function(c){this.thumbnailUrl=
c.thumbnailUrl;this._thumbnailFilename=c.filename};C._getAuthoringPropsState=function(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}};C._restoreAuthoringPropsFromState=function(c){c.isAuthoringAppSetByUser?this.authoringApp=c.authoringApp:this._isAuthoringAppSetByUser=!1;c.isAuthoringAppVersionSetByUser?this.authoringAppVersion=c.authoringAppVersion:
this._isAuthoringAppVersionSetByUser=!1};da.fromJSON=function(c){if(!c)throw new l("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:c})};b._createClass(da,[{key:"authoringApp",set:function(c){this._isAuthoringAppSetByUser=!0;this._set("authoringApp",c)}},{key:"authoringAppVersion",set:function(c){this._isAuthoringAppVersionSetByUser=!0;this._set("authoringAppVersion",c)}},{key:"thumbnailUrl",get:function(){return this.portalItem&&this.portalItem.thumbnailUrl||
null},set:function(c){c?(this._override("thumbnailUrl",c),this._thumbnailFilename=this._generateCustomThumbnailFilename(c)):this._clearThumbnailOverride()}}]);return da}(t.MultiOriginJSONMixin(k.LoadableMixin(y.EsriPromiseMixin(g))));g.VERSION=fa;a.__decorate([A.property({type:ra,json:{write:!0}})],g.prototype,"applicationProperties",void 0);a.__decorate([A.property({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],g.prototype,"authoringApp",null);a.__decorate([G.writer("authoringApp")],
g.prototype,"writeAuthoringApp",null);a.__decorate([A.property({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],g.prototype,"authoringAppVersion",null);a.__decorate([G.writer("authoringAppVersion")],g.prototype,"writeAuthoringAppVersion",null);a.__decorate([A.property({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],g.prototype,"basemap",void 0);a.__decorate([A.property({type:la,json:{write:{overridePolicy(X){return{enabled:!!(X&&0<X.length),ignoreOrigin:!0}}}}})],g.prototype,
"bookmarks",void 0);a.__decorate([A.property({type:W,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],g.prototype,"floorInfo",void 0);a.__decorate([A.property({type:Q,json:{write:!0}})],g.prototype,"geotriggersInfo",void 0);a.__decorate([A.property({type:ea,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:ka},"initialState.viewpoint":{type:q},mapRangeInfo:{type:ja},spatialReference:{type:K}}}}})],
g.prototype,"initialViewProperties",void 0);a.__decorate([u.reader("initialViewProperties")],g.prototype,"readInitialViewProperties",null);a.__decorate([G.writer("initialViewProperties")],g.prototype,"writeInitialViewProperties",null);a.__decorate([A.property({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],g.prototype,"layers",void 0);a.__decorate([G.writer("layers")],g.prototype,"writeLayers",null);a.__decorate([A.property({type:Z})],g.prototype,"portalItem",void 0);a.__decorate([A.property({json:{write:!0}})],
g.prototype,"presentation",void 0);a.__decorate([A.property()],g.prototype,"resourceInfo",void 0);a.__decorate([A.property({readOnly:!0,type:ba.Version,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],g.prototype,"sourceVersion",void 0);a.__decorate([u.reader("sourceVersion")],g.prototype,"readSourceVersion",null);a.__decorate([G.writer("sourceVersion")],g.prototype,"writeSourceVersion",null);a.__decorate([A.property({json:{read:!1,write:{ignoreOrigin:!0}}})],
g.prototype,"tables",void 0);a.__decorate([G.writer("tables")],g.prototype,"writeTables",null);a.__decorate([A.property()],g.prototype,"thumbnailUrl",null);a.__decorate([A.property({type:oa,json:{write:!0}})],g.prototype,"widgets",void 0);a.__decorate([A.property({type:x,json:{read:!0,write:!0}})],g.prototype,"utilityNetworks",void 0);return g=a.__decorate([B.subclass("esri.WebMap")],g)});