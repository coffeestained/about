// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/events ../core/lang ../core/Logger ../core/reactiveUtils ../core/urlUtils ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./Print/FileLink ./Print/PrintViewModel ./Print/TemplateOptions ./support/Heading ./support/Popover ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory".split(" "),
function(K,n,l,N,V,W,r,O,w,ca,z,X,Y,P,Q,R,S,Z,L,T,b){function F(A){return"MAP_ONLY"===(null==A?void 0:A.toUpperCase())}const U=l.ofType(P);var t;(function(A){A.layout="layoutTab";A.mapOnly="mapOnlyTab"})(t||(t={}));const G=W.getLogger("esri.widgets.Print");l=function(A){function M(d,e){var a=A.call(this,d,e)||this;a._activeTabFocusRequested=!1;a._advancedOptionsVisibleForLayout=!1;a._advancedOptionsVisibleForMapOnly=!1;a._awaitingServerResponse=!1;a._exportedFileNameMap={};a._focusedTemplateIndex=
0;a._layoutTabSelected=!0;a._pendingExportScroll=!1;a._rootNode=null;a._selectTemplateNode=null;a._templateListPopover=new Z({owner:K._assertThisInitialized(a),placement:"top",offset:[0,-100],anchorElement:()=>a._selectTemplateNode,renderContentFunction:a.renderTemplateList});a.allowedFormats=null;a.allowedLayouts=null;a.exportedLinks=new U;a.extraParameters=null;a.headingLevel=3;a.iconClass="esri-icon-printer";a.includeDefaultTemplates=null;a.label=void 0;a.portal=null;a.printServiceUrl=null;a.templateCustomTextElements=
null;a.templateOptions=new R;a.view=null;a.viewModel=new Q;a.handleTemplateListCreation=c=>c.focus();a.handleTemplateChildBlur=c=>{var f;(null==(f=c.relatedTarget)?0:f.closest(".esri-print__template-list"))||a.handleCloseTemplateSelection()};a.handleCloseTemplateSelection=()=>{a._focusedTemplateIndex=0;a._templateListPopover.open=!1;a._selectTemplateNode.focus()};a.handleSelectTemplateClick=()=>{a._focusedTemplateIndex=0;a._templateListPopover.open=!0};a.handleTemplateListClick=c=>{a.applyTemplate(c.target["data-template"])};
a.handleTemplateListKeyDown=c=>{if(L.isActivationKey(c.key))a.applyTemplate(a.viewModel.defaultTemplates.getItemAt(a._focusedTemplateIndex)),c.preventDefault();else{if("ArrowDown"===c.key||"ArrowUp"===c.key){var {defaultTemplates:f}=a.viewModel;const g=(a._focusedTemplateIndex+("ArrowDown"===c.key?1:-1))%f.length;a._focusedTemplateIndex=0>g?f.length-1:g;f=c.currentTarget;L.keepMenuItemWithinView(f.querySelectorAll(".esri-menu__list-item")[a._focusedTemplateIndex],f.parentElement);c.preventDefault()}"Escape"===
c.key&&a.handleCloseTemplateSelection()}};a._removeLink=c=>{(c=c.currentTarget["data-item"])&&"error"===c.state&&a.exportedLinks.remove(c)};a._focusOnTabChange=a._focusOnTabChange.bind(K._assertThisInitialized(a));return a}K._inheritsLoose(M,A);var k=M.prototype;k.initialize=function(){this.own([r.watch(()=>{var c;return null==(c=this.viewModel)?void 0:c.templatesInfo},c=>{const {format:f,layout:g}=this.templateOptions;if(c){const m=g===c.layout.defaultValue||F(g)||c.layout.choiceList&&c.layout.choiceList.includes(g),
q=f===c.format.defaultValue||c.format.choiceList&&c.format.choiceList.includes(f);m||(g&&G.warn("User sets an invalid layout, resetting it to the default valid one..."),this.templateOptions.layout=c.layout.defaultValue);q||(f&&G.warn("User sets an invalid format, resetting it to the default valid one..."),this.templateOptions.format=c.format.defaultValue);F(g)&&(this._layoutTabSelected=!1)}},r.initial),r.watch(()=>{var c;return null==(c=this.templateOptions)?void 0:c.format},c=>{const {viewModel:{templatesInfo:f}}=
this;if(f&&c){let g=!1;f.format.choiceList&&f.format.choiceList.forEach(m=>{m.toUpperCase()===c.toUpperCase()&&(this.templateOptions.format=m,g=!0)});g||(this.templateOptions.format=f.format.defaultValue,G.warn("User sets an invalid format, resetting it to the default valid one..."));this.scheduleRender()}},r.initial),r.watch(()=>{var c;return null==(c=this.templateOptions)?void 0:c.layout},c=>{var {viewModel:{templatesInfo:f}}=this;if(f&&c){this._layoutTabSelected=!F(c);let g=!this._layoutTabSelected;
g||f.layout.choiceList&&f.layout.choiceList.forEach(m=>{m.toUpperCase()===c.toUpperCase()&&(this.templateOptions.layout=m,g=!0)});g||(this.templateOptions.layout=f.layout.defaultValue,G.warn("User sets an invalid layout, resetting it to the default valid one..."));f=this.viewModel.effectiveTemplateCustomTextElements[this.templateOptions.layout];this.templateOptions.customTextElements=f?V.clone(f):null;this.scheduleRender()}},r.initial),r.watch(()=>{var c;return null==(c=this.templateOptions)?void 0:
c.dpi},c=>{0>=c?this.templateOptions.dpi=1:this.scheduleRender()},r.initial),r.watch(()=>{var c,f;return null==(c=this.viewModel)?void 0:null==(f=c.view)?void 0:f.scale},c=>{const {scale:f,scaleEnabled:g}=this.templateOptions;g&&f||(this.templateOptions.scale=c)},r.initial)]);const {height:d,width:e}=this.templateOptions;this.templateOptions.width=e||800;this.templateOptions.height=d||1100;const a=setTimeout(()=>{this._awaitingServerResponse=!0;this.scheduleRender()},500);this.viewModel.load().then(()=>
clearTimeout(a))};k.render=function(){const {attributionEnabled:d,author:e,copyright:a,dpi:c,format:f,height:g,layout:m,legendEnabled:q,northArrowEnabled:x,scaleEnabled:u,scale:H,width:D}=this.templateOptions;var p="ready"!==this.get("viewModel.state"),C=this.renderTitleOrFileNameSection();const {includeDefaultTemplates:aa,messages:h,viewModel:ba}=this;var y=this.get("viewModel.templatesInfo.format.choiceList")||[];y=0<y.length?y.map(v=>b.tsx("option",{key:v,selected:v===f,value:v},v.toUpperCase())):
b.tsx("option",{key:"format-default-option"},h.formatDefaultOption);y=b.tsx("div",{class:"esri-print__form-section-container"},b.tsx("label",null,h.fileFormatTitle,b.tsx("select",{class:"esri-select",onchange:this._updateFromOption,"data-target-property":"format",bind:this},y)));var B=this.get("viewModel.templatesInfo.layout.choiceList")||[];B=0<B.length?B.map(v=>b.tsx("option",{key:v,selected:v===m,value:v},h[v]||v)):b.tsx("option",{key:"layout-default-option"},h.layoutDefaultOption);B=b.tsx("div",
{class:"esri-print__form-section-container"},b.tsx("label",null,h.layoutTitle,b.tsx("select",{class:"esri-select",onchange:this._updateFromOption,"data-target-property":"layout",bind:this},B)));var E=b.tsx("div",{class:"esri-print__form-section-container"},b.tsx("label",null,h.dpi,b.tsx("input",{type:"number",class:this.classes("esri-print__input-text","esri-input"),"data-input-name":"dpi",onchange:this._handleDPIChange,value:`${c}`,min:"1",tabIndex:0,bind:this}))),I=b.tsx("div",{class:this.classes("esri-print__scale-info-container",
"esri-print__form-section-container")},b.tsx("label",null,b.tsx("input",{"data-option-name":"scaleEnabled",checked:u,type:"checkbox",tabIndex:0,onchange:this._toggleInputValue,bind:this}),h.scale),b.tsx("div",{class:"esri-print__scale-input-container"},b.tsx("input",{"aria-label":h.scaleLabel,"aria-valuenow":`${H}`,role:"spinbutton",type:"number",class:this.classes("esri-print__input-text","esri-input","esri-print__scale-input"),tabIndex:0,"data-input-name":"scale",onchange:this._updateInputValue,
disabled:!u,value:`${H}`,bind:this}),b.tsx("button",{type:"button","aria-label":h.reset,class:this.classes("esri-widget--button","esri-print__refresh-button","esri-icon-refresh"),tabIndex:0,onclick:this._resetToCurrentScale,bind:this}))),J=this._advancedOptionsVisibleForLayout?b.tsx("div",{"aria-labelledby":`${this.id}__advancedOptionsForLayout`,class:"esri-print__advanced-options-container"},I,b.tsx("div",{class:this.classes("esri-print__author-info-container","esri-print__form-section-container")},
b.tsx("label",null,h.author,b.tsx("input",{type:"text",value:e,class:this.classes("esri-print__input-text","esri-input"),tabIndex:0,"data-input-name":"author",onchange:this._updateInputValue,bind:this}))),b.tsx("div",{class:this.classes("esri-print__copyright-info-container","esri-print__form-section-container")},b.tsx("label",null,h.copyright,b.tsx("input",{type:"text",class:this.classes("esri-print__input-text","esri-input"),tabIndex:0,value:a,"data-input-name":"copyright",onchange:this._updateInputValue,
bind:this}))),E,b.tsx("div",{class:this.classes("esri-print__legend-info-container","esri-print__form-section-container")},b.tsx("label",null,b.tsx("input",{type:"checkbox","data-option-name":"legendEnabled",tabIndex:0,checked:q,onchange:this._toggleInputValue,bind:this}),h.legend)),this.viewModel.templateToNorthArrowInfo[m]?b.tsx("div",{class:this.classes("esri-print__legend-info-container","esri-print__form-section-container"),key:"north-arrow"},b.tsx("label",null,b.tsx("input",{type:"checkbox",
"data-option-name":"northArrowEnabled",tabIndex:0,checked:x,onchange:this._toggleInputValue,bind:this}),h.northArrow)):null,this.renderCustomTextElementSection()):null;E=this._advancedOptionsVisibleForMapOnly?b.tsx("div",{"aria-labelledby":`${this.id}__advancedOptionsForMapOnly`,class:"esri-print__advanced-options-container"},I,E,b.tsx("div",{class:"esri-print__form-section-container"},b.tsx("label",null,b.tsx("input",{"data-option-name":"attributionEnabled",type:"checkbox",onchange:this._toggleInputValue,
tabIndex:0,checked:d,bind:this}),h.attribution)),this.renderCustomTextElementSection()):null;B=this._layoutTabSelected?b.tsx("section",{key:"esri-print__layoutContent",id:`${this.id}__layoutContent`,"aria-labelledby":`${this.id}__layoutTab`,class:"esri-print__layout-section",role:"tabpanel","aria-selected":this._layoutTabSelected.toString()},b.tsx("div",{class:"esri-print__panel-container"},C,B,this._layoutTabSelected?y:null),b.tsx("div",{class:this.classes("esri-print__panel-container","esri-print__advanced-options-section")},
b.tsx("button",{"aria-label":h.advancedOptions,"aria-expanded":this._advancedOptionsVisibleForLayout?"true":"false",class:"esri-print__advanced-options-button",onclick:this._showAdvancedOptions,bind:this,type:"button"},b.tsx("div",{class:"esri-print__advanced-options-button-container"},b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-icon-right-triangle-arrow","esri-print__advanced-options-button-icon--closed")}),b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-icon-left-triangle-arrow",
"esri-print__advanced-options-button-icon--closed-rtl")}),b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-icon-down-arrow","esri-print__advanced-options-button-icon--opened")}),b.tsx("span",{class:"esri-print__advanced-options-button-title"},h.advancedOptions))),J)):b.tsx("section",{key:"esri-print__mapOnlyContent",id:`${this.id}__mapOnlyContent`,"aria-selected":(!this._layoutTabSelected).toString(),"aria-labelledby":`${this.id}__mapOnlyTab`,class:"esri-print__map-only-section",role:"tabpanel"},
b.tsx("div",{class:"esri-print__panel-container"},C,this._layoutTabSelected?null:y,b.tsx("div",{class:this.classes("esri-print__size-container","esri-print__form-section-container")},b.tsx("div",{class:"esri-print__width-container"},b.tsx("label",null,h.width,b.tsx("input",{type:"number",class:this.classes("esri-print__input-text","esri-input"),"data-input-name":"width",onchange:this._updateInputValue,value:`${D}`,tabIndex:0,bind:this}))),b.tsx("div",{class:"esri-print__height-container"},b.tsx("label",
null,h.height,b.tsx("input",{type:"number",class:this.classes("esri-print__input-text","esri-input"),"data-input-name":"height",onchange:this._updateInputValue,value:`${g}`,tabIndex:0,bind:this}))),b.tsx("button",{type:"button","aria-label":h.swap,class:this.classes("esri-widget--button","esri-print__swap-button","esri-icon-swap"),onclick:this._switchInput,tabIndex:0,bind:this})),b.tsx("div",{class:this.classes("esri-print__panel-container","esri-print__advanced-options-section")},b.tsx("button",
{"aria-label":h.advancedOptions,"aria-expanded":this._advancedOptionsVisibleForMapOnly?"true":"false",type:"button",class:"esri-print__advanced-options-button",onclick:this._showAdvancedOptions,bind:this},b.tsx("div",{class:"esri-print__advanced-options-button-container"},b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-icon-right-triangle-arrow","esri-print__advanced-options-button-icon--closed")}),b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-icon-left-triangle-arrow","esri-print__advanced-options-button-icon--closed-rtl")}),
b.tsx("span",{"aria-hidden":"true",class:this.classes("esri-icon-down-arrow","esri-print__advanced-options-button-icon--opened")}),b.tsx("span",{class:"esri-print__advanced-options-button-title"},h.advancedOptions))),E)));J=this.exportedLinks.toArray();E=this._renderExportedLink(J);I={["esri-button--disabled"]:p||!m&&!f};C=null!=this.get("view")&&"2d"!==this.get("view.type");y=b.tsx("div",{class:"esri-print__panel--error"},C?h.sceneViewError:h.serviceError);p=b.tsx("div",null,b.tsx("ul",{class:"esri-print__layout-tab-list",
role:"tablist",onclick:this._toggleLayoutPanel,onkeydown:this._handleLayoutPanelKeyDown,bind:this},b.tsx("li",{afterCreate:this._focusOnTabChange,afterUpdate:this._focusOnTabChange,id:`${this.id}__layoutTab`,"data-tab-id":t.layout,class:"esri-print__layout-tab",role:"tab",tabIndex:0,"aria-selected":`${this._layoutTabSelected}`},h.layoutTab),b.tsx("li",{afterCreate:this._focusOnTabChange,afterUpdate:this._focusOnTabChange,id:`${this.id}__mapOnlyTab`,"data-tab-id":t.mapOnly,class:"esri-print__layout-tab",
role:"tab",tabIndex:0,"aria-selected":`${!this._layoutTabSelected}`},h.mapOnlyTab)),B,b.tsx("button",{"aria-label":h.exportDescription,type:"button",class:this.classes("esri-print__export-button","esri-button",I),disabled:p,tabIndex:0,onclick:this._handlePrintMap,bind:this},h.export),aa&&0<ba.defaultTemplates.length?this.renderTemplateSectionTrigger():null,b.tsx("div",{class:"esri-print__export-panel-container",afterUpdate:this._scrollExportIntoView,bind:this},b.tsx(S.Heading,{class:"esri-print__export-title",
level:this.headingLevel},h.exportText),0<J.length?null:b.tsx("div",null,b.tsx("div",null,h.exportHint)),E));p=b.tsx("div",{class:"esri-print__container"},b.tsx("header",{class:"esri-print__header-title"},h.export),this.error||C||!this.view?y:p);p="initializing"===this.get("viewModel.state")?this._renderLoader():p;return b.tsx("div",{afterCreate:this._handleRootAfterCreate,bind:this,class:this.classes("esri-print","esri-widget","esri-widget--panel")},p)};k.renderTemplateSectionTrigger=function(){const {messages:d,
_templateListPopover:e}=this,a=e.open;return b.tsx("button",{afterCreate:c=>this._selectTemplateNode=c,"aria-controls":a?`${this.id}__template-selection`:"","aria-label":d.selectTemplateDescription,"aria-pressed":a.toString(),class:this.classes("esri-button","esri-button--tertiary","esri-print__template-button"),onclick:this.handleSelectTemplateClick,title:d.selectTemplateDescription,type:"button"},d.selectTemplate)};k.renderCustomTextElementSection=function(){const {templateOptions:{customTextElements:d}}=
this;return d?b.tsx("div",{class:"esri-print__form-section-container",key:"custom-text-elements"},d.map(e=>{const [a,c]=Object.entries(e)[0];return"date"===a?null:b.tsx("label",{key:a},a,b.tsx("input",{bind:this,class:this.classes("esri-print__input-text","esri-input"),"data-input-custom":!0,"data-input-name":a,onchange:this._updateInputValue,type:"text",value:c}))})):null};k.renderTemplateList=function(){const {messages:d,messagesCommon:e,viewModel:a}=this,{defaultTemplates:c}=a,f=d.selectTemplateDescription,
g=`${this.id}__template-selection`;return b.tsx("div",{class:this.classes("esri-print__template-list","esri-widget","esri-widget--panel"),id:g},b.tsx(S.Heading,{class:"esri-menu__header",level:this.headingLevel},d.selectTemplate),b.tsx("div",{class:"esri-print__template-list-scroller"},b.tsx("ul",{afterCreate:this.handleTemplateListCreation,"aria-activedescendant":`${this.id}__template-item--${this._focusedTemplateIndex}`,"aria-label":f,class:"esri-menu__list",key:"templates",onblur:this.handleTemplateChildBlur,
onclick:this.handleTemplateListClick,onkeydown:this.handleTemplateListKeyDown,role:"listbox",tabIndex:0,title:f},c.toArray().map((m,q)=>{const {description:x}=m,u=m.label;return b.tsx("li",{"aria-label":x,class:this.classes("esri-menu__list-item",{["esri-menu__list-item--focus"]:q===this._focusedTemplateIndex}),"data-template":m,id:`${this.id}__template-item--${q}`,key:u,title:x},F(u)?d.mapOnlyTab:u)}))),b.tsx("div",{class:"esri-print__template-list-footer"},b.tsx("button",{type:"button",class:this.classes("esri-button",
"esri-button--secondary"),onblur:this.handleTemplateChildBlur,onclick:this.handleCloseTemplateSelection},e.done)))};k.applyTemplate=function(d){var e;const {format:a,layout:c,layoutOptions:f}=d;({templateOptions:d}=this);this._templateListPopover.open=!1;this._toggleTab("map-only"===c?t.mapOnly:t.layout,!1);a&&(d.format=a);c&&(d.layout=c);this._focusedTemplateIndex=null;d.legendEnabled=null!=(e=null==f?void 0:f.legend)?e:d.legendEnabled;this.handleCloseTemplateSelection()};k.renderTitleOrFileNameSection=
function(){const {templateOptions:d,messages:e}=this;let a,c,f,g;this._layoutTabSelected?(a=e.title,c=e.titlePlaceHolder,f=d.title,g="title"):(a=e.fileName,c=e.fileNamePlaceHolder,f=d.fileName,g="fileName");return b.tsx("div",{class:"esri-print__form-section-container",key:g},b.tsx("label",null,a,b.tsx("input",{type:"text",tabIndex:0,placeholder:c,class:this.classes("esri-print__input-text","esri-input"),value:f,"data-input-name":g,onchange:this._updateInputValue,bind:this})))};k._handleRootAfterCreate=
function(d){this._rootNode=d;this.own(N.on(d,"scroll",()=>{this._templateListPopover.open&&this.handleCloseTemplateSelection()}))};k._focusOnTabChange=function(d){if(this._activeTabFocusRequested){var e=d.getAttribute("data-tab-id");if("layoutTab"===e&&this._layoutTabSelected||"mapOnlyTab"===e&&!this._layoutTabSelected)d.focus(),this._activeTabFocusRequested=!1}};k._renderLoader=function(){return b.tsx("div",{class:this.classes({["esri-print__loader"]:this._awaitingServerResponse}),key:"loader"})};
k._createFileLink=function(d,e){e=e||this.messages.untitled;d=d.format.toLowerCase();d=d.includes("png")?"png":d;const a=e+d;void 0!==this._exportedFileNameMap[a]?this._exportedFileNameMap[a]++:this._exportedFileNameMap[a]=0;return new P({name:e,extension:d,count:this._exportedFileNameMap[a]})};k._resetToCurrentScale=function(){this.templateOptions.scale=this.viewModel.view.scale};k._updateCustomTextElementValue=function(d,e,a){d.find(c=>{[c]=Object.entries(c)[0];return c===e})[e]=a};k._updateInputValue=
function(d){var e=d.target;d=e.getAttribute("data-input-name");var a=!!e["data-input-custom"];const {templateOptions:c}=this;if(a)this._updateCustomTextElementValue(c.customTextElements,d,e.value);else{if("number"===e.type){a=e.valueAsNumber;if(isNaN(a)||!(0<a)){e.value=`${c[d]}`;return}e=e.valueAsNumber}else e=e.value;c[d]=e}};k._handleDPIChange=function(d){this._updateInputValue(d);d=d.currentTarget.valueAsNumber;const {height:e,width:a}={width:Math.round(8.3333*d),height:Math.round(11.4583*d)};
({templateOptions:d}=this);d.height=e;d.width=a};k._handlePrintMap=function(){this._pendingExportScroll=!0;const {templateOptions:d}=this,e=this.viewModel.toPrintTemplate(d),a=this._createFileLink(e,this._layoutTabSelected?e.layoutOptions.titleText:d.fileName);this.exportedLinks.add(a);this.emit("submit",{link:a});this.viewModel.print(e).then(c=>{a.set({url:c&&c.url,state:"ready"})}).catch(c=>{a.set({error:c,state:"error"})}).then(()=>{this.emit("complete",{link:a});this.scheduleRender()})};k._updateFromOption=
function(d){var e=d.target;d=e.selectedOptions?e.selectedOptions.item(0).value:e.options[e.selectedIndex].value;e=e.getAttribute("data-target-property");this.templateOptions[e]=d};k._switchInput=function(){[this.templateOptions.width,this.templateOptions.height]=[this.templateOptions.height,this.templateOptions.width]};k._showAdvancedOptions=function(){this._layoutTabSelected?this._advancedOptionsVisibleForLayout=!this._advancedOptionsVisibleForLayout:this._advancedOptionsVisibleForMapOnly=!this._advancedOptionsVisibleForMapOnly};
k._scrollExportIntoView=function(){if(this._pendingExportScroll){this._pendingExportScroll=!1;const {_rootNode:d,_rootNode:{clientHeight:e,scrollHeight:a}}=this,c=a-e;0<c&&(d.scrollTop=c)}};k._toggleInputValue=function(d){d=d.target;const e=d.getAttribute("data-option-name");this.templateOptions[e]=d.checked;"scaleEnabled"===e&&(this.templateOptions[e]||this._resetToCurrentScale())};k._renderExportedLink=function(d){const e=this.messages;return d.map(a=>{const {error:c,url:f,formattedName:g,state:m}=
a,q="error"===m,x="pending"===m,u="ready"===m,H={["esri-widget__anchor--disabled"]:x||q};let D=f||null;D&&(D=O.addProxy(D));var p=O.hasSameOrigin(f,location.href);p={["esri-icon-loading-indicator"]:x,["esri-rotating"]:x,["esri-icon-download"]:p&&u,["esri-icon-launch-link-external"]:!p&&u,["esri-icon-error"]:q,["esri-print__exported-file--error"]:q};const C={["esri-print__exported-file--error"]:q};return b.tsx("div",{"aria-label":x?e.pending:u?e.ready:e.errorMessage,class:"esri-print__exported-file",
"data-item":a,key:g,onclick:this._removeLink,title:q?"print-task:cim-symbol-unsupported"===c.name?e.exportWebMapCIMError:e.exportWebMapError:""},b.tsx("a",{"aria-label":`${g}. ${e.linkReady}`,download:g,href:D,rel:"noreferrer",tabIndex:0,target:"_blank",class:this.classes("esri-widget__anchor esri-print__exported-file-link",H)},b.tsx("span",{class:this.classes(p)}),b.tsx("span",{class:this.classes("esri-print__exported-file-link-title",C)},g)))})};k._toggleLayoutPanel=function(d){this._toggleTab(d.target.getAttribute("data-tab-id"))};
k._toggleTab=function(d,e=!0){(this._layoutTabSelected=d===t.layout)?(d=this.get("viewModel.templatesInfo.layout.choiceList"),this.templateOptions.layout=d&&d[0]):this.templateOptions.layout="MAP_ONLY";e&&(this._activeTabFocusRequested=!0)};k._handleLayoutPanelKeyDown=function(d){const e=N.eventKey(d),a=d.target.getAttribute("data-tab-id");if(L.isActivationKey(e))this._toggleTab(a),d.preventDefault(),d.stopPropagation();else if("ArrowLeft"===e||"ArrowRight"===e)this._toggleTab(a===t.layout?t.mapOnly:
t.layout),d.preventDefault(),d.stopPropagation()};return M}(Y);n.__decorate([w.aliasOf("viewModel.allowedFormats")],l.prototype,"allowedFormats",void 0);n.__decorate([w.aliasOf("viewModel.allowedLayouts")],l.prototype,"allowedLayouts",void 0);n.__decorate([w.aliasOf("viewModel.error")],l.prototype,"error",void 0);n.__decorate([z.property({type:U})],l.prototype,"exportedLinks",void 0);n.__decorate([w.aliasOf("viewModel.extraParameters")],l.prototype,"extraParameters",void 0);n.__decorate([z.property()],
l.prototype,"headingLevel",void 0);n.__decorate([z.property()],l.prototype,"iconClass",void 0);n.__decorate([w.aliasOf("viewModel.includeDefaultTemplates")],l.prototype,"includeDefaultTemplates",void 0);n.__decorate([z.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],l.prototype,"label",void 0);n.__decorate([z.property(),T.messageBundle("esri/widgets/Print/t9n/Print")],l.prototype,"messages",void 0);n.__decorate([z.property(),T.messageBundle("esri/t9n/common")],l.prototype,"messagesCommon",
void 0);n.__decorate([w.aliasOf("viewModel.portal")],l.prototype,"portal",void 0);n.__decorate([w.aliasOf("viewModel.printServiceUrl")],l.prototype,"printServiceUrl",void 0);n.__decorate([w.aliasOf("viewModel.templateCustomTextElements")],l.prototype,"templateCustomTextElements",void 0);n.__decorate([z.property({type:R})],l.prototype,"templateOptions",void 0);n.__decorate([w.aliasOf("viewModel.view")],l.prototype,"view",void 0);n.__decorate([z.property({type:Q})],l.prototype,"viewModel",void 0);return l=
n.__decorate([X.subclass("esri.widgets.Print")],l)});