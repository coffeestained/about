// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Evented ../../../core/HandleOwner ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./support/ButtonMenu ../../support/widgetUtils".split(" "),function(p,e,d,v,w,t,f,A,B,C,x,y,z){d=function(u){function r(c){var a=u.call(this,c)||
this;a._menuContainer=null;a.activeRowIndex=null;a.autoWidth=!1;a.cellValueFormatFunction=({value:b})=>z.renderingSanitizer.sanitize(b);a.flexGrow=1;a.footerRenderFunction=null;a.frozen=!1;a.grid=null;a.header=null;a.headerRenderFunction=b=>{const {root:g}=b,{headerMenuEnabled:h,sortable:k}=p._assertThisInitialized(a);a.removeCellContent(g);g.classList.add("esri-column__header-content");if(k)a.headerSorterRenderFunction(b);else{const {header:l,path:q}=p._assertThisInitialized(a),n=document.createElement("div");
n.classList.add("esri-column__header-label");n.innerHTML=l||q;g.appendChild(n)}h&&a.headerMenuRenderFunction(b)};a.headerMenuRenderFunction=({root:b})=>{var g,h;(null==(g=a.menu)?0:null==(h=g.items)?0:h.length)&&b.appendChild(a._menuContainer)};a.headerSorterRenderFunction=({root:b})=>{var g;const {header:h,path:k,sortElement:l}=p._assertThisInitialized(a),q=h||k;l?(l.innerHTML!==q&&l.setAttribute("innerHTML",q),b.appendChild(l),b=null==(g=a.grid)?void 0:g.getSlotElementByName(b.slot),(g=null==b?
void 0:b.parentElement)&&!g.onkeydown&&(g.onkeydown=({key:n})=>{"Enter"!==n&&"Spacebar"!==n||l.click()})):b.innerHTML=q};a.hidden=!1;a.headerMenuEnabled=!0;a.initialSortPriority=null;a.menu=null;a.menuConfig=null;a.messages=null;a.messagesCommon=null;a.path=null;a.renderFunction=({root:b,column:g,rowData:h})=>{const k=a.getCellValue(g,h);g=a.cellValueFormatFunction({column:g,rowData:h,value:k});b.innerHTML!==g&&(b.innerHTML=g)};a.resizable=!0;a.sortable=!0;a.sortElement=null;a.textAlign="start";a.width=
200;return a}p._inheritsLoose(r,u);var m=r.prototype;m.initialize=function(){const {messages:c,path:a}=this;this._set("sortElement",this.createSortElement());this.sortElement.setAttribute("path",a);this._menuContainer=document.createElement("div");this._menuContainer.classList.add("esri-column__menu-container");this.menu=new y({label:null==c?void 0:c.options,iconClass:"esri-icon-handle-horizontal",...this.menuConfig});this.menu.container=this._menuContainer;this.menu.set("items",this.getMenuItems());
this.handles.add(t.watch(()=>this.hidden,()=>{var b;return null==(b=this.menu)?void 0:b.set("open",!1)}),t.watch(()=>this.path,b=>{this.sortElement&&this.sortElement.path!==b&&this.sortElement.setAttribute("path",b)}))};m.destroy=function(){var c;null==(c=this.menu)?void 0:c.destroy()};m.getMenuItems=function(){const {menuConfig:c,sortable:a}=this,b=null==c?void 0:c.items,g=this.getSortMenuItems(),h=[];a&&h.push(...g);(null==b?0:b.length)&&h.push(...b);return h.length?h:null};m.getSortMenuItems=function(){const {messages:c}=
this;return[{selected:"asc"===this.direction,iconClass:"esri-icon-arrow-up",label:null==c?void 0:c.sortAsc,autoCloseMenu:!0,clickFunction:()=>this.set("direction","asc"!==this.direction?"asc":null)},{selected:"desc"===this.direction,iconClass:"esri-icon-arrow-down",label:null==c?void 0:c.sortDesc,autoCloseMenu:!0,clickFunction:()=>this.set("direction","desc"!==this.direction?"desc":null)}]};m.getCellValue=function(c,a){var b;return null!=(b=null==a?void 0:a.item[null==c?void 0:c.path])?b:""};m.createSortElement=
function(){const {direction:c,header:a,path:b,initialSortPriority:g}=this,h=a||b,k=document.createElement("vaadin-grid-sorter");k.classList.add("esri-column__sorter");k.setAttribute("path",b);k.setAttribute("title",h);k.innerHTML=h;c&&k.setAttribute("direction",c);w.isSome(g)&&(k._initialOrder=g);k.addEventListener("direction-changed",()=>{this.direction!==k.direction&&this._set("direction",k.direction)});return k};m.removeCellContent=function(c){if(c)for(;c.firstChild;)try{c.removeChild(c.firstChild)}catch(a){}};
p._createClass(r,[{key:"direction",get:function(){return this._get("direction")||null},set:function(c){this.sortable&&(this.sortElement&&(c?this.sortElement.direction!==c&&this.sortElement.setAttribute("direction",c):this.sortElement.removeAttribute("direction")),this._set("direction",c))}}]);return r}(v.HandleOwnerMixin(d.EventedAccessor));e.__decorate([f.property()],d.prototype,"activeRowIndex",void 0);e.__decorate([f.property()],d.prototype,"autoWidth",void 0);e.__decorate([f.property()],d.prototype,
"cellValueFormatFunction",void 0);e.__decorate([f.property()],d.prototype,"direction",null);e.__decorate([f.property()],d.prototype,"flexGrow",void 0);e.__decorate([f.property()],d.prototype,"footerRenderFunction",void 0);e.__decorate([f.property()],d.prototype,"frozen",void 0);e.__decorate([f.property()],d.prototype,"grid",void 0);e.__decorate([f.property()],d.prototype,"header",void 0);e.__decorate([f.property()],d.prototype,"headerRenderFunction",void 0);e.__decorate([f.property()],d.prototype,
"headerMenuRenderFunction",void 0);e.__decorate([f.property()],d.prototype,"headerSorterRenderFunction",void 0);e.__decorate([f.property()],d.prototype,"hidden",void 0);e.__decorate([f.property()],d.prototype,"headerMenuEnabled",void 0);e.__decorate([f.property({constructOnly:!0})],d.prototype,"initialSortPriority",void 0);e.__decorate([f.property()],d.prototype,"menu",void 0);e.__decorate([f.property()],d.prototype,"menuConfig",void 0);e.__decorate([f.property()],d.prototype,"messages",void 0);e.__decorate([f.property()],
d.prototype,"messagesCommon",void 0);e.__decorate([f.property()],d.prototype,"path",void 0);e.__decorate([f.property()],d.prototype,"renderFunction",void 0);e.__decorate([f.property()],d.prototype,"resizable",void 0);e.__decorate([f.property()],d.prototype,"sortable",void 0);e.__decorate([f.property({readOnly:!0})],d.prototype,"sortElement",void 0);e.__decorate([f.property()],d.prototype,"textAlign",void 0);e.__decorate([f.property()],d.prototype,"width",void 0);return d=e.__decorate([x.subclass("esri.widgets.FeatureTable.Grid.Column")],
d)});