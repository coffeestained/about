// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/Feature/FeatureAttachments":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/reactiveUtils ../../core/accessorSupport/decorators/aliasOf ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../Attachments ../Widget ./FeatureAttachments/FeatureAttachmentsViewModel ./support/FeatureElementInfo ../support/widgetUtils ../support/jsxFactory".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h){v=function(p){function t(D,O){D=p.call(this,D,O)||this;D._featureElementInfo=null;D.attachmentsWidget=new V;D.description=null;D.displayType=null;D.graphic=null;D.headingLevel=2;D.title=null;D.viewModel=new d;return D}k._inheritsLoose(t,p);var M=t.prototype;M.initialize=function(){this._featureElementInfo=new c;this.own([y.watch(()=>{var D,O;return[null==(D=this.viewModel)?void 0:D.description,null==(O=this.viewModel)?void 0:O.title,this.headingLevel]},()=>
this._setupFeatureElementInfo(),y.initial),y.watch(()=>{var D;return null==(D=this.viewModel)?void 0:D.graphic},D=>this.attachmentsWidget.graphic=D,y.initial)])};M.destroy=function(){this.attachmentsWidget.destroy();this._featureElementInfo.destroy()};M.render=function(){var D;const {attachmentsWidget:O}=this;return h.tsx("div",{class:"esri-feature-attachments"},null==(D=this._featureElementInfo)?void 0:D.render(),null==O?void 0:O.render())};M._setupFeatureElementInfo=function(){const {description:D,
title:O,headingLevel:B}=this;this._featureElementInfo.set({description:D,title:O,headingLevel:B})};return t}(E);x.__decorate([U.property({readOnly:!0})],v.prototype,"attachmentsWidget",void 0);x.__decorate([r.aliasOf("viewModel.description")],v.prototype,"description",void 0);x.__decorate([r.aliasOf("attachmentsWidget.displayType")],v.prototype,"displayType",void 0);x.__decorate([r.aliasOf("viewModel.graphic")],v.prototype,"graphic",void 0);x.__decorate([U.property()],v.prototype,"headingLevel",void 0);
x.__decorate([r.aliasOf("viewModel.title")],v.prototype,"title",void 0);x.__decorate([U.property({type:d})],v.prototype,"viewModel",void 0);return v=x.__decorate([T.subclass("esri.widgets.Feature.FeatureAttachments")],v)})},"esri/widgets/Attachments":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/reactiveUtils ../core/unitFormatUtils ../core/accessorSupport/decorators/aliasOf ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./Attachments/AttachmentsViewModel ./Attachments/support/attachmentUtils ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h,p,t){const M={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},D=window.CSS;H=function(O){function B(l,m){l=O.call(this,l,m)||this;l.abilities=null;l.displayType="auto";l.graphic=null;l.label=void 0;l.messages=null;l.messagesUnits=null;l.selectedFile=null;l.submitting=!1;l.viewModel=new c;l.visibleElements={...M};l._supportsImageOrientation=D&&D.supports&&D.supports("image-orientation",
"from-image");l._addAttachmentForm=null;l._updateAttachmentForm=null;return l}k._inheritsLoose(B,O);var K=B.prototype;K.initialize=function(){this.own([r.on(()=>{var l;return null==(l=this.viewModel)?void 0:l.attachmentInfos},"change",()=>this.scheduleRender()),r.watch(()=>{var l;return null==(l=this.viewModel)?void 0:l.mode},()=>this._modeChanged(),r.initial)])};K.castVisibleElements=function(l){return{...M,...l}};K.addAttachment=function(){const {_addAttachmentForm:l,viewModel:m}=this;this._set("submitting",
!0);this._set("error",null);return m.addAttachment(l).then(C=>{this._set("submitting",!1);this._set("error",null);m.mode="view";return C}).catch(C=>{this._set("submitting",!1);this._set("error",new y("attachments:add-attachment",this.messages.addErrorMessage,C));throw C;})};K.deleteAttachment=function(l){const {viewModel:m}=this;this._set("submitting",!0);this._set("error",null);return m.deleteAttachment(l).then(C=>{this._set("submitting",!1);this._set("error",null);m.mode="view";return C}).catch(C=>
{this._set("submitting",!1);this._set("error",new y("attachments:delete-attachment",this.messages.deleteErrorMessage,C));throw C;})};K.updateAttachment=function(){const {viewModel:l}=this,{_updateAttachmentForm:m}=this;this._set("submitting",!0);this._set("error",null);return l.updateAttachment(m).then(C=>{this._set("submitting",!1);this._set("error",null);l.mode="view";return C}).catch(C=>{this._set("submitting",!1);this._set("error",new y("attachments:update-attachment",this.messages.updateErrorMessage,
C));throw C;})};K.render=function(){const {submitting:l,viewModel:m}=this,{state:C}=m;return t.tsx("div",{class:this.classes("esri-attachments","esri-widget")},l?this.renderProgressBar():null,"loading"===C?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())};K.renderErrorMessage=function(){const {error:l,visibleElements:m}=this;return l&&m.errorMessage?t.tsx("div",{key:"error-message",class:"esri-attachments__error-message"},l.message):null};K.renderAttachments=function(){const {mode:l,
activeAttachmentInfo:m}=this.viewModel;return"add"===l?this.renderAddForm():"edit"===l?this.renderDetailsForm(m):this.renderAttachmentContainer()};K.renderLoading=function(){return t.tsx("div",{class:"esri-attachments__loader-container",key:"loader"},t.tsx("div",{class:"esri-attachments__loader"}))};K.renderProgressBar=function(){return this.visibleElements.progressBar?t.tsx("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null};K.renderAddForm=function(){const {submitting:l,selectedFile:m}=
this;var C=l||!m,G=this.visibleElements.cancelAddButton?t.tsx("button",{type:"button",bind:this,disabled:l,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",l&&"esri-button--disabled")},this.messages.cancel):null;C=this.visibleElements.addSubmitButton?t.tsx("button",{type:"submit",disabled:C,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",{["esri-button--disabled"]:C})},this.messages.add):
null;const Q=m?t.tsx("span",{key:"file-name",class:"esri-attachments__file-name"},m.name):null;G=t.tsx("form",{bind:this,afterCreate:h.storeNode,afterRemoved:h.discardNode,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},t.tsx("fieldset",{class:"esri-attachments__file-fieldset"},Q,t.tsx("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},m?this.messages.changeFile:this.messages.selectFile,t.tsx("input",{class:"esri-attachments__file-input",
type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),C,G);return t.tsx("div",{key:"add-form-container",class:"esri-attachments__form-node"},G)};K.renderDetailsForm=function(l){const {visibleElements:m,viewModel:C,selectedFile:G,submitting:Q}=this,{contentType:N,size:A,url:S}=l;var {abilities:u}=C,q=Q||!G,F=u.editing&&u.operations.delete&&m.deleteButton?t.tsx("button",{key:"delete-button",type:"button",disabled:Q,bind:this,onclick:ja=>this._submitDeleteAttachment(ja,l),
class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",{["esri-button--disabled"]:Q})},this.messages.delete):null;q=u.editing&&u.operations.update&&m.updateButton?t.tsx("button",{disabled:q,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",{["esri-button--disabled"]:q})},this.messages.update):null;const X=this.visibleElements.cancelUpdateButton?t.tsx("button",{disabled:Q,key:"cancel-button",
type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-button--third",{["esri-button--disabled"]:Q})},this.messages.cancel):null;var Y=G?t.tsx("span",{key:"file-name",class:"esri-attachments__file-name"},G.name):null;u=u.editing&&u.operations.update?t.tsx("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},Y,t.tsx("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},
this.messages.changeFile,t.tsx("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null;Y=t.tsx("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},t.tsx("label",null,v.formatFileSize(this.messagesUnits,A)));const fa=t.tsx("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},t.tsx("label",null,N));F=t.tsx("form",{bind:this,afterCreate:h.storeNode,afterRemoved:h.discardNode,"data-node-ref":"_updateAttachmentForm",
onsubmit:this._submitUpdateAttachment},t.tsx("div",{class:"esri-attachments__metadata"},Y,fa),u,t.tsx("div",{class:"esri-attachments__actions"},F,X,q));return t.tsx("div",{key:"edit-form-container",class:"esri-attachments__form-node"},t.tsx("a",{class:"esri-attachments__item-link",href:S,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:l,size:400}),t.tsx("div",{class:"esri-attachments__item-link-overlay"},t.tsx("span",{class:"esri-attachments__item-link-overlay-icon"},t.tsx("svg",
{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},t.tsx("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),t.tsx("path",{fill:"none",d:"M0 0h32v32H0z"}))))),F)};K.renderImageMask=function({attachmentInfo:l,size:m}){var {supportsResizeAttachments:C}=this.viewModel;const {contentType:G,name:Q,url:N}=l,A=C&&g.isSupportedImage(G);l=(l=this._getCSSTransform(l,A))?{transform:l,"image-orientation":"none"}:{};const S=N.includes("?")?
"\x26":"?";m=A?`${N}${S}w=${m}`:g.getIconPath(G);C={["esri-attachments__image--resizable"]:C};return t.tsx("div",{class:this.classes({["esri-attachments__item-mask--icon"]:!A},"esri-attachments__item-mask")},t.tsx("img",{styles:l,alt:Q,src:m,class:this.classes(C,"esri-attachments__image")}))};K.renderAttachmentInfo=function({attachmentInfo:l,displayType:m}){var {viewModel:C}=this;({abilities:C}=C);const {name:G,url:Q}=l;m=this.renderImageMask({attachmentInfo:l,size:"list"===m?48:400});var N=C.editing?
t.tsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",h.isRTL(this.container)?"esri-icon-left":"esri-icon-right")}):null;N=t.tsx("label",{class:"esri-attachments__label"},t.tsx("span",{class:"esri-attachments__filename"},G||this.messages.noTitle),N);m=[m,N];C=C.editing?t.tsx("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":l.id,
onclick:()=>this._startEditAttachment(l),type:"button"},m):t.tsx("a",{key:"details-link",class:"esri-attachments__item-button",href:Q,target:"_blank"},m);return t.tsx("li",{class:"esri-attachments__item",key:l},C)};K.renderAttachmentContainer=function(){const {effectiveDisplayType:l,viewModel:m,visibleElements:C}=this,{attachmentInfos:G,abilities:Q}=m;var N=G&&G.length;const A={["esri-attachments__container--list"]:"preview"!==l,["esri-attachments__container--preview"]:"preview"===l},S=Q.editing&&
Q.operations.add&&C.addButton?t.tsx("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes("esri-button","esri-button--tertiary","esri-attachments__add-attachment-button"),type:"button"},t.tsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null;N=N?t.tsx("ul",{class:"esri-attachments__items"},G.toArray().map(u=>this.renderAttachmentInfo({attachmentInfo:u,displayType:l}))):t.tsx("div",{class:"esri-widget__content--empty"},
this.messages.noAttachments);return t.tsx("div",{key:"attachments-container",class:this.classes("esri-attachments__container",A)},N,S)};K._modeChanged=function(){this._set("error",null);this._set("selectedFile",null)};K._handleFileInputChange=function(l){l=(l=l.target)&&l.files&&l.files.item(0);this._set("selectedFile",l)};K._submitDeleteAttachment=function(l,m){l.preventDefault();this.deleteAttachment(m)};K._submitAddAttachment=function(l){l.preventDefault();this.addAttachment()};K._submitUpdateAttachment=
function(l){l.preventDefault();this.updateAttachment()};K._startEditAttachment=function(l){const {viewModel:m}=this;m.activeAttachmentInfo=l;m.mode="edit"};K._startAddAttachment=function(){this.viewModel.mode="add"};K._cancelForm=function(l){l.preventDefault();this.viewModel.mode="view"};K._getCSSTransform=function(l,m){({orientationInfo:l}=l);return!this._supportsImageOrientation&&m&&l?[l.rotation?`rotate(${l.rotation}deg)`:"",l.mirrored?"scaleX(-1)":""].join(" "):""};k._createClass(B,[{key:"effectiveDisplayType",
get:function(){const {displayType:l}=this;return l&&"auto"!==l?l:this.viewModel.supportsResizeAttachments?"preview":"list"}}]);return B}(d);x.__decorate([L.aliasOf("viewModel.abilities")],H.prototype,"abilities",void 0);x.__decorate([V.property()],H.prototype,"displayType",void 0);x.__decorate([V.property({readOnly:!0})],H.prototype,"effectiveDisplayType",null);x.__decorate([L.aliasOf("viewModel.graphic")],H.prototype,"graphic",void 0);x.__decorate([V.property({aliasOf:{source:"messages.widgetLabel",
overridable:!0}})],H.prototype,"label",void 0);x.__decorate([V.property(),p.messageBundle("esri/widgets/Attachments/t9n/Attachments")],H.prototype,"messages",void 0);x.__decorate([V.property(),p.messageBundle("esri/core/t9n/Units")],H.prototype,"messagesUnits",void 0);x.__decorate([V.property({readOnly:!0})],H.prototype,"selectedFile",void 0);x.__decorate([V.property({readOnly:!0})],H.prototype,"submitting",void 0);x.__decorate([V.property({readOnly:!0})],H.prototype,"error",void 0);x.__decorate([V.property({type:c})],
H.prototype,"viewModel",void 0);x.__decorate([V.property()],H.prototype,"visibleElements",void 0);x.__decorate([T.cast("visibleElements")],H.prototype,"castVisibleElements",null);return H=x.__decorate([E.subclass("esri.widgets.Attachments")],H)})},"esri/core/unitFormatUtils":function(){define("exports ./byteSizeEstimations ./Cyclical ./mathUtils ./maybe ./string ./unitUtils ../intl/number".split(" "),function(k,x,y,r,v,L,H,U){function T(g,h,p){return g.units[h][p]}function V(g,h,p,t=2,M="abbr"){return`${U.formatNumber(h,
{minimumFractionDigits:t,maximumFractionDigits:t})} ${T(g,p,M)}`}function E(g,h,p,t=2,M="abbr"){return`${U.formatNumber(h,{minimumFractionDigits:t,maximumFractionDigits:t,signDisplay:"exceptZero"})} ${T(g,p,M)}`}function d(g,h,p){if(h===p)return g;switch(p){case "arithmetic":return-g+90;case "geographic":return-g-90}}const c=["B","kB","MB","GB","TB"];k.formatAngleDegrees=function(g,h,p,t,M){g=y.cyclicalDegrees.normalize(d(H.convertUnit(g,h,"degrees"),p,t),0,!0);M=v.unwrapOr(M,2);return U.formatNumber(g,
{style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:M,minimumFractionDigits:M})};k.formatDMS=function(g,h,p=2){g=H.convertUnit(g,h,"degrees");h=g-Math.floor(g);g-=h;h*=60;let t=h-Math.floor(h);h-=t;t*=60;return`${g.toFixed()}\u00b0 ${h.toFixed()}' ${t.toFixed(p)}"`};k.formatDecimal=V;k.formatFileSize=function(g,h){let p=0===h?0:Math.floor(Math.log(h)/Math.log(x.ByteSizeUnit.KILOBYTES));p=r.clamp(p,0,c.length-1);h=U.formatNumber(h/x.ByteSizeUnit.KILOBYTES**p,{maximumFractionDigits:2});
return L.replace(g.units.bytes[c[p]],{fileSize:h})};k.formatImperialArea=function(g,h,p,t=2,M="abbr"){const D=H.preferredImperialAreaUnit(h,p);return V(g,H.convertUnit(h,p,D),D,t,M)};k.formatImperialLength=function(g,h,p,t=2,M="abbr"){const D=H.preferredImperialLengthUnit(h,p);return V(g,H.convertUnit(h,p,D),D,t,M)};k.formatImperialRelativeLength=function(g,h,p,t=2,M="abbr"){const D=H.preferredImperialLengthUnit(h,p);return E(g,H.convertUnit(h,p,D),D,t,M)};k.formatImperialRelativeVerticalLength=function(g,
h,p,t=2,M="abbr"){const D=H.preferredImperialVerticalLengthUnit(h,p);return E(g,H.convertUnit(h,p,D),D,t,M)};k.formatImperialVerticalLength=function(g,h,p,t=2,M="abbr"){const D=H.preferredImperialVerticalLengthUnit(h,p);return V(g,H.convertUnit(h,p,D),D,t,M)};k.formatMetricArea=function(g,h,p,t=2,M="abbr"){const D=H.preferredMetricAreaUnit(h,p);return V(g,H.convertUnit(h,p,D),D,t,M)};k.formatMetricLength=function(g,h,p,t=2,M="abbr"){const D=H.preferredMetricLengthUnit(h,p);return V(g,H.convertUnit(h,
p,D),D,t,M)};k.formatMetricRelativeLength=function(g,h,p,t=2,M="abbr"){const D=H.preferredMetricLengthUnit(h,p);return E(g,H.convertUnit(h,p,D),D,t,M)};k.formatMetricRelativeVerticalLength=function(g,h,p,t=2,M="abbr"){const D=H.preferredMetricVerticalLengthUnit(h,p);return E(g,H.convertUnit(h,p,D),D,t,M)};k.formatMetricVerticalLength=function(g,h,p,t=2,M="abbr"){const D=H.preferredMetricVerticalLengthUnit(h,p);return V(g,H.convertUnit(h,p,D),D,t,M)};k.formatRelativeAngleDegrees=function(g,h,p,t,M){p!==
t&&(g=-g);g=H.convertUnit(g,h,"degrees")%360;M=v.unwrapOr(M,2);return U.formatNumber(g,{style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:M,minimumFractionDigits:M,signDisplay:"exceptZero"})};k.formatRelativeDecimal=E;k.unitName=T;Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(k){function x(y){return 32+y.length}k.ByteSizeUnit=void 0;(function(y){y[y.KILOBYTES=1024]=
"KILOBYTES";y[y.MEGABYTES=1048576]="MEGABYTES";y[y.GIGABYTES=1073741824]="GIGABYTES"})(k.ByteSizeUnit||(k.ByteSizeUnit={}));k.estimateAttributesObjectSize=function(y){if(!y)return 0;let r=32;for(const v in y)if(y.hasOwnProperty(v)){const L=y[v];switch(typeof L){case "string":r+=x(L);break;case "number":r+=16;break;case "boolean":r+=4}}return r};k.estimateFixedArraySize=function(y,r){return 32+y.length*r};k.estimateNumberByteSize=function(){return 16};k.estimateStringByteSize=x;Object.defineProperties(k,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Attachments/AttachmentsViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Graphic ../../core/Accessor ../../core/Collection ../../core/Error ../../core/maybe ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../rest/query/support/AttachmentInfo ../../rest/support/AttachmentQuery ../Feature/support/featureUtils".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h,p){const t={editing:!1,operations:{add:!0,update:!0,delete:!0}},M=v.ofType(g);r=function(D){function O(K){var l=D.call(this,K)||this;l._getAttachmentsPromise=null;l._attachmentLayer=null;l.abilities={...t};l.activeAttachmentInfo=null;l.attachmentInfos=new M;l.graphic=null;l.mode="view";l.own(U.watch(()=>l.graphic,()=>l._graphicChanged(),U.initial));return l}k._inheritsLoose(O,D);var B=O.prototype;B.destroy=function(){this.graphic=this._attachmentLayer=null};
B.castAbilities=function(K){return{...t,...K}};B.getAttachments=function(){var K=k._asyncToGenerator(function*(){const {_attachmentLayer:l,attachmentInfos:m}=this;if(!l||"function"!==typeof l.queryAttachments)throw new L("invalid-layer","getAttachments(): A valid layer is required.");const C=this._getFeatureId();var G=new h({objectIds:[C],returnMetadata:!0});const Q=[];this._getAttachmentsPromise=G=l.queryAttachments(G).then(N=>N[C]||Q).catch(()=>Q);this.notifyChange("state");G=yield G;m.removeAll();
G.length&&m.addMany(G);this._getAttachmentsPromise=null;this.notifyChange("state");return G});return function(){return K.apply(this,arguments)}}();B.addAttachment=function(){var K=k._asyncToGenerator(function*(l){const {_attachmentLayer:m,attachmentInfos:C,graphic:G,abilities:Q}=this;if(!l)throw new L("invalid-attachment","addAttachment(): An attachment is required.",{attachment:l});if(!Q.operations.add)throw new L("invalid-abilities","addAttachment(): add abilities are required.");if(!m||"function"!==
typeof m.addAttachment)throw new L("invalid-layer","addAttachment(): A valid layer is required.");l=yield m.addAttachment(G,l).then(N=>this._queryAttachment(N.objectId));C.add(l);return l});return function(l){return K.apply(this,arguments)}}();B.deleteAttachment=function(){var K=k._asyncToGenerator(function*(l){const {_attachmentLayer:m,attachmentInfos:C,graphic:G,abilities:Q}=this;if(!l)throw new L("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:l});
if(!Q.operations.delete)throw new L("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!m||"function"!==typeof m.deleteAttachments)throw new L("invalid-layer","deleteAttachment(): A valid layer is required.");const N=yield m.deleteAttachments(G,[l.id]).then(()=>l);C.remove(N);return N});return function(l){return K.apply(this,arguments)}}();B.updateAttachment=function(){var K=k._asyncToGenerator(function*(l,m=this.activeAttachmentInfo){const {_attachmentLayer:C,attachmentInfos:G,
graphic:Q,abilities:N}=this;if(!l)throw new L("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:l});if(!m)throw new L("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:m});if(!N.operations.update)throw new L("invalid-abilities","updateAttachment(): Update abilities are required.");const A=G.findIndex(S=>S===m);if(!C||"function"!==typeof C.updateAttachment)throw new L("invalid-layer","updateAttachment(): A valid layer is required.");
l=yield C.updateAttachment(Q,m.id,l).then(S=>this._queryAttachment(S.objectId));G.splice(A,1,l);return l});return function(l){return K.apply(this,arguments)}}();B._queryAttachment=function(){var K=k._asyncToGenerator(function*(l){if(!l)throw new L("invalid-attachment-id","Could not query attachment.");const {_attachmentLayer:m}=this,C=this._getFeatureId();l=new h({objectIds:[C],attachmentsWhere:`AttachmentId=${l}`,returnMetadata:!0});return m.queryAttachments(l).then(G=>G[C][0])});return function(l){return K.apply(this,
arguments)}}();B._getFeatureId=function(){const {_attachmentLayer:K,graphic:l}=this;if(!K||!l)return null;const {objectIdField:m}=K,{attributes:C}=l;return C&&C[m]};B._graphicChanged=function(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))};B._setAttachmentLayer=function(){var {graphic:K}=this;this._attachmentLayer=(K=p.getSourceLayer(K))?"scene"===K.type&&H.isSome(K.associatedLayer)?K.associatedLayer:K:null};k._createClass(O,[{key:"state",get:function(){return this._getAttachmentsPromise?
"loading":this.graphic?"ready":"disabled"}},{key:"supportsResizeAttachments",get:function(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}}]);return O}(r);x.__decorate([T.property()],r.prototype,"abilities",void 0);x.__decorate([d.cast("abilities")],r.prototype,"castAbilities",null);x.__decorate([T.property()],r.prototype,"activeAttachmentInfo",void 0);x.__decorate([T.property({readOnly:!0,type:M})],r.prototype,"attachmentInfos",void 0);x.__decorate([T.property({type:y})],
r.prototype,"graphic",void 0);x.__decorate([T.property()],r.prototype,"mode",void 0);x.__decorate([T.property({readOnly:!0})],r.prototype,"state",null);x.__decorate([T.property({readOnly:!0})],r.prototype,"supportsResizeAttachments",null);return r=x.__decorate([c.subclass("esri.widgets.Attachments.AttachmentsViewModel")],r)})},"esri/widgets/Feature/support/featureUtils":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../intl ../../../core/Logger ../../../core/maybe ../../../core/string ../../../intl/date ../../../intl/number ../../../layers/support/fieldUtils ../../../popup/support/FieldInfoFormat ../../../support/arcadeOnDemand".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E){function d(){d=x._asyncToGenerator(function*(J,R){return"function"===typeof J?J.call(null,R):J});return d.apply(this,arguments)}function c(J){return J?ta.test(J):!1}function g(J,R){if(!c(R)||!J)return null;const Z=R.replace(ta,"").toLowerCase();let ia;J.some(ba=>ba.name.toLowerCase()===Z?(ia=ba,!0):!1);return ia}function h(J,R){return(R=p(R,J))?R.name:J}function p(J,R){return J&&"function"===typeof J.getField?J.getField(R):null}function t({formattedAttributes:J,template:R,
fieldInfoMap:Z}){return`${L.replace(L.replace(R,ia=>{{const ba=Z.get(ia.toLowerCase());ia=`{${ba&&ba.fieldName||ia}}`}return ia}),J).replace(ja,"")}`.trim()}function M(J,R,Z=!1){const ia=R[J];"string"===typeof ia&&(Z=(Z?encodeURIComponent(ia):ia).replace(la,"%27"),R[J]=Z)}function D(J,R=!1){const Z={...J};Object.keys(Z).forEach(ia=>M(ia,Z,R));return Z}function O(J,R){return J.replace(pa,(Z,ia,ba)=>(Z=p(R,ba))?`{${Z.name}}`:ia)}function B(J,R,Z){return(J=O(J,Z))?J.replace(Ea,(ia,ba,na)=>{ba=`${ba||
na}`.trim();return L.replace(ia,D(R,ba&&"{"!==ba[0]))}):J}function K(J,R){var Z=R.fieldName,ia=l(R.fieldInfos,Z),ba=null==ia?void 0:ia.clone();ia=R.preventPlacesFormatting;R=R.layer;var na=p(R,Z);if(ba&&"date"===(null==na?void 0:na.type)){na=ba.format||new V;na.dateFormat=na.dateFormat||"short-date-short-time";var ra;if(!(ra=!(null!=R&&R.layer)&&"feature"===(null==R?void 0:R.type)&&R.datesInUnknownTimezone)){if(ra=!(null==R||!R.layer))ra=R.layer,ra="map-image"===(null==ra?void 0:ra.type);ra=ra&&R.layer.datesInUnknownTimezone}na.dateTimeFormatOptions=
ra?{timeZone:"UTC"}:null;ba.format=na}ba=ba&&ba.format;if("string"===typeof J&&T.isRasterPixelValueField(Z)&&ba)return ba.formatRasterPixelValue(J);"string"!==typeof J||!ba||null!=ba.dateFormat||null==ba.places&&null==ba.digitSeparator||(Z=Number(J),isNaN(Z)||(J=Z));return"string"===typeof J||null==J||null==ba?G(J):ia?U.formatNumber(J,{...U.convertNumberFormatToIntlOptions(ba),minimumFractionDigits:0,maximumFractionDigits:20}):ba.format(J)}function l(J,R){if(J&&J.length&&R){var Z=R.toLowerCase(),
ia=void 0;J.some(ba=>ba.fieldName&&ba.fieldName.toLowerCase()===Z?(ia=ba,!0):!1);return ia}}function m({fieldName:J,graphic:R,layer:Z}){if(F(J)||!Z||"function"!==typeof Z.getFeatureType)return null;const {typeIdField:ia}=Z;return ia&&J===ia?(J=Z.getFeatureType(R))?J.name:null:null}function C({fieldName:J,value:R,graphic:Z,layer:ia}){return F(J)||!ia||"function"!==typeof ia.getFieldDomain?null:(J=ia.getFieldDomain(J,{feature:Z}))&&"coded-value"===J.type?J.getName(R):null}function G(J){return"string"===
typeof J?J.replace(Da,'\x3cbr class\x3d"esri-text-new-line" /\x3e'):J}function Q(J){const {value:R,fieldName:Z,fieldInfos:ia,fieldInfoMap:ba,layer:na,graphic:ra}=J;return null==R?"":(J=C({fieldName:Z,value:R,graphic:ra,layer:na}))||(J=m({fieldName:Z,graphic:ra,layer:na}))?J:ba.get(Z.toLowerCase())?K(R,{fieldInfos:ia||Array.from(ba.values()),fieldName:Z,layer:na}):(J=na&&na.fieldsIndex)&&J.isDateField(Z)?H.formatDate(R,da):G(R)}function N(J,R){return A.apply(this,arguments)}function A(){A=x._asyncToGenerator(function*(J,
R){var Z,ia;const {layer:ba,graphic:na,outFields:ra,objectIds:Ba,returnGeometry:Ta,spatialReference:Wa}=J;J=Ba[0];if("number"!==typeof J&&"string"!==typeof J)return fa.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",{layer:ba,graphic:na,objectId:J,requiredFields:ra}),null;if(null==(Z=ba.capabilities)||null==(ia=Z.operations)||!ia.supportsQuery)return fa.warn("The specified layer cannot be queried. The following fields will not be available.",{layer:ba,
graphic:na,requiredFields:ra,returnGeometry:Ta}),null;Z=ba.createQuery();Z.objectIds=Ba;Z.outFields=null!=ra&&ra.length?ra:[ba.objectIdField];Z.returnGeometry=!!Ta;Z.returnZ=!!Ta;Z.returnM=!!Ta;Z.outSpatialReference=Wa;return(yield ba.queryFeatures(Z,R)).features[0]});return A.apply(this,arguments)}function S(J){return u.apply(this,arguments)}function u(){u=x._asyncToGenerator(function*(J){var R;if(null==(R=J.expressionInfos)||!R.length)return!1;R=yield E.loadArcade();({arcadeUtils:{hasGeometryFunctions:R}}=
R);return R(J)});return u.apply(this,arguments)}function q(){q=x._asyncToGenerator(function*({graphic:J,popupTemplate:R,layer:Z,spatialReference:ia},ba){if(Z&&R&&("function"===typeof Z.load&&(yield Z.load(ba)),J.attributes)){var na=J.attributes[Z.objectIdField];if(null!=na){na=[na];var ra=yield R.getRequiredFields(Z.fieldsIndex),Ba=T.featureHasFields(ra,J);ra=Ba?[]:ra;R=R.returnGeometry||(yield S(R));if(!Ba||R)if(Z=yield N({layer:Z,graphic:J,outFields:ra,objectIds:na,returnGeometry:R,spatialReference:ia},
ba))Z.geometry&&(J.geometry=Z.geometry),Z.attributes&&(J.attributes={...J.attributes,...Z.attributes})}}});return q.apply(this,arguments)}function F(J=""){return J?J.includes("relationships/"):!1}function X({attributes:J,graphic:R,relatedInfo:Z,fieldInfos:ia,fieldInfoMap:ba,layer:na}){J&&R&&Z&&Object.keys(R.attributes).forEach(ra=>{var Ba=(Ba={layerId:Z.relation.id.toString(),fieldName:ra},`${"relationships/"}${Ba.layerId}/${Ba.fieldName}`);J[Ba]=Q({fieldName:Ba,fieldInfos:ia,fieldInfoMap:ba,layer:na,
value:R.attributes[ra],graphic:R})})}function Y({attributes:J,relatedInfo:R,fieldInfoMap:Z,fieldInfos:ia,layer:ba}){J&&R&&(R.relatedFeatures&&R.relatedFeatures&&R.relatedFeatures.forEach(na=>X({attributes:J,graphic:na,relatedInfo:R,fieldInfoMap:Z,fieldInfos:ia,layer:ba})),R.relatedStatsFeatures&&R.relatedStatsFeatures&&R.relatedStatsFeatures.forEach(na=>X({attributes:J,graphic:na,relatedInfo:R,fieldInfoMap:Z,fieldInfos:ia,layer:ba})))}const fa=r.getLogger("esri.widgets.Feature.support.featureUtils"),
ja=/href=(""|'')/gi,pa=/(\{([^\{\r\n]+)\})/g,la=/'/g,ta=/^\s*expression\//i,Da=/(\n)/gi,va=/[\u00A0-\u9999<>&]/gim,Ea=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,ka=/^(?:mailto:|tel:)/,da=H.convertDateFormatToIntlOptions("short-date-short-time"),ha=J=>{if(!J)return!1;J=J.toUpperCase();return J.includes("CURRENT_TIMESTAMP")||J.includes("CURRENT_DATE")||J.includes("CURRENT_TIME")},ua=({layer:J,method:R,query:Z,definitionExpression:ia})=>{var ba,na;null!=(ba=J.capabilities)&&null!=(na=ba.query)&&na.supportsCacheHint&&
"attachments"!==R&&(J=v.isSome(Z.where)&&Z.where,R=v.isSome(Z.geometry)&&Z.geometry,ha(ia)||ha(J)||"extent"===(null==R?void 0:R.type)||"tile"===Z.resultType||(Z.cacheHint=!0))};k.applyTextFormattingHTML=G;k.createfieldInfoMap=function(J,R){const Z=new Map;J&&J.forEach(ia=>{const ba=h(ia.fieldName,R);ia.fieldName=ba;Z.set(ba.toLowerCase(),ia)});return Z};k.fixTokens=O;k.formatAttributes=function({fieldInfos:J,attributes:R,layer:Z,graphic:ia,fieldInfoMap:ba,relatedInfos:na}){const ra={};null==na?void 0:
na.forEach(Ba=>Y({attributes:ra,relatedInfo:Ba,fieldInfoMap:ba,fieldInfos:J,layer:Z}));Object.keys(R).forEach(Ba=>{ra[Ba]=Q({fieldName:Ba,fieldInfos:J,fieldInfoMap:ba,layer:Z,value:R[Ba],graphic:ia})});return ra};k.formatEditInfo=function(J,R){const {creatorField:Z,creationDateField:ia,editorField:ba,editDateField:na}=J;if(R){J=R[na];if("number"===typeof J)return R=R[ba],{type:"edit",date:H.formatDate(J,da),user:R};J=R[ia];return"number"===typeof J?(R=R[Z],{type:"create",date:H.formatDate(J,da),user:R}):
null}};k.formatValueToFieldInfo=K;k.getAllFieldInfos=function(J){const R=[];if(!J)return R;const {fieldInfos:Z,content:ia}=J;Z&&R.push(...Z);if(!ia||!Array.isArray(ia))return R;ia.forEach(ba=>{"fields"===ba.type&&(ba=ba&&ba.fieldInfos)&&R.push(...ba)});return R};k.getFieldInfo=l;k.getFieldInfoLabel=function(J,R){return(R=g(R,null==J?void 0:J.fieldName))?R.title||null:J?J.label||J.fieldName:null};k.getFixedFieldName=h;k.getFixedFieldNames=function(J,R){return J&&J.map(Z=>h(Z,R))};k.getSourceLayer=
function(J){if(!v.isNone(J))return J.get("sourceLayer")||J.get("layer")};k.graphicCallback=function(J,R){return d.apply(this,arguments)};k.htmlEntities=function(J){return J.replace(va,R=>`&#${R.charCodeAt(0)};`)};k.isExpressionField=c;k.isRelatedField=F;k.preLayerQueryCallback=({query:J,layer:R,method:Z})=>{ua({layer:R,method:Z,query:J,definitionExpression:`${R.definitionExpression} ${R.serviceDefinitionExpression}`})};k.preRequestCallback=({queryPayload:J,layer:R,method:Z})=>{ua({layer:R,method:Z,
query:J,definitionExpression:`${R.definitionExpression} ${R.serviceDefinitionExpression}`})};k.queryUpdatedFeature=function(J,R){return q.apply(this,arguments)};k.shouldOpenInNewTab=function(J=""){if(J)return!ka.test(J.trim().toLowerCase())};k.substituteAttributes=t;k.substituteFieldsInLinksAndAttributes=function({attributes:J,globalAttributes:R,layer:Z,text:ia,expressionAttributes:ba,fieldInfoMap:na}){return ia?t({formattedAttributes:R,template:B(ia,{...R,...ba,...J},Z),fieldInfoMap:na}):""};Object.defineProperties(k,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Attachments/support/attachmentUtils":function(){define(["exports","../../../assets"],function(k,x){k.getIconPath=function(y){const r=x.getAssetUrl("esri/themes/base/images/files/");return y?"text/plain"===y?`${r}text-32.svg`:"application/pdf"===y?`${r}pdf-32.svg`:"text/csv"===y?`${r}csv-32.svg`:"application/gpx+xml"===y?`${r}gpx-32.svg`:"application/x-dwf"===y?`${r}cad-32.svg`:"application/postscript"===y||"application/json"===
y||"text/xml"===y||"model/vrml"===y?`${r}code-32.svg`:"application/x-zip-compressed"===y||"application/x-7z-compressed"===y||"application/x-gzip"===y||"application/x-tar"===y||"application/x-gtar"===y||"application/x-bzip2"===y||"application/gzip"===y||"application/x-compress"===y||"application/x-apple-diskimage"===y||"application/x-rar-compressed"===y||"application/zip"===y?`${r}zip-32.svg`:y.includes("image/")?`${r}image-32.svg`:y.includes("audio/")?`${r}sound-32.svg`:y.includes("video/")?`${r}video-32.svg`:
y.includes("msexcel")||y.includes("ms-excel")||y.includes("spreadsheetml")?`${r}excel-32.svg`:y.includes("msword")||y.includes("ms-word")||y.includes("wordprocessingml")?`${r}word-32.svg`:y.includes("powerpoint")||y.includes("presentationml")?`${r}report-32.svg`:`${r}generic-32.svg`:`${r}generic-32.svg`};k.isSupportedImage=function(y){y=y.toLowerCase();return"image/bmp"===y||"image/emf"===y||"image/exif"===y||"image/gif"===y||"image/x-icon"===y||"image/jpeg"===y||"image/png"===y||"image/tiff"===y||
"image/x-wmf"===y};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Feature/FeatureAttachments/FeatureAttachmentsViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../Attachments/AttachmentsViewModel".split(" "),
function(k,x,y,r,v,L,H,U){r=function(T){function V(E){E=T.call(this,E)||this;E.description=null;E.title=null;return E}k._inheritsLoose(V,T);return V}(U);x.__decorate([y.property()],r.prototype,"description",void 0);x.__decorate([y.property()],r.prototype,"title",void 0);return r=x.__decorate([H.subclass("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],r)})},"esri/widgets/Feature/support/FeatureElementInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../Widget ../../support/Heading ../../support/widgetUtils ../../support/jsxFactory".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E){r=function(d){function c(h,p){h=d.call(this,h,p)||this;h.description=null;h.headingLevel=2;h.title=null;return h}k._inheritsLoose(c,d);var g=c.prototype;g.render=function(){return E.tsx("div",{class:"esri-feature-element-info"},this.renderTitle(),this.renderDescription())};g.renderTitle=function(){const {title:h}=this;return h?E.tsx(T.Heading,{level:this.headingLevel,class:"esri-feature-element-info__title"},h):null};g.renderDescription=function(){const {description:h}=
this;return h?E.tsx("div",{key:"description",class:"esri-feature-element-info__description"},h):null};return c}(U);x.__decorate([y.property()],r.prototype,"description",void 0);x.__decorate([y.property()],r.prototype,"headingLevel",void 0);x.__decorate([y.property()],r.prototype,"title",void 0);return r=x.__decorate([H.subclass("esri.widgets.Feature.support.FeatureElementInfo")],r)})},"esri/widgets/support/Heading":function(){define(["exports","../../core/mathUtils","./widgetUtils","./jsxFactory"],
function(k,x,y,r){const v={heading:"esri-widget__heading"};k.CSS=v;k.Heading=function(L,H){const U=x.clamp(Math.ceil(L.level),1,6),T=`h${U}`;delete L.level;return r.tsx(T,{...L,class:y.classes(v.heading,L.class),role:"heading","aria-level":String(U)},H)};k.incrementHeadingLevel=function(L,H=1){return x.clamp(Math.ceil(L+H),1,6)};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Feature/FeatureContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/aliasOf ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../Widget ./FeatureContent/FeatureContentViewModel ./support/featureUtils ../support/widget ../support/jsxFactory".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c){r=function(g){function h(t,M){t=g.call(this,t,M)||this;t.creator=null;t.graphic=null;t.viewModel=null;t._addTargetToAnchors=D=>{Array.from(D.querySelectorAll("a")).forEach(O=>{E.shouldOpenInNewTab(O.href)&&!O.hasAttribute("target")&&O.setAttribute("target","_blank")})};return t}k._inheritsLoose(h,g);var p=h.prototype;p.renderLoading=function(){return c.tsx("div",{class:"esri-feature-content__loader-container",key:"loader"},c.tsx("div",{class:"esri-feature-content__loader"}))};
p.renderCreated=function(){var t;const M=null==(t=this.viewModel)?void 0:t.created;return M?M instanceof HTMLElement?c.tsx("div",{key:M,bind:M,afterCreate:this._attachToNode}):d.isWidget(M)?c.tsx("div",{key:M},!M.destroyed&&M.render()):c.tsx("div",{key:M,innerHTML:M,afterCreate:this._addTargetToAnchors}):null};p.render=function(){var t;const M=null==(t=this.viewModel)?void 0:t.state;return c.tsx("div",{class:"esri-feature-content"},"loading"===M?this.renderLoading():this.renderCreated())};p._attachToNode=
function(t){t.appendChild(this)};return h}(T);x.__decorate([y.aliasOf("viewModel.creator")],r.prototype,"creator",void 0);x.__decorate([y.aliasOf("viewModel.graphic")],r.prototype,"graphic",void 0);x.__decorate([H.property({type:V})],r.prototype,"viewModel",void 0);return r=x.__decorate([U.subclass("esri.widgets.Feature.FeatureContent")],r)})},"esri/widgets/Feature/FeatureContent/FeatureContentViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Graphic ../../../core/Accessor ../../../core/HandleOwner ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../support/featureUtils".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d){r=function(c){function g(p){var t=c.call(this,p)||this;t._loadingPromise=null;t.created=null;t.creator=null;t.destroyer=null;t.graphic=null;t.handles.add(L.watch(()=>t.creator,M=>{t._destroyContent();t._createContent(M)},L.initial));return t}k._inheritsLoose(g,c);var h=g.prototype;h.destroy=function(){this._destroyContent()};h._destroyContent=function(){const {created:p,graphic:t,destroyer:M}=this;p&&(d.graphicCallback(M,{graphic:t}).catch(()=>null),this._set("created",
null))};h._createContent=function(){var p=k._asyncToGenerator(function*(t){var {graphic:M}=this;this._loadingPromise=t=d.graphicCallback(t,{graphic:M}).catch(()=>null);this.notifyChange("state");M=yield t;t===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",M))});return function(t){return p.apply(this,arguments)}}();k._createClass(g,[{key:"state",get:function(){return this._loadingPromise?"loading":"ready"}}]);return g}(v.HandleOwnerMixin(r));x.__decorate([H.property({readOnly:!0})],
r.prototype,"created",void 0);x.__decorate([H.property()],r.prototype,"creator",void 0);x.__decorate([H.property()],r.prototype,"destroyer",void 0);x.__decorate([H.property({type:y})],r.prototype,"graphic",void 0);x.__decorate([H.property({readOnly:!0})],r.prototype,"state",null);return r=x.__decorate([E.subclass("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],r)})},"esri/widgets/Feature/FeatureExpression":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../Widget ./FeatureContent ./FeatureFields ./FeatureMedia ./FeatureExpression/FeatureExpressionViewModel ../support/widgetUtils ../support/jsxFactory".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h){v=function(p){function t(D,O){D=p.call(this,D,O)||this;D.viewModel=new c;return D}k._inheritsLoose(t,p);var M=t.prototype;M.initialize=function(){this.own(y.watch(()=>{var D;return null==(D=this.viewModel)?void 0:D.contentElementViewModel},()=>this._setupExpressionWidget(),y.initial))};M.destroy=function(){this._destroyContentWidget()};M.renderLoading=function(){return h.tsx("div",{key:"loading-container",class:"esri-feature__loading-container"},h.tsx("span",
{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))};M.render=function(){var D;const {state:O}=this.viewModel;return h.tsx("div",{class:"esri-feature-expression"},"loading"===O?this.renderLoading():"disabled"===O?null:null==(D=this._contentWidget)?void 0:D.render())};M._destroyContentWidget=function(){const {_contentWidget:D}=this;D&&(D.viewModel=null,D.destroy());this._contentWidget=null};M._setupExpressionWidget=function(){const {contentElementViewModel:D,
contentElement:O}=this.viewModel,B=null==O?void 0:O.type;this._destroyContentWidget();this._contentWidget=D?"fields"===B?new E({viewModel:D}):"media"===B?new d({viewModel:D}):"text"===B?new V({viewModel:D}):null:null;this.scheduleRender()};return t}(T);x.__decorate([r.property({type:c})],v.prototype,"viewModel",void 0);return v=x.__decorate([U.subclass("esri.widgets.Feature.FeatureExpression")],v)})},"esri/widgets/Feature/FeatureFields":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/reactiveUtils ../../core/accessorSupport/decorators/aliasOf ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../Widget ./FeatureFields/FeatureFieldsViewModel ./support/FeatureElementInfo ../support/uriUtils ../support/widgetUtils ../support/decorators/messageBundle ../support/jsxFactory".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h,p){v=function(t){function M(O,B){O=t.call(this,O,B)||this;O._featureElementInfo=null;O.attributes=null;O.description=null;O.expressionInfos=null;O.fieldInfos=null;O.title=null;O.viewModel=new E;O.messages=null;O.messagesURIUtils=null;return O}k._inheritsLoose(M,t);var D=M.prototype;D.initialize=function(){this._featureElementInfo=new d;this.own(y.watch(()=>{var O,B;return[null==(O=this.viewModel)?void 0:O.description,null==(B=this.viewModel)?void 0:B.title]},
()=>this._setupFeatureElementInfo(),y.initial))};D.destroy=function(){this._featureElementInfo.destroy()};D.renderFieldInfo=function(O,B){var {attributes:K}=this.viewModel;const l=O.fieldName,m=O.label||l;K=K?null==K[l]?"":K[l]:"";O=!(!O.format||!O.format.dateFormat);K="number"!==typeof K||O?c.autoLink(this.messagesURIUtils,K):this._forceLTR(K);O={["esri-feature-fields__field-data--date"]:O};return p.tsx("tr",{key:`fields-element-info-row-${l}-${B}`},p.tsx("th",{key:`fields-element-info-row-header-${l}-${B}`,
class:"esri-feature-fields__field-header",innerHTML:m}),p.tsx("td",{key:`fields-element-info-row-data-${l}-${B}`,class:this.classes("esri-feature-fields__field-data",O),innerHTML:K}))};D.renderFields=function(){const {formattedFieldInfos:O}=this.viewModel;return null!=O&&O.length?p.tsx("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},p.tsx("tbody",null,O.map((B,K)=>this.renderFieldInfo(B,K)))):null};D.render=function(){var O;return p.tsx("div",{class:"esri-feature-fields"},
null==(O=this._featureElementInfo)?void 0:O.render(),this.renderFields())};D._setupFeatureElementInfo=function(){const {description:O,title:B}=this;this._featureElementInfo.set({description:O,title:B})};D._forceLTR=function(O){return`&lrm;${O}`};return M}(V);x.__decorate([r.aliasOf("viewModel.attributes")],v.prototype,"attributes",void 0);x.__decorate([r.aliasOf("viewModel.description")],v.prototype,"description",void 0);x.__decorate([r.aliasOf("viewModel.expressionInfos")],v.prototype,"expressionInfos",
void 0);x.__decorate([r.aliasOf("viewModel.fieldInfos")],v.prototype,"fieldInfos",void 0);x.__decorate([r.aliasOf("viewModel.title")],v.prototype,"title",void 0);x.__decorate([U.property({type:E})],v.prototype,"viewModel",void 0);x.__decorate([U.property(),h.messageBundle("esri/widgets/Feature/t9n/Feature")],v.prototype,"messages",void 0);x.__decorate([U.property(),h.messageBundle("esri/widgets/support/t9n/uriUtils")],v.prototype,"messagesURIUtils",void 0);return v=x.__decorate([T.subclass("esri.widgets.Feature.FeatureFields")],
v)})},"esri/widgets/Feature/FeatureFields/FeatureFieldsViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../popup/ExpressionInfo ../../../popup/FieldInfo ../support/featureUtils".split(" "),function(k,x,y,r,v,L,H,U,T,V,E){y=function(d){function c(g){g=
d.call(this,g)||this;g.attributes=null;g.expressionInfos=null;g.description=null;g.fieldInfos=null;g.title=null;return g}k._inheritsLoose(c,d);k._createClass(c,[{key:"formattedFieldInfos",get:function(){const {expressionInfos:g,fieldInfos:h}=this,p=[];null==h?void 0:h.forEach(t=>{if(!t.hasOwnProperty("visible")||t.visible)t=t.clone(),t.label=E.getFieldInfoLabel(t,g),p.push(t)});return p}}]);return c}(y);x.__decorate([r.property()],y.prototype,"attributes",void 0);x.__decorate([r.property({type:[T]})],
y.prototype,"expressionInfos",void 0);x.__decorate([r.property()],y.prototype,"description",void 0);x.__decorate([r.property({type:[V]})],y.prototype,"fieldInfos",void 0);x.__decorate([r.property({readOnly:!0})],y.prototype,"formattedFieldInfos",null);x.__decorate([r.property()],y.prototype,"title",void 0);return y=x.__decorate([U.subclass("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],y)})},"esri/widgets/support/uriUtils":function(){define(["exports","../../core/string"],function(k,
x){function y(v){let L=null;r.some(H=>{H.pattern.test(v)&&(L=H);return!!L});return L}const r=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},
{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},
{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];k.autoLink=function(v,L){if("string"!==typeof L||!L)return L;const H=y(L);if(!H)return L;const U=L.match(H.pattern);v=x.replace(x.replace(H.label,
{messages:v,hierPart:U&&U[2]}),{appName:H.appName});return L.replace(H.pattern,`<a${H.target?` target="${H.target}"`:""} href="$1"${"_blank"===H.target?' rel\x3d"noreferrer"':""}>${v}</a>`)};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Feature/FeatureMedia":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/events ../../core/reactiveUtils ../../core/accessorSupport/decorators/aliasOf ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../../renderers/support/utils ../Widget ./FeatureMedia/FeatureMediaViewModel ./support/FeatureElementInfo ./support/featureUtils ../support/chartUtils ../support/widgetUtils ../support/decorators/messageBundle ../support/jsxFactory ../../support/themeUtils".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h,p,t,M,D,O){L=function(B){function K(m,C){var G=B.call(this,m,C)||this;G._refreshTimer=null;G._refreshIntervalInfo=null;G._featureElementInfo=null;G.attributes=null;G.activeMediaInfoIndex=null;G.description=null;G.fieldInfoMap=null;G.layer=null;G.mediaInfos=null;G.popupTemplate=null;G.relatedInfos=null;G.title=null;G.viewModel=new c;G.messages=null;G._getChartDependencies=function(){var Q=k._asyncToGenerator(function*(N){const A=yield p.loadChartsModule(),{destroyed:S,
viewModel:u}=k._assertThisInitialized(G);if(!S&&u&&N){var {activeMediaInfo:q}=u,F=yield G._getRendererColors(A);G._renderChart({chartDiv:N,mediaInfo:q,chartsModule:A,colorMap:F})}});return function(N){return Q.apply(this,arguments)}}();return G}k._inheritsLoose(K,B);var l=K.prototype;l.initialize=function(){this._featureElementInfo=new g;this.own([r.watch(()=>{var m,C;return[null==(m=this.viewModel)?void 0:m.activeMediaInfo,null==(C=this.viewModel)?void 0:C.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),
r.initial),r.watch(()=>{var m,C;return[null==(m=this.viewModel)?void 0:m.description,null==(C=this.viewModel)?void 0:C.title]},()=>this._setupFeatureElementInfo(),r.initial)])};l.destroy=function(){this._clearMediaRefreshTimer();this._featureElementInfo.destroy()};l.render=function(){var m;return D.tsx("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},null==(m=this._featureElementInfo)?void 0:m.render(),this.renderMedia())};l.renderMedia=function(){const {formattedMediaInfoCount:m}=
this.viewModel;return m?D.tsx("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null};l.renderImageMediaInfo=function(m){var {_refreshIntervalInfo:C}=this;const {activeMediaInfoIndex:G,formattedMediaInfoCount:Q}=this.viewModel,{value:N,refreshInterval:A,altText:S,title:u,type:q}=m,{sourceURL:F,linkURL:X}=N;m=h.shouldOpenInNewTab(X)?"_blank":"_self";const Y="_blank"===m?"noreferrer":
"";C=A?C:null;C=D.tsx("img",{alt:S||u,key:`media-${q}-${G}-${Q}-${C?C.timestamp:0}`,src:C?C.sourceURL:F});return(m=X?D.tsx("a",{title:u,href:X,rel:Y,target:m},C):null)?m:C};l.renderChartMediaInfo=function(m){const {activeMediaInfoIndex:C,formattedMediaInfoCount:G}=this.viewModel;return D.tsx("div",{key:`media-${m.type}-${C}-${G}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})};l.renderMediaInfoType=function(){const {activeMediaInfo:m}=this.viewModel;return m?
"image"===m.type?this.renderImageMediaInfo(m):m.type.includes("chart")?this.renderChartMediaInfo(m):null:null};l.renderMediaInfo=function(){var {activeMediaInfo:m}=this.viewModel;if(!m)return null;const C=m.title?D.tsx("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:m.title}):null;m=m.caption?D.tsx("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:m.caption}):null;return D.tsx("div",{key:"media-container",class:"esri-feature-media__item-container"},
D.tsx("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()),C,m)};l.renderMediaPageButton=function(m){if(2>this.viewModel.formattedMediaInfoCount)return null;const C=(m="previous"===m)?this.messages.previous:this.messages.next,G=m?this.classes("esri-feature-media__button","esri-feature-media__previous"):this.classes("esri-feature-media__button","esri-feature-media__next"),Q=m?this.classes("esri-feature-media__icon","esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):
this.classes("esri-feature-media__icon","esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),N=m?this.classes("esri-feature-media__icon","esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes("esri-feature-media__icon","esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow");return D.tsx("button",{type:"button",key:m?"media-previous":"media-next",title:C,"aria-label":C,tabIndex:0,class:G,bind:this,onclick:m?this._previous:this._next},D.tsx("span",
{"aria-hidden":"true",class:Q}),D.tsx("span",{"aria-hidden":"true",class:N}))};l._setupFeatureElementInfo=function(){const {description:m,title:C}=this;this._featureElementInfo.set({description:m,title:C})};l._next=function(){this.viewModel.next()};l._previous=function(){this.viewModel.previous()};l._getRendererColors=function(){var m=k._asyncToGenerator(function*(C){var G;const {am4core:Q}=C;C=null==(G=this.viewModel)?void 0:G.layer;const N=new Map;if(!C)return N;const A=yield E.getColorsFromRenderer(C.renderer);
A.delete(null);if(!Array.from(A.values()).every(S=>1===(null==S?void 0:S.length)))return N;N.set("default-line-value",Q.color({r:50,g:50,b:50,a:1}));Array.from(A.keys()).forEach(S=>{S&&N.set(S,Q.color(A.get(S)[0].toCss(!0)))});return N});return function(C){return m.apply(this,arguments)}}();l._handleMediaKeyup=function(m){const C=y.eventKey(m);"ArrowLeft"===C&&(m.stopPropagation(),this.viewModel.previous());"ArrowRight"===C&&(m.stopPropagation(),this.viewModel.next())};l._renderChart=function(m){const {abilities:C}=
this.viewModel,{chartsModule:G,chartDiv:Q,mediaInfo:N,colorMap:A}=m,{value:S,type:u}=N,{am4core:q}=G,F=p.getColorSet(q);O.isDarkTheme()&&q.useTheme(G.am4themes_dark);const X=window.matchMedia("(prefers-reduced-motion: reduce)");C.chartAnimation&&!X.matches?q.useTheme(G.am4themes_animated):q.unuseTheme(G.am4themes_animated);q.useTheme(function(Y){Y instanceof q.ColorSet&&F&&(Y.list=F)});m="pie-chart"===u?this._createPieChart(m):this._createXYChart(m);Q.setAttribute("aria-label",N.altText||N.title);
m.data=S.series.map(Y=>({["tooltip"]:Y.tooltip,["value"]:Y.value,["color"]:A.get(Y.fieldName)})).filter(Y=>"pie-chart"===u?0<Y.value:!0)};l._customizeChartTooltip=function(m,C){m.label.wrap=!0;m.label.maxWidth=200;m.autoTextColor=!1;m.getFillFromObject=!1;m.label.fill=C.color("#ffffff");m.background.fill=C.color({r:0,g:0,b:0,a:.7})};l._createPieChart=function(m){const {chartDiv:C,chartsModule:G}=m,{am4core:Q,am4charts:N}=G;m=Q.create(C,N.PieChart);m.rtl=t.isRTL(this.container);const A=m.series.push(new N.PieSeries);
A.labels.template.disabled=!0;A.ticks.template.disabled=!0;A.dataFields.value="value";A.dataFields.category="tooltip";this._customizeChartTooltip(A.tooltip,Q);A.slices.template.tooltipText=m.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%";A.slices.template.propertyFields.fill="color";A.slices.template.propertyFields.stroke="color";return m};l._getMinSeriesValue=function(m){let C=0;m.forEach(G=>C=Math.min(G.value,C));return C};l._createColumnChart=
function(m,C){const {chartsModule:G,mediaInfo:Q}=C;({value:C}=Q);const {am4core:N,am4charts:A}=G,S=m.xAxes.push(new A.CategoryAxis);S.dataFields.category="tooltip";S.renderer.labels.template.disabled=!0;this._customizeChartTooltip(S.tooltip,N);S.tooltip.events.on("sizechanged",()=>{S.tooltip.dy=-S.tooltip.contentHeight});var u=m.yAxes.push(new A.ValueAxis);const q=u.renderer.labels.template;u.renderer.minLabelPosition=.05;u.renderer.maxLabelPosition=.95;u.min=this._getMinSeriesValue(C.series);this._customizeChartTooltip(u.tooltip,
N);q.wrap=!0;u=m.series.push(new A.ColumnSeries);u.dataFields.valueY="value";u.dataFields.categoryX="tooltip";u.columns.template.propertyFields.fill="color";u.columns.template.propertyFields.stroke="color";m.cursor=new A.XYCursor;15<C.series.length&&(m.scrollbarX=new N.Scrollbar)};l._createBarChart=function(m,C){const {chartsModule:G,mediaInfo:Q}=C;({value:C}=Q);const {am4core:N,am4charts:A}=G,S=m.yAxes.push(new A.CategoryAxis);S.dataFields.category="tooltip";S.renderer.inversed=!0;S.renderer.labels.template.disabled=
!0;this._customizeChartTooltip(S.tooltip,N);S.tooltip.events.on("sizechanged",()=>{S.tooltip.dx=S.tooltip.contentWidth});var u=m.xAxes.push(new A.ValueAxis);const q=u.renderer.labels.template;u.renderer.minLabelPosition=.05;u.renderer.maxLabelPosition=.95;u.min=this._getMinSeriesValue(C.series);this._customizeChartTooltip(u.tooltip,N);q.wrap=!0;u=m.series.push(new A.ColumnSeries);u.dataFields.valueX="value";u.dataFields.categoryY="tooltip";u.columns.template.propertyFields.fill="color";u.columns.template.propertyFields.stroke=
"color";m.cursor=new A.XYCursor;15<C.series.length&&(m.scrollbarY=new N.Scrollbar)};l._createLineChart=function(m,C){const {chartsModule:G,mediaInfo:Q,colorMap:N}=C;({value:C}=Q);const {am4core:A,am4charts:S}=G,u=m.xAxes.push(new S.CategoryAxis);u.dataFields.category="tooltip";u.renderer.labels.template.disabled=!0;this._customizeChartTooltip(u.tooltip,A);u.tooltip.events.on("sizechanged",()=>{u.tooltip.dy=-u.tooltip.contentHeight});var q=m.yAxes.push(new S.ValueAxis),F=q.renderer.labels.template;
q.renderer.minLabelPosition=.05;q.renderer.maxLabelPosition=.95;q.min=this._getMinSeriesValue(C.series);this._customizeChartTooltip(q.tooltip,A);F.wrap=!0;q=m.series.push(new S.LineSeries);q.dataFields.categoryX="tooltip";q.dataFields.valueY="value";q.strokeWidth=1;if(F=N.get("default-line-value"))q.stroke=F;q=q.bullets.push(new S.CircleBullet);q.propertyFields.fill="color";q.propertyFields.stroke="color";m.cursor=new S.XYCursor;15<C.series.length&&(m.scrollbarX=new A.Scrollbar)};l._createXYChart=
function(m){const {chartDiv:C,chartsModule:G,mediaInfo:Q}=m,{type:N}=Q,{am4core:A,am4charts:S}=G,u=A.create(C,S.XYChart);u.rtl=t.isRTL(this.container);"column-chart"===N&&this._createColumnChart(u,m);"bar-chart"===N&&this._createBarChart(u,m);"line-chart"===N&&this._createLineChart(u,m);return u};l._clearMediaRefreshTimer=function(){const {_refreshTimer:m}=this;m&&(clearTimeout(m),this._refreshTimer=null)};l._updateMediaInfoTimestamp=function(m){const C=Date.now();this._refreshIntervalInfo={timestamp:C,
sourceURL:this._getImageSource(m,C)};this.scheduleRender()};l._setupMediaRefreshTimer=function(){this._clearMediaRefreshTimer();const {activeMediaInfo:m}=this.viewModel;m&&"image"===m.type&&m.refreshInterval&&this._setRefreshTimeout(m)};l._setRefreshTimeout=function(m){const {refreshInterval:C,value:G}=m;C&&(m=6E4*C,this._updateMediaInfoTimestamp(G.sourceURL),this._refreshTimer=setInterval(()=>{this._updateMediaInfoTimestamp(G.sourceURL)},m))};l._getImageSource=function(m,C){const G=m.includes("?")?
"\x26":"?",[Q,N=""]=m.split("#");return`${Q}${G}timestamp=${C}${N?"#":""}${N}`};return K}(d);x.__decorate([v.aliasOf("viewModel.attributes")],L.prototype,"attributes",void 0);x.__decorate([v.aliasOf("viewModel.activeMediaInfoIndex")],L.prototype,"activeMediaInfoIndex",void 0);x.__decorate([v.aliasOf("viewModel.description")],L.prototype,"description",void 0);x.__decorate([v.aliasOf("viewModel.fieldInfoMap")],L.prototype,"fieldInfoMap",void 0);x.__decorate([v.aliasOf("viewModel.layer")],L.prototype,
"layer",void 0);x.__decorate([v.aliasOf("viewModel.mediaInfos")],L.prototype,"mediaInfos",void 0);x.__decorate([v.aliasOf("viewModel.popupTemplate")],L.prototype,"popupTemplate",void 0);x.__decorate([v.aliasOf("viewModel.relatedInfos")],L.prototype,"relatedInfos",void 0);x.__decorate([v.aliasOf("viewModel.title")],L.prototype,"title",void 0);x.__decorate([T.property({type:c})],L.prototype,"viewModel",void 0);x.__decorate([T.property(),M.messageBundle("esri/widgets/Feature/t9n/Feature")],L.prototype,
"messages",void 0);return L=x.__decorate([V.subclass("esri.widgets.Feature.FeatureMedia")],L)})},"esri/renderers/support/utils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/arrayUtils ../../core/Logger ../../core/MapUtils ../../intl/date ./numberUtils ../visualVariables/support/ColorStop ../../symbols/support/utils ../../widgets/Legend/support/colorRampUtils ../../widgets/Legend/support/heatmapRampUtils".split(" "),function(k,x,y,r,v,L,H,U,T,V,E){function d(B,K,l){v.getOrCreateMapValue(B,
K,()=>[]).push(...l)}function c(){c=x._asyncToGenerator(function*(B){const K=new Map;if("visualVariables"in B&&B.visualVariables){var l=B.visualVariables.filter(G=>"color"===G.type);for(const G of l){l=G.field||G.valueExpression;const Q=(yield V.getRampStops(G)).map(N=>N.color);d(K,l,Q)}}if("heatmap"===B.type){var m=E.getHeatmapRampStops(B).map(G=>G.color);d(K,B.field,m)}else if("pie-chart"===B.type){for(const G of B.attributes)d(K,G.field,[G.color]);d(K,null,[null==B?void 0:null==(m=B.othersCategory)?
void 0:m.color,T.getColorFromSymbol(B.backgroundFillSymbol,null)])}else if("dot-density"===B.type){for(const G of B.attributes)d(K,G.field,[G.color]);d(K,null,[B.backgroundColor])}else if("unique-value"===B.type){var C;if("predominance"===(null==(C=B.authoringInfo)?void 0:C.type))for(const G of B.uniqueValueInfos)d(K,G.value.toString(),[T.getColorFromSymbol(G.symbol,null)]);else{m=B.uniqueValueInfos.map(S=>T.getColorFromSymbol(S.symbol,null));const {field:G,field2:Q,field3:N,valueExpression:A}=B;
(G||A)&&d(K,G||A,m);Q&&d(K,Q,m);N&&d(K,N,m)}}else"class-breaks"===B.type?(m=B.classBreakInfos.map(G=>T.getColorFromSymbol(G.symbol,null)),d(K,B.field||B.valueExpression,m)):"simple"===B.type&&d(K,null,[T.getColorFromSymbol(B.symbol,null)]);"defaultSymbol"in B&&B.defaultSymbol&&d(K,null,[T.getColorFromSymbol(B.defaultSymbol,null)]);K.forEach((G,Q)=>{G=y.unique(G.filter(Boolean),(N,A)=>JSON.stringify(N)===JSON.stringify(A));K.set(Q,G)});return K});return c.apply(this,arguments)}function g(B,K,l){let m=
"";0===K?m=M.lt+" ":K===l&&(m=M.gt+" ");return m+B}function h(B){let K=B.minValue,l=B.maxValue;const m=B.isFirstBreak?"":M.gt+" ";B="percent-of-total"===B.normalizationType?M.pct:"";K=null==K?"":H.format(K);l=null==l?"":H.format(l);return m+K+B+" "+M.ld+" "+l+B}function p(B,K){return"normalizationField"in B&&B.normalizationField?{type:"normalized-field",field:B.field,normalizationField:B.normalizationField}:"field"in B&&B.field?{type:"field",field:B.field}:"valueExpression"in B&&B.valueExpression?
{type:"expression",expression:B.valueExpression,title:B.valueExpressionTitle,returnType:K}:null}const t=r.getLogger("esri.renderers.support.utils"),M={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},D={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},O={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",day:"long-month-day-year",month:"long-month-day-year",
year:"year"};r=L.convertDateFormatToIntlOptions("short-date");k.calculateDateFormatInterval=function(B){B=B.map(G=>new Date(G));const K=B.length;let l=Infinity,m=null;for(let G=0;G<K-1;G++){const Q=B[G];let N=Infinity,A=null;for(let S=G+1;S<K;S++){var C=B[S];C=Q.getFullYear()!==C.getFullYear()&&"year"||Q.getMonth()!==C.getMonth()&&"month"||Q.getDate()!==C.getDate()&&"day"||Q.getHours()!==C.getHours()&&"hour"||Q.getMinutes()!==C.getMinutes()&&"minute"||Q.getSeconds()!==C.getSeconds()&&"second"||"millisecond";
const u=D[C];u<N&&(N=u,A=C)}N<l&&(l=N,m=A)}return m};k.createClassBreakLabel=h;k.createColorStops=function(B){const {values:K,colors:l,labelIndexes:m,isDate:C,dateFormatOptions:G}=B;return K.map((Q,N)=>{let A=null;if(!m||m.includes(N)){let S;(S=C?L.formatDate(Q,G):H.format(Q))&&(A=g(S,N,K.length-1))}return new U({value:Q,color:l[N],label:A})})};k.createUniqueValueLabel=function(B){const {value:K,domain:l,fieldInfo:m,dateFormatInterval:C}=B;B=String(K);const G=l&&"codedValues"in l&&l.codedValues?l.getName(K):
null;G?B=G:"number"===typeof K&&(B=m&&"date"===m.type?L.formatDate(K,C&&L.convertDateFormatToIntlOptions(O[C])):H.format(K));return B};k.getAttribute=p;k.getAttributes=function(B,K){const l=[];if("class-breaks"===B.type||"heatmap"===B.type)l.push(p(B,"number"));else if("unique-value"===B.type){var m=B.authoringInfo;if(m&&"relationship"===m.type){if(m.field1&&m.field2){var C=m.field2.field;const G=m.field2.normalizationField;l.push(p({field:m.field1.field,normalizationField:m.field1.normalizationField}));
l.push(p({field:C,normalizationField:G}))}}else C=B.uniqueValueInfos[0],m=null,C&&C.value&&(C=typeof B.uniqueValueInfos[0].value,"string"===C||"number"===C)&&(m=C),l.push(p(B,m)),[B.field2,B.field3].forEach(G=>G&&l.push({type:"field",field:G}))}else"attributes"in B&&B.attributes.forEach(G=>l.push(p(G,"number")));(B=K?K(B):"visualVariables"in B?B.visualVariables:null)&&B.forEach(G=>l.push(p(G,"number")));return y.unique(l.filter(Boolean),(G,Q)=>"field"===G.type&&"field"===Q.type?G.field===Q.field:
"normalized-field"===G.type&&"normalized-field"===Q.type?G.field===Q.field&&G.normalizationField===Q.normalizationField:"expression"===G.type&&"expression"===Q.type?G.expression===Q.expression:!1)};k.getColorsFromRenderer=function(B){return c.apply(this,arguments)};k.setLabelsForClassBreaks=function(B){const K=B.classBreakInfos,l=B.normalizationType;let m=[];if(K&&K.length)if("standard-deviation"===B.classificationMethod)t.warn("setLabelsForClassBreaks","cannot set labels for class breaks generated using 'standard-deviation' method.");
else if(B.round){m.push(K[0].minValue);for(const C of K)m.push(C.maxValue);m=H.round(m);K.forEach((C,G)=>{C.label=h({minValue:0===G?m[0]:m[G],maxValue:m[G+1],isFirstBreak:0===G,normalizationType:l})})}else K.forEach((C,G)=>{C.label=h({minValue:C.minValue,maxValue:C.maxValue,isFirstBreak:0===G,normalizationType:l})})};k.timelineDateFormatOptions=r;k.updateClassBreak=function(B){if("standard-deviation"===B.classificationMethod)t.warn("updateClassBreak","cannot update labels for class breaks generated using 'standard-deviation' method.");
else{var K=B.classBreaks,l=B.change,m=l.index;l=l.value;var C=K.length,G=-1,Q=-1;0===m?G=m:m===C?Q=m-1:(Q=m-1,G=m);B=B.normalizationType;m=null;-1<G&&G<C&&(m=K[G],m.minValue=l,m.label=h({minValue:m.minValue,maxValue:m.maxValue,isFirstBreak:0===G,normalizationType:B}));-1<Q&&Q<C&&(m=K[Q],m.maxValue=l,m.label=h({minValue:m.minValue,maxValue:m.maxValue,isFirstBreak:0===Q,normalizationType:B}))}};k.updateColorStops=function(B){const {stops:K,changes:l,isDate:m,dateFormatOptions:C}=B,G=K.map(N=>N.value);
B=[];for(const N of l)B.push(N.index),G[N.index]=N.value;const Q=H.round(G,{indexes:B});K.forEach((N,A)=>{N.value=G[A];if(null!=N.label){let S,u=null;(S=m?L.formatDate(Q[A],C):H.format(Q[A]))&&(u=g(S,A,K.length-1));N.label=u}})};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/numberUtils":function(){define(["exports","../../intl","../../intl/number"],function(k,x,y){function r(E,d){return E-d}function v(E,d){let c;c=Number(E.toFixed(d));
c<E?E=c+1/10**d:(E=c,c-=1/10**d);c=Number(c.toFixed(d));E=Number(E.toFixed(d));return[c,E]}function L(E,d,c,g,h){E=U(E,d,c,g);d=null==E.next||E.next<=h;return(null==E.previous||E.previous<=h)&&d||E.previous+E.next<=2*h}function H(E){E=String(E);var d=E.match(T);if(d&&d[1])return{integer:d[1].split("").length,fractional:d[3]?d[3].split("").length:0};if(E.toLowerCase().includes("e")&&(d=E.split("e"),E=d[0],d=d[1],E&&d)){E=Number(E);d=Number(d);const c=0<d;c||(d=Math.abs(d));E=H(E);c?(E.integer+=d,E.fractional=
d>E.fractional?0:E.fractional-d):(E.fractional+=d,E.integer=d>E.integer?1:E.integer-d);return E}return{integer:0,fractional:0}}function U(E,d,c,g){const h={previous:null,next:null};if(null!=c){const p=E-c;h.previous=Math.floor(Math.abs(100*(d-c-p)/p))}null!=g&&(E=g-E,h.next=Math.floor(Math.abs(100*(g-d-E)/E)));return h}const T=/^-?(\d+)(\.(\d+))?$/i,V={maximumFractionDigits:20};k.format=function(E){return y.formatNumber(E,V)};k.numDigits=H;k.percentChange=U;k.round=function(E,d={}){E=E.slice(0);const {tolerance:c=
2,strictBounds:g=!1,indexes:h=E.map((t,M)=>M)}=d;h.sort(r);for(d=0;d<h.length;d++){const t=h[d],M=E[t],D=0===t?null:E[t-1],O=t===E.length-1?null:E[t+1],B=H(M).fractional;if(B){let K=0,l=!1;for(var p=void 0;K<=B&&!l;)p=v(M,K),p=g&&0===d?p[1]:p[0],l=L(M,p,D,O,c),K++;l&&(E[t]=p)}}return E};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/utils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../Color ../../symbols ../../core/asyncUtils ../../core/has ../../core/maybe ../../core/screenUtils ../../chunks/vec3f64 ../../layers/effects/jsonUtils ./gfxUtils ./Symbol3DMaterial".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c){function g(u){u=u.symbolLayers;if(!u)return null;let q=null;u.forEach(F=>{if("object"!==F.type||null==F.resource.href)q="water"===F.type?U.unwrap(F.color):U.isSome(F.material)?U.unwrap(F.material.color):null});return q?new r(q):null}function h(u,q){if(null==q)return u;u=u.toRgba();u[3]*=q;return new r(u)}function p(u,q,F){if(u=u.symbolLayers){var X=Y=>{Y=U.isSome(Y)?Y:null;q=q||Y||null!=F&&S;return h(q,F)};u.forEach(Y=>{if("object"!==Y.type||null==Y.resource.href||
q)if("water"===Y.type)Y.color=X(Y.color);else{var fa=U.isSome(Y.material)?Y.material.color:null;fa=X(fa);U.isNone(Y.material)?Y.material=new c.Symbol3DMaterial({color:fa}):Y.material.color=fa;null!=F&&"outline"in Y&&U.isSome(Y.outline)&&U.isSome(Y.outline.color)&&(Y.outline.color=h(Y.outline.color,F))}})}}function t(u,q){return M.apply(this,arguments)}function M(){M=y._asyncToGenerator(function*(u,q){(u=u.symbolLayers)&&(yield L.forEach(u,function(){var F=y._asyncToGenerator(function*(X){return D(X,
q)});return function(X){return F.apply(this,arguments)}}()))});return M.apply(this,arguments)}function D(u,q){return O.apply(this,arguments)}function O(){O=y._asyncToGenerator(function*(u,q){switch(u.type){case "extrude":u.size="number"===typeof q[2]?q[2]:0;break;case "icon":case "line":case "text":q=B(q);U.isSome(q)&&(u.size=q);break;case "path":{const F=m(q,V.ONES,[u.width,void 0,u.height]);u.width=Q(q[0],u.width,1,F);u.height=Q(q[2],u.height,1,F)}break;case "object":yield K(u,q)}});return O.apply(this,
arguments)}function B(u){for(const q of u)if("number"===typeof q)return q;return null}function K(u,q){return l.apply(this,arguments)}function l(){l=y._asyncToGenerator(function*(u,q){const {resourceSize:F,symbolSize:X}=yield C(u),Y=m(q,F,X);u.width=Q(q[0],X[0],F[0],Y);u.depth=Q(q[1],X[1],F[1],Y);u.height=Q(q[2],X[2],F[2],Y)});return l.apply(this,arguments)}function m(u,q,F){for(let X=0;3>X;X++){const Y=u[X];switch(Y){case "symbol-value":return null!=F[X]?F[X]/q[X]:1;case "proportional":break;default:if(Y&&
q[X])return Y/q[X]}}return 1}function C(u){return G.apply(this,arguments)}function G(){G=y._asyncToGenerator(function*(u){const q=yield(yield new Promise((pa,la)=>k(["./symbolLayerUtils"],pa,la))).computeObjectLayerResourceSize(u,10),{width:F,height:X,depth:Y}=u;u=[F,Y,X];let fa=1;for(var ja=0;3>ja;ja++)if(null!=u[ja]){fa=u[ja]/q[ja];break}for(ja=0;3>ja;ja++)null==u[ja]&&(u[ja]=q[ja]*fa);return{resourceSize:q,symbolSize:u}});return G.apply(this,arguments)}function Q(u,q,F,X){switch(u){case "proportional":return F*
X;case "symbol-value":return null!=q?q:F;default:return u}}function N(){N=y._asyncToGenerator(function*(u,q){if(u&&q){if(v.isSymbol3D(u))return t(u,q);if(v.isSymbol2D(u)&&(q=B(q),!U.isNone(q)))switch(u.type){case "simple-marker":u.size=q;break;case "picture-marker":{const F=u.width/u.height;1<F?(u.width=q,u.height=q*F):(u.width=q*F,u.height=q);break}case "simple-line":u.width=q;break;case "text":u.font.size=q}}});return N.apply(this,arguments)}const A=/\/resource\/(.*?)\.svg$/,S=new r("white");x.applyColorToSymbol=
function(u,q,F){if(u&&(q||null!=F))if(q&&(q=new r(q)),v.isSymbol3D(u))p(u,q,F);else if(v.isSymbol2D(u)){if(q=q||u.color)u.color=h(q,F);null!=F&&"outline"in u&&u.outline&&u.outline.color&&(u.outline.color=h(u.outline.color,F))}};x.applyOpacityToColor=h;x.applyRotationToSymbol=function(u,q,F){u&&null!=q&&(v.isSymbol3D(u)?(u=u.symbolLayers)&&u.forEach(X=>{if(X&&"object"===X.type)switch(F){case "tilt":X.tilt=q;break;case "roll":X.roll=q;break;default:X.heading=q}}):!v.isSymbol2D(u)||"simple-marker"!==
u.type&&"picture-marker"!==u.type&&"text"!==u.type||(u.angle=q))};x.applySizesToSymbol=function(u,q){return N.apply(this,arguments)};x.getCSSFilterFromEffectList=function(u){if(!u)return null;u=u.effects.filter(q=>"bloom"!==q.type).map(q=>q.toJSON());return E.effectFunctionsFromJSON(u)};x.getColorFromSymbol=function(u,q){if(!u)return null;let F=null;v.isSymbol3D(u)?F=g(u):v.isSymbol2D(u)&&(F=u.color?new r(u.color):null);return F?h(F,q):null};x.getIconHref=function(u,q){q=q.resource.href;return!H("esri-canvas-svg-support")&&
u.styleOrigin&&A.test(q)?q.replace(A,"/resource/png/$1.png"):q};x.getSymbolOutlineSize=function(u){if(!u)return 0;if(v.isSymbol3D(u)){{const q=u.symbolLayers&&u.symbolLayers.length;q?(u=u.symbolLayers.getItemAt(q-1),u="outline"in u?U.get(u,"outline","size"):void 0):u=void 0}return U.isSome(u)?u:0}return(u=d.getStroke(u))&&T.px2pt(u.width)||0};x.isVolumetricSymbol=function(u){if(U.isNone(u)||!("symbolLayers"in u)||U.isNone(u.symbolLayers))return!1;switch(u.type){case "point-3d":return u.symbolLayers.some(q=>
"object"===q.type);case "line-3d":return u.symbolLayers.some(q=>"path"===q.type);case "polygon-3d":return u.symbolLayers.some(q=>"object"===q.type||"extrude"===q.type);default:return!1}};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/support/gfxUtils":function(){define("exports ../../assets ../../Color ../../request ../../core/ItemCache ../../core/screenUtils ./cimSymbolUtils".split(" "),function(k,x,y,r,v,L,H){function U(c){if(!c)return null;
let g;switch(c.type){case "simple-fill":case "picture-fill":case "simple-marker":g=U(c.outline);break;case "simple-line":{const h=L.pt2px(c.width);"none"!==c.style&&0!==h&&(g={color:c.color,style:d(c.style),width:h,cap:c.cap,join:"miter"===c.join?L.pt2px(c.miterLimit):c.join});break}default:g=null}return g}const T={left:"start",center:"middle",right:"end",justify:"start"},V={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},E=new v(1E3),d=(()=>{const c={};return g=>
{if(c[g])return c[g];const h=g.replace(/-/g,"");return c[g]=h}})();y=new y([128,128,128]);k.defaultThematicColor=y;k.dekebabifyLineStyle=d;k.getFill=function(c){const g=c.style;let h=null;if(c)switch(c.type){case "simple-marker":"cross"!==g&&"x"!==g&&(h=c.color);break;case "simple-fill":"solid"===g?h=c.color:"none"!==g&&(h={type:"pattern",x:0,y:0,src:x.getAssetUrl(`esri/symbols/patterns/${g}.png`),width:5,height:5});break;case "picture-fill":h={type:"pattern",src:c.url,width:L.pt2px(c.width)*c.xscale,
height:L.pt2px(c.height)*c.yscale,x:L.pt2px(c.xoffset),y:L.pt2px(c.yoffset)};break;case "text":h=c.color;break;case "cim":h=H.getCIMSymbolColor(c)}return h};k.getPatternUrlWithColor=function(c,g){const h=c+"-"+g;return void 0!==E.get(h)?Promise.resolve(E.get(h)):r(c,{responseType:"image"}).then(p=>{p=p.data;const t=p.naturalWidth,M=p.naturalHeight,D=document.createElement("canvas");D.width=t;D.height=M;const O=D.getContext("2d");O.fillStyle=g;O.fillRect(0,0,t,M);O.globalCompositeOperation="destination-in";
O.drawImage(p,0,0);p=D.toDataURL();E.put(h,p);return p})};k.getSVGAlign=function(c){return c=(c=c.horizontalAlignment)&&T[c.toLowerCase()]||"middle"};k.getSVGBaseline=function(c){return(c=c.verticalAlignment)&&V[c.toLowerCase()]||"alphabetic"};k.getSVGBaselineShift=function(c){return"bottom"===c.verticalAlignment?"super":null};k.getStroke=U;Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/ItemCache":function(){define(["./MemCache"],function(k){return function(){function x(r,
v){this._storage=new k.MemCacheStorage;this._storage.maxSize=r;v&&this._storage.registerRemoveFunc("",v)}var y=x.prototype;y.put=function(r,v){this._storage.put(r,v,1,1)};y.pop=function(r){return this._storage.pop(r)};y.get=function(r){return this._storage.get(r)};y.clear=function(){this._storage.clearAll()};y.destroy=function(){this._storage.destroy()};return x}()})},"esri/symbols/support/cimSymbolUtils":function(){define(["exports","../../Color","../cim/utils"],function(k,x,y){function r(d){d=y.toCIMSymbolJSON(d);
if("CIMTextSymbol"===d.type)return d.height;let c=0;if(d.symbolLayers)for(const g of d.symbolLayers)y.isCIMMarker(g)&&g.size>c?c=g.size:y.isCIMStroke(g)&&g.width>c?c=g.width:y.isCIMFill(g);return c}function v(d,c,g,h){if("CIMTextSymbol"===d.type)d.height*=c;else{if(g&&d.effects)for(const p of d.effects)U(p,c);if(d.symbolLayers)for(const p of d.symbolLayers)switch(p.type){case "CIMPictureMarker":case "CIMVectorMarker":L(p,c,h);break;case "CIMPictureStroke":case "CIMSolidStroke":null!=h&&h.preserveOutlineWidth||
!p.width||(p.width*=c);break;case "CIMPictureFill":p.height&&(p.height*=c);p.offsetX&&(p.offsetX*=c);p.offsetY&&(p.offsetY*=c);break;case "CIMHatchFill":v(p.lineSymbol,c,!0,{...h,preserveOutlineWidth:!1}),p.offsetX&&(p.offsetX*=c),p.offsetY&&(p.offsetY*=c),p.separation&&(p.separation*=c)}}}function L(d,c,g){d.markerPlacement&&H(d.markerPlacement,c);d.offsetX&&(d.offsetX*=c);d.offsetY&&(d.offsetY*=c);d.anchorPoint&&"Absolute"===d.anchorPointUnits&&(d.anchorPoint={x:d.anchorPoint.x*c,y:d.anchorPoint.y*
c});d.size*=c;if("CIMVectorMarker"===d.type&&d.markerGraphics)for(const h of d.markerGraphics)d.scaleSymbolsProportionally||v(h.symbol,c,!0,g)}function H(d,c){y.isCIMMarkerStrokePlacement(d)&&d.offset&&(d.offset*=c);switch(d.type){case "CIMMarkerPlacementAlongLineRandomSize":case "CIMMarkerPlacementAlongLineSameSize":d.customEndingOffset&&(d.customEndingOffset*=c);d.offsetAlongLine&&(d.offsetAlongLine*=c);if(d.placementTemplate&&d.placementTemplate.length){var g=d.placementTemplate.map(h=>h*c);d.placementTemplate=
g}break;case "CIMMarkerPlacementAlongLineVariableSize":d.maxRandomOffset&&(d.maxRandomOffset*=c);d.placementTemplate&&d.placementTemplate.length&&(g=d.placementTemplate.map(h=>h*c),d.placementTemplate=g);break;case "CIMMarkerPlacementOnLine":d.startPointOffset&&(d.startPointOffset*=c);break;case "CIMMarkerPlacementAtExtremities":d.offsetAlongLine&&(d.offsetAlongLine*=c);break;case "CIMMarkerPlacementAtRatioPositions":d.beginPosition&&(d.beginPosition*=c);d.endPosition&&(d.endPosition*=c);break;case "CIMMarkerPlacementPolygonCenter":d.offsetX&&
(d.offsetX*=c);d.offsetY&&(d.offsetY*=c);break;case "CIMMarkerPlacementInsidePolygon":d.offsetX&&(d.offsetX*=c),d.offsetY&&(d.offsetY*=c),d.stepX&&(d.stepX*=c),d.stepY&&(d.stepY*=c)}}function U(d,c){switch(d.type){case "CIMGeometricEffectArrow":case "CIMGeometricEffectDonut":d.width&&(d.width*=c);break;case "CIMGeometricEffectBuffer":d.size&&(d.size*=c);break;case "CIMGeometricEffectCut":d.beginCut&&(d.beginCut*=c);d.endCut&&(d.endCut*=c);d.middleCut&&(d.middleCut*=c);break;case "CIMGeometricEffectDashes":d.customEndingOffset&&
(d.customEndingOffset*=c);d.offsetAlongLine&&(d.offsetAlongLine*=c);if(d.dashTemplate&&d.dashTemplate.length){const g=d.dashTemplate.map(h=>h*c);d.dashTemplate=g}break;case "CIMGeometricEffectExtension":case "CIMGeometricEffectJog":case "CIMGeometricEffectRadial":d.length&&(d.length*=c);break;case "CIMGeometricEffectMove":d.offsetX&&(d.offsetX*=c);d.offsetY&&(d.offsetY*=c);break;case "CIMGeometricEffectOffset":case "CIMGeometricEffectOffsetTangent":d.offset&&(d.offset*=c);break;case "CIMGeometricEffectRegularPolygon":d.radius&&
(d.radius*=c);break;case "CIMGeometricEffectTaperedPolygon":d.fromWidth&&(d.fromWidth*=c);d.length&&(d.length*=c);d.toWidth&&(d.toWidth*=c);break;case "CIMGeometricEffectWave":d.amplitude&&(d.amplitude*=c),d.period&&(d.period*=c)}}function T(d,c){let g;g="CIMTextSymbol"===d.type?d.symbol:d;d="CIMPolygonSymbol"===d.type;if(g.symbolLayers)for(const h of g.symbolLayers)if(!(h.colorLocked||d&&(y.isCIMStroke(h)||y.isCIMMarker(h)&&h.markerPlacement&&y.isCIMMarkerStrokePlacement(h.markerPlacement))))switch(h.type){case "CIMPictureMarker":case "CIMPictureStroke":case "CIMPictureFill":h.tintColor&&
V(c,h.tintColor);break;case "CIMVectorMarker":h.markerGraphics.forEach(p=>{T(p.symbol,c)});break;case "CIMSolidStroke":case "CIMSolidFill":V(c,h.color);break;case "CIMHatchFill":T(h.lineSymbol,c)}}function V(d,c){for(const g of d)if(g.join(".")===c.join("."))return;d.push(c)}function E(d,c,g){var h="CIMTextSymbol"===d.type?d.symbol:d;d="CIMPolygonSymbol"===h.type?!0:!1;if(h.symbolLayers)for(const p of h.symbolLayers)if(!p.colorLocked){if(d)if(g){if({layersToColor:h}=g,(y.isCIMStroke(p)||y.isCIMMarker(p)&&
p.markerPlacement&&y.isCIMMarkerStrokePlacement(p.markerPlacement))&&"fill"===h||y.isCIMFill(p)&&"outline"===h)continue}else if(y.isCIMStroke(p)||y.isCIMMarker(p)&&p.markerPlacement&&y.isCIMMarkerStrokePlacement(p.markerPlacement))continue;h=c.toArray();switch(p.type){case "CIMPictureMarker":case "CIMPictureStroke":case "CIMPictureFill":p.tintColor=h;break;case "CIMVectorMarker":p.markerGraphics.forEach(t=>{E(t.symbol,c,g)});break;case "CIMSolidStroke":case "CIMSolidFill":p.color=h;break;case "CIMHatchFill":E(p.lineSymbol,
c,g)}}}k.applyCIMSymbolColor=function(d,c,g){c instanceof x||(c=new x(c));(d=y.toCIMSymbolJSON(d))&&E(d,c,g)};k.applyCIMSymbolRotation=function(d,c,g=!1){d=y.toCIMSymbolJSON(d);g&&0!==c&&(c=360-c);if("CIMTextSymbol"===d.type)d.angle=c;else if("CIMPointSymbol"===d.type&&d.symbolLayers){g=c-(d.angle||0);for(const h of d.symbolLayers)if(y.isCIMMarker(h)){let p=h.rotation||0;p=h.rotateClockwise?p-g:p+g;h.rotation=p}d.angle=c}};k.getCIMSymbolColor=function(d){d=y.toCIMSymbolJSON(d);const c=[];T(d,c);return c.length?
new x(y.fromCIMColor(c[0])):null};k.getCIMSymbolRotation=function(d,c=!1){d=y.toCIMSymbolJSON(d);return"CIMTextSymbol"===d.type||"CIMPointSymbol"===d.type?c&&0!==d.angle?360-d.angle:d.angle||0:0};k.getCIMSymbolSize=r;k.scaleCIMMarker=L;k.scaleCIMSymbolTo=function(d,c,g){const h=y.toCIMSymbolJSON(d);d=r(d);if(0===d)if("CIMTextSymbol"===h.type)h.height=c;else{if(h.symbolLayers)for(const p of h.symbolLayers)switch(p.type){case "CIMPictureMarker":case "CIMVectorMarker":p.size=c;break;case "CIMPictureStroke":case "CIMSolidStroke":p.width=
c}}else v(h,c/d,!1,g)};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/symbols/cim/utils":function(){define(["require","exports"],function(k,x){function y(r,v){"string"!==typeof r&&(r=String(r));switch(v){case "LowerCase":return r.toLowerCase();case "Allcaps":return r.toUpperCase();default:return r}}x._adjustTextCase=y;x.colorToArray=function(r){return[r.r,r.g,r.b,r.a]};x.createLabelOverrideFunction=function(r,v,L){const H=E=>{let d=E.length;for(;d--;)if(!" /-,\n".includes(E.charAt(d)))return!1;
return!0},U=[];var T=0;let V=-1;do V=v.indexOf("[",T),V>=T&&(V>T&&(T=v.substr(T,V-T),U.push([T,null,H(T)])),T=V+1,V=v.indexOf("]",T),V>=T&&(V>T&&(T=v.substr(T,V-T),(T=r[T])&&U.push([null,T,!1])),T=V+1));while(-1!==V);T<v.length-1&&(r=v.substr(T),U.push([r,null,H(r)]));return E=>{let d="",c=null;for(const g of U){const [h,p,t]=g;if(h)t?c=h:(c&&(d+=c,c=null),d+=h);else{const M=E.attributes[p];M&&(c&&(d+=c,c=null),d+=M)}}return y(d,L)}};x.evaluateValueOrFunction=function(r,v,L,H){return"function"===
typeof r?r(v,L,H):r};x.fromCIMColor=function(r){return r?{r:r[0],g:r[1],b:r[2],a:r[3]/255}:{r:0,g:0,b:0,a:0}};x.getValue=r=>isNaN(r)||!r?0:r;x.importGeometryEngine=function(){return new Promise((r,v)=>k(["../../geometry/geometryEngineJSON"],r,v))};x.isCIMFill=function(r){return"CIMGradientFill"===r.type||"CIMHatchFill"===r.type||"CIMPictureFill"===r.type||"CIMSolidFill"===r.type||"CIMWaterFill"===r.type};x.isCIMMarker=function(r){return"CIMVectorMarker"===r.type||"CIMPictureMarker"===r.type||"CIMBarChartMarker"===
r.type||"CIMCharacterMarker"===r.type||"CIMPieChartMarker"===r.type||"CIMStackedBarChartMarker"===r.type};x.isCIMMarkerStrokePlacement=function(r){return"CIMMarkerPlacementAlongLineRandomSize"===r.type||"CIMMarkerPlacementAlongLineSameSize"===r.type||"CIMMarkerPlacementAlongLineVariableSize"===r.type||"CIMMarkerPlacementAtExtremities"===r.type||"CIMMarkerPlacementAtMeasuredUnits"===r.type||"CIMMarkerPlacementAtRatioPositions"===r.type||"CIMMarkerPlacementOnLine"===r.type||"CIMMarkerPlacementOnVertices"===
r.type};x.isCIMStroke=function(r){return"CIMGradientStroke"===r.type||"CIMPictureStroke"===r.type||"CIMSolidStroke"===r.type};x.isGeometryEngineRequired=r=>{if(!r)return!1;for(const v of r)switch(v.type){case "CIMGeometricEffectBuffer":case "CIMGeometricEffectOffset":return!0}return!1};x.resampleHermite=function(r,v,L,H,U,T,V=!0){const E=v/U;L/=T;const d=Math.ceil(E/2),c=Math.ceil(L/2);for(let p=0;p<T;p++)for(let t=0;t<U;t++){const M=4*(t+(V?T-p-1:p)*U);var g=0;let D=0,O=0,B=0,K=0,l=0,m=0;const C=
(p+.5)*L;for(let G=Math.floor(p*L);G<(p+1)*L;G++){var h=Math.abs(C-(G+.5))/c;const Q=(t+.5)*E;h*=h;for(let N=Math.floor(t*E);N<(t+1)*E;N++){let A=Math.abs(Q-(N+.5))/d;g=Math.sqrt(h+A*A);-1<=g&&1>=g&&(g=2*g*g*g-3*g*g+1,0<g&&(A=4*(N+G*v),m+=g*r[A+3],O+=g,255>r[A+3]&&(g=g*r[A+3]/250),B+=g*r[A],K+=g*r[A+1],l+=g*r[A+2],D+=g))}}H[M]=B/D;H[M+1]=K/D;H[M+2]=l/D;H[M+3]=m/O}};x.toCIMSymbolJSON=function(r){var v;return null==(v=r.data)?void 0:v.symbol};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/widgets/Legend/support/colorRampUtils":function(){define(["require","exports","../../../chunks/_rollupPluginBabelHelpers","../../../Color","./utils"],function(k,x,y,r,v){function L(c,g){const h=[],p=c.length-1;5===c.length?h.push(0,2,4):h.push(0,p);return c.map((t,M)=>h.includes(M)?v.createStopLabel(t,M,p,g):null)}function H(){H=y._asyncToGenerator(function*(c,g,h){let p=!1,t=[],M=[];if(c.stops){var D=c.stops;t=D.map(B=>B.value);(p=D.some(B=>!!B.label))&&(M=D.map(B=>B.label))}D=t[t.length-1];
if(null==t[0]&&null==D)return null;const O=p?null:L(t,h);return(yield Promise.all(t.map(function(){var B=y._asyncToGenerator(function*(K,l){const m="opacity"===c.type?yield U(K,c,g):(yield new Promise((C,G)=>k(["../../../renderers/visualVariables/support/visualVariableUtils"],C,G))).getColor(c,K);return{value:K,color:m,label:p?M[l]:O[l]}});return function(K,l){return B.apply(this,arguments)}}()))).reverse()});return H.apply(this,arguments)}function U(c,g){return T.apply(this,arguments)}function T(){T=
y._asyncToGenerator(function*(c,g,h=d){h=new r(h);c=(yield new Promise((p,t)=>k(["../../../renderers/visualVariables/support/visualVariableUtils"],p,t))).getOpacity(g,c);null!=c&&(h.a=c);return h});return T.apply(this,arguments)}function V(c,g){const {startIndex:h,endIndex:p,weight:t}=E(c,g);if(h===p)return g[h].color;c=r.blendColors(g[h].color,g[p].color,t);return new r(c)}function E(c,g){let h=0,p=g.length-1;g.some((t,M)=>{if(c<t.value)return p=M,!0;h=M;return!1});return{startIndex:h,endIndex:p,
weight:(c-g[h].value)/(g[p].value-g[h].value)}}const d=new r([64,64,64]);x.getColorFromPointCloudStops=V;x.getRampStops=function(c,g,h){return H.apply(this,arguments)};x.getRampStopsForPointCloud=function(c){let g=!1,h=[],p=[];h=c.map(D=>D.value);(g=c.some(D=>!!D.label))&&(p=c.map(D=>D.label));const t=h[h.length-1];if(null==h[0]&&null==t)return null;const M=g?null:L(h,!1);return h.map((D,O)=>{const B=V(D,c);return{value:D,color:B,label:g?p[O]:M[O]}}).reverse()};x.getStrectchRampStops=function(c,g){let h=
[];if(c&&"multipart"===c.type)c.colorRamps.reverse().forEach((p,t)=>{0===t?h.push({value:g.max,color:new r(p.toColor),label:"high"}):h.push({value:null,color:new r(p.toColor),label:""});t===c.colorRamps.length-1?h.push({value:g.min,color:new r(p.fromColor),label:"low"}):h.push({value:null,color:new r(p.fromColor),label:""})});else{let p,t;c&&"algorithmic"===c.type?(p=c.fromColor,t=c.toColor):(p=[0,0,0,1],t=[255,255,255,1]);h=[{value:g.max,color:new r(t),label:"high"},{value:g.min,color:new r(p),label:"low"}]}return h};
Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Legend/support/utils":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../symbols ../../../intl/date ../../../renderers/support/numberUtils ../../../symbols/SimpleLineSymbol".split(" "),function(k,x,y,r,v,L,H){function U(d){return T.apply(this,arguments)}function T(){T=y._asyncToGenerator(function*(d){if(!("visualVariables"in d&&d.visualVariables))return null;
d=d.visualVariables.find(h=>"color"===h.type);if(!d)return null;var c=null,g=null;if(d.stops){if(1===d.stops.length)return d.stops[0].color;c=d.stops[0].value;g=d.stops[d.stops.length-1].value}c+=(g-c)/2;({getColor:g}=yield new Promise((h,p)=>k(["../../../renderers/visualVariables/support/visualVariableUtils"],h,p)));return g(d,c)});return T.apply(this,arguments)}function V(){V=y._asyncToGenerator(function*(d,c){const g=d.trailCap,h=d.trailWidth||1;d=c||(yield U(d))||d.color;return new H({cap:g,color:d,
width:h})});return V.apply(this,arguments)}const E=v.convertDateFormatToIntlOptions("short-date");x.RGB_IMG_SOURCE=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII\x3d","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII\x3d",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII\x3d"];x.SPECIAL_CHARS_GREATER_THAN="\x3e";x.SPECIAL_CHARS_LESS_THAN="\x3c";x.createStopLabel=function(d,c,g,h){let p="";0===c?p="\x3c ":c===g&&(p="\x3e ");c=null;c=h?v.formatDate(d,E):L.format(d);return p+c};x.getMedianColor=U;x.getSymbolForFlowRenderer=function(d,c){return V.apply(this,arguments)};Object.defineProperties(x,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Legend/support/heatmapRampUtils":function(){define(["exports","../../../renderers/support/HeatmapColorStop"],function(k,x){k.getHeatmapRampStops=function(y){if(!y.colorStops)return[];const r=[...y.colorStops].filter(L=>{var H;return 0<(null==(H=L.color)?void 0:H.a)});let v=r.length-1;if(r&&r[0]){const L=r[v];L&&1!==L.ratio&&(r.push(new x({ratio:1,color:L.color})),v++)}return r.map((L,H)=>{let U="";if(0===H){var T;U=(null==
(T=y.legendOptions)?void 0:T.minLabel)||"low"}else if(H===v){var V;U=(null==(V=y.legendOptions)?void 0:V.maxLabel)||"high"}return{color:L.color,label:U,ratio:L.ratio}}).reverse()};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Feature/FeatureMedia/FeatureMediaViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/subclass ../../../popup/FieldInfo ../../../popup/content/support/ChartMediaInfoValueSeries ../support/featureUtils ../support/relatedFeatureUtils".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d){const c={chartAnimation:!0};y=function(g){function h(t){t=g.call(this,t)||this;t.abilities={...c};t.activeMediaInfoIndex=0;t.attributes=null;t.description=null;t.fieldInfoMap=null;t.formattedAttributes=null;t.expressionAttributes=null;t.layer=null;t.mediaInfos=null;t.popupTemplate=null;t.relatedInfos=null;t.title=null;return t}k._inheritsLoose(h,g);var p=h.prototype;p.castAbilities=function(t){return{...c,...t}};p.setActiveMedia=function(t){this._setContentElementMedia(t)};
p.next=function(){this._pageContentElementMedia(1)};p.previous=function(){this._pageContentElementMedia(-1)};p._setContentElementMedia=function(t){const {formattedMediaInfoCount:M}=this;this.activeMediaInfoIndex=(t+M)%M};p._pageContentElementMedia=function(t){const {activeMediaInfoIndex:M}=this;this._setContentElementMedia(M+t)};p._formatMediaInfos=function(){const {attributes:t,mediaInfos:M,formattedAttributes:D,expressionAttributes:O,fieldInfoMap:B,layer:K}=this;return null==M?void 0:M.map(l=>{l=
null==l?void 0:l.clone();if(!l)return null;l.title=E.substituteFieldsInLinksAndAttributes({attributes:t,fieldInfoMap:B,globalAttributes:D,expressionAttributes:O,layer:K,text:l.title});l.caption=E.substituteFieldsInLinksAndAttributes({attributes:t,fieldInfoMap:B,globalAttributes:D,expressionAttributes:O,layer:K,text:l.caption});l.altText=E.substituteFieldsInLinksAndAttributes({attributes:t,fieldInfoMap:B,globalAttributes:D,expressionAttributes:O,layer:K,text:l.altText});if("image"===l.type){var {value:m}=
l;this._setImageValue({value:m,formattedAttributes:D,layer:K});return l.value.sourceURL?l:void 0}return"pie-chart"===l.type||"line-chart"===l.type||"column-chart"===l.type||"bar-chart"===l.type?({value:m}=l,this._setChartValue({value:m,chartType:l.type,attributes:t,formattedAttributes:D,layer:K}),l):null}).filter(Boolean)};p._setImageValue=function(t){const {fieldInfoMap:M}=this,{value:D,formattedAttributes:O,layer:B}=t,{linkURL:K,sourceURL:l}=D;l&&(t=E.fixTokens(l,B),D.sourceURL=E.substituteAttributes({formattedAttributes:O,
template:t,fieldInfoMap:M}));K&&(t=E.fixTokens(K,B),D.linkURL=E.substituteAttributes({formattedAttributes:O,template:t,fieldInfoMap:M}))};p._setChartValue=function(t){const {value:M,attributes:D,formattedAttributes:O,chartType:B,layer:K}=t,{popupTemplate:l,relatedInfos:m}=this,{fields:C,normalizeField:G}=M;M.fields=E.getFixedFieldNames(C,K);G&&(M.normalizeField=E.getFixedFieldName(G,K));if(C.some(N=>!!(null!=O[N]||E.isRelatedField(N)&&m.size))){var Q=null==l?void 0:l.fieldInfos;C.forEach(N=>{E.isRelatedField(N)?
M.series=[...M.series,...this._getRelatedChartInfos({fieldInfos:Q,fieldName:N,formattedAttributes:O,chartType:B,value:M})]:(N=this._getChartOption({value:M,attributes:D,chartType:B,formattedAttributes:O,fieldName:N,fieldInfos:Q}),M.series.push(N))})}};p._getRelatedChartInfos=function(t){var M;const {fieldInfos:D,fieldName:O,formattedAttributes:B,chartType:K,value:l}=t,m=[];t=d.getRelatedFieldInfo(O);const {layerId:C,fieldName:G}=t;t=null==(M=this.relatedInfos)?void 0:M.get(C.toString());if(!t)return m;
const {relatedFeatures:Q,relation:N}=t;if(!N||!Q)return m;({cardinality:M}=N);Q.forEach(A=>{const {attributes:S}=A;S&&Object.keys(S).forEach(u=>{u===G&&m.push(this._getChartOption({value:l,attributes:S,formattedAttributes:B,fieldName:O,chartType:K,relatedFieldName:u,fieldInfos:D}))})});return"one-to-many"===M||"many-to-many"===M?m:[m[0]]};p._getTooltip=function({label:t,value:M,chartType:D}){return"pie-chart"===D?`${t}`:`${t}: ${M}`};p._getChartOption=function(t){const {value:M,attributes:D,formattedAttributes:O,
fieldName:B,relatedFieldName:K,fieldInfos:l,chartType:m}=t,{layer:C,fieldInfoMap:G}=this,{normalizeField:Q,tooltipField:N}=M;t=Q?E.isRelatedField(Q)?D[d.getRelatedFieldInfo(Q).fieldName]:D[Q]:null;var A=K&&void 0!==D[K]?D[K]:void 0!==D[B]?D[B]:O[B];t=new V({fieldName:B,value:void 0===A?null:A&&t?A/t:A});if(E.isRelatedField(B)){var S,u,q,F,X;A=G.get(B.toLowerCase());const fa=G.get(N.toLowerCase());var Y=null!=(S=null==A?void 0:A.fieldName)?S:B;S=null!=(u=null==fa?void 0:fa.fieldName)?u:N;u=null!=(q=
null!=(F=null!=(X=O[S])?X:null==A?void 0:A.label)?F:null==A?void 0:A.fieldName)?q:K;t.tooltip=this._getTooltip({label:u,value:O[Y],chartType:m});return t}F=E.getFieldInfo(l,B);q=E.getFixedFieldName(B,C);F=N&&void 0!==O[N]?O[N]:E.getFieldInfoLabel(F||new T({fieldName:q}),null==(Y=this.popupTemplate)?void 0:Y.expressionInfos);t.tooltip=this._getTooltip({label:F,value:O[q],chartType:m});return t};k._createClass(h,[{key:"activeMediaInfo",get:function(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||
null}},{key:"formattedMediaInfos",get:function(){return this._formatMediaInfos()||[]}},{key:"formattedMediaInfoCount",get:function(){return this.formattedMediaInfos.length}}]);return h}(y);x.__decorate([r.property()],y.prototype,"abilities",void 0);x.__decorate([H.cast("abilities")],y.prototype,"castAbilities",null);x.__decorate([r.property()],y.prototype,"activeMediaInfoIndex",void 0);x.__decorate([r.property({readOnly:!0})],y.prototype,"activeMediaInfo",null);x.__decorate([r.property()],y.prototype,
"attributes",void 0);x.__decorate([r.property()],y.prototype,"description",void 0);x.__decorate([r.property()],y.prototype,"fieldInfoMap",void 0);x.__decorate([r.property()],y.prototype,"formattedAttributes",void 0);x.__decorate([r.property()],y.prototype,"expressionAttributes",void 0);x.__decorate([r.property({readOnly:!0})],y.prototype,"formattedMediaInfos",null);x.__decorate([r.property()],y.prototype,"layer",void 0);x.__decorate([r.property({readOnly:!0})],y.prototype,"formattedMediaInfoCount",
null);x.__decorate([r.property()],y.prototype,"mediaInfos",void 0);x.__decorate([r.property()],y.prototype,"popupTemplate",void 0);x.__decorate([r.property()],y.prototype,"relatedInfos",void 0);x.__decorate([r.property()],y.prototype,"title",void 0);return y=x.__decorate([U.subclass("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],y)})},"esri/widgets/Feature/support/relatedFeatureUtils":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/Error ../../../core/Logger ../../../core/promiseUtils ../../../layers/support/fieldUtils ../../../core/has ../../../layers/support/source/DataLayerSource ../../../rest/query/executeQueryJSON ../../../core/arrayUtils ../../../core/urlUtils ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/featureConversionUtils ../../../geometry/Extent ../../../geometry/Geometry ../../../geometry/Multipoint ../../../geometry/Point ../../../geometry/Polygon ../../../geometry/Polyline ../../../geometry/support/normalizeUtils ../../../core/pbf ../../../rest/support/FeatureSet ../../../rest/support/Query ../../../kernel ../../../rest/query/support/AttachmentInfo ../../../rest/support/AttachmentQuery ../../../geometry ../../../rest/support/RelationshipQuery ../../../rest/support/TopFeaturesQuery ../../../rest/support/StatisticDefinition ./featureUtils".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h,p,t,M,D,O,B,K,l,m,C,G,Q,N,A,S,u,q,F){function X(ka,da){if(!da.relationships)return null;let ha=null;({relationships:da}=da);da.some(ua=>ua.id===parseInt(ka,10)?(ha=ua,!0):!1);return ha}function Y({originRelationship:ka,relationships:da,layerId:ha}){let ua;da&&da.some(J=>{`${J.relatedTableId}`===ha&&J.id===ka.id&&(ua=J);return!!ua});return ua}function fa(ka,da){da=da.toLowerCase();for(const ha in ka)if(ha.toLowerCase()===da)return ka[ha];return null}function ja(ka,
da,ha,ua){const J=new S;J.outFields=["*"];J.relationshipId="number"===typeof da.id?da.id:parseInt(da.id,10);J.objectIds=[ka.attributes[ha.objectIdField]];return ha.queryRelatedFeatures(J,ua)}function pa(ka,da,ha){let ua=0;const J=[];for(;ua<da.length;)J.push(`${ka} IN (${da.slice(ua,ha+ua)})`),ua+=ha;return J.join(" OR ")}function la(ka,da,ha,ua){return ta.apply(this,arguments)}function ta(){ta=x._asyncToGenerator(function*(ka,da,ha,ua){var J=ha.layerId.toString();const {layerInfo:R,relation:Z,relatedFields:ia,
outStatistics:ba,url:na,sourceSpatialReference:ra}=da;J=Y({originRelationship:Z,relationships:R.relationships,layerId:J});if(J.relationshipTableId&&J.keyFieldInRelationshipTable){ha=(yield ja(ka,J,ha,ua))[ka.attributes[ha.objectIdField]];if(!ha)return null;const Ba=ha.features.map(Ta=>Ta.attributes[R.objectIdField]);if(0<(null==ba?void 0:ba.length)&&R.supportsStatistics)return da=new C,da.where=pa(R.objectIdField,Ba,1E3),da.outFields=ia,da.outStatistics=ba,da.sourceSpatialReference=ra,da={features:Promise.resolve(ha),
statsFeatures:V.executeQueryJSON(na,da)},L.eachAlways(da)}return(J=null==J?void 0:J.keyField)?(ha=H.isNumericField(Da(R.fields,J)),ka=fa(ka.attributes,Z.keyField),J=ha?`${J}=${ka}`:`${J}='${ka}'`,ka=V.executeQueryJSON(na,new C({where:J,outFields:da.relatedFields,sourceSpatialReference:ra}),ua),da=da.outStatistics&&0<da.outStatistics.length&&R.supportsStatistics?V.executeQueryJSON(na,new C({where:J,outFields:da.relatedFields,outStatistics:da.outStatistics,sourceSpatialReference:ra}),ua):null,ua={features:ka},
da&&(ua.statsFeatures=da),L.eachAlways(ua)):null});return ta.apply(this,arguments)}function Da(ka,da){if(null!=ka){da=da.toLowerCase();for(const ha of ka)if(ha&&ha.name.toLowerCase()===da)return ha}return null}const va=v.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),Ea=new Map;k.createRelatedInfo=function(ka,da){if(ka=X(ka,da))return{url:`${da.url}/${ka.relatedTableId}`,sourceSpatialReference:da.spatialReference,relation:ka,relatedFields:[],outStatistics:[]}};k.getDestinationRelation=
Y;k.getRelatedFieldInfo=function(ka){if(!F.isRelatedField(ka))return null;const [da,ha]=ka.split("/").slice(1);return{layerId:da,fieldName:ha}};k.queryLayerInfos=function({relatedInfos:ka,layer:da},ha){const ua={};ka.forEach((J,R)=>{({relation:J}=J);if(!J)throw R=new r("relation-required","A relation is required on a layer to retrieve related records."),va.error(R),R;({relatedTableId:J}=J);if("number"!==typeof J)throw R=new r("A related table ID is required on a layer to retrieve related records."),
va.error(R),R;J=`${da.url}/${J}`;const Z=Ea.get(J),ia=Z?Z:y(J,{query:{f:"json"},signal:ha&&ha.signal});Z||Ea.set(J,ia);ua[R]=ia});return L.eachAlways(ua)};k.queryRelatedFeatures=function({graphic:ka,relatedInfos:da,layer:ha},ua){const J={};da.forEach((R,Z)=>{R.layerInfo&&(J[Z]=la(ka,R,ha,ua))});return L.eachAlways(J)};k.setRelatedFeatures=function(ka,da){if(da&&ka){var {features:ha,statsFeatures:ua}=ka;ka=ha&&ha.value;da.relatedFeatures=ka?ka.features:[];ka=ua&&ua.value;da.relatedStatsFeatures=ka?
ka.features:[]}};k.updateRelatedInfo=function({relatedInfo:ka,fieldName:da,fieldInfo:ha}){ka.relatedFields.push(da);ha.statisticType&&(da=new q({statisticType:ha.statisticType,onStatisticField:da,outStatisticFieldName:da}),ka.outStatistics.push(da))};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/support/chartUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../intl ../../core/has ../../intl/locale".split(" "),
function(k,x,y,r,v,L){function H(c){if(!c)return"en-us";if(V.has(c.toLowerCase()))return c.toLowerCase();{c=c.split("-")[0].toLowerCase();let h=null;for(g of V.keys())if(g.startsWith(c)){h=g;break}var g=h}return g||"en-us"}function U(){U=y._asyncToGenerator(function*(c=L.getLocale()){c=H(c);if(E&&c===d)return E;E=(new Promise((g,h)=>k(["../../chunks/index"],g,h))).then(g=>g.index);d=c;try{const [g,h]=yield Promise.all([E,V.get(d)()]);d===c&&(g.am4core.options.defaultLocale=h.default);g.am4core.options.suppressWarnings=
!0;g.am4core.options.autoDispose=!0}catch{return d=E=null}return E});return U.apply(this,arguments)}r="#ffffff #858585 #ffbebe #ffebbe #ffebaf #ffffbe #e9ffbe #d3ffbe #beffe8 #bee8ff #bed2ff #e8beff #ffbee8 #ebebeb #707070 #ff7f7f #ffa77f #ffd37f #ffff73 #d1ff73 #a3ff73 #73ffdf #73dfff #73b2ff #df73ff #ff73df #d6d6d6 #5c5c5c #ff0000 #ff5500 #ffaa00 #ffff00 #aaff00 #55ff00 #00ffc5 #00c5ff #0070ff #c500ff #ff00c5 #c2c2c2 #474747 #e60000 #e64c00 #e69800 #e6e600 #98e600 #4ce600 #00e6a9 #00a9e6 #005ce6 #a900e6 #e600a9 #adadad #242424 #a80000 #a83800 #a87000 #a8a800 #70a800 #38a800 #00a884 #0084a8 #004da8 #8400a8 #a80084 #999999 #1a1a1a #730000 #732600 #734c00 #737300 #4c7300 #267300 #00734c #004c73 #002673 #4c0073 #73004".split(" ");
var T=[{name:"default",colors:[].concat(r.slice(30,39),r.slice(28,30).reverse())},{name:"cat-dark",colors:"#ed5151 #149ece #a7c636 #9e559c #fc921f #ffde3e #f789d8 #b7814a #3caf99 #6b6bd6 #b54779 #7f7f7f".split(" ")},{name:"tropical-bliss",colors:"#fce138 #ff9399 #fcd27e #f1983c #a553b7 #b1a9d0 #6ecffc #4c81cd #fc6f84 #fc3e5a #6af689 #48885c".split(" ")},{name:"desert-blooms",colors:"#102432 #144d59 #ffc730 #ed9310 #a64f1b #661510 #d9351a #b31515 #4a0932 #8c213f #18382e #2c6954".split(" ")},{name:"under-the-sea",
colors:"#bf9727 #607100 #00734c #704489 #01acca #024e76 #f09100 #ea311f #c6004b #7570b3 #666666 #333333".split(" ")},{name:"vibrant-rainbow",colors:"#fffb00 #f5cb11 #9fd40c #46e39c #32b8a6 #7ff2fa #ac08cc #dd33ff #eb7200 #e8a784 #bf2e2e #6c7000".split(" ")},{name:"ocean-bay",colors:"#191921 #11495c #78b1c2 #454f4b #8f8f82 #9be0c0 #87b051 #f7ec88 #ebdcc1 #dbb658 #c43541 #75351e".split(" ")},{name:"prairie-summer",colors:"#332424 #751555 #d47013 #d68989 #211173 #82aad6 #7bfaeb #6ec9a8 #6b6408 #eada40 #ccc54a #1fc235".split(" ")},
{name:"pastel-chalk",colors:"#fffd99 #f5e6a4 #c1d48c #b8e3d0 #a0b8b5 #cbf7fa #d791f2 #dfc1eb #f2b983 #e8c4b2 #bf8e8e #94995c".split(" ")},{name:"seq-yellow-orange-red-bright",colors:"#910000 #b1260b #c0370f #e05919 #ef6a1d #ff7b22 #ffa143 #ffb454 #ffda74 #ffed85".split(" ")},{name:"seq-reds-bright",colors:"#57453b #7b4238 #9f4036 #c23d33 #d7483c #ec5244 #f3696c #f9816c #ffc4ae #fff0dc".split(" ")},{name:"seq-purples-bright",colors:"#4e465c #5a4a78 #695291 #775baa #8663c3 #946bdc #aa89e8 #c1a6f3 #d7c4ff #e6e1ff".split(" ")},
{name:"seq-blues-bright",colors:"#404d54 #435c6c #48799d #4b88b6 #4d96ce #50a5e7 #74bbed #98d0f3 #bce6f9 #e6faff".split(" ")},{name:"seq-greens-bright",colors:"#39544c #386757 #368165 #359b73 #33b581 #4bc392 #64d2a2 #7ce0b3 #cbf6d9 #f4ffea".split(" ")},{name:"seq-browns-bright",colors:"#524834 #715b38 #8f6e3c #ae8140 #cc9444 #eba748 #eeb664 #f0c47f #f9e0b7 #fff8eb".split(" ")}];const V=new Map([["ar",()=>(new Promise((c,g)=>k(["../../chunks/ar"],c,g))).then(c=>c.ar)],["bg-bg",()=>(new Promise((c,
g)=>k(["../../chunks/bg_BG"],c,g))).then(c=>c.bg_BG)],["bs-ba",()=>(new Promise((c,g)=>k(["../../chunks/bs_BA"],c,g))).then(c=>c.bs_BA)],["ca-es",()=>(new Promise((c,g)=>k(["../../chunks/ca_ES"],c,g))).then(c=>c.ca_ES)],["cs-cz",()=>(new Promise((c,g)=>k(["../../chunks/cs_CZ"],c,g))).then(c=>c.cs_CZ)],["da-dk",()=>(new Promise((c,g)=>k(["../../chunks/da_DK"],c,g))).then(c=>c.da_DK)],["de-de",()=>(new Promise((c,g)=>k(["../../chunks/de_DE"],c,g))).then(c=>c.de_DE)],["de-ch",()=>(new Promise((c,g)=>
k(["../../chunks/de_CH"],c,g))).then(c=>c.de_CH)],["el-gr",()=>(new Promise((c,g)=>k(["../../chunks/el_GR"],c,g))).then(c=>c.el_GR)],["en-us",()=>(new Promise((c,g)=>k(["../../chunks/en_US"],c,g))).then(c=>c.en_US)],["en-ca",()=>(new Promise((c,g)=>k(["../../chunks/en_CA"],c,g))).then(c=>c.en_CA)],["es-es",()=>(new Promise((c,g)=>k(["../../chunks/es_ES"],c,g))).then(c=>c.es_ES)],["et-ee",()=>(new Promise((c,g)=>k(["../../chunks/et_EE"],c,g))).then(c=>c.et_EE)],["fi-fi",()=>(new Promise((c,g)=>k(["../../chunks/fi_FI"],
c,g))).then(c=>c.fi_FI)],["fr-fr",()=>(new Promise((c,g)=>k(["../../chunks/fr_FR"],c,g))).then(c=>c.fr_FR)],["he-il",()=>(new Promise((c,g)=>k(["../../chunks/he_IL"],c,g))).then(c=>c.he_IL)],["hr-hr",()=>(new Promise((c,g)=>k(["../../chunks/hr_HR"],c,g))).then(c=>c.hr_HR)],["hu-hu",()=>(new Promise((c,g)=>k(["../../chunks/hu_HU"],c,g))).then(c=>c.hu_HU)],["id-id",()=>(new Promise((c,g)=>k(["../../chunks/id_ID"],c,g))).then(c=>c.id_ID)],["it-it",()=>(new Promise((c,g)=>k(["../../chunks/it_IT"],c,g))).then(c=>
c.it_IT)],["ja-jp",()=>(new Promise((c,g)=>k(["../../chunks/ja_JP"],c,g))).then(c=>c.ja_JP)],["ko-kr",()=>(new Promise((c,g)=>k(["../../chunks/ko_KR"],c,g))).then(c=>c.ko_KR)],["lt-lt",()=>(new Promise((c,g)=>k(["../../chunks/lt_LT"],c,g))).then(c=>c.lt_LT)],["lv-lv",()=>(new Promise((c,g)=>k(["../../chunks/lv_LV"],c,g))).then(c=>c.lv_LV)],["nb-no",()=>(new Promise((c,g)=>k(["../../chunks/nb_NO"],c,g))).then(c=>c.nb_NO)],["nl-nl",()=>(new Promise((c,g)=>k(["../../chunks/nl_NL"],c,g))).then(c=>c.nl_NL)],
["pl-pl",()=>(new Promise((c,g)=>k(["../../chunks/pl_PL"],c,g))).then(c=>c.pl_PL)],["pt-br",()=>(new Promise((c,g)=>k(["../../chunks/pt_BR"],c,g))).then(c=>c.pt_BR)],["pt-pt",()=>(new Promise((c,g)=>k(["../../chunks/pt_PT"],c,g))).then(c=>c.pt_PT)],["ro-ro",()=>(new Promise((c,g)=>k(["../../chunks/ro_RO"],c,g))).then(c=>c.ro_RO)],["ru-ru",()=>(new Promise((c,g)=>k(["../../chunks/ru_RU"],c,g))).then(c=>c.ru_RU)],["sk-sk",()=>(new Promise((c,g)=>k(["../../chunks/sk_SK"],c,g))).then(c=>c.sk_SK)],["sl-sl",
()=>(new Promise((c,g)=>k(["../../chunks/sl_SL"],c,g))).then(c=>c.sl_SL)],["sr-rs",()=>(new Promise((c,g)=>k(["../../chunks/sr_RS"],c,g))).then(c=>c.sr_RS)],["sv-se",()=>(new Promise((c,g)=>k(["../../chunks/sv_SE"],c,g))).then(c=>c.sv_SE)],["th-th",()=>(new Promise((c,g)=>k(["../../chunks/th_TH"],c,g))).then(c=>c.th_TH)],["tr-tr",()=>(new Promise((c,g)=>k(["../../chunks/tr_TR"],c,g))).then(c=>c.tr_TR)],["uk-ua",()=>(new Promise((c,g)=>k(["../../chunks/uk_UA"],c,g))).then(c=>c.uk_UA)],["vi-vn",()=>
(new Promise((c,g)=>k(["../../chunks/vi_VN"],c,g))).then(c=>c.vi_VN)],["zh-cn",()=>(new Promise((c,g)=>k(["../../chunks/zh_Hans"],c,g))).then(c=>c.zh_Hans)],["zh-hk",()=>(new Promise((c,g)=>k(["../../chunks/zh_Hant"],c,g))).then(c=>c.zh_Hant)],["zh-tw",()=>(new Promise((c,g)=>k(["../../chunks/zh_Hant"],c,g))).then(c=>c.zh_Hant)]]);let E,d;x.getChartLocale=H;x.getColorSet=function(c,g="default"){const h=T.find(p=>p.name===g);return h?h.colors.map(p=>c.color(p)):null};x.loadChartsModule=function(){return U.apply(this,
arguments)};Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Feature/FeatureExpression/FeatureExpressionViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Graphic ../../../chunks/languageUtils ../../../core/Accessor ../../../core/HandleOwner ../../../core/reactiveUtils ../../../core/throttle ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../popup/content/AttachmentsContent ../../../popup/content/Content ../../../popup/content/CustomContent ../../../popup/content/ExpressionContent ../../../popup/content/FieldsContent ../../../popup/content/MediaContent ../../../popup/content/TextContent ../../../popup/ElementExpressionInfo ../FeatureContent/FeatureContentViewModel ../FeatureFields/FeatureFieldsViewModel ../FeatureMedia/FeatureMediaViewModel ../support/arcadeFeatureUtils".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h,p,t,M,D,O,B,K,l,m,C){v=function(G){function Q(N){var A=G.call(this,N)||this;A._abortController=null;A.expressionInfo=null;A.graphic=null;A.contentElement=null;A.contentElementViewModel=null;A.interceptor=null;A.view=null;A._cancelQuery=()=>{const {_abortController:S}=k._assertThisInitialized(A);S&&S.abort();A._abortController=null};A._createVM=()=>{var S,u;const q=null==(S=A.contentElement)?void 0:S.type;null==(u=A.contentElementViewModel)?void 0:u.destroy();
S="fields"===q?new l:"media"===q?new m:"text"===q?new K:null;A._set("contentElementViewModel",S)};A._compile=k._asyncToGenerator(function*(){A._cancelQuery();const S=new AbortController;A._abortController=S;yield A._compileExpression();A._abortController===S&&(A._abortController=null)});A._compileThrottled=U.throttle(A._compile,1,k._assertThisInitialized(A));A._compileExpression=k._asyncToGenerator(function*(){const {expressionInfo:S,graphic:u,interceptor:q,spatialReference:F,map:X,view:Y,_abortController:fa}=
k._assertThisInitialized(A);if(S&&u&&F&&X){var ja=yield C.loadArcadeUtils();if(fa===A._abortController)if((ja=yield C.createCompiledExpression({arcadeUtils:ja,expressionInfo:S,graphic:u,interceptor:q,map:X,spatialReference:F,view:Y}))&&"esri.arcade.Dictionary"===ja.declaredClass){ja=yield r.castAsJsonAsync(ja,fa.signal);var pa=null==ja?void 0:ja.type;ja="media"===pa?D.fromJSON(ja):"text"===pa?O.fromJSON(ja):"fields"===pa?M.fromJSON(ja):null;A._set("contentElement",ja)}else A._set("contentElement",
null)}else A._set("contentElement",null)});A.handles.add([H.watch(()=>[A.expressionInfo,A.graphic,A.map,A.spatialReference,A.view],()=>A._compileThrottled(),H.initial),H.watch(()=>[A.contentElement],()=>A._createVM(),H.initial)]);return A}k._inheritsLoose(Q,G);Q.prototype.destroy=function(){var N;this._cancelQuery();null==(N=this.contentElementViewModel)?void 0:N.destroy();this._set("contentElementViewModel",null);this._set("contentElement",null)};k._createClass(Q,[{key:"spatialReference",get:function(){var N;
return(null==(N=this.view)?void 0:N.spatialReference)||null},set:function(N){void 0===N?this._clearOverride("spatialReference"):this._override("spatialReference",N)}},{key:"state",get:function(){const {_abortController:N,contentElement:A,contentElementViewModel:S}=this;return N?"loading":A||S?"ready":"disabled"}},{key:"map",get:function(){var N;return(null==(N=this.view)?void 0:N.map)||null},set:function(N){void 0===N?this._clearOverride("map"):this._override("map",N)}}]);return Q}(L.HandleOwnerMixin(v));
x.__decorate([T.property()],v.prototype,"_abortController",void 0);x.__decorate([T.property({type:B})],v.prototype,"expressionInfo",void 0);x.__decorate([T.property({type:y})],v.prototype,"graphic",void 0);x.__decorate([T.property({readOnly:!0})],v.prototype,"contentElement",void 0);x.__decorate([T.property({readOnly:!0})],v.prototype,"contentElementViewModel",void 0);x.__decorate([T.property()],v.prototype,"interceptor",void 0);x.__decorate([T.property()],v.prototype,"spatialReference",null);x.__decorate([T.property({readOnly:!0})],
v.prototype,"state",null);x.__decorate([T.property()],v.prototype,"map",null);x.__decorate([T.property()],v.prototype,"view",void 0);return v=x.__decorate([c.subclass("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],v)})},"esri/chunks/languageUtils":function(){define("exports ./_rollupPluginBabelHelpers ../arcade/FunctionWrapper ../arcade/ImmutableArray ../arcade/ImmutablePathArray ../arcade/ImmutablePointArray ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ./datetime ../core/maybe ../core/number ../geometry/support/coordsUtils ../intl/locale ../arcade/featureset/support/shared".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h,p,t,M){function D(e,w,P){return""===w||null===w||void 0===w||w===P||w===P?e:e=e.split(w).join(P)}function O(e){return e instanceof bb||e instanceof y||e instanceof cb}function B(e){return l(e)||C(e)||q(e)||m(e)||null===e||e===Ja||"number"===typeof e?!0:!1}function K(e,w){return void 0===e?w:e}function l(e){return"string"===typeof e||e instanceof String}function m(e){return"boolean"===typeof e}function C(e){return"number"===typeof e}function G(e){return"number"===
typeof e&&isFinite(e)&&Math.floor(e)===e}function Q(e){return e instanceof Array}function N(e){return"esri.arcade.Feature"===(null==e?void 0:e.arcadeDeclaredClass)?!0:!1}function A(e){return!0===(e&&e.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===e.declaredRootClass)}function S(e){return!0===(e&&e.declaredRootClass&&"esri.arcade.featureSetCollection"===e.declaredRootClass)}function u(e){return e instanceof r}function q(e){return e instanceof Date}function F(e,w,P){if(e.length<w||
e.length>P)throw Error("Function called with wrong number of Parameters");}function X(e){return 0>e?-Math.round(-e):Math.round(e)}function Y(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(w){const P=(e+16*Math.random())%16|0;e=Math.floor(e/16);return("x"===w?P:P&3|8).toString(16)})}function fa(e,w){if(!1===isNaN(e)){if(void 0===w||null===w||""===w)return e.toString();w=D(w,"\u2030","");w=D(w,"\u00a4","");return h.format(e,{pattern:w})}return e.toString()}
function ja(e,w){e=c.DateTime.fromJSDate(e);return void 0===w||null===w||""===w?e.toISO({suppressMilliseconds:!0}):e.toFormat(pa(w),{locale:t.getLocale(),numberingSystem:"latn"})}function pa(e){e=e.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");let w="";const P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const ca of e.match(P))switch(ca){case "D":w+=
"d";break;case "DD":w+="dd";break;case "DDD":w+="o";break;case "d":w+="c";break;case "ddd":w+="ccc";break;case "dddd":w+="cccc";break;case "M":w+="L";break;case "MM":w+="LL";break;case "MMM":w+="LLL";break;case "MMMM":w+="LLLL";break;case "YY":w+="yy";break;case "Y":case "YYYY":w+="yyyy";break;case "Q":w+="q";break;case "Z":w+="ZZ";break;case "ZZ":w+="ZZZ";break;case "S":w+="'S'";break;case "SS":w+="'SS'";break;case "SSS":w+="u";break;case "A":case "a":w+="a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":case "X":case "x":w+=
ca;break;default:w=2<=ca.length&&"["===ca.slice(0,1)&&"]"===ca.slice(-1)?w+`'${ca.slice(1,-1)}'`:w+`'${ca}'`}return w}function la(e,w,P){switch(P){case "\x3e":return e>w;case "\x3c":return e<w;case "\x3e\x3d":return e>=w;case "\x3c\x3d":return e<=w}return!1}function ta(e,w,P){if(null===e){if(null===w||w===Ja)return la(null,null,P);if(C(w))return la(0,w,P);if(l(w)||m(w))return la(0,ha(w),P);if(q(w))return la(0,w.getTime(),P)}if(e===Ja){if(null===w||w===Ja)return la(null,null,P);if(C(w))return la(0,
w,P);if(l(w)||m(w))return la(0,ha(w),P);if(q(w))return la(0,w.getTime(),P)}else if(C(e)){if(C(w))return la(e,w,P);if(m(w))return la(e,ha(w),P);if(null===w||w===Ja)return la(e,0,P);if(l(w))return la(e,ha(w),P);if(q(w))return la(e,w.getTime(),P)}else if(l(e)){if(l(w))return la(va(e),va(w),P);if(q(w))return la(ha(e),w.getTime(),P);if(C(w))return la(ha(e),w,P);if(null===w||w===Ja)return la(ha(e),0,P);if(m(w))return la(ha(e),ha(w),P)}else if(q(e)){if(q(w))return la(e,w,P);if(null===w||w===Ja)return la(e.getTime(),
0,P);if(C(w))return la(e.getTime(),w,P);if(m(w)||l(w))return la(e.getTime(),ha(w),P)}else if(m(e)){if(m(w))return la(e,w,P);if(C(w))return la(ha(e),ha(w),P);if(q(w))return la(ha(e),w.getTime(),P);if(null===w||w===Ja)return la(ha(e),0,P);if(l(w))return la(ha(e),ha(w),P)}return!Da(e,w)||"\x3c\x3d"!==P&&"\x3e\x3d"!==P?!1:!0}function Da(e,w){if(e===w||null===e&&w===Ja||null===w&&e===Ja)return!0;if(q(e)&&q(w))return e.getTime()===w.getTime();if(e instanceof v||e instanceof L)return e.equalityTest(w);if(e instanceof
V&&w instanceof V){const P=e.cache._arcadeCacheId,ca=w.cache._arcadeCacheId;if(void 0!==P&&null!==P)return P===ca}return void 0!==e&&void 0!==w&&null!==e&&null!==w&&"object"===typeof e&&"object"===typeof w&&(e._arcadeCacheId===w._arcadeCacheId&&void 0!==e._arcadeCacheId&&null!==e._arcadeCacheId||e._underlyingGraphic===w._underlyingGraphic&&void 0!==e._underlyingGraphic&&null!==e._underlyingGraphic)?!0:!1}function va(e,w){if(l(e))return e;if(null===e)return"";if(C(e))return fa(e,w);if(m(e))return e.toString();
if(q(e))return ja(e,w);if(e instanceof U)return JSON.stringify(e.toJSON());if(Q(e)){w=[];for(var P=0;P<e.length;P++)w[P]=da(e[P]);return"["+w.join(",")+"]"}if(e instanceof r){w=[];for(P=0;P<e.length();P++)w[P]=da(e.get(P));return"["+w.join(",")+"]"}return null!==e&&"object"===typeof e&&void 0!==e.castToText?e.castToText():O(e)?"object, Function":""}function Ea(e){const w=[];if(!1===Q(e))return null;if(e instanceof r){for(var P=0;P<e.length();P++)w[P]=ha(e.get(P));return w}for(P=0;P<e.length;P++)w[P]=
ha(e[P]);return w}function ka(e,w){if(l(e))return e;if(null===e)return"";if(C(e))return fa(e,w);if(m(e))return e.toString();if(q(e))return ja(e,w);if(e instanceof U)return e instanceof H?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+
Wa(e.spatialReference)+"}":Wa(e.toJSON(),(ca,ea)=>ca.key===ea.key?0:"spatialReference"===ca.key?1:"spatialReference"===ea.key||ca.key<ea.key?-1:ca.key>ea.key?1:0);if(Q(e)){w=[];for(var P=0;P<e.length;P++)w[P]=da(e[P]);return"["+w.join(",")+"]"}if(e instanceof r){w=[];for(P=0;P<e.length();P++)w[P]=da(e.get(P));return"["+w.join(",")+"]"}return null!==e&&"object"===typeof e&&void 0!==e.castToText?e.castToText():O(e)?"object, Function":""}function da(e){return null===e?"null":m(e)||C(e)||l(e)?JSON.stringify(e):
e instanceof U||e instanceof r||e instanceof Array?ka(e):e instanceof Date?JSON.stringify(ja(e,"")):null!==e&&"object"===typeof e&&void 0!==e.castToText?e.castToText():"null"}function ha(e,w){return C(e)?e:null===e||""===e?0:q(e)?NaN:m(e)?e?1:0:Q(e)||""===e||void 0===e?NaN:void 0!==w&&l(e)?(w=D(w,"\u2030",""),w=D(w,"\u00a4",""),h.parse(e,{pattern:w})):e===Ja?0:Number(e)}function ua(e){return q(e)?e:l(e)&&(e=R(e))?e.toJSDate():null}function J(e){return q(e)?c.DateTime.fromJSDate(e):l(e)?R(e):null}
function R(e){const w=/ (\d\d)/;let P=c.DateTime.fromISO(e);return P.isValid||w.test(e)&&(e=e.replace(w,"T$1"),P=c.DateTime.fromISO(e),P.isValid)?P:null}function Z(e){return m(e)?e:l(e)?(e=e.toLowerCase(),"true"===e?!0:!1):C(e)?0===e||isNaN(e)?!1:!0:!1}function ia(e,w){if(g.isNone(e))return null;if(null===e.spatialReference||void 0===e.spatialReference)e.spatialReference=w;return e}function ba(e){if(null===e)return null;if(e instanceof V)return"NaN"===e.x||null===e.x||isNaN(e.x)?null:e;if(e instanceof
E){if(0===e.rings.length)return null;for(const w of e.rings)if(0<w.length)return e;return null}if(e instanceof d){if(0===e.paths.length)return null;for(const w of e.paths)if(0<w.length)return e;return null}return e instanceof T?0===e.points.length?null:e:e instanceof H?"NaN"===e.xmin||null===e.xmin||isNaN(e.xmin)?null:e:null}function na(e,w){if(!e||!e.domain)return w;let P=null;if("string"===e.field.type||"esriFieldTypeString"===e.field.type)w=va(w);else{if(null===w||void 0===w)return null;if(""===
w)return w;w=ha(w)}for(let ca=0;ca<e.domain.codedValues.length;ca++){const ea=e.domain.codedValues[ca];ea.code===w&&(P=ea)}return null===P?w:P.name}function ra(e,w){if(!e||!e.domain)return w;let P=null;w=va(w);for(let ca=0;ca<e.domain.codedValues.length;ca++){const ea=e.domain.codedValues[ca];ea.name===w&&(P=ea)}return null===P?w:P.code}function Ba(e,w,P=null,ca=null){if(!w||!w.fields)return null;let ea=null;for(let Ka=0;Ka<w.fields.length;Ka++){const Ia=w.fields[Ka];Ia.name.toLowerCase()===e.toString().toLowerCase()&&
(ea=Ia)}if(null===ea)throw Error("Field not found");let xa,Aa;null===ca&&P&&w.typeIdField&&(ca=P.hasField(w.typeIdField)?P.field(w.typeIdField):null);null!==ca&&void 0!==ca&&w.types.some(function(Ka){return Ka.id===ca?((xa=Ka.domains&&Ka.domains[ea.name])&&"inherited"===xa.type&&(xa=Ta(ea.name,w),Aa=!0),!0):!1});Aa||xa||(xa=Ta(e,w));return{field:ea,domain:xa}}function Ta(e,w){let P;w.fields.some(function(ca){ca.name.toLowerCase()===e.toLowerCase()&&(P=ca.domain);return!!P});return P}function Wa(e,
w){w||(w={});"function"===typeof w&&(w={cmp:w});const P="boolean"===typeof w.cycles?w.cycles:!1,ca=w.cmp&&function(xa){return function(Aa){return function(Ka,Ia){return xa({key:Ka,value:Aa[Ka]},{key:Ia,value:Aa[Ia]})}}}(w.cmp),ea=[];return function Ka(Aa){Aa&&Aa.toJSON&&"function"===typeof Aa.toJSON&&(Aa=Aa.toJSON());if(void 0!==Aa){if("number"===typeof Aa)return isFinite(Aa)?""+Aa:"null";if("object"!==typeof Aa)return JSON.stringify(Aa);var Ia;if(Array.isArray(Aa)){var Ma="[";for(Ia=0;Ia<Aa.length;Ia++)Ia&&
(Ma+=","),Ma+=Ka(Aa[Ia])||"null";return Ma+"]"}if(null===Aa)return"null";if(ea.includes(Aa)){if(P)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Va=ea.push(Aa)-1,yb=Object.keys(Aa).sort(ca&&ca(Aa));Ma="";for(Ia=0;Ia<yb.length;Ia++){const zb=yb[Ia],Ab=Ka(Aa[zb]);Ab&&(Ma&&(Ma+=","),Ma+=JSON.stringify(zb)+":"+Ab)}ea.splice(Va,1);return"{"+Ma+"}"}}(e)}function Na(e){if(null===e)return null;const w=[];for(const P of e)P&&P.arcadeDeclaredClass&&"esri.arcade.Feature"===
P.arcadeDeclaredClass?w.push(P.geometry()):w.push(P);return w}function sa(e,w){if(w instanceof V)e.push(w.hasZ?w.hasM?[w.x,w.y,w.z,w.m]:[w.x,w.y,w.z]:[w.x,w.y]);else throw Error("Invalid Argument");}function Bb(e,w){if(Q(e)||u(e)){let P=!1,ca=!1,ea=[];if(Q(e)){for(const xa of e)sa(ea,xa);0<ea.length&&(w=e[0].spatialReference,P=e[0].hasZ,ca=e[0].hasM)}else if(e instanceof L)ea=e._elements,0<ea.length&&(P=e._hasZ,ca=e._hasM,w=e.get(0).spatialReference);else if(u(e)){for(const xa of e.toArray())sa(ea,
xa);0<ea.length&&(w=e.get(0).spatialReference,P=!0===e.get(0).hasZ,ca=!0===e.get(0).hasM)}else throw Error("Invalid Argument");if(0===ea.length)return null;!1===p.isClockwise(ea,ca,P)&&(ea=ea.slice(0).reverse());return new E({rings:[ea],spatialReference:w,hasZ:P,hasM:ca})}return e}function Oa(e,w){if(Q(e)||u(e)){let P=!1,ca=!1,ea=[];if(Q(e)){for(const xa of e)sa(ea,xa);0<ea.length&&(w=e[0].spatialReference,P=!0===e[0].hasZ,ca=!0===e[0].hasM)}else if(e instanceof L)ea=e._elements,0<ea.length&&(P=e._hasZ,
ca=e._hasM,w=e.get(0).spatialReference);else if(u(e)){for(const xa of e.toArray())sa(ea,xa);0<ea.length&&(w=e.get(0).spatialReference,P=!0===e.get(0).hasZ,ca=!0===e.get(0).hasM)}return 0===ea.length?null:new d({paths:[ea],spatialReference:w,hasZ:P,hasM:ca})}return e}function mb(e,w){if(Q(e)||u(e)){let P=!1,ca=!1,ea=[];if(Q(e)){for(const xa of e)sa(ea,xa);0<ea.length&&(w=e[0].spatialReference,P=!0===e[0].hasZ,ca=!0===e[0].hasM)}else if(e instanceof L)ea=e._elements,0<ea.length&&(P=e._hasZ,ca=e._hasM,
w=e.get(0).spatialReference);else if(u(e)){for(const xa of e.toArray())sa(ea,xa);0<ea.length&&(w=e.get(0).spatialReference,P=!0===e.get(0).hasZ,ca=!0===e.get(0).hasM)}return 0===ea.length?null:new T({points:ea,spatialReference:w,hasZ:P,hasM:ca})}return e}function hb(e,w=!1){const P=[];if(null===e)return P;if(!0===Q(e)){for(var ca=0;ca<e.length;ca++){var ea=va(e[ca]);""===ea&&!0!==w||P.push(ea)}return P}if(e instanceof r){for(ca=0;ca<e.length();ca++)ea=va(e.get(ca)),""===ea&&!0!==w||P.push(ea);return P}return B(e)?
(e=va(e),""===e&&!0!==w||P.push(e),P):[]}function Cb(e){ib++;return 0===ib%100?(ib=0,new Promise(w=>{setTimeout(()=>{w(e)},0)})):e}function Db(e,w,P){switch(P){case "\x26":return e&w;case "|":return e|w;case "^":return e^w;case "\x3c\x3c":return e<<w;case "\x3e\x3e":return e>>w;case "\x3e\x3e\x3e":return e>>>w}}function Xa(e,w=null){if(null!=e){if(m(e)||C(e)||l(e))return e;if(e instanceof U)return!0===(null==w?void 0:w.keepGeometryType)?e:e.toJSON();if(e instanceof r)return e.toArray().map(P=>Xa(P,
w));if(e instanceof Array)return e.map(P=>Xa(P,w));if(e instanceof Date)return e;if(null!==e&&"object"===typeof e&&void 0!==e.castAsJson)return e.castAsJson(w)}return null}function Hb(e,w,P,ca,ea){return nb.apply(this,arguments)}function nb(){nb=x._asyncToGenerator(function*(e,w,P,ca,ea){e=yield ob(e,w,P);ea[ca]=e});return nb.apply(this,arguments)}function ob(e){return pb.apply(this,arguments)}function pb(){pb=x._asyncToGenerator(function*(e,w=null,P=null){e instanceof r&&(e=e.toArray());if(null!=
e){if(B(e)||e instanceof U||e instanceof Date)return Xa(e,P);if(e instanceof Array){const ca=[],ea=[];for(const xa of e)null===xa||B(xa)||xa instanceof U||xa instanceof Date?ea.push(Xa(xa,P)):(ea.push(null),ca.push(Hb(xa,w,P,ea.length-1,ea)));0<ca.length&&(yield Promise.all(ca));return ea}if(null!==e&&"object"===typeof e&&void 0!==e.castAsJsonAsync)return e.castAsJsonAsync(w,P)}return null});return pb.apply(this,arguments)}function qb(e,w,P){const ca=e.fullSchema();return null!==ca&&ca.fields?Ba(w,
ca,e,P):null}function La(e){e=e.fullSchema();return null!==e&&e.fields?e.typeIdField?{subtypeField:e.typeIdField,subtypes:e.types?e.types.map(w=>({name:w.name,code:w.id})):[]}:null:null}function rb(e,w,P,ca){const ea=e.fullSchema();if(null===ea||!ea.fields)return null;ca=Ba(w,ea,e,ca);if(void 0===P)try{P=e.field(w)}catch(xa){return null}return na(ca,P)}function sb(e,w,P,ca){const ea=e.fullSchema();if(null===ea||!ea.fields)return null;if(void 0===P){try{P=e.field(w)}catch(xa){return null}return P}e=
Ba(w,ea,e,ca);return ra(e,P)}function jb(e){e=e.fullSchema();if(null===e||!e.fields)return null;const w=[];for(const P of e.fields)w.push(M.esriFieldToJson(P));return{objectIdField:e.objectIdField,globalIdField:e.globalIdField,geometryType:void 0===M.layerGeometryEsriRestConstants[e.geometryType]?"":M.layerGeometryEsriRestConstants[e.geometryType],fields:w}}let db=function(e){this.value=e},Ya=function(e){this.value=e},bb=function(e){this.fn=e},cb=function(e,w){this.paramCount=w;this.fn=e};const tb=
bb,eb=cb,Ja={type:"VOID"},Za={type:"BREAK"},ub={type:"CONTINUE"};let ib=0;const kb=Object.freeze(Object.defineProperty({__proto__:null,ReturnResultE:db,ImplicitResultE:Ya,NativeFunctionE:bb,SizzleFunctionE:cb,NativeFunction:tb,ImplicitResult:Ya,ReturnResult:db,SizzleFunction:eb,voidOperation:Ja,breakResult:Za,continueResult:ub,multiReplace:D,isFunctionParameter:O,isSimpleType:B,defaultUndefined:K,isString:l,isBoolean:m,isNumber:C,isInteger:G,isArray:Q,isFeature:N,isFeatureSet:A,isFeatureSetCollection:S,
isImmutableArray:u,isDate:q,pcCheck:F,absRound:X,generateUUID:Y,formatNumber:fa,formatDate:ja,standardiseDateFormat:pa,greaterThanLessThan:ta,equalityTest:Da,toString:va,toNumberArray:Ea,toStringExplicit:ka,toNumber:ha,toDate:ua,toDateTime:J,toBoolean:Z,fixSpatialReference:ia,fixNullGeometry:ba,getDomainValue:na,getDomainCode:ra,getDomain:Ba,stableStringify:Wa,autoCastFeatureToGeometry:Na,autoCastArrayOfPointsToPolygon:Bb,autoCastArrayOfPointsToPolyline:Oa,autoCastArrayOfPointsToMultiPoint:mb,toStringArray:hb,
tick:Cb,binaryOperator:Db,castAsJson:Xa,castAsJsonAsync:ob,featureFullDomain:qb,featureSubtypes:La,featureDomainValueLookup:rb,featureDomainCodeLookup:sb,featureSchema:jb},Symbol.toStringTag,{value:"Module"}));k.ImplicitResult=Ya;k.ImplicitResultE=Ya;k.NativeFunction=tb;k.NativeFunctionE=bb;k.ReturnResult=db;k.ReturnResultE=db;k.SizzleFunction=eb;k.SizzleFunctionE=cb;k.absRound=X;k.autoCastArrayOfPointsToMultiPoint=mb;k.autoCastArrayOfPointsToPolygon=Bb;k.autoCastArrayOfPointsToPolyline=Oa;k.autoCastFeatureToGeometry=
Na;k.binaryOperator=Db;k.breakResult=Za;k.castAsJson=Xa;k.castAsJsonAsync=ob;k.continueResult=ub;k.defaultUndefined=K;k.equalityTest=Da;k.featureDomainCodeLookup=sb;k.featureDomainValueLookup=rb;k.featureFullDomain=qb;k.featureSchema=jb;k.featureSubtypes=La;k.fixNullGeometry=ba;k.fixSpatialReference=ia;k.formatDate=ja;k.formatNumber=fa;k.generateUUID=Y;k.getDomain=Ba;k.getDomainCode=ra;k.getDomainValue=na;k.greaterThanLessThan=ta;k.isArray=Q;k.isBoolean=m;k.isDate=q;k.isFeature=N;k.isFeatureSet=A;
k.isFeatureSetCollection=S;k.isFunctionParameter=O;k.isImmutableArray=u;k.isInteger=G;k.isNumber=C;k.isSimpleType=B;k.isString=l;k.lc=kb;k.multiReplace=D;k.pcCheck=F;k.stableStringify=Wa;k.standardiseDateFormat=pa;k.tick=Cb;k.toBoolean=Z;k.toDate=ua;k.toDateTime=J;k.toNumber=ha;k.toNumberArray=Ea;k.toString=va;k.toStringArray=hb;k.toStringExplicit=ka;k.voidOperation=Ja})},"esri/arcade/FunctionWrapper":function(){define(function(){return function(k,x){this.context=this.definition=null;this.definition=
k;this.context=x}})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function k(y=[]){this._elements=y}var x=k.prototype;x.length=function(){return this._elements.length};x.get=function(y){return this._elements[y]};x.toArray=function(){const y=[];for(let r=0;r<this.length();r++)y.push(this.get(r));return y};return k}()})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","./ImmutablePointArray"],function(k,x,y){return function(r){function v(H,
U,T,V,E){H=r.call(this,H)||this;H._lazyPath=[];H._hasZ=!1;H._hasM=!1;H._hasZ=T;H._hasM=V;H._spRef=U;H._cacheId=E;return H}k._inheritsLoose(v,r);var L=v.prototype;L.get=function(H){if(void 0===this._lazyPath[H]){const U=this._elements[H];if(void 0===U)return;this._lazyPath[H]=new y(U,this._spRef,this._hasZ,this._hasM,this._cacheId,H)}return this._lazyPath[H]};L.equalityTest=function(H){return H===this?!0:null===H||!1===H instanceof v?!1:H.getUniqueHash()===this.getUniqueHash()};L.getUniqueHash=function(){return this._cacheId.toString()};
return v}(x)})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","../geometry/Point"],function(k,x,y){return function(r){function v(H,U,T,V,E,d){H=r.call(this,H)||this;H._lazyPt=[];H._hasZ=!1;H._hasM=!1;H._spRef=U;H._hasZ=T;H._hasM=V;H._cacheId=E;H._partId=d;return H}k._inheritsLoose(v,r);var L=v.prototype;L.get=function(H){if(void 0===this._lazyPt[H]){const U=this._elements[H];if(void 0===U)return;const T=this._hasZ,V=this._hasM;let E=
null;E=T&&!V?new y(U[0],U[1],U[2],void 0,this._spRef):V&&!T?new y(U[0],U[1],void 0,U[2],this._spRef):T&&V?new y(U[0],U[1],U[2],U[3],this._spRef):new y(U[0],U[1],this._spRef);E.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+H.toString();this._lazyPt[H]=E}return this._lazyPt[H]};L.equalityTest=function(H){return H===this?!0:null===H||!1===H instanceof v?!1:H.getUniqueHash()===this.getUniqueHash()};L.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};
return v}(x)})},"esri/chunks/datetime":function(){define(["exports"],function(k){function x(a){return"undefined"===typeof a}function y(a){return"number"===typeof a}function r(a){return"number"===typeof a&&0===a%1}function v(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(a){return!1}}function L(a,b,f){if(0!==a.length)return a.reduce((n,z)=>{z=[b(z),z];return n?f(n[0],z[0])===n[0]?n:z:z},null)[1]}function H(a,b){return b.reduce((f,n)=>{f[n]=a[n];return f},{})}function U(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function T(a,b,f){return r(a)&&a>=b&&a<=f}function V(a,b=2){return 0>a?"-"+(""+-a).padStart(b,"0"):(""+a).padStart(b,"0")}function E(a){if(!x(a)&&null!==a&&""!==a)return parseInt(a,10)}function d(a){if(!x(a)&&null!==a&&""!==a)return parseFloat(a)}function c(a){if(!x(a)&&null!==a&&""!==a)return a=1E3*parseFloat("0."+a),Math.floor(a)}function g(a,b,f=!1){b=10**b;return(f?Math.trunc:Math.round)(a*b)/b}function h(a){return 0===a%4&&(0!==a%100||0===a%400)}function p(a,b){var f=b-1;f=f-12*Math.floor(f/
12)+1;return 2===f?h(a+(b-f)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][f-1]}function t(a){let b=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);100>a.year&&0<=a.year&&(b=new Date(b),b.setUTCFullYear(b.getUTCFullYear()-1900));return+b}function M(a){var b=a-1;b=(b+Math.floor(b/4)-Math.floor(b/100)+Math.floor(b/400))%7;return 4===(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3===b?53:52}function D(a){return 99<a?a:60<a?1900+a:2E3+a}function O(a,b,f,n=null){a=
new Date(a);const z={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(z.timeZone=n);return(b=(new Intl.DateTimeFormat(f,{timeZoneName:b,...z})).formatToParts(a).find(I=>"timezonename"===I.type.toLowerCase()))?b.value:null}function B(a,b){a=parseInt(a,10);Number.isNaN(a)&&(a=0);b=parseInt(b,10)||0;b=0>a||Object.is(a,-0)?-b:b;return 60*a+b}function K(a){const b=Number(a);if("boolean"===typeof a||""===a||Number.isNaN(b))throw new Sa(`Invalid unit value ${a}`);
return b}function l(a,b){const f={};for(const n in a)if(U(a,n)){const z=a[n];void 0!==z&&null!==z&&(f[b(n)]=K(z))}return f}function m(a,b){const f=Math.trunc(Math.abs(a/60)),n=Math.trunc(Math.abs(a%60));a=0<=a?"+":"-";switch(b){case "short":return`${a}${V(f,2)}:${V(n,2)}`;case "narrow":return`${a}${f}${0<n?`:${n}`:""}`;case "techie":return`${a}${V(f,2)}${V(n,2)}`;default:throw new RangeError(`Value format ${b} is out of range for property format`);}}function C(a){return H(a,["hour","minute","second",
"millisecond"])}function G(a){switch(a){case "narrow":return[...Lc];case "short":return[...Wb];case "long":return[...Mc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function Q(a){switch(a){case "narrow":return[...Nc];case "short":return[...Xb];case "long":return[...Yb];case "numeric":return"1234567".split("");default:return null}}function N(a){switch(a){case "narrow":return[...Oc];case "short":return[...Pc];
case "long":return[...Qc];default:return null}}function A(a,b,f="always",n=!1){const z={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var I=-1===["hours","minutes","seconds"].indexOf(a);if("auto"===f&&I)switch(f="days"===a,b){case 1:return f?"tomorrow":`next ${z[a][0]}`;case -1:return f?"yesterday":`last ${z[a][0]}`;case 0:return f?"today":`this ${z[a][0]}`}f=
Object.is(b,-0)||0>b;b=Math.abs(b);I=1===b;const W=z[a];a=n?I?W[1]:W[2]||W[1]:I?z[a][0]:a;return f?`${b} ${a} ago`:`in ${b} ${a}`}function S(a,b){let f="";for(const n of a)f=n.literal?f+n.val:f+b(n.val);return f}function u(a,b){if(x(a)||null===a)return b;if(a instanceof vb)return a;if("string"===typeof a){const f=a.toLowerCase();return"local"===f||"system"===f?b:"utc"===f||"gmt"===f?Pa.utcInstance:Pa.parseSpecifier(f)||$a.create(a)}return y(a)?Pa.instance(a):"object"===typeof a&&a.offset&&"number"===
typeof a.offset?a:new Rc(a)}function q(a,b={}){const f=JSON.stringify([a,b]);let n=Zb[f];n||(n=new Intl.ListFormat(a,b),Zb[f]=n);return n}function F(a,b={}){const f=JSON.stringify([a,b]);let n=Ib[f];n||(n=new Intl.DateTimeFormat(a,b),Ib[f]=n);return n}function X(a,b={}){const f=JSON.stringify([a,b]);let n=Jb[f];n||(n=new Intl.NumberFormat(a,b),Jb[f]=n);return n}function Y(a,b={}){const {base:f,...n}=b,z=JSON.stringify([a,n]);let I=Kb[z];I||(I=new Intl.RelativeTimeFormat(a,b),Kb[z]=I);return I}function fa(a){const b=
[];for(let f=1;12>=f;f++){const n=qa.utc(2016,f,1);b.push(a(n))}return b}function ja(a){const b=[];for(let f=1;7>=f;f++){const n=qa.utc(2016,11,13+f);b.push(a(n))}return b}function pa(a,b,f,n,z){a=a.listingMode(f);return"error"===a?null:"en"===a?n(b):z(b)}function la(...a){a=a.reduce((b,f)=>b+f.source,"");return RegExp(`^${a}$`)}function ta(...a){return b=>a.reduce(([f,n,z],I)=>{const [W,aa,ma]=I(b,z);return[{...f,...W},aa||n,ma]},[{},null,1]).slice(0,2)}function Da(a,...b){if(null==a)return[null,
null];for(const [f,n]of b)if(b=f.exec(a))return n(b);return[null,null]}function va(...a){return(b,f)=>{const n={};let z;for(z=0;z<a.length;z++)n[a[z]]=E(b[f+z]);return[n,null,f+z]}}function Ea(a,b,f){a=a[b];return x(a)?f:E(a)}function ka(a,b){return[{hours:Ea(a,b,0),minutes:Ea(a,b+1,0),seconds:Ea(a,b+2,0),milliseconds:c(a[b+3])},null,b+4]}function da(a,b){const f=!a[b]&&!a[b+1];a=B(a[b+1],a[b+2]);return[{},f?null:Pa.instance(a),b+3]}function ha(a,b){return[{},a[b]?$a.create(a[b]):null,b+1]}function ua(a){const [b,
f,n,z,I,W,aa,ma,Ca]=a,oa="-"===b[0];a=ma&&"-"===ma[0];const wa=(za,Qa=!1)=>void 0!==za&&(Qa||za&&oa)?-za:za;return[{years:wa(d(f)),months:wa(d(n)),weeks:wa(d(z)),days:wa(d(I)),hours:wa(d(W)),minutes:wa(d(aa)),seconds:wa(d(ma),"-0"===ma),milliseconds:wa(c(Ca),a)}]}function J(a,b,f,n,z,I,W){b={year:2===b.length?D(E(b)):E(b),month:Wb.indexOf(f)+1,day:E(n),hour:E(z),minute:E(I)};W&&(b.second=E(W));a&&(b.weekday=3<a.length?Yb.indexOf(a)+1:Xb.indexOf(a)+1);return b}function R(a){const [,b,f,n,z,I,W,aa,
ma,Ca,oa,wa]=a;a=J(b,z,n,f,I,W,aa);let za;za=ma?Sc[ma]:Ca?0:B(oa,wa);return[a,new Pa(za)]}function Z(a){const [,b,f,n,z,I,W,aa]=a;return[J(b,z,n,f,I,W,aa),Pa.utcInstance]}function ia(a){const [,b,f,n,z,I,W,aa]=a;return[J(b,aa,f,n,z,I,W),Pa.utcInstance]}function ba(a,b,f=!1){a={values:f?b.values:{...a.values,...b.values||{}},loc:a.loc.clone(b.loc),conversionAccuracy:b.conversionAccuracy||a.conversionAccuracy};return new ya(a)}function na(a,b,f,n,z){a=a[z][f];var I=b[f]/a;I=Math.sign(I)!==Math.sign(n[z])&&
0!==n[z]&&1>=Math.abs(I)?0>I?Math.floor(I):Math.ceil(I):Math.trunc(I);n[z]+=I;b[f]-=I*a}function ra(a,b){Tc.reduce((f,n)=>{if(x(b[n]))return f;f&&na(a,b,f,b,n);return n},null)}function Ba(a,b){a=b.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(ya.fromMillis(a).as("days"))}function Ta(a,b,f){var n=[["years",(aa,ma)=>ma.year-aa.year],["quarters",(aa,ma)=>ma.quarter-aa.quarter],["months",(aa,ma)=>ma.month-aa.month+12*(ma.year-
aa.year)],["weeks",(aa,ma)=>{aa=Ba(aa,ma);return(aa-aa%7)/7}],["days",Ba]];const z={};let I,W;for(const [aa,ma]of n)0<=f.indexOf(aa)&&(I=aa,n=ma(a,b),W=a.plus({[aa]:n}),W>b?(a=a.plus({[aa]:n-1}),--n):a=W,z[aa]=n);return[a,z,W,I]}function Wa(a,b,f,n){let [z,I,W,aa]=Ta(a,b,f);a=b-z;f=f.filter(ma=>0<=["hours","minutes","seconds","milliseconds"].indexOf(ma));0===f.length&&(W<b&&(W=z.plus({[aa]:1})),W!==z&&(I[aa]=(I[aa]||0)+a/(W-z)));b=ya.fromObject(I,n);return 0<f.length?ya.fromMillis(a,n).shiftTo(...f).plus(b):
b}function Na({numberingSystem:a},b=""){return new RegExp(`${Lb[a||"latn"]}${b}`)}function sa(a,b=f=>f){return{regex:a,deser:([f])=>{{let n=parseInt(f,10);if(isNaN(n)){n="";for(let z=0;z<f.length;z++){const I=f.charCodeAt(z);if(-1!==f[z].search(Lb.hanidec))n+=Uc.indexOf(f[z]);else for(const W in $b){const [aa,ma]=$b[W];I>=aa&&I<=ma&&(n+=I-aa)}}f=parseInt(n,10)}else f=n}return b(f)}}}function Bb(a){return a.replace(/\./g,"\\.?").replace(Mb,ac)}function Oa(a,b){return null===a?null:{regex:RegExp(a.map(Bb).join("|")),
deser:([f])=>a.findIndex(n=>f.replace(/\./g,"").replace(Mb," ").toLowerCase()===n.replace(/\./g,"").replace(Mb," ").toLowerCase())+b}}function mb(a,b){return{regex:a,deser:([,f,n])=>B(f,n),groups:b}}function hb(a){return{regex:a,deser:([b])=>b}}function Cb(a,b){const f=Na(b),n=Na(b,"{2}"),z=Na(b,"{3}"),I=Na(b,"{4}"),W=Na(b,"{6}"),aa=Na(b,"{1,2}"),ma=Na(b,"{1,3}"),Ca=Na(b,"{1,6}"),oa=Na(b,"{1,9}"),wa=Na(b,"{2,4}"),za=Na(b,"{4,6}"),Qa=fb=>({regex:RegExp(fb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$\x26")),deser:([Nb])=>Nb,literal:!0}),lb=(fb=>{if(a.literal)return Qa(fb);switch(fb.val){case "G":return Oa(b.eras("short",!1),0);case "GG":return Oa(b.eras("long",!1),0);case "y":return sa(Ca);case "yy":return sa(wa,D);case "yyyy":return sa(I);case "yyyyy":return sa(za);case "yyyyyy":return sa(W);case "M":return sa(aa);case "MM":return sa(n);case "MMM":return Oa(b.months("short",!0,!1),1);case "MMMM":return Oa(b.months("long",!0,!1),1);case "L":return sa(aa);case "LL":return sa(n);case "LLL":return Oa(b.months("short",
!1,!1),1);case "LLLL":return Oa(b.months("long",!1,!1),1);case "d":return sa(aa);case "dd":return sa(n);case "o":return sa(ma);case "ooo":return sa(z);case "HH":return sa(n);case "H":return sa(aa);case "hh":return sa(n);case "h":return sa(aa);case "mm":return sa(n);case "m":return sa(aa);case "q":return sa(aa);case "qq":return sa(n);case "s":return sa(aa);case "ss":return sa(n);case "S":return sa(ma);case "SSS":return sa(z);case "u":return hb(oa);case "uu":return hb(aa);case "uuu":return sa(f);case "a":return Oa(b.meridiems(),
0);case "kkkk":return sa(I);case "kk":return sa(wa,D);case "W":return sa(aa);case "WW":return sa(n);case "E":case "c":return sa(f);case "EEE":return Oa(b.weekdays("short",!1,!1),1);case "EEEE":return Oa(b.weekdays("long",!1,!1),1);case "ccc":return Oa(b.weekdays("short",!0,!1),1);case "cccc":return Oa(b.weekdays("long",!0,!1),1);case "Z":case "ZZ":return mb(new RegExp(`([+-]${aa.source})(?::(${n.source}))?`),2);case "ZZZ":return mb(new RegExp(`([+-]${aa.source})(${n.source})?`),2);case "z":return hb(/[a-z_+-/]{1,256}?/i);
default:return Qa(fb)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};lb.token=a;return lb}function Db(a){return[`^${a.map(b=>b.regex).reduce((b,f)=>`${b}(${f.source})`,"")}$`,a]}function Xa(a,b,f){if(a=a.match(b)){b={};let n=1;for(const z in f)if(U(f,z)){const I=f[z],W=I.groups?I.groups+1:1;!I.literal&&I.token&&(b[I.token.val[0]]=I.deser(a.slice(n,n+W)));n+=W}return[a,b]}return[a,{}]}function Hb(a){const b=z=>{switch(z){case "S":return"millisecond";case "s":return"second";
case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let f=null,n;x(a.z)||(f=$a.create(a.z));x(a.Z)||(f||(f=new Pa(a.Z)),n=a.Z);x(a.q)||(a.M=3*(a.q-1)+1);x(a.h)||(12>a.h&&1===a.a?a.h+=12:12===a.h&&0===a.a&&(a.h=0));0===a.G&&a.y&&(a.y=-a.y);x(a.u)||(a.S=c(a.u));return[Object.keys(a).reduce((z,
I)=>{const W=b(I);W&&(z[W]=a[I]);return z},{}),f,n]}function nb(){Ob||(Ob=qa.fromMillis(1555555555555));return Ob}function ob(a,b){if(a.literal)return a;const f=Ra.macroTokenToFormatOpts(a.val);if(!f)return a;b=Ra.create(b,f).formatDateTimeParts(nb()).map(n=>{{const {type:I,value:W}=n;if("literal"===I)n={literal:!0,val:W};else{n=f[I];var z=Vc[I];"object"===typeof z&&(z=z[n]);n=z?{literal:!1,val:z}:void 0}}return n});return b.includes(void 0)?a:b}function pb(a,b){return Array.prototype.concat(...a.map(f=>
ob(f,b)))}function qb(a,b,f){f=pb(Ra.parseFormat(f),a);var n=f.map(I=>Cb(I,a));const z=n.find(I=>I.invalidReason);if(z)return{input:b,tokens:f,invalidReason:z.invalidReason};{const [I,W]=Db(n);n=RegExp(I,"i");const [aa,ma]=Xa(b,n,W),[Ca,oa,wa]=ma?Hb(ma):[null,null,void 0];if(U(ma,"a")&&U(ma,"H"))throw new wb("Can't include meridiem when specifying 24-hour format");return{input:b,tokens:f,regex:n,rawMatches:aa,matches:ma,result:Ca,zone:oa,specificOffset:wa}}}function La(a,b){return new Ua("unit out of range",
`you specified ${b} (of type ${typeof b}) as a ${a}, which is invalid`)}function rb(a,b,f){b=new Date(Date.UTC(a,b-1,f));100>a&&0<=a&&b.setUTCFullYear(b.getUTCFullYear()-1900);a=b.getUTCDay();return 0===a?7:a}function sb(a,b){a=h(a)?Pb:Qb;const f=a.findIndex(n=>n<b);return{month:f+1,day:b-a[f]}}function jb(a){const {year:b,month:f,day:n}=a;var z=n+(h(b)?Pb:Qb)[f-1];const I=rb(b,f,n);z=Math.floor((z-I+10)/7);let W;1>z?(W=b-1,z=M(W)):z>M(b)?(W=b+1,z=1):W=b;return{weekYear:W,weekNumber:z,weekday:I,...C(a)}}
function db(a){const {weekYear:b,weekNumber:f,weekday:n}=a;var z=rb(b,1,4),I=h(b)?366:365;z=7*f+n-z-3;1>z?(I=b-1,z+=h(I)?366:365):z>I?(I=b+1,z-=h(b)?366:365):I=b;const {month:W,day:aa}=sb(I,z);return{year:I,month:W,day:aa,...C(a)}}function Ya(a){const {year:b,month:f,day:n}=a;var z=n+(h(b)?Pb:Qb)[f-1];return{year:b,ordinal:z,...C(a)}}function bb(a){const {year:b,ordinal:f}=a,{month:n,day:z}=sb(b,f);return{year:b,month:n,day:z,...C(a)}}function cb(a){const b=r(a.year),f=T(a.month,1,12),n=T(a.day,1,
p(a.year,a.month));return b?f?n?!1:La("day",a.day):La("month",a.month):La("year",a.year)}function tb(a){const {hour:b,minute:f,second:n,millisecond:z}=a;a=T(b,0,23)||24===b&&0===f&&0===n&&0===z;const I=T(f,0,59),W=T(n,0,59),aa=T(z,0,999);return a?I?W?aa?!1:La("millisecond",z):La("second",n):La("minute",f):La("hour",b)}function eb(a){return new Ua("unsupported zone",`the zone "${a.name}" is not supported`)}function Ja(a){null===a.weekData&&(a.weekData=jb(a.c));return a.weekData}function Za(a,b){a=
{ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new qa({...a,...b,old:a})}function ub(a,b,f){let n=a-6E4*b;const z=f.offset(n);if(b===z)return[n,b];n-=6E4*(z-b);b=f.offset(n);return z===b?[n,z]:[a-6E4*Math.min(z,b),Math.max(z,b)]}function ib(a,b){a=new Date(a+6E4*b);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function kb(a,b,f){return ub(t(a),
b,f)}function e(a,b){const f=a.o;var n=a.c.year+Math.trunc(b.years);const z=a.c.month+Math.trunc(b.months)+3*Math.trunc(b.quarters);n={...a.c,year:n,month:z,day:Math.min(a.c.day,p(n,z))+Math.trunc(b.days)+7*Math.trunc(b.weeks)};b=ya.fromObject({years:b.years-Math.trunc(b.years),quarters:b.quarters-Math.trunc(b.quarters),months:b.months-Math.trunc(b.months),weeks:b.weeks-Math.trunc(b.weeks),days:b.days-Math.trunc(b.days),hours:b.hours,minutes:b.minutes,seconds:b.seconds,milliseconds:b.milliseconds}).as("milliseconds");
n=t(n);let [I,W]=ub(n,f,a.zone);0!==b&&(I+=b,W=a.zone.offset(I));return{ts:I,o:W}}function w(a,b,f,n,z,I){const {setZone:W,zone:aa}=f;return a&&0!==Object.keys(a).length?(a=qa.fromObject(a,{...f,zone:b||aa,specificOffset:I}),W?a:a.setZone(aa)):qa.invalid(new Ua("unparsable",`the input "${z}" can't be parsed as ${n}`))}function P(a,b,f=!0){return a.isValid?Ra.create(Fa.create("en-US"),{allowZ:f,forceSimple:!0}).formatDateTimeFromString(a,b):null}function ca(a,b){const f=9999<a.c.year||0>a.c.year;let n=
"";f&&0<=a.c.year&&(n+="+");n+=V(a.c.year,f?6:4);b?(n=n+"-"+V(a.c.month),n=n+"-"+V(a.c.day)):(n+=V(a.c.month),n+=V(a.c.day));return n}function ea(a,b,f,n,z,I){let W=V(a.c.hour);b?(W=W+":"+V(a.c.minute),0===a.c.second&&f||(W+=":")):W+=V(a.c.minute);0===a.c.second&&f||(W+=V(a.c.second),0===a.c.millisecond&&n||(W=W+"."+V(a.c.millisecond,3)));z&&(a.isOffsetFixed&&0===a.offset&&!I?W+="Z":0>a.o?(W=W+"-"+V(Math.trunc(-a.o/60)),W=W+":"+V(Math.trunc(-a.o%60))):(W=W+"+"+V(Math.trunc(a.o/60)),W=W+":"+V(Math.trunc(a.o%
60))));I&&(W+="["+a.zone.ianaName+"]");return W}function xa(a){const b={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];
if(!b)throw new bc(a);return b}function Aa(a,b){const f=u(b.zone,Ha.defaultZone);b=Fa.fromObject(b);const n=Ha.now();var z;if(x(a.year))a=n;else{for(const I of cc)x(a[I])&&(a[I]=dc[I]);if(z=cb(a)||tb(a))return qa.invalid(z);z=f.offset(n);[a,z]=kb(a,z,f)}return new qa({ts:a,zone:f,loc:b,o:z})}function Ka(a,b,f){const n=x(f.round)?!0:f.round,z=(W,aa)=>{W=g(W,n||f.calendary?0:2,!0);return b.loc.clone(f).relFormatter(f).format(W,aa)},I=W=>f.calendary?b.hasSame(a,W)?0:b.startOf(W).diff(a.startOf(W),W).get(W):
b.diff(a,W).get(W);if(f.unit)return z(I(f.unit),f.unit);for(const W of f.units){const aa=I(W);if(1<=Math.abs(aa))return z(aa,W)}return z(a>b?-0:0,f.units[f.units.length-1])}function Ia(a){let b={};0<a.length&&"object"===typeof a[a.length-1]?(b=a[a.length-1],a=Array.from(a).slice(0,a.length-1)):a=Array.from(a);return[b,a]}function Ma(a){if(qa.isDateTime(a))return a;if(a&&a.valueOf&&y(a.valueOf()))return qa.fromJSDate(a);if(a&&"object"===typeof a)return qa.fromObject(a);throw new Sa(`Unknown datetime argument: ${a}, of type ${typeof a}`);
}class Va extends Error{}class yb extends Va{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class zb extends Va{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class Ab extends Va{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class wb extends Va{}class bc extends Va{constructor(a){super(`Invalid unit ${a}`)}}class Sa extends Va{}class ab extends Va{constructor(){super("Zone is an abstract class")}}const Rb={year:"numeric",month:"numeric",day:"numeric"},ec={year:"numeric",
month:"short",day:"numeric"},Wc={year:"numeric",month:"short",day:"numeric",weekday:"short"},fc={year:"numeric",month:"long",day:"numeric"},gc={year:"numeric",month:"long",day:"numeric",weekday:"long"},hc={hour:"numeric",minute:"numeric"},ic={hour:"numeric",minute:"numeric",second:"numeric"},jc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},kc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},lc={hour:"numeric",minute:"numeric",hourCycle:"h23"},mc={hour:"numeric",
minute:"numeric",second:"numeric",hourCycle:"h23"},nc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},oc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},pc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},qc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},rc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},sc={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Xc={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},tc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},uc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},vc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},
wc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},xc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Mc="January February March April May June July August September October November December".split(" "),Wb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Lc="JFMAMJJASOND".split(""),Yb="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Xb="Mon Tue Wed Thu Fri Sat Sun".split(" "),
Nc="MTWTFSS".split(""),yc=["AM","PM"],Qc=["Before Christ","Anno Domini"],Pc=["BC","AD"],Oc=["B","A"],Yc={D:Rb,DD:ec,DDD:fc,DDDD:gc,t:hc,tt:ic,ttt:jc,tttt:kc,T:lc,TT:mc,TTT:nc,TTTT:oc,f:pc,ff:rc,fff:tc,ffff:vc,F:qc,FF:sc,FFF:uc,FFFF:wc};class Ra{static create(a,b={}){return new Ra(a,b)}static parseFormat(a){let b=null,f="",n=!1;const z=[];for(let I=0;I<a.length;I++){const W=a.charAt(I);"'"===W?(0<f.length&&z.push({literal:n,val:f}),b=null,f="",n=!n):n?f+=W:W===b?f+=W:(0<f.length&&z.push({literal:!1,
val:f}),b=f=W)}0<f.length&&z.push({literal:n,val:f});return z}static macroTokenToFormatOpts(a){return Yc[a]}constructor(a,b){this.opts=b;this.loc=a;this.systemLoc=null}formatWithSystemDefault(a,b){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(a,{...this.opts,...b}).format()}formatDateTime(a,b={}){return this.loc.dtFormatter(a,{...this.opts,...b}).format()}formatDateTimeParts(a,b={}){return this.loc.dtFormatter(a,{...this.opts,...b}).formatToParts()}resolvedOptions(a,
b={}){return this.loc.dtFormatter(a,{...this.opts,...b}).resolvedOptions()}num(a,b=0){if(this.opts.forceSimple)return V(a,b);const f={...this.opts};0<b&&(f.padTo=b);return this.loc.numberFormatter(f).format(a)}formatDateTimeFromString(a,b){const f="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,z=(oa,wa)=>this.loc.extract(a,oa,wa),I=oa=>a.isOffsetFixed&&0===a.offset&&oa.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,oa.format):"",W=(oa,wa)=>f?G(oa)[a.month-
1]:z(wa?{month:oa}:{month:oa,day:"numeric"},"month"),aa=(oa,wa)=>f?Q(oa)[a.weekday-1]:z(wa?{weekday:oa}:{weekday:oa,month:"long",day:"numeric"},"weekday"),ma=oa=>{const wa=Ra.macroTokenToFormatOpts(oa);return wa?this.formatWithSystemDefault(a,wa):oa},Ca=oa=>f?N(oa)[0>a.year?0:1]:z({era:oa},"era");return S(Ra.parseFormat(b),oa=>{switch(oa){case "S":return this.num(a.millisecond);case "u":case "SSS":return this.num(a.millisecond,3);case "s":return this.num(a.second);case "ss":return this.num(a.second,
2);case "uu":return this.num(Math.floor(a.millisecond/10),2);case "uuu":return this.num(Math.floor(a.millisecond/100));case "m":return this.num(a.minute);case "mm":return this.num(a.minute,2);case "h":return this.num(0===a.hour%12?12:a.hour%12);case "hh":return this.num(0===a.hour%12?12:a.hour%12,2);case "H":return this.num(a.hour);case "HH":return this.num(a.hour,2);case "Z":return I({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return I({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return I({format:"techie",
allowZ:this.opts.allowZ});case "ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this.loc.locale});case "z":return a.zoneName;case "a":return f?yc[12>a.hour?0:1]:z({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return n?z({day:"numeric"},"day"):this.num(a.day);case "dd":return n?z({day:"2-digit"},"day"):this.num(a.day,2);case "c":return this.num(a.weekday);case "ccc":return aa("short",!0);case "cccc":return aa("long",
!0);case "ccccc":return aa("narrow",!0);case "E":return this.num(a.weekday);case "EEE":return aa("short",!1);case "EEEE":return aa("long",!1);case "EEEEE":return aa("narrow",!1);case "L":return n?z({month:"numeric",day:"numeric"},"month"):this.num(a.month);case "LL":return n?z({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case "LLL":return W("short",!0);case "LLLL":return W("long",!0);case "LLLLL":return W("narrow",!0);case "M":return n?z({month:"numeric"},"month"):this.num(a.month);
case "MM":return n?z({month:"2-digit"},"month"):this.num(a.month,2);case "MMM":return W("short",!1);case "MMMM":return W("long",!1);case "MMMMM":return W("narrow",!1);case "y":return n?z({year:"numeric"},"year"):this.num(a.year);case "yy":return n?z({year:"2-digit"},"year"):this.num(a.year.toString().slice(-2),2);case "yyyy":return n?z({year:"numeric"},"year"):this.num(a.year,4);case "yyyyyy":return n?z({year:"numeric"},"year"):this.num(a.year,6);case "G":return Ca("short");case "GG":return Ca("long");
case "GGGGG":return Ca("narrow");case "kk":return this.num(a.weekYear.toString().slice(-2),2);case "kkkk":return this.num(a.weekYear,4);case "W":return this.num(a.weekNumber);case "WW":return this.num(a.weekNumber,2);case "o":return this.num(a.ordinal);case "ooo":return this.num(a.ordinal,3);case "q":return this.num(a.quarter);case "qq":return this.num(a.quarter,2);case "X":return this.num(Math.floor(a.ts/1E3));case "x":return this.num(a.ts);default:return ma(oa)}})}formatDurationFromString(a,b){const f=
z=>{switch(z[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};b=Ra.parseFormat(b);const n=b.reduce((z,{literal:I,val:W})=>I?z:z.concat(W),[]);a=a.shiftTo(...n.map(f).filter(z=>z));return S(b,(z=>I=>{const W=f(I);return W?this.num(z.get(W),I.length):I})(a))}}class Ua{constructor(a,b){this.reason=a;this.explanation=b}toMessage(){return this.explanation?
`${this.reason}: ${this.explanation}`:this.reason}}class vb{get type(){throw new ab;}get name(){throw new ab;}get ianaName(){return this.name}get isUniversal(){throw new ab;}offsetName(a,b){throw new ab;}formatOffset(a,b){throw new ab;}offset(a){throw new ab;}equals(a){throw new ab;}get isValid(){throw new ab;}}let Sb=null;class zc extends vb{static get instance(){null===Sb&&(Sb=new zc);return Sb}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,
{format:b,locale:f}){return O(a,b,f)}formatOffset(a,b){return m(this.offset(a),b)}offset(a){return-(new Date(a)).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}let Eb={};const Zc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Fb={};class $a extends vb{static create(a){Fb[a]||(Fb[a]=new $a(a));return Fb[a]}static resetCache(){Fb={};Eb={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return(new Intl.DateTimeFormat("en-US",
{timeZone:a})).format(),!0}catch(b){return!1}}constructor(a){super();this.zoneName=a;this.valid=$a.isValidZone(a)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(a,{format:b,locale:f}){return O(a,b,f,this.name)}formatOffset(a,b){return m(this.offset(a),b)}offset(a){a=new Date(a);if(isNaN(a))return NaN;var b=this.name;Eb[b]||(Eb[b]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",
second:"2-digit",era:"short"}));b=Eb[b];if(b.formatToParts){b=b.formatToParts(a);var f=[];for(let oa=0;oa<b.length;oa++){const {type:wa,value:za}=b[oa],Qa=Zc[wa];"era"===wa?f[Qa]=za:x(Qa)||(f[Qa]=parseInt(za,10))}b=f}else{{b=b.format(a).replace(/\u200E/g,"");b=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(b);const [,oa,wa,za,Qa,lb,fb,Nb]=b;b=[za,oa,wa,Qa,lb,fb,Nb]}}let [n,z,I,W,aa,ma,Ca]=b;"BC"===W&&(n=-Math.abs(n)+1);b=t({year:n,month:z,day:I,hour:24===aa?0:aa,minute:ma,second:Ca,millisecond:0});
a=+a;f=a%1E3;return(b-(a-(0<=f?f:1E3+f)))/6E4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this.valid}}let Tb=null;class Pa extends vb{static get utcInstance(){null===Tb&&(Tb=new Pa(0));return Tb}static instance(a){return 0===a?Pa.utcInstance:new Pa(a)}static parseSpecifier(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Pa(B(a[1],a[2])):null}constructor(a){super();this.fixed=a}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${m(this.fixed,
"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${m(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(a,b){return m(this.fixed,b)}get isUniversal(){return!0}offset(){return this.fixed}equals(a){return"fixed"===a.type&&a.fixed===this.fixed}get isValid(){return!0}}class Rc extends vb{constructor(a){super();this.zoneName=a}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}
let Ac=()=>Date.now(),Bc="system",Cc=null,Dc=null,Ec=null,Fc;class Ha{static get now(){return Ac}static set now(a){Ac=a}static set defaultZone(a){Bc=a}static get defaultZone(){return u(Bc,zc.instance)}static get defaultLocale(){return Cc}static set defaultLocale(a){Cc=a}static get defaultNumberingSystem(){return Dc}static set defaultNumberingSystem(a){Dc=a}static get defaultOutputCalendar(){return Ec}static set defaultOutputCalendar(a){Ec=a}static get throwOnInvalid(){return Fc}static set throwOnInvalid(a){Fc=
a}static resetCaches(){Fa.resetCache();$a.resetCache()}}let Zb={},Ib={},Jb={},Kb={},Gb=null;class $c{constructor(a,b,f){this.padTo=f.padTo||0;this.floor=f.floor||!1;const {padTo:n,floor:z,...I}=f;if(!b||0<Object.keys(I).length)b={useGrouping:!1,...f},0<f.padTo&&(b.minimumIntegerDigits=f.padTo),this.inf=X(a,b)}format(a){if(this.inf)return this.inf.format(this.floor?Math.floor(a):a);a=this.floor?Math.floor(a):g(a,3);return V(a,this.padTo)}}class ad{constructor(a,b,f){this.opts=f;if(a.zone.isUniversal){var n=
a.offset/60*-1;n=0<=n?`Etc/GMT+${n}`:`Etc/GMT${n}`;0!==a.offset&&$a.create(n).valid?this.dt=a:(n="UTC",this.dt=f.timeZoneName?a:0===a.offset?a:qa.fromMillis(a.ts+6E4*a.offset))}else"system"===a.zone.type?this.dt=a:(this.dt=a,n=a.zone.name);a={...this.opts};n&&(a.timeZone=n);this.dtf=F(b,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class bd{constructor(a,b,f){this.opts={style:"long",
...f};!b&&v()&&(this.rtf=Y(a,f))}format(a,b){return this.rtf?this.rtf.format(a,b):A(b,a,this.opts.numeric,"long"!==this.opts.style)}formatToParts(a,b){return this.rtf?this.rtf.formatToParts(a,b):[]}}class Fa{static fromOpts(a){return Fa.create(a.locale,a.numberingSystem,a.outputCalendar,a.defaultToEN)}static create(a,b,f,n=!1){a=a||Ha.defaultLocale;var z;(z=a)||(n?n="en-US":(Gb||(Gb=(new Intl.DateTimeFormat).resolvedOptions().locale),n=Gb),z=n);return new Fa(z,b||Ha.defaultNumberingSystem,f||Ha.defaultOutputCalendar,
a)}static resetCache(){Gb=null;Ib={};Jb={};Kb={}}static fromObject({locale:a,numberingSystem:b,outputCalendar:f}={}){return Fa.create(a,b,f)}constructor(a,b,f,n){var z=a.indexOf("-u-");if(-1===z)a=[a];else{let ma;z=a.substring(0,z);try{ma=F(a).resolvedOptions()}catch(wa){ma=F(z).resolvedOptions()}const {numberingSystem:Ca,calendar:oa}=ma;a=[z,Ca,oa]}const [I,W,aa]=a;this.locale=I;this.numberingSystem=b||W||null;this.outputCalendar=f||aa||null;b=this.locale;f=this.numberingSystem;if((a=this.outputCalendar)||
f)b+="-u",a&&(b+=`-ca-${a}`),f&&(b+=`-nu-${f}`);this.intl=b;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=n;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var a=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;
this.fastNumbersCached=a}return this.fastNumbersCached}listingMode(){const a=this.isEnglish(),b=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return a&&b?"en":"intl"}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?Fa.create(a.locale||this.specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,a.defaultToEN||!1):this}redefaultToEN(a={}){return this.clone({...a,defaultToEN:!0})}redefaultToSystem(a=
{}){return this.clone({...a,defaultToEN:!1})}months(a,b=!1,f=!0){return pa(this,a,f,G,()=>{const n=b?{month:a,day:"numeric"}:{month:a},z=b?"format":"standalone";this.monthsCache[z][a]||(this.monthsCache[z][a]=fa(I=>this.extract(I,n,"month")));return this.monthsCache[z][a]})}weekdays(a,b=!1,f=!0){return pa(this,a,f,Q,()=>{const n=b?{weekday:a,year:"numeric",month:"long",day:"numeric"}:{weekday:a},z=b?"format":"standalone";this.weekdaysCache[z][a]||(this.weekdaysCache[z][a]=ja(I=>this.extract(I,n,"weekday")));
return this.weekdaysCache[z][a]})}meridiems(a=!0){return pa(this,void 0,a,()=>yc,()=>{if(!this.meridiemCache){const b={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[qa.utc(2016,11,13,9),qa.utc(2016,11,13,19)].map(f=>this.extract(f,b,"dayperiod"))}return this.meridiemCache})}eras(a,b=!0){return pa(this,a,b,N,()=>{const f={era:a};this.eraCache[a]||(this.eraCache[a]=[qa.utc(-40,1,1),qa.utc(2017,1,1)].map(n=>this.extract(n,f,"era")));return this.eraCache[a]})}extract(a,b,f){return(a=this.dtFormatter(a,
b).formatToParts().find(n=>n.type.toLowerCase()===f))?a.value:null}numberFormatter(a={}){return new $c(this.intl,a.forceSimple||this.fastNumbers,a)}dtFormatter(a,b={}){return new ad(a,this.intl,b)}relFormatter(a={}){return new bd(this.intl,this.isEnglish(),a)}listFormatter(a={}){return q(this.intl,a)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(a){return this.locale===a.locale&&this.numberingSystem===
a.numberingSystem&&this.outputCalendar===a.outputCalendar}}const Gc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ub=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Hc=RegExp(`${Ub.source}${`(?:${Gc.source}?(?:\\[(${xc.source})\\])?)?`}`),Vb=RegExp(`(?:T${Hc.source})?`),cd=va("weekYear","weekNumber","weekDay"),dd=va("year","ordinal"),Ic=RegExp(`${Ub.source} ?(?:${Gc.source}|(${xc.source}))?`),ed=RegExp(`(?: ${Ic.source})?`),fd=RegExp(`^T?${Ub.source}$`),gd=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/,
Sc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},hd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,jd=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
kd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ld=la(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Vb),md=la(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Vb),nd=la(/(\d{4})-?(\d{3})/,Vb),od=la(Hc),Jc=ta(function(a,b){return[{year:Ea(a,b),month:Ea(a,b+1,1),day:Ea(a,b+2,1)},null,b+3]},ka,da,ha),pd=ta(cd,ka,da,ha),qd=ta(dd,ka,da,ha),rd=ta(ka,da,ha),sd=ta(ka),td=la(/(\d{4})-(\d\d)-(\d\d)/,ed),ud=la(Ic),vd=ta(ka,da,ha),Kc={weeks:{days:7,
hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},wd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,
milliseconds:2592E6},...Kc},xd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Kc},gb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Tc=gb.slice(0).reverse();
class ya{constructor(a){const b="longterm"===a.conversionAccuracy||!1;this.values=a.values;this.loc=a.loc||Fa.create();this.conversionAccuracy=b?"longterm":"casual";this.invalid=a.invalid||null;this.matrix=b?xd:wd;this.isLuxonDuration=!0}static fromMillis(a,b){return ya.fromObject({milliseconds:a},b)}static fromObject(a,b={}){if(null==a||"object"!==typeof a)throw new Sa(`Duration.fromObject: argument expected to be an object, got ${null===a?"null":typeof a}`);return new ya({values:l(a,ya.normalizeUnit),
loc:Fa.fromObject(b),conversionAccuracy:b.conversionAccuracy})}static fromDurationLike(a){if(y(a))return ya.fromMillis(a);if(ya.isDuration(a))return a;if("object"===typeof a)return ya.fromObject(a);throw new Sa(`Unknown duration argument ${a} of type ${typeof a}`);}static fromISO(a,b){const [f]=Da(a,[gd,ua]);return f?ya.fromObject(f,b):ya.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,b){const [f]=Da(a,[fd,sd]);return f?ya.fromObject(f,b):ya.invalid("unparsable",
`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,b=null){if(!a)throw new Sa("need to specify a reason the Duration is invalid");a=a instanceof Ua?a:new Ua(a,b);if(Ha.throwOnInvalid)throw new Ab(a);return new ya({invalid:a})}static normalizeUnit(a){const b={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",
millisecond:"milliseconds",milliseconds:"milliseconds"}[a?a.toLowerCase():a];if(!b)throw new bc(a);return b}static isDuration(a){return a&&a.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(a,b={}){b={...b,floor:!1!==b.round&&!1!==b.floor};return this.isValid?Ra.create(this.loc,b).formatDurationFromString(this,a):"Invalid Duration"}toHuman(a={}){const b=gb.map(f=>{const n=this.values[f];return x(n)?
null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...a,unit:f.slice(0,-1)}).format(n)}).filter(f=>f);return this.loc.listFormatter({type:"conjunction",style:a.listStyle||"narrow",...a}).format(b)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let a="P";0!==this.years&&(a+=this.years+"Y");if(0!==this.months||0!==this.quarters)a+=this.months+3*this.quarters+"M";0!==this.weeks&&(a+=this.weeks+"W");0!==this.days&&(a+=this.days+"D");if(0!==this.hours||
0!==this.minutes||0!==this.seconds||0!==this.milliseconds)a+="T";0!==this.hours&&(a+=this.hours+"H");0!==this.minutes&&(a+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)a+=g(this.seconds+this.milliseconds/1E3,3)+"S";"P"===a&&(a+="T0S");return a}toISOTime(a={}){if(!this.isValid)return null;var b=this.toMillis();if(0>b||864E5<=b)return null;a={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...a};b=this.shiftTo("hours","minutes","seconds","milliseconds");
let f="basic"===a.format?"hhmm":"hh:mm";a.suppressSeconds&&0===b.seconds&&0===b.milliseconds||(f+="basic"===a.format?"ss":":ss",a.suppressMilliseconds&&0===b.milliseconds||(f+=".SSS"));b=b.toFormat(f);a.includePrefix&&(b="T"+b);return b}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(a){if(!this.isValid)return this;a=ya.fromDurationLike(a);const b={};for(const f of gb)if(U(a.values,f)||U(this.values,f))b[f]=
a.get(f)+this.get(f);return ba(this,{values:b},!0)}minus(a){if(!this.isValid)return this;a=ya.fromDurationLike(a);return this.plus(a.negate())}mapUnits(a){if(!this.isValid)return this;const b={};for(const f of Object.keys(this.values))b[f]=K(a(this.values[f],f));return ba(this,{values:b},!0)}get(a){return this[ya.normalizeUnit(a)]}set(a){if(!this.isValid)return this;a={...this.values,...l(a,ya.normalizeUnit)};return ba(this,{values:a})}reconfigure({locale:a,numberingSystem:b,conversionAccuracy:f}=
{}){a={loc:this.loc.clone({locale:a,numberingSystem:b})};f&&(a.conversionAccuracy=f);return ba(this,a)}as(a){return this.isValid?this.shiftTo(a).get(a):NaN}normalize(){if(!this.isValid)return this;const a=this.toObject();ra(this.matrix,a);return ba(this,{values:a},!0)}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(I=>ya.normalizeUnit(I));const b={},f={},n=this.toObject();let z;for(const I of gb)if(0<=a.indexOf(I)){z=I;let W=0;for(const ma in f)W+=this.matrix[ma][I]*f[ma],f[ma]=0;
y(n[I])&&(W+=n[I]);const aa=Math.trunc(W);b[I]=aa;f[I]=(1E3*W-1E3*aa)/1E3;for(const ma in n)gb.indexOf(ma)>gb.indexOf(I)&&na(this.matrix,n,ma,b,I)}else y(n[I])&&(f[I]=n[I]);for(const I in f)0!==f[I]&&(b[z]+=I===z?f[I]:f[I]/this.matrix[z][I]);return ba(this,{values:b},!0).normalize()}negate(){if(!this.isValid)return this;const a={};for(const b of Object.keys(this.values))a[b]=0===this.values[b]?0:-this.values[b];return ba(this,{values:a},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?
this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?
this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(a){if(!this.isValid||!a.isValid||!this.loc.equals(a.loc))return!1;for(const n of gb){var b=this.values[n];var f=a.values[n];b=void 0===b||0===b?void 0===f||0===f:b===f;if(!b)return!1}return!0}}class Ga{constructor(a){this.s=a.start;this.e=a.end;this.invalid=a.invalid||null;this.isLuxonInterval=!0}static invalid(a,b=null){if(!a)throw new Sa("need to specify a reason the Interval is invalid");
a=a instanceof Ua?a:new Ua(a,b);if(Ha.throwOnInvalid)throw new zb(a);return new Ga({invalid:a})}static fromDateTimes(a,b){a=Ma(a);b=Ma(b);var f=a&&a.isValid?b&&b.isValid?b<a?Ga.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${b.toISO()}`):null:Ga.invalid("missing or invalid end"):Ga.invalid("missing or invalid start");return null==f?new Ga({start:a,end:b}):f}static after(a,b){b=ya.fromDurationLike(b);a=Ma(a);return Ga.fromDateTimes(a,
a.plus(b))}static before(a,b){b=ya.fromDurationLike(b);a=Ma(a);return Ga.fromDateTimes(a.minus(b),a)}static fromISO(a,b){const [f,n]=(a||"").split("/",2);if(f&&n){let W;try{var z=qa.fromISO(f,b);W=z.isValid}catch(ma){W=!1}let aa;try{var I=qa.fromISO(n,b);aa=I.isValid}catch(ma){aa=!1}if(W&&aa)return Ga.fromDateTimes(z,I);if(W){if(I=ya.fromISO(n,b),I.isValid)return Ga.after(z,I)}else if(aa&&(z=ya.fromISO(f,b),z.isValid))return Ga.before(I,z)}return Ga.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static isInterval(a){return a&&
a.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(a="milliseconds"){return this.isValid?this.toDuration(...[a]).get(a):NaN}count(a="milliseconds"){if(!this.isValid)return NaN;const b=this.start.startOf(a),f=this.end.startOf(a);return Math.floor(f.diff(b,
a).get(a))+1}hasSame(a){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,a):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(a){return this.isValid?this.s>a:!1}isBefore(a){return this.isValid?this.e<=a:!1}contains(a){return this.isValid?this.s<=a&&this.e>a:!1}set({start:a,end:b}={}){return this.isValid?Ga.fromDateTimes(a||this.s,b||this.e):this}splitAt(...a){if(!this.isValid)return[];a=a.map(Ma).filter(I=>this.contains(I)).sort();const b=[];let {s:f}=this,n=0;for(;f<
this.e;){var z=a[n]||this.e;z=+z>+this.e?this.e:z;b.push(Ga.fromDateTimes(f,z));f=z;n+=1}return b}splitBy(a){a=ya.fromDurationLike(a);if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let {s:b}=this,f=1;const n=[];for(;b<this.e;){var z=this.start.plus(a.mapUnits(I=>I*f));z=+z>+this.e?this.e:z;n.push(Ga.fromDateTimes(b,z));b=z;f+=1}return n}divideEqually(a){return this.isValid?this.splitBy(this.length()/a).slice(0,a):[]}overlaps(a){return this.e>a.s&&this.s<a.e}abutsStart(a){return this.isValid?
+this.e===+a.s:!1}abutsEnd(a){return this.isValid?+a.e===+this.s:!1}engulfs(a){return this.isValid?this.s<=a.s&&this.e>=a.e:!1}equals(a){return this.isValid&&a.isValid?this.s.equals(a.s)&&this.e.equals(a.e):!1}intersection(a){if(!this.isValid)return this;const b=this.s>a.s?this.s:a.s;a=this.e<a.e?this.e:a.e;return b>=a?null:Ga.fromDateTimes(b,a)}union(a){return this.isValid?Ga.fromDateTimes(this.s<a.s?this.s:a.s,this.e>a.e?this.e:a.e):this}static merge(a){const [b,f]=a.sort((n,z)=>n.s-z.s).reduce(([n,
z],I)=>z?z.overlaps(I)||z.abutsStart(I)?[n,z.union(I)]:[n.concat([z]),I]:[n,I],[[],null]);f&&b.push(f);return b}static xor(a){let b=null,f=0;const n=[];a=a.map(z=>[{time:z.s,type:"s"},{time:z.e,type:"e"}]);a=Array.prototype.concat(...a).sort((z,I)=>z.time-I.time);for(const z of a)f+="s"===z.type?1:-1,1===f?b=z.time:(b&&+b!==+z.time&&n.push(Ga.fromDateTimes(b,z.time)),b=null);return Ga.merge(n)}difference(...a){return Ga.xor([this].concat(a)).map(b=>this.intersection(b)).filter(b=>b&&!b.isEmpty())}toString(){return this.isValid?
`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toISO(a){return this.isValid?`${this.s.toISO(a)}/${this.e.toISO(a)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(a){return this.isValid?`${this.s.toISOTime(a)}/${this.e.toISOTime(a)}`:"Invalid Interval"}toFormat(a,{separator:b=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(a)}${b}${this.e.toFormat(a)}`:"Invalid Interval"}toDuration(a,b){return this.isValid?
this.e.diff(this.s,a,b):ya.invalid(this.invalidReason)}mapEndpoints(a){return Ga.fromDateTimes(a(this.s),a(this.e))}}class xb{static hasDST(a=Ha.defaultZone){const b=qa.now().setZone(a).set({month:12});return!a.isUniversal&&b.offset!==b.set({month:6}).offset}static isValidIANAZone(a){return $a.isValidZone(a)}static normalizeZone(a){return u(a,Ha.defaultZone)}static months(a="long",{locale:b=null,numberingSystem:f=null,locObj:n=null,outputCalendar:z="gregory"}={}){return(n||Fa.create(b,f,z)).months(a)}static monthsFormat(a=
"long",{locale:b=null,numberingSystem:f=null,locObj:n=null,outputCalendar:z="gregory"}={}){return(n||Fa.create(b,f,z)).months(a,!0)}static weekdays(a="long",{locale:b=null,numberingSystem:f=null,locObj:n=null}={}){return(n||Fa.create(b,f,null)).weekdays(a)}static weekdaysFormat(a="long",{locale:b=null,numberingSystem:f=null,locObj:n=null}={}){return(n||Fa.create(b,f,null)).weekdays(a,!0)}static meridiems({locale:a=null}={}){return Fa.create(a).meridiems()}static eras(a="short",{locale:b=null}={}){return Fa.create(b,
null,"gregory").eras(a)}static features(){return{relative:v()}}}const Lb={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",
tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},$b={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Uc=Lb.hanidec.replace(/[\[|\]]/g,"").split(""),ac=`[ ${String.fromCharCode(160)}]`,
Mb=new RegExp(ac,"g"),Vc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let Ob=null;const Qb=[0,31,59,90,120,151,181,212,243,273,304,334],Pb=[0,31,60,91,121,152,182,213,244,274,305,335],dc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yd={weekNumber:1,
weekday:1,hour:0,minute:0,second:0,millisecond:0},zd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},cc="year month day hour minute second millisecond".split(" "),Ad="weekYear weekNumber weekday hour minute second millisecond".split(" "),Bd="year ordinal hour minute second millisecond".split(" ");class qa{constructor(a){const b=a.zone||Ha.defaultZone;let f=a.invalid||(Number.isNaN(a.ts)?new Ua("invalid input"):null)||(b.isValid?null:eb(b));this.ts=x(a.ts)?Ha.now():a.ts;let n=null;var z=null;f||
(a.old&&a.old.ts===this.ts&&a.old.zone.equals(b)?[n,z]=[a.old.c,a.old.o]:(z=b.offset(this.ts),n=ib(this.ts,z),n=(f=Number.isNaN(n.year)?new Ua("invalid input"):null)?null:n,z=f?null:z));this._zone=b;this.loc=a.loc||Fa.create();this.invalid=f;this.weekData=null;this.c=n;this.o=z;this.isLuxonDateTime=!0}static now(){return new qa({})}static local(){const [a,b]=Ia(arguments),[f,n,z,I,W,aa,ma]=b;return Aa({year:f,month:n,day:z,hour:I,minute:W,second:aa,millisecond:ma},a)}static utc(){const [a,b]=Ia(arguments),
[f,n,z,I,W,aa,ma]=b;a.zone=Pa.utcInstance;return Aa({year:f,month:n,day:z,hour:I,minute:W,second:aa,millisecond:ma},a)}static fromJSDate(a,b={}){a="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(a))return qa.invalid("invalid input");const f=u(b.zone,Ha.defaultZone);return f.isValid?new qa({ts:a,zone:f,loc:Fa.fromObject(b)}):qa.invalid(eb(f))}static fromMillis(a,b={}){if(y(a))return-864E13>a||864E13<a?qa.invalid("Timestamp out of range"):new qa({ts:a,zone:u(b.zone,
Ha.defaultZone),loc:Fa.fromObject(b)});throw new Sa(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`);}static fromSeconds(a,b={}){if(y(a))return new qa({ts:1E3*a,zone:u(b.zone,Ha.defaultZone),loc:Fa.fromObject(b)});throw new Sa("fromSeconds requires a numerical input");}static fromObject(a,b={}){a=a||{};var f=u(b.zone,Ha.defaultZone);if(!f.isValid)return qa.invalid(eb(f));var n=Ha.now();const z=x(b.specificOffset)?f.offset(n):b.specificOffset,I=l(a,xa);var W=!x(I.ordinal),
aa=!x(I.year),ma=!x(I.month)||!x(I.day);aa=aa||ma;var Ca=I.weekYear||I.weekNumber;b=Fa.fromObject(b);if((aa||W)&&Ca)throw new wb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ma&&W)throw new wb("Can't mix ordinal dates with month/day");ma=Ca||I.weekday&&!aa;let oa=ib(n,z);ma?(n=Ad,Ca=yd,oa=jb(oa)):W?(n=Bd,Ca=zd,oa=Ya(oa)):(n=cc,Ca=dc);let wa=!1;for(var za of n)x(I[za])?I[za]=wa?Ca[za]:oa[za]:wa=!0;ma?(za=r(I.weekYear),n=T(I.weekNumber,1,M(I.weekYear)),Ca=T(I.weekday,1,
7),za=za?n?Ca?!1:La("weekday",I.weekday):La("week",I.week):La("weekYear",I.weekYear)):W?(za=r(I.year),n=T(I.ordinal,1,h(I.year)?366:365),za=za?n?!1:La("ordinal",I.ordinal):La("year",I.year)):za=cb(I);if(za=za||tb(I))return qa.invalid(za);W=ma?db(I):W?bb(I):I;const [Qa,lb]=kb(W,z,f);f=new qa({ts:Qa,zone:f,o:lb,loc:b});return I.weekday&&aa&&a.weekday!==f.weekday?qa.invalid("mismatched weekday",`you can't specify both a weekday of ${I.weekday} and a date of ${f.toISO()}`):f}static fromISO(a,b={}){const [f,
n]=Da(a,[ld,Jc],[md,pd],[nd,qd],[od,rd]);return w(f,n,b,"ISO 8601",a)}static fromRFC2822(a,b={}){const [f,n]=Da(a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[hd,R]);return w(f,n,b,"RFC 2822",a)}static fromHTTP(a,b={}){const [f,n]=Da(a,[id,Z],[jd,Z],[kd,ia]);return w(f,n,b,"HTTP",b)}static fromFormat(a,b,f={}){if(x(a)||x(b))throw new Sa("fromFormat requires an input string and a format");const {locale:n=null,numberingSystem:z=null}=f;var I=Fa.fromOpts({locale:n,numberingSystem:z,
defaultToEN:!0});{const {result:oa,zone:wa,specificOffset:za,invalidReason:Qa}=qb(I,a,b);I=[oa,wa,za,Qa]}const [W,aa,ma,Ca]=I;return Ca?qa.invalid(Ca):w(W,aa,f,`format ${b}`,a,ma)}static fromString(a,b,f={}){return qa.fromFormat(a,b,f)}static fromSQL(a,b={}){const [f,n]=Da(a,[td,Jc],[ud,vd]);return w(f,n,b,"SQL",a)}static invalid(a,b=null){if(!a)throw new Sa("need to specify a reason the DateTime is invalid");a=a instanceof Ua?a:new Ua(a,b);if(Ha.throwOnInvalid)throw new yb(a);return new qa({invalid:a})}static isDateTime(a){return a&&
a.isLuxonDateTime||!1}get(a){return this[a]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?
this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ja(this).weekYear:NaN}get weekNumber(){return this.isValid?Ja(this).weekNumber:NaN}get weekday(){return this.isValid?
Ja(this).weekday:NaN}get ordinal(){return this.isValid?Ya(this.c).ordinal:NaN}get monthShort(){return this.isValid?xb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?xb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?xb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?xb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?
this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return h(this.year)}get daysInMonth(){return p(this.year,this.month)}get daysInYear(){return this.isValid?
h(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?M(this.weekYear):NaN}resolvedLocaleOptions(a={}){const {locale:b,numberingSystem:f,calendar:n}=Ra.create(this.loc.clone(a),a).resolvedOptions(this);return{locale:b,numberingSystem:f,outputCalendar:n}}toUTC(a=0,b={}){return this.setZone(Pa.instance(a),b)}toLocal(){return this.setZone(Ha.defaultZone)}setZone(a,{keepLocalTime:b=!1,keepCalendarTime:f=!1}={}){a=u(a,Ha.defaultZone);if(a.equals(this.zone))return this;if(a.isValid){let n=
this.ts;if(b||f)b=a.offset(this.ts),f=this.toObject(),[n]=kb(f,b,a);return Za(this,{ts:n,zone:a})}return qa.invalid(eb(a))}reconfigure({locale:a,numberingSystem:b,outputCalendar:f}={}){a=this.loc.clone({locale:a,numberingSystem:b,outputCalendar:f});return Za(this,{loc:a})}setLocale(a){return this.reconfigure({locale:a})}set(a){if(!this.isValid)return this;a=l(a,xa);var b=!x(a.weekYear)||!x(a.weekNumber)||!x(a.weekday);const f=!x(a.ordinal),n=!x(a.year),z=!x(a.month)||!x(a.day),I=a.weekYear||a.weekNumber;
if((n||z||f)&&I)throw new wb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(z&&f)throw new wb("Can't mix ordinal dates with month/day");b?b=db({...jb(this.c),...a}):x(a.ordinal)?(b={...this.toObject(),...a},x(a.day)&&(b.day=Math.min(p(b.year,b.month),b.day))):b=bb({...Ya(this.c),...a});const [W,aa]=kb(b,this.o,this.zone);return Za(this,{ts:W,o:aa})}plus(a){if(!this.isValid)return this;a=ya.fromDurationLike(a);return Za(this,e(this,a))}minus(a){if(!this.isValid)return this;
a=ya.fromDurationLike(a).negate();return Za(this,e(this,a))}startOf(a){if(!this.isValid)return this;const b={};a=ya.normalizeUnit(a);switch(a){case "years":b.month=1;case "quarters":case "months":b.day=1;case "weeks":case "days":b.hour=0;case "hours":b.minute=0;case "minutes":b.second=0;case "seconds":b.millisecond=0}"weeks"===a&&(b.weekday=1);"quarters"===a&&(b.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(b)}endOf(a){return this.isValid?this.plus({[a]:1}).startOf(a).minus(1):this}toFormat(a,
b={}){return this.isValid?Ra.create(this.loc.redefaultToEN(b)).formatDateTimeFromString(this,a):"Invalid DateTime"}toLocaleString(a=Rb,b={}){return this.isValid?Ra.create(this.loc.clone(b),a).formatDateTime(this):"Invalid DateTime"}toLocaleParts(a={}){return this.isValid?Ra.create(this.loc.clone(a),a).formatDateTimeParts(this):[]}toISO({format:a="extended",suppressSeconds:b=!1,suppressMilliseconds:f=!1,includeOffset:n=!0,extendedZone:z=!1}={}){if(!this.isValid)return null;a="extended"===a;let I=ca(this,
a);return I=I+"T"+ea(this,a,b,f,n,z)}toISODate({format:a="extended"}={}){return this.isValid?ca(this,"extended"===a):null}toISOWeekDate(){return P(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:b=!1,includeOffset:f=!0,includePrefix:n=!1,extendedZone:z=!1,format:I="extended"}={}){return this.isValid?(n?"T":"")+ea(this,"extended"===I,b,a,f,z):null}toRFC2822(){return P(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return P(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?
ca(this,!0):null}toSQLTime({includeOffset:a=!0,includeZone:b=!1,includeOffsetSpace:f=!0}={}){let n="HH:mm:ss.SSS";if(b||a)f&&(n+=" "),b?n+="z":a&&(n+="ZZ");return P(this,n,!0)}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):
NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(a={}){if(!this.isValid)return{};const b={...this.c};a.includeConfig&&(b.outputCalendar=this.outputCalendar,b.numberingSystem=this.loc.numberingSystem,b.locale=this.loc.locale);return b}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(a,b="milliseconds",f={}){if(!this.isValid||!a.isValid)return ya.invalid("created by diffing an invalid DateTime");f={locale:this.locale,numberingSystem:this.numberingSystem,...f};const n=
(Array.isArray(b)?b:[b]).map(ya.normalizeUnit);b=a.valueOf()>this.valueOf();a=Wa(b?this:a,b?a:this,n,f);return b?a.negate():a}diffNow(a="milliseconds",b={}){return this.diff(qa.now(),a,b)}until(a){return this.isValid?Ga.fromDateTimes(this,a):this}hasSame(a,b){if(!this.isValid)return!1;const f=a.valueOf();a=this.setZone(a.zone,{keepLocalTime:!0});return a.startOf(b)<=f&&f<=a.endOf(b)}equals(a){return this.isValid&&a.isValid&&this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this.loc.equals(a.loc)}toRelative(a=
{}){if(!this.isValid)return null;const b=a.base||qa.fromObject({},{zone:this.zone}),f=a.padding?this<b?-a.padding:a.padding:0;let n="years months days hours minutes seconds".split(" "),z=a.unit;Array.isArray(a.unit)&&(n=a.unit,z=void 0);return Ka(b,this.plus(f),{...a,numeric:"always",units:n,unit:z})}toRelativeCalendar(a={}){return this.isValid?Ka(a.base||qa.fromObject({},{zone:this.zone}),this,{...a,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...a){if(!a.every(qa.isDateTime))throw new Sa("min requires all arguments be DateTimes");
return L(a,b=>b.valueOf(),Math.min)}static max(...a){if(!a.every(qa.isDateTime))throw new Sa("max requires all arguments be DateTimes");return L(a,b=>b.valueOf(),Math.max)}static fromFormatExplain(a,b,f={}){const {locale:n=null,numberingSystem:z=null}=f;f=Fa.fromOpts({locale:n,numberingSystem:z,defaultToEN:!0});return qb(f,a,b)}static fromStringExplain(a,b,f={}){return qa.fromFormatExplain(a,b,f)}static get DATE_SHORT(){return Rb}static get DATE_MED(){return ec}static get DATE_MED_WITH_WEEKDAY(){return Wc}static get DATE_FULL(){return fc}static get DATE_HUGE(){return gc}static get TIME_SIMPLE(){return hc}static get TIME_WITH_SECONDS(){return ic}static get TIME_WITH_SHORT_OFFSET(){return jc}static get TIME_WITH_LONG_OFFSET(){return kc}static get TIME_24_SIMPLE(){return lc}static get TIME_24_WITH_SECONDS(){return mc}static get TIME_24_WITH_SHORT_OFFSET(){return nc}static get TIME_24_WITH_LONG_OFFSET(){return oc}static get DATETIME_SHORT(){return pc}static get DATETIME_SHORT_WITH_SECONDS(){return qc}static get DATETIME_MED(){return rc}static get DATETIME_MED_WITH_SECONDS(){return sc}static get DATETIME_MED_WITH_WEEKDAY(){return Xc}static get DATETIME_FULL(){return tc}static get DATETIME_FULL_WITH_SECONDS(){return uc}static get DATETIME_HUGE(){return vc}static get DATETIME_HUGE_WITH_SECONDS(){return wc}}
k.DateTime=qa;k.Info=xb;k.Interval=Ga})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(k,x,y){function r(d){d||(d=y.getLocale());let c=d in T;if(!c){const t=d.split("-");1<t.length&&t[0]in T&&(d=t[0],c=!0);c||(d="en")}const [g,h,p="#,##0.###"]=T[d];return{decimal:g,group:h,pattern:p}}function v(d,c,g){g=g||{};!0===g.places&&(g.places=0);Infinity===g.places&&(g.places=6);c=c.split(".");var h="string"===typeof g.places&&g.places.indexOf(","),p=g.places;h?p=g.places.substring(h+
1):0<=p||(p=(c[1]||[]).length);0>g.round||(d=Number(d.toFixed(Number(p))));d=String(Math.abs(d)).split(".");const t=d[1]||"";c[1]||g.places?(h&&(g.places=g.places.substring(0,h)),h=void 0!==g.places?g.places:c[1]&&c[1].lastIndexOf("0")+1,h>t.length&&(d[1]=t.padEnd(Number(h),"0")),p<t.length&&(d[1]=t.substr(0,Number(p)))):d[1]&&d.pop();p=c[0].replace(",","");h=p.indexOf("0");-1!==h&&(h=p.length-h,h>d[0].length&&(d[0]=d[0].padStart(h,"0")),p.includes("#")||(d[0]=d[0].substr(d[0].length-h)));p=c[0].lastIndexOf(",");
let M,D;-1!==p&&(M=c[0].length-p-1,c=c[0].substr(0,p),p=c.lastIndexOf(","),-1!==p&&(D=c.length-p-1));c=[];for(p=d[0];p;)h=p.length-M,c.push(0<h?p.substr(h):p),p=0<h?p.slice(0,h):"",D&&(M=D,D=void 0);d[0]=c.reverse().join(g.group||",");return d.join(g.decimal||".")}function L(d){d=d||{};var c=r(d.locale);const g=d.pattern||c.pattern,h=c.group,p=c.decimal;let t=1;if(g.includes("%"))t/=100;else if(g.includes("\u2030"))t/=1E3;else if(g.includes("\u00a4"))throw Error("currency notation not supported");
c=g.split(";");1===c.length&&c.push("-"+c[0]);return{regexp:E(c,M=>{M="(?:"+x.escapeRegExpString(M,".")+")";return M.replace(V,D=>{const O={signed:!1,separator:d.strict?h:[h,""],fractional:d.fractional,decimal:p,exponent:!1};D=D.split(".");let B=d.places;1===D.length&&1!==t&&(D[1]="###");1===D.length||0===B?O.fractional=!1:(void 0===B&&(B=d.pattern?D[1].lastIndexOf("0")+1:Infinity),B&&null==d.fractional&&(O.fractional=!0),!d.places&&B<D[1].length&&(B+=","+D[1].length),O.places=B);D=D[0].split(",");
1<D.length&&(O.groupSize=D.pop().length,1<D.length&&(O.groupSize2=D.pop().length));return"("+H(O)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:h,decimal:p,factor:t}}function H(d){d=d||{};"places"in d||(d.places=Infinity);"string"!==typeof d.decimal&&(d.decimal=".");"fractional"in d&&!/^0/.test(String(d.places))||(d.fractional=[!0,!1]);"exponent"in d||(d.exponent=[!0,!1]);"eSigned"in d||(d.eSigned=[!0,!1]);var c=U(d);const g=E(d.fractional,p=>{let t="";p&&0!==d.places&&(t="\\"+d.decimal,t=Infinity===
d.places?"(?:"+t+"\\d+)?":t+("\\d{"+d.places+"}"));return t},!0),h=E(d.exponent,p=>p?"([eE]"+U({signed:d.eSigned})+")":"");c+=g;g&&(c="(?:(?:"+c+")|(?:"+g+"))");return c+h}function U(d){d=d||{};"signed"in d||(d.signed=[!0,!1]);"separator"in d?"groupSize"in d||(d.groupSize=3):d.separator="";const c=E(d.signed,h=>h?"[-+]":"",!0),g=E(d.separator,h=>{if(!h)return"(?:\\d+)";h=x.escapeRegExpString(h);" "===h?h="\\s":"\u00a0"===h&&(h="\\s\\xa0");const p=d.groupSize,t=d.groupSize2;return t?(h="(?:0|[1-9]\\d{0,"+
(t-1)+"}(?:["+h+"]\\d{"+t+"})*["+h+"]\\d{"+p+"})",0<p-t?"(?:"+h+"|(?:0|[1-9]\\d{0,"+(p-1)+"}))":h):"(?:0|[1-9]\\d{0,"+(p-1)+"}(?:["+h+"]\\d{"+p+"})*)"},!0);return c+g}const T={ar:[".",","],bg:[",","\u00a0"],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",",
"."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},V=/[#0,]*[#0](?:\.0*#*)?/,E=(d,c,g)=>{if(!(d instanceof Array))return c(d);const h=[];for(let p=0;p<d.length;p++)h.push(c(d[p]));
d=h.join("|");return"("+(g?"?:":"")+d+")"};k._parseInfo=L;k.format=function(d,c){c={...c};var g=r(c.locale);c.customs=g;var h=c.pattern||g.pattern;if(isNaN(d)||Infinity===Math.abs(d))return null;{c=c||{};g=c.customs.group;const t=c.customs.decimal;h=h.split(";");var p=h[0];h=h[0>d?1:0]||"-"+p;if(h.includes("%"))d*=100;else if(h.includes("\u2030"))d*=1E3;else{if(h.includes("\u00a4"))throw Error("currency notation not supported");if(h.includes("E"))throw Error("exponential notation not supported");
}const M=V;p=p.match(M);if(!p)throw Error("unable to find a number expression in pattern: "+h);!1===c.fractional&&(c.places=0);d=h.replace(M,v(d,p[0],{decimal:t,group:g,places:c.places,round:c.round}))}return d};k.getCustoms=r;k.parse=function(d,c){c=L(c);d=(new RegExp("^"+c.regexp+"$")).exec(d);if(!d)return NaN;let g=d[1];if(!d[1]){if(!d[2])return NaN;g=d[2];c.factor*=-1}g=g.replace(new RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return Number(g)*c.factor};k.regexp=function(d){return L(d).regexp};
Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../geometry/Extent","../../../layers/support/Field"],function(k,x,y){function r(v){return v instanceof Date}k.FeatureServiceDatabaseType=void 0;(function(v){v[v.Standardised=0]="Standardised";v[v.StandardisedNoInterval=1]="StandardisedNoInterval";v[v.SqlServer=2]="SqlServer";v[v.Oracle=3]="Oracle";v[v.Postgres=4]="Postgres";v[v.PGDB=
5]="PGDB";v[v.FILEGDB=6]="FILEGDB";v[v.NotEvaluated=7]="NotEvaluated"})(k.FeatureServiceDatabaseType||(k.FeatureServiceDatabaseType={}));k.IdState=void 0;(function(v){v[v.InFeatureSet=0]="InFeatureSet";v[v.NotInFeatureSet=1]="NotInFeatureSet";v[v.Unknown=2]="Unknown"})(k.IdState||(k.IdState={}));k.callback=function(v,L){return function(){try{v.apply(null,arguments)}catch(H){L.reject(H)}}};k.cloneAttributes=function(v){const L={};for(const H in v)L[H]=v[H];return L};k.cloneField=function(v){return y.fromJSON(v.toJSON())};
k.convertLinearUnitsToCode=function(v){if(void 0===v)return null;if("number"===typeof v||"number"===typeof v)return v;switch(v.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};k.convertSquareUnitsToCode=function(v){if(void 0===v)return null;if("number"===typeof v)return v;switch(v.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};
k.defaultMaxRecords=1E3;k.equalityTest=function(v,L){return v===L?!0:r(v)&&r(L)?v.getTime()===L.getTime():!1};k.errback=function(v){return function(L){v.reject(L)}};k.esriFieldToJson=function(v){return v.toJSON?v.toJSON():v};k.extractServiceUrl=function(v){if(void 0===v)return"";v=v.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");v=v.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return v=v.split("?")[0]};k.isArray=function(v){return v instanceof Array};k.isBoolean=function(v){return"boolean"===
typeof v};k.isDate=r;k.isNumber=function(v){return"number"===typeof v};k.isString=function(v){return"string"===typeof v||v instanceof String};k.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID",
"global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",
esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};k.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};k.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",
polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};k.sameGeomType=function(v,L){return v===L||"point"===v&&"esriGeometryPoint"===L||"polyline"===v&&"esriGeometryPolyline"===L||"polygon"===v&&"esriGeometryPolygon"===
L||"extent"===v&&"esriGeometryEnvelope"===L||"multipoint"===v&&"esriGeometryMultipoint"===L||"point"===L&&"esriGeometryPoint"===v||"polyline"===L&&"esriGeometryPolyline"===v||"polygon"===L&&"esriGeometryPolygon"===v||"extent"===L&&"esriGeometryEnvelope"===v||"multipoint"===L&&"esriGeometryMultipoint"===v?!0:!1};k.shapeExtent=function(v){if(null===v)return null;switch(v.type){case "polygon":case "multipoint":case "polyline":return v.extent;case "point":return new x({xmin:v.x,ymin:v.y,xmax:v.x,ymax:v.y,
spatialReference:v.spatialReference});case "extent":return v}return null};k.stableStringify=function(v,L){L||(L={});"function"===typeof L&&(L={cmp:L});const H="boolean"===typeof L.cycles?L.cycles:!1,U=L.cmp&&function(V){return function(E){return function(d,c){return V({key:d,value:E[d]},{key:c,value:E[c]})}}}(L.cmp),T=[];return function d(E){E&&E.toJSON&&"function"===typeof E.toJSON&&(E=E.toJSON());if(void 0!==E){if("number"===typeof E)return isFinite(E)?""+E:"null";if("object"!==typeof E)return JSON.stringify(E);
var c;if(Array.isArray(E)){var g="[";for(c=0;c<E.length;c++)c&&(g+=","),g+=d(E[c])||"null";return g+"]"}if(null===E)return"null";if(T.includes(E)){if(H)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var h=T.push(E)-1,p=Object.keys(E).sort(U&&U(E));g="";for(c=0;c<p.length;c++){const t=p[c],M=d(E[t]);M&&(g&&(g+=","),g+=JSON.stringify(t)+":"+M)}T.splice(h,1);return"{"+g+"}"}}(v)};k.toEsriGeometryType=function(v){switch(v){case "point":return"esriGeometryPoint";
case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/throttle":function(){define(["exports"],function(k){k.throttle=function(x,y,r,v){let L=null,H=1E3;"number"===typeof y?(H=y,v=r):(L=null!=y?y:null,H=r);let U=0,T;const V=()=>{U=0;x.apply(v,T)};y=(...E)=>{L&&L.apply(v,E);T=E;H?
U||(U=setTimeout(V,H)):V()};y.remove=()=>{U&&(clearTimeout(U),U=0)};y.forceUpdate=()=>{U&&(clearTimeout(U),V())};y.hasPendingUpdates=()=>!!U;return y};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Feature/support/arcadeFeatureUtils":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Logger ../../../core/promiseUtils ../../../layers/FeatureLayer ./featureUtils".split(" "),function(k,x,y,r,v,L,H){function U(D){return`<ul class="esri-widget__list">${D.map(O=>
`<li>${"string"===typeof O?H.applyTextFormattingHTML(H.htmlEntities(O)):O}</li>`).join("")}</ul>`}function T(D){return`<table class="esri-widget__table">${D.keys().map(O=>{var B=D.field(O);B="string"===typeof B?H.applyTextFormattingHTML(H.htmlEntities(B)):B;return`<tr><th>${O}</th><td>${B}</td></tr>`}).join("")}</table>`}function V({aggregatedFeatures:D,arcadeUtils:O,featureSetVars:B,context:K,viewInfo:l,map:m,graphic:C,interceptor:G}){B.forEach(Q=>{Q=Q.toLowerCase();var N={map:m,spatialReference:l.sr,
interceptor:G};"$map"===Q&&(K.vars[Q]=O.convertMapToFeatureSetCollection(N));"$layer"===Q&&(K.vars[Q]=O.convertFeatureLayerToFeatureSet({layer:C.sourceLayer,spatialReference:l.sr,interceptor:G}));"$datastore"===Q&&(K.vars[Q]=O.convertServiceUrlToWorkspace({url:C.sourceLayer.url,spatialReference:l.sr,interceptor:G}));if("$aggregatedfeatures"===Q){N=C.layer;const {fields:A,objectIdField:S,geometryType:u,spatialReference:q,displayField:F}=N;N=new L({fields:A,objectIdField:S,geometryType:u,spatialReference:q,
displayField:F,..."feature"===N.type?{templates:N.templates,typeIdField:N.typeIdField,types:N.types}:null,source:D});K.vars[Q]=O.convertFeatureLayerToFeatureSet({layer:N,spatialReference:l.sr,interceptor:G})}})}function E(){return new Promise((D,O)=>k(["../../../support/arcadeUtils"],D,O))}function d(D){return c.apply(this,arguments)}function c(){c=y._asyncToGenerator(function*({graphic:D,view:O}){const {isAggregate:B,layer:K}=D;if(!B||!K||"2d"!==(null==O?void 0:O.type))return[];O=yield O.whenLayerView(K);
if(!O.createQuery||!O.queryFeatures)return[];const l=O.createQuery();l.aggregateIds=[D.getObjectId()];({features:D}=yield O.queryFeatures(l));return D});return c.apply(this,arguments)}function g(D){return h.apply(this,arguments)}function h(){h=y._asyncToGenerator(function*({expressionInfo:D,arcadeUtils:O,interceptor:B,spatialReference:K,map:l,graphic:m,view:C}){if(!D||!D.expression)return null;const G=O.createSyntaxTree(D.expression),Q=t.filter(A=>O.hasVariable(G,A));[C]=yield Promise.all([d({graphic:m,
view:C}),O.loadScriptDependencies(G,!0,Q)]);const N=O.getViewInfo({spatialReference:K});K=O.createExecContext(m,N);K.interceptor=B;K.useAsync=!0;V({aggregatedFeatures:C,arcadeUtils:O,featureSetVars:Q,context:K,viewInfo:N,map:l,graphic:m,interceptor:B});B=O.createFunction(G,K);return O.executeAsyncFunction(B,K).catch(A=>M.error("arcade-execution-error",{error:A,graphic:m,expressionInfo:D}))});return h.apply(this,arguments)}function p(){p=y._asyncToGenerator(function*({expressionInfos:D,spatialReference:O,
graphic:B,interceptor:K,map:l,view:m}){if(!D||!D.length)return{};const C=yield E(),G={};for(const Q of D)G[`expression/${Q.name}`]=g({expressionInfo:Q,arcadeUtils:C,interceptor:K,spatialReference:O,map:l,graphic:B,view:m});D=yield v.eachAlways(G);O={};for(const Q in D)B=D[Q].value,B="string"===typeof B?H.applyTextFormattingHTML(H.htmlEntities(B)):Array.isArray(B)?U(B):"esri.arcade.Dictionary"===(null==B?void 0:B.declaredClass)?T(B):B,O[Q]=B;return O});return p.apply(this,arguments)}const t=["$datastore",
"$map","$layer","$aggregatedfeatures"],M=r.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");x.createCompiledExpression=g;x.createCompiledExpressions=function(D){return p.apply(this,arguments)};x.loadArcadeUtils=E;Object.defineProperties(x,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Feature/FeatureViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Graphic ../../arcade/featureset/support/FeatureSetQueryInterceptor ../../core/Accessor ../../core/Handles ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/reactiveUtils ../../core/throttle ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../popup/content/TextContent ./FeatureAttachments/FeatureAttachmentsViewModel ./FeatureContent/FeatureContentViewModel ./FeatureExpression/FeatureExpressionViewModel ./FeatureFields/FeatureFieldsViewModel ./FeatureMedia/FeatureMediaViewModel ./support/arcadeFeatureUtils ./support/featureUtils ./support/relatedFeatureUtils".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E,d,c,g,h,p,t,M,D,O,B,K,l,m,C){var G;const Q=H.getLogger("esri.widgets.FeatureViewModel"),N={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};v=G=function(A){function S(q){var F=A.call(this,q)||this;F._handles=new L;F._error=null;F._featureAbortController=null;F.graphicChangedThrottled=E.throttle(F._graphicChanged,1,k._assertThisInitialized(F));F._expressionAttributes=null;F._graphicExpressionAttributes=
null;F.abilities={...N};F.content=null;F.contentViewModels=[];F.defaultPopupTemplateEnabled=!1;F.formattedAttributes=null;F.lastEditInfo=null;F.relatedInfos=new Map;F.title="";F.view=null;F._isAllowedContentType=X=>{const {abilities:Y}=k._assertThisInitialized(F);return"attachments"===X.type&&Y.attachmentsContent||"custom"===X.type&&Y.customContent||"fields"===X.type&&Y.fieldsContent||"media"===X.type&&Y.mediaContent||"text"===X.type&&Y.textContent||"expression"===X.type&&Y.expressionContent};F._handles.add(V.watch(()=>
[F.graphic,F._effectivePopupTemplate,F.abilities],()=>F.graphicChangedThrottled(),V.initial));return F}k._inheritsLoose(S,A);var u=S.prototype;u.destroy=function(){this._clear();this._cancelFeatureQuery();this._error=null;this._handles.destroy();this.graphic=this._handles=null;this._destroyContentViewModels();this.relatedInfos.clear()};u.castAbilities=function(q){return{...N,...q}};u.setActiveMedia=function(q,F){q=this.contentViewModels[q];q instanceof K&&q.setActiveMedia(F)};u.nextMedia=function(q){q=
this.contentViewModels[q];q instanceof K&&q.next()};u.previousMedia=function(q){q=this.contentViewModels[q];q instanceof K&&q.previous()};u._clear=function(){this._set("title","");this._set("content",null);this._set("formattedAttributes",null)};u._graphicChanged=function(){var q=k._asyncToGenerator(function*(){this._cancelFeatureQuery();this._error=null;this._clear();const {graphic:F}=this;if(F){var X=new AbortController;this._featureAbortController=X;try{yield this._queryFeature({signal:X.signal})}catch(Y){T.isAbortError(Y)||
(this._error=Y,Q.error("error","The popupTemplate could not be displayed for this feature.",{error:Y,graphic:F,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===X&&(this._featureAbortController=null)}});return function(){return q.apply(this,arguments)}}();u._cancelFeatureQuery=function(){const {_featureAbortController:q}=this;q&&q.abort();this._featureAbortController=null};u._compileContentElement=function(q,F){if("attachments"===q.type)return this._compileAttachments(q,
F);if("custom"===q.type)return this._compileCustom(q,F);if("fields"===q.type)return this._compileFields(q,F);if("media"===q.type)return this._compileMedia(q,F);if("text"===q.type)return this._compileText(q,F);if("expression"===q.type)return this._compileExpression(q,F)};u._compileContent=function(q){this._destroyContentViewModels();if(this.graphic)return Array.isArray(q)?q.filter(this._isAllowedContentType).map((F,X)=>this._compileContentElement(F,X)):"string"===typeof q?this._compileText(new t({text:q}),
0).text:q};u._destroyContentViewModels=function(){var q;null==(q=this._handles)?void 0:q.remove("content-view-models");this.contentViewModels.forEach(F=>F&&!F.destroyed&&F.destroy());this._set("contentViewModels",[])};u._setExpressionContentVM=function(q,F){const {formattedAttributes:X}=this,{contentElement:Y,contentElementViewModel:fa}=q;q=null==Y?void 0:Y.type;fa&&q&&("fields"===q&&(this._createFieldsFormattedAttributes({contentElement:Y,contentElementIndex:F,formattedAttributes:X}),fa.set(this._createFieldsVMParams(Y,
F))),"media"===q&&(this._createMediaFormattedAttributes({contentElement:Y,contentElementIndex:F,formattedAttributes:X}),fa.set(this._createMediaVMParams(Y,F))),"text"===q&&fa.set(this._createTextVMParams(Y)))};u._compileExpression=function(q,F){const {expressionInfo:X}=q,{graphic:Y,map:fa,spatialReference:ja,view:pa}=this,la=new O({expressionInfo:X,graphic:Y,interceptor:G.interceptor,map:fa,spatialReference:ja,view:pa});this.contentViewModels[F]=la;this._handles.add(V.watch(()=>la.contentElementViewModel,
()=>this._setExpressionContentVM(la,F),V.initial),"content-view-models");return q};u._compileAttachments=function(q,F){const {graphic:X}=this,{description:Y,title:fa}=q;this.contentViewModels[F]=new M({graphic:X,...this._compileTitleAndDesc({title:fa,description:Y})});return q};u._compileCustom=function(q,F){const {graphic:X}=this,{creator:Y,destroyer:fa}=q;this.contentViewModels[F]=new D({graphic:X,creator:Y,destroyer:fa});return q};u._compileTitleAndDesc=function({title:q,description:F}){const {_fieldInfoMap:X,
_sourceLayer:Y,graphic:fa,formattedAttributes:ja,_expressionAttributes:pa}=this,{attributes:la}=fa,ta=ja.global;return{title:m.substituteFieldsInLinksAndAttributes({attributes:la,fieldInfoMap:X,globalAttributes:ta,expressionAttributes:pa,layer:Y,text:q}),description:m.substituteFieldsInLinksAndAttributes({attributes:la,fieldInfoMap:X,globalAttributes:ta,expressionAttributes:pa,layer:Y,text:F})}};u._createFieldsVMParams=function(q,F){const {_effectivePopupTemplate:X,formattedAttributes:Y}=this,fa=
{...Y.global,...Y.content[F]};F=(null==q?void 0:q.fieldInfos)||(null==X?void 0:X.fieldInfos);F=null==F?void 0:F.filter(({fieldName:ta})=>m.isExpressionField(ta)||m.isRelatedField(ta)||fa.hasOwnProperty(ta));const ja=null==X?void 0:X.expressionInfos,{description:pa,title:la}=q;return{attributes:fa,expressionInfos:ja,fieldInfos:F,...this._compileTitleAndDesc({title:la,description:pa})}};u._compileFields=function(q,F){const X=q.clone();q=new B(this._createFieldsVMParams(q,F));this.contentViewModels[F]=
q;X.fieldInfos=q.formattedFieldInfos.slice(0);return X};u._createMediaVMParams=function(q,F){const {abilities:X,graphic:Y,_fieldInfoMap:fa,formattedAttributes:ja,_effectivePopupTemplate:pa,relatedInfos:la,_sourceLayer:ta,_expressionAttributes:Da}=this,{attributes:va}=Y,{description:Ea,mediaInfos:ka,title:da}=q;return{abilities:{chartAnimation:X.chartAnimation},activeMediaInfoIndex:q.activeMediaInfoIndex||0,attributes:va,layer:ta,fieldInfoMap:fa,formattedAttributes:{...ja.global,...ja.content[F]},
expressionAttributes:Da,mediaInfos:ka,popupTemplate:pa,relatedInfos:la,...this._compileTitleAndDesc({title:da,description:Ea})}};u._compileMedia=function(q,F){const X=q.clone();q=new K(this._createMediaVMParams(q,F));X.mediaInfos=q.formattedMediaInfos.slice(0);this.contentViewModels[F]=q;return X};u._createTextVMParams=function(q){const {graphic:F,_fieldInfoMap:X,_sourceLayer:Y,_expressionAttributes:fa}=this;if(q&&q.text){const {attributes:ja}=F;q.text=m.substituteFieldsInLinksAndAttributes({attributes:ja,
fieldInfoMap:X,globalAttributes:this.formattedAttributes.global,expressionAttributes:fa,layer:Y,text:q.text})}return{graphic:F,creator:q.text}};u._compileText=function(q,F){q=q.clone();this.contentViewModels[F]=new D(this._createTextVMParams(q));return q};u._compileLastEditInfo=function(){const {_effectivePopupTemplate:q,_sourceLayer:F,graphic:X}=this;if(q){var {lastEditInfoEnabled:Y}=q,fa=null==F?void 0:F.editFieldsInfo;if(Y&&fa)return m.formatEditInfo(fa,X.attributes)}};u._compileTitle=function(q){const {_fieldInfoMap:F,
_sourceLayer:X,graphic:Y,_expressionAttributes:fa}=this,{attributes:ja}=Y;return m.substituteFieldsInLinksAndAttributes({attributes:ja,fieldInfoMap:F,globalAttributes:this.formattedAttributes.global,expressionAttributes:fa,layer:X,text:q})};u._getTitle=function(){var q=k._asyncToGenerator(function*(){const {_effectivePopupTemplate:F,graphic:X}=this;return m.graphicCallback(null==F?void 0:F.title,{graphic:X})});return function(){return q.apply(this,arguments)}}();u._getContent=function(){var q=k._asyncToGenerator(function*(){const {_effectivePopupTemplate:F,
graphic:X}=this;return m.graphicCallback(null==F?void 0:F.content,{graphic:X})});return function(){return q.apply(this,arguments)}}();u._queryFeature=function(){var q=k._asyncToGenerator(function*(F){const {_featureAbortController:X,_sourceLayer:Y,graphic:fa,_effectivePopupTemplate:ja,spatialReference:pa,map:la,view:ta}=this,{content:{value:Da},title:{value:va}}=yield T.eachAlways({content:this._getContent(),title:this._getTitle()});X===this._featureAbortController&&fa&&(yield m.queryUpdatedFeature({graphic:fa,
popupTemplate:ja,layer:Y,spatialReference:pa},F),{expressionAttributes:{value:F}}=yield T.eachAlways({checkForRelatedFeatures:this._checkForRelatedFeatures(F),expressionAttributes:l.createCompiledExpressions({expressionInfos:null==ja?void 0:ja.expressionInfos,spatialReference:pa,graphic:fa,map:la,interceptor:G.interceptor,view:ta})}),X===this._featureAbortController&&fa&&(this._expressionAttributes=F,this._graphicExpressionAttributes={...fa.attributes,...F},this._set("formattedAttributes",this._createFormattedAttributes(Da)),
this._set("title",this._compileTitle(va)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(Da)||null)))});return function(F){return q.apply(this,arguments)}}();u._createMediaFormattedAttributes=function({contentElement:q,contentElementIndex:F,formattedAttributes:X}){const {_effectivePopupTemplate:Y,graphic:fa,relatedInfos:ja,_sourceLayer:pa,_fieldInfoMap:la,_graphicExpressionAttributes:ta}=this;X.content[F]=m.formatAttributes({fieldInfos:null==Y?
void 0:Y.fieldInfos,graphic:fa,attributes:{...ta,...q.attributes},layer:pa,fieldInfoMap:la,relatedInfos:ja})};u._createFieldsFormattedAttributes=function({contentElement:q,contentElementIndex:F,formattedAttributes:X}){if(q.fieldInfos){const {graphic:Y,relatedInfos:fa,_sourceLayer:ja,_fieldInfoMap:pa,_graphicExpressionAttributes:la}=this;X.content[F]=m.formatAttributes({fieldInfos:q.fieldInfos,graphic:Y,attributes:{...la,...q.attributes},layer:ja,fieldInfoMap:pa,relatedInfos:fa})}};u._createFormattedAttributes=
function(q){const {_effectivePopupTemplate:F,graphic:X,relatedInfos:Y,_sourceLayer:fa,_fieldInfoMap:ja,_graphicExpressionAttributes:pa}=this,la={global:m.formatAttributes({fieldInfos:null==F?void 0:F.fieldInfos,graphic:X,attributes:pa,layer:fa,fieldInfoMap:ja,relatedInfos:Y}),content:[]};Array.isArray(q)&&q.forEach((ta,Da)=>{"fields"===ta.type&&this._createFieldsFormattedAttributes({contentElement:ta,contentElementIndex:Da,formattedAttributes:la});"media"===ta.type&&this._createMediaFormattedAttributes({contentElement:ta,
contentElementIndex:Da,formattedAttributes:la})});return la};u._checkForRelatedFeatures=function(q){const {graphic:F,_effectivePopupTemplate:X}=this;return this._queryRelatedInfos(F,m.getAllFieldInfos(X),q)};u._queryRelatedInfos=function(){var q=k._asyncToGenerator(function*(F,X,Y){const {relatedInfos:fa,_sourceLayer:ja}=this;fa.clear();const pa=U.isSome(ja.associatedLayer)?yield ja.associatedLayer.load(Y):ja;if(pa){var la=X.filter(va=>va&&m.isRelatedField(va.fieldName));if(la&&la.length){X.forEach(va=>
this._configureRelatedInfo(va,pa));var ta=yield C.queryLayerInfos({relatedInfos:fa,layer:pa},Y);Object.keys(ta).forEach(va=>{var Ea;const ka=fa.get(va.toString());va=null==(Ea=ta[va])?void 0:Ea.value;ka&&va&&(ka.layerInfo=va.data)});var Da=yield C.queryRelatedFeatures({graphic:F,relatedInfos:fa,layer:pa},Y);Object.keys(Da).forEach(va=>{var Ea;C.setRelatedFeatures(null==(Ea=Da[va])?void 0:Ea.value,fa.get(va.toString()))})}}});return function(F,X,Y){return q.apply(this,arguments)}}();u._configureRelatedInfo=
function(q,F){const {relatedInfos:X}=this,Y=C.getRelatedFieldInfo(q.fieldName);if(Y){var {layerId:fa,fieldName:ja}=Y;fa&&(F=X.get(fa.toString())||C.createRelatedInfo(fa,F))&&(C.updateRelatedInfo({relatedInfo:F,fieldName:ja,fieldInfo:q}),this.relatedInfos.set(fa,F))}};k._createClass(S,[{key:"_effectivePopupTemplate",get:function(){return U.isSome(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}},{key:"_fieldInfoMap",get:function(){return m.createfieldInfoMap(m.getAllFieldInfos(this._effectivePopupTemplate),
this._sourceLayer)}},{key:"_sourceLayer",get:function(){return m.getSourceLayer(this.graphic)}},{key:"state",get:function(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}},{key:"graphic",set:function(q){this._set("graphic",q?q.clone():null)}},{key:"spatialReference",get:function(){return this.get("view.spatialReference")||null},set:function(q){void 0===q?this._clearOverride("spatialReference"):this._override("spatialReference",q)}},{key:"map",get:function(){return this.get("view.map")||
null},set:function(q){void 0===q?this._clearOverride("map"):this._override("map",q)}},{key:"waitingForContent",get:function(){return!!this._featureAbortController}}]);return S}(v);v.interceptor=new r.FeatureSetQueryInterceptor(m.preLayerQueryCallback,m.preRequestCallback);x.__decorate([d.property()],v.prototype,"_error",void 0);x.__decorate([d.property()],v.prototype,"_featureAbortController",void 0);x.__decorate([d.property({readOnly:!0})],v.prototype,"_effectivePopupTemplate",null);x.__decorate([d.property({readOnly:!0})],
v.prototype,"_fieldInfoMap",null);x.__decorate([d.property({readOnly:!0})],v.prototype,"_sourceLayer",null);x.__decorate([d.property()],v.prototype,"abilities",void 0);x.__decorate([h.cast("abilities")],v.prototype,"castAbilities",null);x.__decorate([d.property({readOnly:!0})],v.prototype,"content",void 0);x.__decorate([d.property({readOnly:!0})],v.prototype,"contentViewModels",void 0);x.__decorate([d.property({type:Boolean})],v.prototype,"defaultPopupTemplateEnabled",void 0);x.__decorate([d.property({readOnly:!0})],
v.prototype,"state",null);x.__decorate([d.property({readOnly:!0})],v.prototype,"formattedAttributes",void 0);x.__decorate([d.property({type:y,value:null})],v.prototype,"graphic",null);x.__decorate([d.property({readOnly:!0})],v.prototype,"lastEditInfo",void 0);x.__decorate([d.property({readOnly:!0})],v.prototype,"relatedInfos",void 0);x.__decorate([d.property()],v.prototype,"spatialReference",null);x.__decorate([d.property({readOnly:!0})],v.prototype,"title",void 0);x.__decorate([d.property()],v.prototype,
"map",null);x.__decorate([d.property({readOnly:!0})],v.prototype,"waitingForContent",null);x.__decorate([d.property()],v.prototype,"view",void 0);return v=G=x.__decorate([p.subclass("esri.widgets.FeatureViewModel")],v)})},"esri/arcade/featureset/support/FeatureSetQueryInterceptor":function(){define(["exports"],function(k){k.FeatureSetQueryInterceptor=function(x,y){this.preLayerQueryCallback=x;this.preRequestCallback=y;this.preLayerQueryCallback||(this.preLayerQueryCallback=r=>{});this.preRequestCallback||
(this.preLayerQueryCallback=r=>{})};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/widgets/Feature/support/FeatureContentMixin":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/set ../../../core/accessorSupport/decorators/subclass ../../support/widget ../../support/jsxFactory".split(" "),
function(k,x,y,r,v,L,H,U,T,V,E){k.FeatureContentMixin=d=>{d=function(c){function g(){var h=c.apply(this,arguments)||this;h.renderNodeContent=p=>V.isWidget(p)&&!p.destroyed?E.tsx("div",{key:p},p.render()):p instanceof HTMLElement?E.tsx("div",{key:p,bind:p,afterCreate:h._attachToNode}):V.hasDomNode(p)?E.tsx("div",{key:p,bind:p.domNode,afterCreate:h._attachToNode}):null;return h}x._inheritsLoose(g,c);g.prototype._attachToNode=function(h){h.appendChild(this)};return g}(d);return d=y.__decorate([T.subclass("esri.widgets.Feature.ContentMixin")],
d)};Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"*noref":1}});
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../intl ../core/reactiveUtils ../core/accessorSupport/decorators/aliasOf ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./Feature/FeatureAttachments ./Feature/FeatureContent ./Feature/FeatureExpression ./Feature/FeatureFields ./Feature/FeatureMedia ./Feature/FeatureViewModel ./Feature/support/FeatureContentMixin ./support/Heading ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory ../intl/substitute".split(" "),function(k,
x,y,r,v,L,H,U,T,V,E,d,c,g,h,p,t,M,D,O,B,K,l,m){const C={title:!0,content:!0,lastEditedInfo:!0};r=function(G){function Q(A,S){A=G.call(this,A,S)||this;A._contentWidgets=[];A.graphic=null;A.defaultPopupTemplateEnabled=!1;A.headingLevel=2;A.label=void 0;A.messages=null;A.messagesCommon=null;A.messagesURIUtils=null;A.spatialReference=null;A.title=null;A.visibleElements={...C};A.map=null;A.view=null;A.viewModel=new M;return A}x._inheritsLoose(Q,G);var N=Q.prototype;N.initialize=function(){this.own(v.watch(()=>
{var A;return null==(A=this.viewModel)?void 0:A.contentViewModels},()=>this._setupContentWidgets(),v.initial))};N.loadDependencies=function(){return new Promise((A,S)=>k(["../chunks/calcite-notice"],A,S))};N.destroy=function(){this._destroyContentWidgets()};N.castVisibleElements=function(A){return{...C,...A}};N.render=function(){var {state:A}=this.viewModel;A=l.tsx("div",{class:"esri-feature__size-container",key:"container"},this.renderTitle(),"error"===A?this.renderError():"loading"===A?this.renderLoading():
this.renderContentContainer());return l.tsx("div",{class:this.classes("esri-feature","esri-widget")},A)};N.setActiveMedia=function(A,S){this.viewModel.setActiveMedia(A,S)};N.nextMedia=function(A){this.viewModel.nextMedia(A)};N.previousMedia=function(A){this.viewModel.previousMedia(A)};N.renderError=function(){const {messagesCommon:A,messages:S,visibleElements:u}=this;return l.tsx("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},u.title?l.tsx("div",{key:"error-title",
slot:"title"},A.errorMessage):null,l.tsx("div",{key:"error-message",slot:"message"},S.loadingError))};N.renderLoading=function(){return l.tsx("div",{key:"loading-container",class:"esri-feature__loading-container"},l.tsx("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))};N.renderContentContainer=function(){const {visibleElements:A}=this;return A.content?l.tsx("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):
null};N.renderTitle=function(){const {visibleElements:A,title:S}=this;return A.title?l.tsx(O.Heading,{level:this.headingLevel,class:"esri-feature__title",innerHTML:S}):null};N.renderContent=function(){var A=this.viewModel.content;return A?Array.isArray(A)?A.length?l.tsx("div",{key:"content-content-elements"},A.map(this.renderContentElement,this)):null:"string"===typeof A?(A=this._contentWidgets[0],!A||A.destroyed?null:l.tsx("div",{key:"content-content"},A.render())):this.renderNodeContent(A):null};
N.renderContentElement=function(A,S){const {visibleElements:u}=this;if("boolean"!==typeof u.content&&!u.content[A.type])return null;switch(A.type){case "attachments":return this.renderAttachments(S);case "custom":return this.renderCustom(A,S);case "fields":return this.renderFields(S);case "media":return this.renderMedia(S);case "text":return this.renderText(A,S);case "expression":return this.renderExpression(S);default:return null}};N.renderAttachments=function(A){const S=this._contentWidgets[A];
if(!S||S.destroyed)return null;const {state:u,attachmentInfos:q}=S.viewModel;return"loading"===u||0<q.length?l.tsx("div",{key:this._buildKey("attachments-element",A),class:this.classes("esri-feature__content-element")},S.render()):null};N.renderExpression=function(A){const S=this._contentWidgets[A];return!S||S.destroyed?null:l.tsx("div",{key:this._buildKey("expression-element",A),class:"esri-feature__content-element"},S.render())};N.renderCustom=function(A,S){({creator:A}=A);const u=this._contentWidgets[S];
return!u||u.destroyed?null:A?l.tsx("div",{key:this._buildKey("custom-element",S),class:"esri-feature__content-element"},u.render()):null};N.renderFields=function(A){const S=this._contentWidgets[A];return!S||S.destroyed?null:l.tsx("div",{key:this._buildKey("fields-element",A),class:"esri-feature__content-element"},S.render())};N.renderMedia=function(A){const S=this._contentWidgets[A];return!S||S.destroyed?null:l.tsx("div",{key:this._buildKey("media-element",A),class:"esri-feature__content-element"},
S.render())};N.renderLastEditInfo=function(){const {visibleElements:A,messages:S}=this;var {lastEditInfo:u}=this.viewModel;if(!u||!A.lastEditedInfo)return null;const {date:q,user:F}=u;u=m.substitute("edit"===u.type?F?S.lastEditedByUser:S.lastEdited:F?S.lastCreatedByUser:S.lastCreated,{date:q,user:F});return l.tsx("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info","esri-feature__content-element")},u)};N.renderText=function(A,S){const u=this._contentWidgets[S];return!u||
u.destroyed?null:A.text?l.tsx("div",{key:this._buildKey("text-element",S),class:this.classes("esri-feature__content-element","esri-feature__text")},u.render()):null};N._buildKey=function(A,...S){const u=this.get("viewModel.graphic.uid")||"0";S=S.join("-");return`${A}__${u}-${S}`};N._destroyContentWidget=function(A){A&&(A.viewModel=null,!A.destroyed&&A.destroy())};N._destroyContentWidgets=function(){this._contentWidgets.forEach(A=>this._destroyContentWidget(A));this._contentWidgets=[]};N._setupContentWidgets=
function(){this._destroyContentWidgets();const {headingLevel:A,visibleElements:S}=this;var u=this.get("viewModel.content");const {contentViewModels:q}=this.viewModel;Array.isArray(u)?u.forEach((F,X)=>{"attachments"===F.type&&(this._contentWidgets[X]=new c({displayType:F.displayType,headingLevel:S.title?A+1:A,viewModel:q[X]}));"fields"===F.type&&(this._contentWidgets[X]=new p({viewModel:q[X]}));"media"===F.type&&(this._contentWidgets[X]=new t({viewModel:q[X]}));"text"===F.type&&(this._contentWidgets[X]=
new g({viewModel:q[X]}));"custom"===F.type&&(this._contentWidgets[X]=new g({viewModel:q[X]}));"expression"===F.type&&(this._contentWidgets[X]=new h({viewModel:q[X]}))},this):(u=q[0])&&!u.destroyed&&(this._contentWidgets[0]=new g({viewModel:u}));this.scheduleRender()};return Q}(D.FeatureContentMixin(d));y.__decorate([L.aliasOf("viewModel.graphic")],r.prototype,"graphic",void 0);y.__decorate([L.aliasOf("viewModel.defaultPopupTemplateEnabled")],r.prototype,"defaultPopupTemplateEnabled",void 0);y.__decorate([V.property()],
r.prototype,"headingLevel",void 0);y.__decorate([V.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],r.prototype,"label",void 0);y.__decorate([V.property(),K.messageBundle("esri/widgets/Feature/t9n/Feature")],r.prototype,"messages",void 0);y.__decorate([V.property(),K.messageBundle("esri/t9n/common")],r.prototype,"messagesCommon",void 0);y.__decorate([V.property(),K.messageBundle("esri/widgets/support/t9n/uriUtils")],r.prototype,"messagesURIUtils",void 0);y.__decorate([L.aliasOf("viewModel.spatialReference")],
r.prototype,"spatialReference",void 0);y.__decorate([L.aliasOf("viewModel.title")],r.prototype,"title",void 0);y.__decorate([V.property()],r.prototype,"visibleElements",void 0);y.__decorate([T.cast("visibleElements")],r.prototype,"castVisibleElements",null);y.__decorate([L.aliasOf("viewModel.map")],r.prototype,"map",void 0);y.__decorate([L.aliasOf("viewModel.view")],r.prototype,"view",void 0);y.__decorate([V.property({type:M})],r.prototype,"viewModel",void 0);return r=y.__decorate([E.subclass("esri.widgets.Feature")],
r)});