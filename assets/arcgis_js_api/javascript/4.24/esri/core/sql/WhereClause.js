// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/sql/AggregateFunctions":function(){define(["exports"],function(P){function na(h){let q=0;for(let x=0;x<h.length;x++)q+=h[x];return q/h.length}function ca(h){const q=na(h),x=h.length;let g=0;for(const B of h)g+=(B-q)**2;return 1<x?g/(x-1):0}const da={min:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.min.apply(Math,h[0])},max:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.max.apply(Math,h[0])},avg:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:
na(h[0])},sum:{minParams:1,maxParams:1,evaluate:h=>{if(null==h[0])h=null;else{{h=h[0];let q=0;for(let x=0;x<h.length;x++)q+=h[x];h=q}}return h}},stddev:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.sqrt(ca(h[0]))},count:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:h[0].length},var:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:ca(h[0])}};P.aggregateFunction=function(h,q){const x=da[h.toLowerCase()];if(null==x)throw Error("Function Not Recognised");if(q.length<x.minParams||
q.length>x.maxParams)throw Error(`Invalid Parameter count for call to ${h.toUpperCase()}`);return x.evaluate(q)};P.isAggregate=function(h,q){h=da[h.toLowerCase()];return null!=h&&q>=h.minParams&&q<=h.maxParams};Object.defineProperties(P,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/sql/StandardizedFunctions":function(){define(["exports","../string"],function(P,na){let ca=function(){function h(){this.op="+";this.minute=this.year=this.month=this.hour=this.second=this.day=
0}h._fixDefaults=function(q){if(null!==q.precision||null!==q.secondary)throw Error("Primary and Secondary SqlInterval qualifiers not supported");};h.createFromMilliseconds=function(q){const x=new h;x.second=q/1E3;return x};h.createFromValueAndQualifer=function(q,x,g){let B=null;const r=new h;r.op="-"===g?"-":"+";if("interval-period"===x.type){h._fixDefaults(x);if("year"===x.period||"month"===x.period)throw Error("Year-Month Intervals not supported");if(/^[0-9]{1,}$/.test(q))r[x.period]=parseFloat(q);
else throw Error("Illegal Interval");}else{h._fixDefaults(x.start);h._fixDefaults(x.end);if("year"===x.start.period||"month"===x.start.period)throw Error("Year-Month Intervals not supported");if("year"===x.end.period||"month"===x.end.period)throw Error("Year-Month Intervals not supported");switch(x.start.period){case "day":switch(x.end.period){case "hour":B=/^[0-9]{1,} [0-9]{1,}$/;if(B.test(q))r[x.start.period]=parseFloat(q.split(" ")[0]),r[x.end.period]=parseFloat(q.split(" ")[1]);else throw Error("Illegal Interval");
break;case "minute":B=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$/;if(B.test(q))r[x.start.period]=parseFloat(q.split(" ")[0]),q=q.split(" ")[1].split(":"),r.hour=parseFloat(q[0]),r.minute=parseFloat(q[1]);else throw Error("Illegal Interval");break;case "second":B=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(B.test(q))r[x.start.period]=parseFloat(q.split(" ")[0]),q=q.split(" ")[1].split(":"),r.hour=parseFloat(q[0]),r.minute=parseFloat(q[1]),r.second=parseFloat(q[2]);else throw Error("Illegal Interval");
break;default:throw Error("Invalid Interval.");}break;case "hour":switch(x.end.period){case "minute":B=/^[0-9]{1,}:[0-9]{1,}$/;if(B.test(q))r.hour=parseFloat(q.split(":")[0]),r.minute=parseFloat(q.split(":")[1]);else throw Error("Illegal Interval");break;case "second":B=/^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(B.test(q))q=q.split(":"),r.hour=parseFloat(q[0]),r.minute=parseFloat(q[1]),r.second=parseFloat(q[2]);else throw Error("Illegal Interval");break;default:throw Error("Invalid Interval.");
}break;case "minute":switch(x.end.period){case "second":B=/^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(B.test(q))q=q.split(":"),r.minute=parseFloat(q[0]),r.second=parseFloat(q[1]);else throw Error("Illegal Interval");break;default:throw Error("Invalid Interval.");}break;default:throw Error("Invalid Interval.");}}return r};h.prototype.valueInMilliseconds=function(){return("-"===this.op?-1:1)*(1E3*this.second+6E4*this.minute+36E5*this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)};
return h}();const da={extract:{minParams:2,maxParams:2,evaluate:([h,q])=>{if(null==q)return null;if(q instanceof Date)switch(h.toUpperCase()){case "SECOND":return q.getSeconds();case "MINUTE":return q.getMinutes();case "HOUR":return q.getHours();case "DAY":return q.getDate();case "MONTH":return q.getMonth()+1;case "YEAR":return q.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:h=>{if(2===h.length){const [q,x]=h;return null==q||null==
x?null:q.toString().substring(x-1)}if(3===h.length){const [q,x,g]=h;return null==q||null==x||null==g?null:0>=g?"":q.toString().substring(x-1,x+g-1)}}},position:{minParams:2,maxParams:2,evaluate:([h,q])=>null==h||null==q?null:q.indexOf(h)+1},trim:{minParams:2,maxParams:3,evaluate:h=>{var q=3===h.length,x=q?h[1]:" ";q=q?h[2]:h[1];if(null==x||null==q)return null;x=`(${na.escapeRegExpString(x)})`;switch(h[0]){case "BOTH":return q.replace(new RegExp(`^${x}*|${x}*$`,"g"),"");case "LEADING":return q.replace(new RegExp(`^${x}*`,
"g"),"");case "TRAILING":return q.replace(new RegExp(`${x}*$`,"g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.abs(h[0])},ceiling:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.ceil(h[0])},floor:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.floor(h[0])},log:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.log(h[0])},log10:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.log(h[0])*Math.LOG10E},
sin:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.sin(h[0])},cos:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.cos(h[0])},tan:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.tan(h[0])},asin:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.asin(h[0])},acos:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.acos(h[0])},atan:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.atan(h[0])},sign:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:
0<h[0]?1:0>h[1]?-1:0},power:{minParams:2,maxParams:2,evaluate:h=>null==h[0]||null==h[1]?null:h[0]**h[1]},mod:{minParams:2,maxParams:2,evaluate:h=>null==h[0]||null==h[1]?null:h[0]%h[1]},round:{minParams:1,maxParams:2,evaluate:h=>{const q=h[0];h=2===h.length?10**h[1]:1;return null==q?null:Math.round(q*h)/h}},truncate:{minParams:1,maxParams:2,evaluate:h=>null==h[0]?null:1===h.length?parseInt(h[0].toFixed(0),10):parseFloat(h[0].toFixed(h[1]))},char_length:{minParams:1,maxParams:1,evaluate:h=>"string"===
typeof h[0]||h[0]instanceof String?h[0].length:0},concat:{minParams:1,maxParams:Infinity,evaluate:h=>{let q="";for(let x=0;x<h.length;x++){if(null==h[x])return null;q+=h[x].toString()}return q}},lower:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:h[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:h[0].toString().toUpperCase()}};P.SqlInterval=ca;P.evaluateFunction=function(h,q){const x=da[h.toLowerCase()];if(null==x)throw Error("Function Not Recognised");
if(q.length<x.minParams||q.length>x.maxParams)throw Error(`Invalid Parameter count for call to ${h.toUpperCase()}`);return x.evaluate(q)};P.isStandardized=function(h,q){h=da[h.toLowerCase()];return null!=h&&q>=h.minParams&&q<=h.maxParams};Object.defineProperties(P,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_commonjsHelpers"],function(P,na){var ca={exports:{}};(function(h){(function(q,x){h.exports&&(h.exports=
x())})(na.commonjsGlobal,function(){function q(g,B,r,G){g=Error.call(this,g);Object.setPrototypeOf&&Object.setPrototypeOf(g,q.prototype);g.expected=B;g.found=r;g.location=G;g.name="SyntaxError";return g}function x(g,B,r){r=r||" ";if(g.length>B)return g;B-=g.length;r+=r.repeat(B);return g+r.slice(0,B)}(function(g,B){function r(){this.constructor=g}r.prototype=B.prototype;g.prototype=new r})(q,Error);q.prototype.format=function(g){var B="Error: "+this.message;if(this.location){var r=null,G;for(G=0;G<
g.length;G++)if(g[G].source===this.location.source){r=g[G].text.split(/\r\n|\n|\r/g);break}g=this.location.start;G=this.location.source+":"+g.line+":"+g.column;if(r){var O=this.location.end,ea=x("",g.line.toString().length);r=r[g.line-1];O=g.line===O.line?O.column:r.length+1;B+="\n --\x3e "+G+"\n"+ea+" |\n"+g.line+" | "+r+"\n"+ea+" | "+x("",g.column-1)+x("",O-g.column,"^")}else B+="\n at "+G}return B};q.buildMessage=function(g,B){function r(E){return E.charCodeAt(0).toString(16).toUpperCase()}function G(E){return E.replace(/\\/g,
"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(J){return"\\x0"+r(J)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(J){return"\\x"+r(J)})}function O(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(J){return"\\x0"+r(J)}).replace(/[\x10-\x1F\x7F-\x9F]/g,
function(J){return"\\x"+r(J)})}function ea(E){return v[E.type](E)}var v={literal:function(E){return'"'+G(E.text)+'"'},class:function(E){var J=E.parts.map(function(C){return Array.isArray(C)?O(C[0])+"-"+O(C[1]):O(C)});return"["+(E.inverted?"^":"")+J+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(E){return E.description}};return"Expected "+function(E){E=E.map(ea);var J,C;E.sort();if(0<E.length){for(C=J=1;J<E.length;J++)E[J-1]!==E[J]&&(E[C]=E[J],C++);E.length=
C}switch(E.length){case 1:return E[0];case 2:return E[0]+" or "+E[1];default:return E.slice(0,-1).join(", ")+", or "+E[E.length-1]}}(g)+" but "+(B?'"'+G(B)+'"':"end of input")+" found."};return{SyntaxError:q,parse:function(g,B){function r(c,d){return{type:"literal",text:c,ignoreCase:d}}function G(c,d,e){return{type:"class",parts:c,inverted:d,ignoreCase:e}}function O(c){var d=Wa[c],e;if(!d){for(e=c-1;!Wa[e];)e--;d=Wa[e];for(d={line:d.line,column:d.column};e<c;)10===g.charCodeAt(e)?(d.line++,d.column=
1):d.column++,e++;Wa[c]=d}return d}function ea(c,d){var e=O(c),l=O(d);return{source:Vc,start:{offset:c,line:e.line,column:e.column},end:{offset:d,line:l.line,column:l.column}}}function v(c){b<fa||(b>fa&&(fa=b,xb=[]),xb.push(c))}function E(){var c=b;p();var d=C();d!==a?(p(),c=d):(b=c,c=a);return c}function J(){var c=b;var d=C();if(d!==a){c=[];var e=b;var l=p();var w=Xa();if(w!==a){var D=p();var F=C();F!==a?e=l=[l,w,D,F]:(b=e,e=a)}else b=e,e=a;for(;e!==a;)c.push(e),e=b,l=p(),w=Xa(),w!==a?(D=p(),F=C(),
F!==a?e=l=[l,w,D,F]:(b=e,e=a)):(b=e,e=a);e={type:"expression-list"};d=[d];for(l=0;l<c.length;l++)d.push(c[l][3]);e.value=d;c=e}else b=c,c=a;return c}function C(){var c=b;var d=sa();if(d!==a){c=[];var e=b;var l=p();var w=Rb();if(w!==a){var D=p();var F=sa();F!==a?e=l=[l,w,D,F]:(b=e,e=a)}else b=e,e=a;for(;e!==a;)c.push(e),e=b,l=p(),w=Rb(),w!==a?(D=p(),F=sa(),F!==a?e=l=[l,w,D,F]:(b=e,e=a)):(b=e,e=a);c=Fa(d,c)}else b=c,c=a;return c}function sa(){var c=b;var d=pa();if(d!==a){c=[];var e=b;var l=p();var w=
Ya();if(w!==a){var D=p();var F=pa();F!==a?e=l=[l,w,D,F]:(b=e,e=a)}else b=e,e=a;for(;e!==a;)c.push(e),e=b,l=p(),w=Ya(),w!==a?(D=p(),F=pa(),F!==a?e=l=[l,w,D,F]:(b=e,e=a)):(b=e,e=a);c=Fa(d,c)}else b=c,c=a;return c}function pa(){var c=b;var d=Ga();if(d===a){d=b;if(33===g.charCodeAt(b)){var e=Wc;b++}else e=a,0===n&&v(Xc);if(e!==a){var l=b;n++;if(61===g.charCodeAt(b)){var w=Sb;b++}else w=a,0===n&&v(Tb);n--;w===a?l=void 0:(b=l,l=a);l!==a?d=e=[e,l]:(b=d,d=a)}else b=d,d=a}d!==a?(e=p(),l=pa(),l!==a?c={type:"unary-expression",
operator:"NOT",expr:l}:(b=c,c=a)):(b=c,c=a);if(c===a){d=b;c=Y();if(c!==a){p();d=[];e=b;l=p();w=Ha();if(w!==a){var D=p();var F=Y();F!==a?e=l=[l,w,D,F]:(b=e,e=a)}else b=e,e=a;if(e!==a)for(;e!==a;)d.push(e),e=b,l=p(),w=Ha(),w!==a?(D=p(),F=Y(),F!==a?e=l=[l,w,D,F]:(b=e,e=a)):(b=e,e=a);else d=a;d!==a&&(d={type:"arithmetic",tail:d});d===a&&(d=b,e=Ia(),e!==a?(p(),l=Q(),l!==a?(p(),l=J(),l!==a?(p(),w=R(),w!==a?d={op:e,right:l}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,e=Ia(),e!==a?(p(),l=Q(),l!==
a?(p(),l=R(),l!==a?d={op:e,right:{type:"expression-list",value:[]}}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,e=Ia(),e!==a?(p(),l=k(),l!==a?d={op:e,right:l}:(b=d,d=a)):(b=d,d=a))),d===a&&(d=b,w=Ga(),w!==a?(p(),e=Ub(),e!==a?(p(),l=Y(),l!==a?(p(),D=Ya(),D!==a?(p(),w=Y(),w!==a?d={op:"NOT"+e,right:{type:"expression-list",value:[l,w]}}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,w=Ub(),w!==a?(p(),e=Y(),e!==a?(p(),l=Ya(),l!==a?(p(),D=Y(),D!==a?d={op:w,right:{type:"expression-list",
value:[e,D]}}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)),d===a&&(d=b,e=Vb(),e!==a?(p(),l=Ga(),l!==a?(p(),l=Y(),l!==a?d={op:e+"NOT",right:l}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,e=Vb(),e!==a?(p(),l=Y(),l!==a?d={op:e,right:l}:(b=d,d=a)):(b=d,d=a)),d===a&&(d=b,e=Ja(),e!==a?(p(),l=K(),l!==a?(p(),w=b,g.substr(b,6).toLowerCase()===Yc?(D=g.substr(b,6),b+=6):(D=a,0===n&&v(Zc)),D!==a?(D=b,n++,F=z(),n--,F===a?D=void 0:(b=D,D=a),D!==a?w="ESCAPE":(b=w,w=a)):(b=w,w=a),w!==a?(p(),w=L(),w!==a?d={op:e,right:l,
escape:w.value}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,e=Ja(),e!==a?(p(),l=K(),l!==a?d={op:e,right:l,escape:""}:(b=d,d=a)):(b=d,d=a))))));d===a&&(d=null);""==d||void 0==d||null==d?d=c:(e=null,d=e="arithmetic"==d.type?Fa(c,d.tail):Wb(d.op,c,d.right,d.escape))}else b=d,d=a;c=d}return c}function Ha(){if(g.substr(b,2)===Xb){var c=Xb;b+=2}else c=a,0===n&&v($c);c===a&&(62===g.charCodeAt(b)?(c=ad,b++):(c=a,0===n&&v(bd)),c===a&&(g.substr(b,2)===Yb?(c=Yb,b+=2):(c=a,0===n&&v(cd)),c===a&&(g.substr(b,
2)===Zb?(c=Zb,b+=2):(c=a,0===n&&v(dd)),c===a&&(60===g.charCodeAt(b)?(c=ed,b++):(c=a,0===n&&v(fd)),c===a&&(61===g.charCodeAt(b)?(c=Sb,b++):(c=a,0===n&&v(Tb)),c===a&&(g.substr(b,2)===$b?(c=$b,b+=2):(c=a,0===n&&v(gd))))))));return c}function Ja(){var c=c=b;var d=Ga();if(d!==a){var e=p();var l=ac();l!==a?c=d=[d,e,l]:(b=c,c=a)}else b=c,c=a;c!==a&&(c=c[0]+" "+c[2]);c===a&&(c=ac());return c}function Ia(){var c=c=b;var d=Ga();if(d!==a){var e=p();var l=yb();l!==a?c=d=[d,e,l]:(b=c,c=a)}else b=c,c=a;c!==a&&
(c=c[0]+" "+c[2]);c===a&&(c=yb());return c}function Y(){var c=b;var d=Ka();if(d!==a){c=[];var e=b;var l=p();var w=Za();if(w!==a){var D=p();var F=Ka();F!==a?e=l=[l,w,D,F]:(b=e,e=a)}else b=e,e=a;for(;e!==a;)c.push(e),e=b,l=p(),w=Za(),w!==a?(D=p(),F=Ka(),F!==a?e=l=[l,w,D,F]:(b=e,e=a)):(b=e,e=a);c=Fa(d,c)}else b=c,c=a;return c}function Za(){if(43===g.charCodeAt(b)){var c=zb;b++}else c=a,0===n&&v(Ab);c===a&&(45===g.charCodeAt(b)?(c=Bb,b++):(c=a,0===n&&v(Cb)));return c}function Ka(){var c=b;var d=La();
if(d!==a){c=[];var e=b;var l=p();var w=$a();if(w!==a){var D=p();var F=La();F!==a?e=l=[l,w,D,F]:(b=e,e=a)}else b=e,e=a;for(;e!==a;)c.push(e),e=b,l=p(),w=$a(),w!==a?(D=p(),F=La(),F!==a?e=l=[l,w,D,F]:(b=e,e=a)):(b=e,e=a);c=Fa(d,c)}else b=c,c=a;return c}function $a(){if(42===g.charCodeAt(b)){var c=hd;b++}else c=a,0===n&&v(id);c===a&&(47===g.charCodeAt(b)?(c=jd,b++):(c=a,0===n&&v(kd)));return c}function La(){var c=L();if(c===a){var d=b;var e=b;var l=ab();if(l!==a){var w=bc();if(w!==a){var D=cc();D!==a?
e=parseFloat(l+w+D):(b=e,e=a)}else b=e,e=a}else b=e,e=a;e===a&&(e=b,l=ab(),l!==a?(w=bc(),w!==a?e=parseFloat(l+w):(b=e,e=a)):(b=e,e=a),e===a&&(e=b,l=ab(),l!==a?(w=cc(),w!==a?e=parseFloat(l+w):(b=e,e=a)):(b=e,e=a),e===a&&(e=b,l=ab(),l!==a&&(l=parseFloat(l)),e=l)));var F=e;if(F!==a){var bb=b;n++;var ld=Z();n--;ld===a?bb=void 0:(b=bb,bb=a);bb!==a?d={type:"number",value:F}:(b=d,d=a)}else b=d,d=a;c=d;if(c===a){var Ma=b;var ta=b;if(g.substr(b,4).toLowerCase()===md){var cb=g.substr(b,4);b+=4}else cb=a,0===
n&&v(nd);if(cb!==a){var Na=b;n++;var od=z();n--;od===a?Na=void 0:(b=Na,Na=a);Na!==a?ta=cb=[cb,Na]:(b=ta,ta=a)}else b=ta,ta=a;var qa=ta;qa!==a&&(qa={type:"boolean",value:!0});Ma=qa;if(Ma===a){Ma=b;var ua=b;if(g.substr(b,5).toLowerCase()===pd){var db=g.substr(b,5);b+=5}else db=a,0===n&&v(qd);if(db!==a){var Oa=b;n++;var rd=z();n--;rd===a?Oa=void 0:(b=Oa,Oa=a);Oa!==a?ua=db=[db,Oa]:(b=ua,ua=a)}else b=ua,ua=a;qa=ua;qa!==a&&(qa={type:"boolean",value:!1});Ma=qa}c=Ma;if(c===a){var va=b;if(g.substr(b,4).toLowerCase()===
sd){var eb=g.substr(b,4);b+=4}else eb=a,0===n&&v(td);if(eb!==a){var Pa=b;n++;var ud=z();n--;ud===a?Pa=void 0:(b=Pa,Pa=a);Pa!==a?va=eb=[eb,Pa]:(b=va,va=a)}else b=va,va=a;var Db=va;Db!==a&&(Db={type:"null",value:null});c=Db;if(c===a){var wa=b;var xa=b;if(g.substr(b,4).toLowerCase()===vd){var dc=g.substr(b,4);b+=4}else dc=a,0===n&&v(wd);if(dc!==a){var fb=b;n++;var xd=z();n--;xd===a?fb=void 0:(b=fb,fb=a);fb!==a?xa="DATE":(b=xa,xa=a)}else b=xa,xa=a;if(xa!==a){p();var ec=K();ec!==a?wa={type:"date",value:ec.value}:
(b=wa,wa=a)}else b=wa,wa=a;c=wa;if(c===a){var ya=b;var za=b;if(g.substr(b,9).toLowerCase()===yd){var fc=g.substr(b,9);b+=9}else fc=a,0===n&&v(zd);if(fc!==a){var gb=b;n++;var Ad=z();n--;Ad===a?gb=void 0:(b=gb,gb=a);gb!==a?za="TIMESTAMP":(b=za,za=a)}else b=za,za=a;if(za!==a){p();var gc=K();gc!==a?ya={type:"timestamp",value:gc.value}:(b=ya,ya=a)}else b=ya,ya=a;c=ya;if(c===a){var M=b;var Eb=hc();if(Eb!==a){p();if(45===g.charCodeAt(b)){var ja=Bb;b++}else ja=a,0===n&&v(Cb);ja===a&&(43===g.charCodeAt(b)?
(ja=zb,b++):(ja=a,0===n&&v(Ab)));if(ja!==a){p();var Qa=K();if(Qa!==a){p();var ic=m();ic!==a?M={type:"interval",value:Qa,qualifier:ic,op:ja}:(b=M,M=a)}else b=M,M=a}else b=M,M=a}else b=M,M=a;M===a&&(M=b,Eb=hc(),Eb!==a?(p(),ja=K(),ja!==a?(p(),Qa=m(),Qa!==a?M={type:"interval",value:ja,qualifier:Qa,op:""}:(b=M,M=a)):(b=M,M=a)):(b=M,M=a));c=M}}}}}}var H=c;if(H===a){var U=b;var Aa=b;if(g.substr(b,7).toLowerCase()===Bd){var jc=g.substr(b,7);b+=7}else jc=a,0===n&&v(Cd);if(jc!==a){var hb=b;n++;var Dd=z();n--;
Dd===a?hb=void 0:(b=hb,hb=a);hb!==a?Aa="EXTRACT":(b=Aa,Aa=a)}else b=Aa,Aa=a;if(Aa!==a){p();var Ed=Q();if(Ed!==a){p();var aa=kc();aa===a&&(aa=lc(),aa===a&&(aa=mc(),aa===a&&(aa=nc(),aa===a&&(aa=oc(),aa===a&&(aa=ra())))));var pc=aa;if(pc!==a){p();var Fd=Fb();if(Fd!==a){p();var qc=C();if(qc!==a){p();var Gd=R();Gd!==a?U={type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:pc},qc]}}:(b=U,U=a)}else b=U,U=a}else b=U,U=a}else b=U,U=a}else b=U,U=a}else b=U,U=a;H=U;if(H===
a){var V=b;var Ba=b;if(g.substr(b,9).toLowerCase()===Hd){var rc=g.substr(b,9);b+=9}else rc=a,0===n&&v(Id);if(rc!==a){var ib=b;n++;var Jd=z();n--;Jd===a?ib=void 0:(b=ib,ib=a);ib!==a?Ba="SUBSTRING":(b=Ba,Ba=a)}else b=Ba,Ba=a;if(Ba!==a){p();var Kd=Q();if(Kd!==a){p();var Gb=C();if(Gb!==a){p();var Ld=Fb();if(Ld!==a){p();var Hb=C();if(Hb!==a){p();var ka=b;var Ca=b;if(g.substr(b,3).toLowerCase()===Md){var sc=g.substr(b,3);b+=3}else sc=a,0===n&&v(Nd);if(sc!==a){var jb=b;n++;var Od=z();n--;Od===a?jb=void 0:
(b=jb,jb=a);jb!==a?Ca="FOR":(b=Ca,Ca=a)}else b=Ca,Ca=a;var Ra=Ca;if(Ra!==a){var Pd=p();var tc=C();if(tc!==a){var Qd=p();ka=Ra=[Ra,Pd,tc,Qd]}else b=ka,ka=a}else b=ka,ka=a;ka===a&&(ka=null);Ra=R();Ra!==a?V={type:"function",name:"substring",args:{type:"expression-list",value:ka?[Gb,Hb,ka[2]]:[Gb,Hb]}}:(b=V,V=a)}else b=V,V=a}else b=V,V=a}else b=V,V=a}else b=V,V=a}else b=V,V=a;H=V;if(H===a){var I=b;var Ib=uc();if(Ib!==a){p();var Jb=Q();if(Jb!==a){p();var la=f();la===a&&(la=null);p();var Sa=C();if(Sa!==
a){p();var Kb=Fb();if(Kb!==a){p();var vc=C();if(vc!==a){p();var Rd=R();Rd!==a?I={type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==la?"BOTH":la},Sa,vc]}}:(b=I,I=a)}else b=I,I=a}else b=I,I=a}else b=I,I=a}else b=I,I=a}else b=I,I=a;I===a&&(I=b,Ib=uc(),Ib!==a?(p(),Jb=Q(),Jb!==a?(p(),la=f(),la===a&&(la=null),p(),Sa=C(),Sa!==a?(p(),Kb=R(),Kb!==a?I={type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==la?"BOTH":la},Sa]}}:(b=I,
I=a)):(b=I,I=a)):(b=I,I=a)):(b=I,I=a));H=I;if(H===a){var W=b;var Da=b;if(g.substr(b,8).toLowerCase()===Sd){var wc=g.substr(b,8);b+=8}else wc=a,0===n&&v(Td);if(wc!==a){var kb=b;n++;var Ud=z();n--;Ud===a?kb=void 0:(b=kb,kb=a);kb!==a?Da="POSITION":(b=Da,Da=a)}else b=Da,Da=a;if(Da!==a){p();var Vd=Q();if(Vd!==a){p();var xc=C();if(xc!==a){p();var Wd=yb();if(Wd!==a){p();var yc=C();if(yc!==a){p();var Xd=R();Xd!==a?W={type:"function",name:"position",args:{type:"expression-list",value:[xc,yc]}}:(b=W,W=a)}else b=
W,W=a}else b=W,W=a}else b=W,W=a}else b=W,W=a}else b=W,W=a;H=W;if(H===a){var oa=b;var lb;var ba=b;ba=lb=mb();if(ba===a)if(ba=b,96===g.charCodeAt(b)?(lb=zc,b++):(lb=a,0===n&&v(Ac)),lb!==a){var nb=[];if(Bc.test(g.charAt(b))){var ma=g.charAt(b);b++}else ma=a,0===n&&v(Cc);if(ma!==a)for(;ma!==a;)nb.push(ma),Bc.test(g.charAt(b))?(ma=g.charAt(b),b++):(ma=a,0===n&&v(Cc));else nb=a;nb!==a?(96===g.charCodeAt(b)?(ma=zc,b++):(ma=a,0===n&&v(Ac)),ma!==a?ba=nb.join(""):(b=ba,ba=a)):(b=ba,ba=a)}else b=ba,ba=a;var Dc=
ba;if(Dc!==a){p();var Yd=Q();if(Yd!==a){p();var ob=J();ob===a&&(ob=null);p();var Zd=R();Zd!==a?oa={type:"function",name:Dc,args:ob?ob:{type:"expression-list",value:[]}}:(b=oa,oa=a)}else b=oa,oa=a}else b=oa,oa=a;H=oa;if(H===a){var ha;var N=b;var Lb=pb();if(Lb!==a){p();var Ta=C();if(Ta!==a){p();var Ua=[];for(ha=X();ha!==a;)Ua.push(ha),ha=X();ha=p();var rb=qb();rb!==a?N={type:"case-expression",format:"simple",operand:Ta,clauses:Ua,else:null}:(b=N,N=a)}else b=N,N=a}else b=N,N=a;if(N===a)if(N=b,Lb=pb(),
Lb!==a)if(p(),Ta=C(),Ta!==a){p();Ua=[];for(ha=X();ha!==a;)Ua.push(ha),ha=X();ha=p();rb=Ec();if(rb!==a){p();var $d=qb();$d!==a?N={type:"case-expression",format:"simple",operand:Ta,clauses:Ua,else:rb.value}:(b=N,N=a)}else b=N,N=a}else b=N,N=a;else b=N,N=a;var Mb=N;if(Mb===a){var ia;var S=b;var Nb=pb();if(Nb!==a){p();var Va=[];for(ia=T();ia!==a;)Va.push(ia),ia=T();ia=p();var sb=qb();sb!==a?S={type:"case-expression",format:"searched",clauses:Va,else:null}:(b=S,S=a)}else b=S,S=a;if(S===a)if(S=b,Nb=pb(),
Nb!==a){p();Va=[];for(ia=T();ia!==a;)Va.push(ia),ia=T();ia=p();sb=Ec();if(sb!==a){p();var ae=qb();ae!==a?S={type:"case-expression",format:"searched",clauses:Va,else:sb.value}:(b=S,S=a)}else b=S,S=a}else b=S,S=a;Mb=S}H=Mb;if(H===a){var tb;var ub=b;var Fc=Z();if(Fc!==a){var Gc=[];for(tb=t();tb!==a;)Gc.push(tb),tb=t();ub=Fc+Gc.join("")}else b=ub,ub=a;var vb=ub;if(vb!==a){var Ob=vb;vb=/^CURRENT_DATE$/i.test(Ob)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(Ob)?{type:"current-time",mode:"timestamp"}:
{type:"column-reference",table:"",column:Ob}}H=vb;if(H===a&&(H=k(),H===a)){H=b;var be=Q();if(be!==a){p();var Pb=C();if(Pb!==a){p();var ce=R();ce!==a?(Pb.paren=!0,H=Pb):(b=H,H=a)}else b=H,H=a}else b=H,H=a}}}}}}}}return H}function mb(){var c;var d=b;var e=Z();if(e!==a){d=[];for(c=z();c!==a;)d.push(c),c=z();d=e+d.join("")}else b=d,d=a;return d}function Z(){if(de.test(g.charAt(b))){var c=g.charAt(b);b++}else c=a,0===n&&v(ee);return c}function z(){if(fe.test(g.charAt(b))){var c=g.charAt(b);b++}else c=
a,0===n&&v(ge);return c}function t(){if(he.test(g.charAt(b))){var c=g.charAt(b);b++}else c=a,0===n&&v(ie);return c}function k(){var c=b;if(64===g.charCodeAt(b)){var d=je;b++}else d=a,0===n&&v(ke);if(d!==a){var e=mb();e!==a?c=d=[d,e]:(b=c,c=a)}else b=c,c=a;c!==a&&(c={type:"parameter",value:c[1]});return c}function f(){var c=b;if(g.substr(b,7).toLowerCase()===le){var d=g.substr(b,7);b+=7}else d=a,0===n&&v(me);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="LEADING":(b=c,c=a)}else b=
c,c=a;c===a&&(c=b,g.substr(b,8).toLowerCase()===ne?(d=g.substr(b,8),b+=8):(d=a,0===n&&v(oe)),d!==a?(d=b,n++,e=z(),n--,e===a?d=void 0:(b=d,d=a),d!==a?c="TRAILING":(b=c,c=a)):(b=c,c=a),c===a&&(c=b,g.substr(b,4).toLowerCase()===pe?(d=g.substr(b,4),b+=4):(d=a,0===n&&v(qe)),d!==a?(d=b,n++,e=z(),n--,e===a?d=void 0:(b=d,d=a),d!==a?c="BOTH":(b=c,c=a)):(b=c,c=a)));return c}function m(){var c=b;var d=b;var e=u();if(e!==a){p();var l=Q();if(l!==a)if(p(),l=A(),l!==a){p();var w=R();w!==a?d={type:"interval-period",
period:e.value,precision:l,secondary:null}:(b=d,d=a)}else b=d,d=a;else b=d,d=a}else b=d,d=a;d===a&&(d=b,e=u(),e!==a&&(e=Hc(e)),d=e);if(d!==a)if(p(),e=b,g.substr(b,2).toLowerCase()===re?(l=g.substr(b,2),b+=2):(l=a,0===n&&v(se)),l!==a?(l=b,n++,w=z(),n--,w===a?l=void 0:(b=l,l=a),l!==a?e="TO":(b=e,e=a)):(b=e,e=a),e!==a){p();e=b;l=u();l!==a&&(l={type:"interval-period",period:l.value,precision:null,secondary:null});e=l;if(e===a){e=b;l=ra();if(l!==a)if(p(),l=Q(),l!==a)if(p(),l=A(),l!==a)if(p(),w=Xa(),w!==
a)if(p(),w=y(),w!==a){p();var D=R();D!==a?e=Ic(l,w):(b=e,e=a)}else b=e,e=a;else b=e,e=a;else b=e,e=a;else b=e,e=a;else b=e,e=a;e===a&&(e=b,l=ra(),l!==a?(p(),l=Q(),l!==a?(p(),l=A(),l!==a?(p(),w=R(),w!==a?e={type:"interval-period",period:"second",precision:l,secondary:null}:(b=e,e=a)):(b=e,e=a)):(b=e,e=a)):(b=e,e=a),e===a&&(e=b,l=ra(),l!==a&&(l={type:"interval-period",period:"second",precision:null,secondary:null}),e=l))}e!==a?c={type:"interval-qualifier",start:d,end:e}:(b=c,c=a)}else b=c,c=a;else b=
c,c=a;c===a&&(c=b,e=u(),e!==a?(p(),d=Q(),d!==a?(p(),d=y(),d!==a?(p(),l=R(),l!==a?c={type:"interval-period",period:e.value,precision:d,secondary:null}:(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,e=u(),e!==a&&(e=Hc(e)),c=e,c===a&&(c=b,e=ra(),e!==a?(p(),d=Q(),d!==a?(p(),d=A(),d!==a?(p(),l=Xa(),l!==a?(p(),e=y(),e!==a?(p(),l=R(),l!==a?c=Ic(d,e):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,e=ra(),e!==a?(p(),d=Q(),d!==a?(p(),d=y(),d!==a?(p(),l=R(),l!==a?c={type:"interval-period",
period:"second",precision:d,secondary:null}:(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,e=ra(),e!==a&&(e={type:"interval-period",period:"second",precision:null,secondary:null}),c=e)))));return c}function u(){var c=b;c=mc();c!==a&&(c={type:"string",value:"day"});c===a&&(c=b,c=nc(),c!==a&&(c={type:"string",value:"hour"}),c===a&&(c=b,c=oc(),c!==a&&(c={type:"string",value:"minute"}),c===a&&(c=b,c=lc(),c!==a&&(c={type:"string",value:"month"}),c===a&&(c=b,c=kc(),c!==a&&(c={type:"string",value:"year"})))));
return c}function y(){var c=Ea();c!==a&&(c=parseFloat(c));return c}function A(){var c=Ea();c!==a&&(c=parseFloat(c));return c}function K(){var c=L();c===a&&(c=k());return c}function L(){var c=b;if(39===g.charCodeAt(b)){var d=Jc;b++}else d=a,0===n&&v(Kc);d===a&&(g.substr(b,2)===Lc?(d=Lc,b+=2):(d=a,0===n&&v(te)));if(d!==a){d=[];var e=b;g.substr(b,2)===wb?(e=wb,b+=2):(e=a,0===n&&v(Mc));e!==a&&(e="'");e===a&&(Nc.test(g.charAt(b))?(e=g.charAt(b),b++):(e=a,0===n&&v(Oc)));for(;e!==a;)d.push(e),e=b,g.substr(b,
2)===wb?(e=wb,b+=2):(e=a,0===n&&v(Mc)),e!==a&&(e="'"),e===a&&(Nc.test(g.charAt(b))?(e=g.charAt(b),b++):(e=a,0===n&&v(Oc)));39===g.charCodeAt(b)?(e=Jc,b++):(e=a,0===n&&v(Kc));e!==a?c={type:"string",value:d.join("")}:(b=c,c=a)}else b=c,c=a;return c}function T(){var c=b;if(Pc()!==a){p();var d=C();if(d!==a){p();var e=Qc();e!==a?(p(),e=C(),e!==a?c={type:"when-clause",operand:d,value:e}:(b=c,c=a)):(b=c,c=a)}else b=c,c=a}else b=c,c=a;return c}function X(){var c=b;if(Pc()!==a){p();var d=C();if(d!==a){p();
var e=Qc();e!==a?(p(),e=C(),e!==a?c={type:"when-clause",operand:d,value:e}:(b=c,c=a)):(b=c,c=a)}else b=c,c=a}else b=c,c=a;return c}function Ec(){var c=b;var d=b;if(g.substr(b,4).toLowerCase()===ue){var e=g.substr(b,4);b+=4}else e=a,0===n&&v(ve);if(e!==a){e=b;n++;var l=z();n--;l===a?e=void 0:(b=e,e=a);e!==a?d="ELSE":(b=d,d=a)}else b=d,d=a;d!==a?(p(),d=C(),d!==a?c={type:"else-clause",value:d}:(b=c,c=a)):(b=c,c=a);return c}function ab(){var c=Ea();if(c===a){c=b;if(45===g.charCodeAt(b)){var d=Bb;b++}else d=
a,0===n&&v(Cb);d===a&&(43===g.charCodeAt(b)?(d=zb,b++):(d=a,0===n&&v(Ab)));if(d!==a){var e=Ea();e!==a?c=d[0]+e:(b=c,c=a)}else b=c,c=a}return c}function bc(){var c=b;if(46===g.charCodeAt(b)){var d=we;b++}else d=a,0===n&&v(xe);d!==a?(c=Ea(),c===a&&(c=null),c="."+(null!=c?c:"")):(b=c,c=a);return c}function cc(){var c;var d=c=b;if(ye.test(g.charAt(b))){var e=g.charAt(b);b++}else e=a,0===n&&v(ze);e!==a?(Ae.test(g.charAt(b))?(d=g.charAt(b),b++):(d=a,0===n&&v(Be)),d===a&&(d=null),d="e"+(null===d?"":d)):
(b=d,d=a);d!==a?(e=Ea(),e!==a?c=d+e:(b=c,c=a)):(b=c,c=a);return c}function Ea(){var c=[];var d=Rc();if(d!==a)for(;d!==a;)c.push(d),d=Rc();else c=a;c!==a&&(c=c.join(""));return c}function Rc(){if(Ce.test(g.charAt(b))){var c=g.charAt(b);b++}else c=a,0===n&&v(De);return c}function yb(){var c=b;if(g.substr(b,2).toLowerCase()===Ee){var d=g.substr(b,2);b+=2}else d=a,0===n&&v(Fe);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="IN":(b=c,c=a)}else b=c,c=a;return c}function Vb(){var c=b;if(g.substr(b,
2).toLowerCase()===Ge){var d=g.substr(b,2);b+=2}else d=a,0===n&&v(He);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="IS":(b=c,c=a)}else b=c,c=a;return c}function ac(){var c=b;if(g.substr(b,4).toLowerCase()===Ie){var d=g.substr(b,4);b+=4}else d=a,0===n&&v(Je);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="LIKE":(b=c,c=a)}else b=c,c=a;return c}function Ga(){var c=b;if(g.substr(b,3).toLowerCase()===Ke){var d=g.substr(b,3);b+=3}else d=a,0===n&&v(Le);if(d!==a){d=b;
n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="NOT":(b=c,c=a)}else b=c,c=a;return c}function Ya(){var c=b;if(g.substr(b,3).toLowerCase()===Me){var d=g.substr(b,3);b+=3}else d=a,0===n&&v(Ne);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="AND":(b=c,c=a)}else b=c,c=a;return c}function Rb(){var c=b;if(g.substr(b,2).toLowerCase()===Oe){var d=g.substr(b,2);b+=2}else d=a,0===n&&v(Pe);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="OR":(b=c,c=a)}else b=c,c=a;return c}
function Ub(){var c=b;if(g.substr(b,7).toLowerCase()===Qe){var d=g.substr(b,7);b+=7}else d=a,0===n&&v(Re);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="BETWEEN":(b=c,c=a)}else b=c,c=a;return c}function Fb(){var c=b;if(g.substr(b,4).toLowerCase()===Se){var d=g.substr(b,4);b+=4}else d=a,0===n&&v(Te);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="FROM":(b=c,c=a)}else b=c,c=a;return c}function uc(){var c=b;if(g.substr(b,4).toLowerCase()===Ue){var d=g.substr(b,4);
b+=4}else d=a,0===n&&v(Ve);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="TRIM":(b=c,c=a)}else b=c,c=a;return c}function hc(){var c=b;if(g.substr(b,8).toLowerCase()===We){var d=g.substr(b,8);b+=8}else d=a,0===n&&v(Xe);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="INTERVAL":(b=c,c=a)}else b=c,c=a;return c}function kc(){var c=b;if(g.substr(b,4).toLowerCase()===Ye){var d=g.substr(b,4);b+=4}else d=a,0===n&&v(Ze);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=
d,d=a);d!==a?c="YEAR":(b=c,c=a)}else b=c,c=a;return c}function lc(){var c=b;if(g.substr(b,5).toLowerCase()===$e){var d=g.substr(b,5);b+=5}else d=a,0===n&&v(af);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="MONTH":(b=c,c=a)}else b=c,c=a;return c}function mc(){var c=b;if(g.substr(b,3).toLowerCase()===bf){var d=g.substr(b,3);b+=3}else d=a,0===n&&v(cf);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="DAY":(b=c,c=a)}else b=c,c=a;return c}function nc(){var c=b;if(g.substr(b,
4).toLowerCase()===df){var d=g.substr(b,4);b+=4}else d=a,0===n&&v(ef);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="HOUR":(b=c,c=a)}else b=c,c=a;return c}function oc(){var c=b;if(g.substr(b,6).toLowerCase()===ff){var d=g.substr(b,6);b+=6}else d=a,0===n&&v(gf);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="MINUTE":(b=c,c=a)}else b=c,c=a;return c}function ra(){var c=b;if(g.substr(b,6).toLowerCase()===hf){var d=g.substr(b,6);b+=6}else d=a,0===n&&v(jf);if(d!==a){d=
b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="SECOND":(b=c,c=a)}else b=c,c=a;return c}function pb(){var c=b;if(g.substr(b,4).toLowerCase()===kf){var d=g.substr(b,4);b+=4}else d=a,0===n&&v(lf);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="CASE":(b=c,c=a)}else b=c,c=a;return c}function qb(){var c=b;if(g.substr(b,3).toLowerCase()===mf){var d=g.substr(b,3);b+=3}else d=a,0===n&&v(nf);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="END":(b=c,c=a)}else b=c,c=
a;return c}function Pc(){var c=b;if(g.substr(b,4).toLowerCase()===of){var d=g.substr(b,4);b+=4}else d=a,0===n&&v(pf);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="WHEN":(b=c,c=a)}else b=c,c=a;return c}function Qc(){var c=b;if(g.substr(b,4).toLowerCase()===qf){var d=g.substr(b,4);b+=4}else d=a,0===n&&v(rf);if(d!==a){d=b;n++;var e=z();n--;e===a?d=void 0:(b=d,d=a);d!==a?c="THEN":(b=c,c=a)}else b=c,c=a;return c}function Xa(){if(44===g.charCodeAt(b)){var c=sf;b++}else c=a,0===n&&v(tf);
return c}function Q(){if(40===g.charCodeAt(b)){var c=uf;b++}else c=a,0===n&&v(vf);return c}function R(){if(41===g.charCodeAt(b)){var c=wf;b++}else c=a,0===n&&v(xf);return c}function p(){var c;var d=[];for(c=Sc();c!==a;)d.push(c),c=Sc();return d}function Sc(){if(yf.test(g.charAt(b))){var c=g.charAt(b);b++}else c=a,0===n&&v(zf);return c}function Wb(c,d,e,l){c={type:"binary-expression",operator:c,left:d,right:e};void 0!==l&&(c.escape=l);return c}function Fa(c,d){for(var e=0;e<d.length;e++)c=Wb(d[e][1],
c,d[e][3]);return c}B=void 0!==B?B:{};var a={},Vc=B.grammarSource,Tc={start:E},Uc=E,Wc="!",Sb="\x3d",Xb="\x3e\x3d",ad="\x3e",Yb="\x3c\x3d",Zb="\x3c\x3e",ed="\x3c",$b="!\x3d",zb="+",Bb="-",hd="*",jd="/",je="@",Jc="'",Lc="N'",wb="''",we=".",sd="null",md="true",pd="false",Ee="in",Ge="is",Ie="like",Yc="escape",Ke="not",Me="and",Oe="or",Qe="between",Se="from",Md="for",Hd="substring",Bd="extract",Ue="trim",Sd="position",yd="timestamp",vd="date",le="leading",ne="trailing",pe="both",re="to",We="interval",
Ye="year",$e="month",bf="day",df="hour",ff="minute",hf="second",kf="case",mf="end",of="when",qf="then",ue="else",sf=",",uf="(",wf=")",zc="`",de=/^[A-Za-z_\x80-\uFFFF]/,fe=/^[A-Za-z0-9_]/,he=/^[A-Za-z0-9_.\x80-\uFFFF]/,Nc=/^[^']/,Ce=/^[0-9]/,ye=/^[eE]/,Ae=/^[+\-]/,yf=/^[ \t\n\r]/,Bc=/^[^`]/,Xc=r("!",!1),Tb=r("\x3d",!1),$c=r("\x3e\x3d",!1),bd=r("\x3e",!1),cd=r("\x3c\x3d",!1),dd=r("\x3c\x3e",!1),fd=r("\x3c",!1),gd=r("!\x3d",!1),Ab=r("+",!1),Cb=r("-",!1),id=r("*",!1),kd=r("/",!1),ee=G([["A","Z"],["a",
"z"],"_",["\u0080","\uffff"]],!1,!1),ge=G([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),ie=G([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),ke=r("@",!1),Kc=r("'",!1),te=r("N'",!1),Mc=r("''",!1),Oc=G(["'"],!0,!1),xe=r(".",!1),De=G([["0","9"]],!1,!1),ze=G(["e","E"],!1,!1),Be=G(["+","-"],!1,!1),td=r("NULL",!0),nd=r("TRUE",!0),qd=r("FALSE",!0),Fe=r("IN",!0),He=r("IS",!0),Je=r("LIKE",!0),Zc=r("ESCAPE",!0),Le=r("NOT",!0),Ne=r("AND",!0),Pe=r("OR",!0),Re=r("BETWEEN",!0),Te=r("FROM",!0),Nd=
r("FOR",!0),Id=r("SUBSTRING",!0),Cd=r("EXTRACT",!0),Ve=r("TRIM",!0),Td=r("POSITION",!0),zd=r("TIMESTAMP",!0),wd=r("DATE",!0),me=r("LEADING",!0),oe=r("TRAILING",!0),qe=r("BOTH",!0),se=r("TO",!0),Xe=r("INTERVAL",!0),Ze=r("YEAR",!0),af=r("MONTH",!0),cf=r("DAY",!0),ef=r("HOUR",!0),gf=r("MINUTE",!0),jf=r("SECOND",!0),lf=r("CASE",!0),nf=r("END",!0),pf=r("WHEN",!0),rf=r("THEN",!0),ve=r("ELSE",!0),tf=r(",",!1),vf=r("(",!1),xf=r(")",!1),zf=G([" ","\t","\n","\r"],!1,!1),Ac=r("`",!1),Cc=G(["`"],!0,!1),Hc=function(c){return{type:"interval-period",
period:c.value,precision:null,secondary:null}},Ic=function(c,d){return{type:"interval-period",period:"second",precision:c,secondary:d}},b=0,Wa=[{line:1,column:1}],fa=0,xb=[],n=0;if("startRule"in B){if(!(B.startRule in Tc))throw Error("Can't start parsing from rule \""+B.startRule+'".');Uc=Tc[B.startRule]}var Qb=Uc();if(Qb!==a&&b===g.length)return Qb;Qb!==a&&b<g.length&&v({type:"end"});throw function(c,d,e){return new q(q.buildMessage(c,d),c,d,e)}(xb,fa<g.length?g.charAt(fa):null,fa<g.length?ea(fa,
fa+1):ea(fa,fa));}}})})(ca);let da=function(){function h(){}h.parse=function(q){return ca.exports.parse(q)};return h}();P.WhereGrammar=da;Object.defineProperties(P,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"*noref":1}});
define("exports ../../chunks/_rollupPluginBabelHelpers ../has ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),function(P,na,ca,da,h,q){function x(t,k){t+="";return t.length>=k?t:Array(k-t.length+1).join("0")+t}function g(t,k,f="0",m="0",u="0",y="0",A="",K="0",L="0"){return"+"===A||"-"===A?(t=`${x(parseInt(t,10),4)}-${x(parseInt(k,10),2)}-${x(parseInt(f,10),2)}`,k="",10>parseFloat(y)&&(k="0"),m=`${x(parseInt(m,10),2)}:${x(parseInt(u,10),2)}:${k+parseFloat(y).toString()}`,A=
`${A}${x(parseInt(K,10),2)}:${x(parseInt(L,10),2)}`,new Date(t+"T"+m+A)):new Date(parseInt(t,10),parseInt(k,10)-1,parseInt(f,10),parseInt(m,10),parseInt(u,10),parseFloat(y))}function B(t){let k=Ia.exec(t);if(null!==k){const [,f,m,u,y,A,K]=k;return g(f,m,u,y,A,K)}k=Y.exec(t);if(null!==k){const [,f,m,u,y,A,K,L,T,X]=k;return g(f,m,u,y,A,K,L,T,X)}k=Za.exec(t);if(null!==k){const [,f,m,u,y,A,K,L,T]=k;return g(f,m,u,y,A,"0",K,L,T)}k=Ka.exec(t);if(null!==k){const [,f,m,u,y,A]=k;return g(f,m,u,y,A)}k=Ja.exec(t);
if(null!==k){const [,f,m,u]=k;return g(f,m,u)}throw Error("SQL Invalid Timestamp");}function r(t){t=Ja.exec(t);if(null===t)throw Error("SQL Invalid Date");const [,k,f,m]=t;return new Date(parseInt(k,10),parseInt(f,10)-1,parseInt(m,10))}function G(t){return Array.isArray(t)?t:[t]}function O(t){return null!==t?!0!==t:null}function ea(t,k){return null!=t&&null!=k?!0===t&&!0===k:!1===t||!1===k?!1:null}function v(t,k){return null!=t&&null!=k?!0===t||!0===k:!0===t||!0===k?!0:null}function E(t,k){if(null==
t)return null;let f=!1;for(const m of k)if(null==m)f=null;else if(t===m){f=!0;break}return f}function J(t,k,f){if(null==t)return null;{let m="",u=Z.Normal;for(let y=0;y<k.length;y++){const A=k.charAt(y);switch(u){case Z.Normal:A===f?u=Z.Escaped:m="-[]/{}()*+?.\\^$|".includes(A)?m+("\\"+A):"%"===A?m+".*":"_"===A?m+".":m+A;break;case Z.Escaped:m="-[]/{}()*+?.\\^$|".includes(A)?m+("\\"+A):m+A,u=Z.Normal}}k=new RegExp("^"+m+"$","m")}return k.test(t)}function C(t){return t instanceof Date?t.valueOf():
t}function sa(t,k,f){if(null==k||null==f)return null;k=C(k);f=C(f);switch(t){case "\x3c\x3e":return k!==f;case "\x3d":return k===f;case "\x3e":return k>f;case "\x3c":return k<f;case "\x3e\x3d":return k>=f;case "\x3c\x3d":return k<=f}}function pa(t,k,f){if(k instanceof h.SqlInterval)if(f instanceof Date)switch(t){case "+":return new Date(k.valueInMilliseconds()+f.getTime());case "-":return k.valueInMilliseconds()-f.getTime();case "*":return k.valueInMilliseconds()*f.getTime();case "/":return k.valueInMilliseconds()/
f.getTime()}else if(f instanceof h.SqlInterval)switch(t){case "+":return h.SqlInterval.createFromMilliseconds(k.valueInMilliseconds()+f.valueInMilliseconds());case "-":return h.SqlInterval.createFromMilliseconds(k.valueInMilliseconds()-f.valueInMilliseconds());case "*":return k.valueInMilliseconds()*f.valueInMilliseconds();case "/":return k.valueInMilliseconds()/f.valueInMilliseconds()}else k=k.valueInMilliseconds();else if(f instanceof h.SqlInterval)if(k instanceof Date)switch(t){case "+":return new Date(f.valueInMilliseconds()+
k.getTime());case "-":return new Date(k.getTime()-f.valueInMilliseconds());case "*":return k.getTime()*f.valueInMilliseconds();case "/":return k.getTime()/f.valueInMilliseconds()}else f=f.valueInMilliseconds();else if(k instanceof Date&&"number"===typeof f)switch(f*=864E5,k=k.getTime(),t){case "+":return new Date(k+f);case "-":return new Date(k-f);case "*":return new Date(k*f);case "/":return new Date(k/f)}else if(f instanceof Date&&"number"===typeof k)switch(k*=864E5,f=f.getTime(),t){case "+":return new Date(k+
f);case "-":return new Date(k-f);case "*":return new Date(k*f);case "/":return new Date(k/f)}switch(t){case "+":return k+f;case "-":return k-f;case "*":return k*f;case "/":return k/f}}function Ha(t,k,f,m){t=m.getAttribute(t,k);return null!=t&&1===f[k]?new Date(t):t}const Ja=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,Ia=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,Y=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,Za=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,
Ka=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,$a=new Set(["current_timestamp","current_date","current_time"]);let La=function(){function t(){}t.makeBool=function(k){return!0===k};t.featureValue=function(k,f,m,u){return Ha(k,f,m,u)};t.equalsNull=function(k){return null===k};t.applyLike=function(k,f,m){return J(k,f,m)};t.ensureArray=function(k){return G(k)};t.applyIn=function(k,f){return E(k,f)};t.currentDate=function(){const k=new Date;k.setHours(0,0,0,0);return k};t.makeSqlInterval=function(k,
f,m){return h.SqlInterval.createFromValueAndQualifer(k,f,m)};t.convertInterval=function(k){return k instanceof h.SqlInterval?k.valueInMilliseconds():k};t.currentTimestamp=function(){return new Date};t.compare=function(k,f,m){return sa(k,f,m)};t.calculate=function(k,f,m){return pa(k,f,m)};t.makeComparable=function(k){return C(k)};t.evaluateFunction=function(k,f){return h.evaluateFunction(k,f)};t.lookup=function(k,f){k=f[k];return void 0===k?null:k};t.between=function(k,f){return null==k||null==f[0]||
null==f[1]?null:k>=f[0]&&k<=f[1]};t.notbetween=function(k,f){return null==k||null==f[0]||null==f[1]?null:k<f[0]||k>f[1]};t.ternaryNot=function(k){return O(k)};t.ternaryAnd=function(k,f){return ea(k,f)};t.ternaryOr=function(k,f){return v(k,f)};return t}(),mb=function(){function t(f,m){this.fieldsIndex=m;this.datefields={};this.parameters={};this._hasDateFunctions=void 0;this.parseTree=q.WhereGrammar.parse(f);const {isStandardized:u,isAggregate:y,referencedFieldNames:A}=this._extractExpressionInfo(m);
this.referencedFieldNames=A;this.isStandardized=u;this.isAggregate=y}t.create=function(f,m){return new t(f,m)};var k=t.prototype;k.testSet=function(f,m=z){const u={};for(const y of this.fieldNames)u[y]=f.map(A=>m.getAttribute(A,y));return!!this._evaluateNode(this.parseTree,{attributes:u},z)};k.calculateValue=function(f,m=z){f=this._evaluateNode(this.parseTree,f,m);return f instanceof h.SqlInterval?f.valueInMilliseconds()/864E5:f};k.calculateValueCompiled=function(f,m=z){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(f,
this.parameters,m,this.datefields);if(ca("esri-csp-restrictions"))return this.calculateValue(f,m);this._compileMe();return this.parseTree._compiledVersion(f,this.parameters,m,this.datefields)};k.testFeature=function(f,m=z){return!!this._evaluateNode(this.parseTree,f,m)};k.testFeatureCompiled=function(f,m=z){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(f,this.parameters,m,this.datefields);if(ca("esri-csp-restrictions"))return this.testFeature(f,m);this._compileMe();
return!!this.parseTree._compiledVersion(f,this.parameters,m,this.datefields)};k.getFunctions=function(){const f=new Set;this._visitAll(this.parseTree,m=>{"function"===m.type&&f.add(m.name.toLowerCase())});return Array.from(f)};k.getExpressions=function(){const f=new Map;this._visitAll(this.parseTree,m=>{if("function"===m.type){const u=m.name.toLowerCase();m=m.args.value[0];if("column-reference"===m.type){m=m.column;const y=`${u}-${m}`;f.has(y)||f.set(y,{aggregateType:u,field:m})}}});return[...f.values()]};
k.getVariables=function(){const f=new Set;this._visitAll(this.parseTree,m=>{"parameter"===m.type&&f.add(m.value.toLowerCase())});return Array.from(f)};k._compileMe=function(){const f="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter","datefields",f)).bind(La)};k._extractExpressionInfo=function(f){const m=[],u=new Set;let y=!0,A=!0;this._visitAll(this.parseTree,K=>{switch(K.type){case "column-reference":{const L=
f.get(K.column);let T,X;L?T=X=L.name:(X=K.column,T=X.toLowerCase());!L||"date"!==L.type&&"esriFieldTypeDate"!==L.type||(this.datefields[L.name]=1);u.has(T)||(u.add(T),m.push(X));K.column=X;break}case "function":{const {name:L,args:T}=K;K=T.value.length;y&&(y=h.isStandardized(L,K));A&&(A=da.isAggregate(L,K))}}});return{referencedFieldNames:Array.from(m),isStandardized:y,isAggregate:A}};k._visitAll=function(f,m){if(null!=f)switch(m(f),f.type){case "when-clause":this._visitAll(f.operand,m);this._visitAll(f.value,
m);break;case "case-expression":for(const u of f.clauses)this._visitAll(u,m);"simple"===f.format&&this._visitAll(f.operand,m);null!==f.else&&this._visitAll(f.else,m);break;case "expression-list":for(const u of f.value)this._visitAll(u,m);break;case "unary-expression":this._visitAll(f.expr,m);break;case "binary-expression":this._visitAll(f.left,m);this._visitAll(f.right,m);break;case "function":this._visitAll(f.args,m)}};k.evaluateNodeToJavaScript=function(f){switch(f.type){case "interval":return"this.makeSqlInterval("+
this.evaluateNodeToJavaScript(f.value)+", "+JSON.stringify(f.qualifier)+","+JSON.stringify(f.op)+")";case "case-expression":var m="";if("simple"===f.format){var u="this.makeComparable("+this.evaluateNodeToJavaScript(f.operand)+")";m="( ";for(let y=0;y<f.clauses.length;y++)m+=" ("+u+" \x3d\x3d\x3d this.makeComparable("+this.evaluateNodeToJavaScript(f.clauses[y].operand)+")) ? ("+this.evaluateNodeToJavaScript(f.clauses[y].value)+") : "}else for(m="( ",u=0;u<f.clauses.length;u++)m+=" this.makeBool("+
this.evaluateNodeToJavaScript(f.clauses[u].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(f.clauses[u].value)+") : ";m=null!==f.else?m+this.evaluateNodeToJavaScript(f.else):m+"null";return m+=" )";case "parameter":return"this.lookup("+JSON.stringify(f.value.toLowerCase())+",lookups)";case "expression-list":m="[";for(u of f.value)"["!==m&&(m+=","),m+=this.evaluateNodeToJavaScript(u);return m+="]";case "unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(f.expr)+
")";case "binary-expression":switch(f.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+" )";case "IS":if("null"!==f.right.type)throw Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(f.left)+")";case "ISNOT":if("null"!==f.right.type)throw Error("Unsupported RHS for IS");
return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(f.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(f.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(f.right)+"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(f.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(f.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+")";case "NOTBETWEEN":return"this.notbetween("+
this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+")";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+","+JSON.stringify(f.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+","+JSON.stringify(f.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+
JSON.stringify(f.operator)+","+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+")";case "*":case "-":case "+":case "/":return"this.calculate("+JSON.stringify(f.operator)+","+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+")"}throw Error("Not Supported Operator "+f.operator);case "null":case "boolean":case "string":case "number":return JSON.stringify(f.value);case "date":return"(new Date("+r(f.value).getTime().toString()+"))";case "timestamp":return"(new Date("+
B(f.value).getTime().toString()+"))";case "current-time":return"date"===f.mode?"this.currentDate()":"this.currentTimestamp()";case "column-reference":return"this.featureValue(feature,"+JSON.stringify(f.column)+",datefields,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(f.name)+","+this.evaluateNodeToJavaScript(f.args)+")"}throw Error("Unsupported sql syntax "+f.type);};k._evaluateNode=function(f,m,u){switch(f.type){case "interval":return m=this._evaluateNode(f.value,
m,u),h.SqlInterval.createFromValueAndQualifer(m,f.qualifier,f.op);case "case-expression":if("simple"===f.format){var y=C(this._evaluateNode(f.operand,m,u));for(var A=0;A<f.clauses.length;A++)if(y===C(this._evaluateNode(f.clauses[A].operand,m,u)))return this._evaluateNode(f.clauses[A].value,m,u)}else for(y=0;y<f.clauses.length;y++)if(!0===this._evaluateNode(f.clauses[y].operand,m,u))return this._evaluateNode(f.clauses[y].value,m,u);return null!==f.else?this._evaluateNode(f.else,m,u):null;case "parameter":return this.parameters[f.value.toLowerCase()];
case "expression-list":y=[];for(A of f.value)y.push(this._evaluateNode(A,m,u));return y;case "unary-expression":return O(this._evaluateNode(f.expr,m,u));case "binary-expression":switch(f.operator){case "AND":return ea(this._evaluateNode(f.left,m,u),this._evaluateNode(f.right,m,u));case "OR":return v(this._evaluateNode(f.left,m,u),this._evaluateNode(f.right,m,u));case "IS":if("null"!==f.right.type)throw Error("Unsupported RHS for IS");return null===this._evaluateNode(f.left,m,u);case "ISNOT":if("null"!==
f.right.type)throw Error("Unsupported RHS for IS");return null!==this._evaluateNode(f.left,m,u);case "IN":return y=G(this._evaluateNode(f.right,m,u)),E(this._evaluateNode(f.left,m,u),y);case "NOT IN":return y=G(this._evaluateNode(f.right,m,u)),O(E(this._evaluateNode(f.left,m,u),y));case "BETWEEN":return y=this._evaluateNode(f.left,m,u),f=this._evaluateNode(f.right,m,u),null==y||null==f[0]||null==f[1]?null:y>=C(f[0])&&y<=C(f[1]);case "NOTBETWEEN":return y=this._evaluateNode(f.left,m,u),f=this._evaluateNode(f.right,
m,u),null==y||null==f[0]||null==f[1]?null:y<C(f[0])||y>C(f[1]);case "LIKE":return J(this._evaluateNode(f.left,m,u),this._evaluateNode(f.right,m,u),f.escape);case "NOT LIKE":return O(J(this._evaluateNode(f.left,m,u),this._evaluateNode(f.right,m,u),f.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return sa(f.operator,this._evaluateNode(f.left,m,u),this._evaluateNode(f.right,m,u));case "-":case "+":case "*":case "/":return pa(f.operator,this._evaluateNode(f.left,
m,u),this._evaluateNode(f.right,m,u))}case "null":case "boolean":case "string":case "number":return f.value;case "date":return r(f.value);case "timestamp":return B(f.value);case "current-time":return m=new Date,"date"===f.mode&&m.setHours(0,0,0,0),m;case "column-reference":return Ha(m,f.column,this.datefields,u);case "function":return m=this._evaluateNode(f.args,m,u),this.isAggregate?da.aggregateFunction(f.name,m):h.evaluateFunction(f.name,m)}throw Error("Unsupported sql syntax "+f.type);};na._createClass(t,
[{key:"fieldNames",get:function(){return this.referencedFieldNames}},{key:"hasDateFunctions",get:function(){if(null!=this._hasDateFunctions)return this._hasDateFunctions;this._hasDateFunctions=!1;this._visitAll(this.parseTree,f=>{"current-time"===f.type?this._hasDateFunctions=!0:"function"===f.type&&(this._hasDateFunctions=this._hasDateFunctions||$a.has(f.name.toLowerCase()))});return this._hasDateFunctions}}]);return t}();var Z;(function(t){t[t.Normal=0]="Normal";t[t.Escaped=1]="Escaped"})(Z||(Z=
{}));const z={getAttribute(t,k){return(t&&"object"===typeof t.attributes?t.attributes:t)[k]}};P.WhereClause=mb;P.defaultAttributeAdapter=z;Object.defineProperties(P,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});