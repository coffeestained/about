// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/2d/layers/features/tileRenderers/BaseTileRenderer":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/HandleOwner ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass".split(" "),function(m,g,d,h,t,x,y,u){d=function(p){function n(b){b=p.call(this,
b)||this;b.tiles=new Map;return b}m._inheritsLoose(n,p);var f=n.prototype;f.destroy=function(){this.tiles.clear();this.layer=this.layerView=this.tileInfoView=this.tiles=null};f.acquireTile=function(b){const k=this.createTile(b);k.once("isReady",()=>this.notifyChange("updating"));this.tiles.set(b.id,k);return k};f.forceAttributeTextureUpload=function(){};f.forEachTile=function(b){this.tiles.forEach(b)};f.releaseTile=function(b){this.tiles.delete(b.key.id);this.disposeTile(b)};f.isUpdating=function(){let b=
!0;this.tiles.forEach(k=>{b=b&&k.isReady});return!b};f.setHighlight=function(){};f.invalidateLabels=function(){};f.requestUpdate=function(){this.layerView.requestUpdate()};m._createClass(n,[{key:"updating",get:function(){return this.isUpdating()}}]);return n}(d.HandleOwner);g.__decorate([h.property()],d.prototype,"layer",void 0);g.__decorate([h.property()],d.prototype,"layerView",void 0);g.__decorate([h.property()],d.prototype,"tileInfoView",void 0);g.__decorate([h.property()],d.prototype,"updating",
null);return d=g.__decorate([u.subclass("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],d)})},"esri/views/2d/layers/features/tileRenderers/support/HeatmapSource":function(){define(["exports","../../../../../../renderers/support/heatmapUtils"],function(m,g){let d=function(){function h(){this.gradient=null;this.width=this.height=512}h.prototype.render=function(t){g.drawHeatmap(t,512,this.intensities,this.gradient,this.minDensity,this.maxDensity)};return h}();m.HeatmapSource=d;Object.defineProperties(m,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"*noref":1}});
define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/set ../../../../../core/accessorSupport/decorators/subclass ../../../../../renderers/support/heatmapUtils ../../../engine/BitmapTileContainer ./BaseTileRenderer ./support/HeatmapSource".split(" "),function(m,g,d,h,t,x,y,u,p,n,f,b){d=function(k){function v(a){var c=
k.call(this,a)||this;c._intensityInfo={minDensity:0,maxDensity:0};c.type="heatmap";c.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}};c._container=new n.BitmapTileContainer(a.tileInfoView);return c}m._inheritsLoose(v,k);var e=v.prototype;e.createTile=function(a){const c=this._container.createTile(a);this.tileInfoView.getTileCoords(c.bitmap,a);c.bitmap.resolution=this.tileInfoView.getTileResolution(a);return c};e.onConfigUpdate=function(){const a=this.layer.renderer;
if("heatmap"===a.type){const {minDensity:c,maxDensity:q,colorStops:w}=a;this._intensityInfo.minDensity=c;this._intensityInfo.maxDensity=q;this._gradient=p.generateGradient(w);this.tiles.forEach(l=>{const r=l.bitmap.source;r&&(r.minDensity=c,r.maxDensity=q,r.gradient=this._gradient,l.bitmap.invalidateTexture())})}};e.hitTest=function(){return Promise.resolve([])};e.install=function(a){a.addChild(this._container)};e.uninstall=function(a){this._container.removeAllChildren();a.removeChild(this._container)};
e.disposeTile=function(a){this._container.removeChild(a);a.destroy()};e.supportsRenderer=function(a){return a&&"heatmap"===a.type};e.onTileData=function(a){const c=this.tiles.get(a.tileKey);if(c){a=a.intensityInfo;var {minDensity:q,maxDensity:w}=this._intensityInfo,l=c.bitmap.source||new b.HeatmapSource;l.intensities=a&&a.matrix||null;l.minDensity=q;l.maxDensity=w;l.gradient=this._gradient;c.bitmap.source=l;this._container.addChild(c);this._container.requestRender();this.requestUpdate()}};e.onTileError=
function(a){console.error(a)};e.lockGPUUploads=function(){};e.unlockGPUUploads=function(){};e.fetchResource=function(a,c){console.error(a);return Promise.reject()};return v}(f);return d=g.__decorate([u.subclass("esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer")],d)});