// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/screenUtils ../../color ../../definitions ../../GeometryUtils ../../number ../../materialKey/MaterialKey ./util ./WGLBaseFillTemplate ./WGLMeshTemplate".split(" "),function(C,w,A,e,D,n,E,u,F,G){return function(B){function p(a,b,g,c,q,k,r,h,l,t,f,m,v,x,z,y){var d=B.call(this)||this;d._effects=x;a=E.FillMaterialKey.load(a);b&&(a.sdf=b.sdf,a.pattern=!0,a.textureBinding=b.textureBinding);d.fillColor=g;d.tl=c;d.br=q;d.aux2_1=
n.i1616to32(k,r);d.aux2_2=n.i1616to32(h,l);d.aux3=n.i8888to32(t,f,m,0);d._bitset=v;d._minMaxZoom=n.i1616to32(Math.round(z*e.MIN_MAX_ZOOM_PRECISION_FACTOR),Math.round(y*e.MIN_MAX_ZOOM_PRECISION_FACTOR));d._materialKey=a.data;return d}C._inheritsLoose(p,B);p.fromCIMFill=function(a,b,g){var c=a.color;c=c&&A.premultiplyAlphaRGBA(c)||0;const q=a.materialKey,[k,r]=u.getMinMaxZoom(a.scaleInfo,g);g=(a.colorLocked?e.BITSET_GENERIC_LOCK_COLOR:0)|(a.applyRandomOffset?e.BITSET_FILL_RANDOM_PATTERN_OFFSET:0)|(a.sampleAlphaOnly?
e.BITSET_GENERIC_CONSIDER_ALPHA_ONLY:0);if(!b)return new p(q,null,c,0,0,0,0,0,0,0,0,0,g,a.effects,k,r);const {rect:h,width:l,height:t}=b;var f=a.scaleX||1,m=h.x+e.SPRITE_PADDING;const v=h.y+e.SPRITE_PADDING;var x=m+l;const z=v+t;var y=a.height;let d=Math.round(y);0>=d&&(d=z-v);f=Math.round(f*y);0>=f&&(f=x-m);y=w.pt2px(a.offsetX||0);const H=w.pt2px(-a.offsetY||0);m=n.i1616to32(m,v);x=n.i1616to32(x,z);return new p(q,b,c,m,x,f,d,y,H,128,128,D.degToByte(a.angle),g,a.effects,k,r)};p.fromSimpleFill=function(a,
b,g=!1){var {color:c}=a;c=c&&"esriSFSNull"!==a.style&&A.premultiplyAlphaRGBAArray(c)||0;g=g?e.BITSET_GENERIC_LOCK_COLOR:0;const q=a.materialKey;if(b){const {rect:h,width:l,height:t}=b;var k=h.x+e.SPRITE_PADDING;const f=h.y+e.SPRITE_PADDING;var r=k+l;const m=f+t;k=n.i1616to32(k,f);r=n.i1616to32(r,m);b=new p(q,b,c,k,r,l,t,0,0,128,128,0,g,null,u.DEFAULT_MIN_ZOOM,u.DEFAULT_MAX_ZOOM)}else b=new p(q,null,c,0,0,0,0,0,0,0,0,0,g,null,u.DEFAULT_MIN_ZOOM,u.DEFAULT_MAX_ZOOM);b._maybeAddLineTemplate(a);return b};
p.fromPictureFill=function(a,b,g=!1){const c=e.PICTURE_FILL_COLOR,{rect:q,width:k,height:r}=b;var h=q.x+e.SPRITE_PADDING,l=q.y+e.SPRITE_PADDING,t=h+k,f=l+r;h=n.i1616to32(h,l);t=n.i1616to32(t,f);f=Math.round(w.pt2px(a.width));l=Math.round(w.pt2px(a.height));const m=w.pt2px(a.xoffset),v=w.pt2px(-a.yoffset);b=new p(a.materialKey,b,c,h,t,f,l,m,v,128*a.xscale,128*a.yscale,0,g?e.BITSET_GENERIC_LOCK_COLOR:0,null,u.DEFAULT_MIN_ZOOM,u.DEFAULT_MAX_ZOOM);b._maybeAddLineTemplate(a);return b};return p}(F(G))});