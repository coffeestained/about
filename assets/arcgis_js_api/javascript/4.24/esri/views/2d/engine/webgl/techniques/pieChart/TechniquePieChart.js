// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("exports ../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../Color ../../../../../../core/maybe ../../../../../../core/screenUtils ../../color ../../definitions ../Technique ../../../../../webgl/enums".split(" "),function(l,p,q,r,t,f,m,e,b){e=function(n){function c(){return n.apply(this,arguments)||this}p._inheritsLoose(c,n);c.getStorageSpec=function({attributes:a}){return{visualVariables:!0,attributes:null!=a?a:null}};c._createRendererSchema=function(){return{type:"pie-chart",
colors:new Float32Array(4*m.CHART_MAX_FIELDS),defaultColor:new Float32Array(4),othersColor:new Float32Array(4),outlineColor:new Float32Array(4),holePercentage:0,sectorThreshold:0,outlineWidth:1,numberOfFields:10}};c.createOrUpdateRendererSchema=function(a,d){const {attributes:k,defaultColor:u,holePercentage:v,othersCategory:g,outline:h}=d;a=r.isSome(a)&&"pie-chart"===a.type?a:this._createRendererSchema();for(d=0;d<m.CHART_MAX_FIELDS;d++){const w=d>=k.length?new q([0,0,0,0]):k[d].color;f.writeColor(a.colors,
w,4*d)}f.writeColor(a.defaultColor,u);f.writeColor(a.othersColor,null==g?void 0:g.color);f.writeColor(a.outlineColor,null==h?void 0:h.color);a.outlineWidth=t.pt2px((null==h?void 0:h.width)||0);a.holePercentage=v;a.sectorThreshold=(null==g?void 0:g.threshold)||0;a.numberOfFields=k.length;return a};c.getVariation=function(a){return{numberOfFields:a.numberOfFields}};c.getVariationHash=function(a){return a.numberOfFields};return c}(e.Technique);e.type="pie-chart";e.programSpec={shader:"materials/pie",
vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:b.DataType.SHORT},{location:1,name:"a_vertexOffset",count:2,type:b.DataType.SHORT},{location:2,name:"a_texCoords",count:2,type:b.DataType.UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:b.DataType.UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:b.DataType.UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:b.DataType.UNSIGNED_BYTE,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:b.DataType.UNSIGNED_BYTE,
normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:b.DataType.UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:b.DataType.UNSIGNED_SHORT}]},hittestAttributes:["a_vertexOffset","a_texCoords"]};l.PieChartTechnique=e;Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});