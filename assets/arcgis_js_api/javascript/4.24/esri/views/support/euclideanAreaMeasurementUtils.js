// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("exports ../../core/maybe ../../core/quantityUtils ../../core/unitUtils ../../chunks/earcut ../../chunks/vec3 ../../chunks/vec3f64 ../../geometry/projection ../../geometry/support/plane ../../geometry/support/triangle ../../geometry/support/vectorStacks ./measurementUtils".split(" "),function(h,z,A,B,C,m,t,u,p,D,E,F){function q(b,e,k=b.hasZ){const l=F.computeEuclideanMeasurementSR(b.spatialReference),n=B.areaUnitFromSpatialReference(l);if(z.isNone(n))return null;const v=(g,a)=>{if(2>a.length)return!1;
m.set(g,a[0],a[1],k?a[2]||0:0);return!0};let w=0;for(const g of b.rings){if(3>g.length)continue;const {positionsWorldCoords:a}=e;for(;a.length<g.length;)a.push(t.create());var f=G;for(var c=0;3>c;c++)if(!v(f,g[c])||!u.projectVectorToVector(f,b.spatialReference,a[c],l))return null;if(m.exactEquals(a[0],a[1])||m.exactEquals(a[0],a[2])||m.exactEquals(a[1],a[2]))continue;c=p.fromPoints(a[0],a[1],a[2],p.wrap());const x=m.copy(E.sv3d.get(),a[0]);for(var d=0;3>d;d++)p.projectPointLocal(c,x,a[d],a[d]);for(d=
3;d<g.length;d++){if(!v(f,g[d]))return null;u.projectVectorToVector(f,b.spatialReference,a[d],l);p.projectPointLocal(c,x,a[d],a[d])}f=y(a);for(c=0;c<f.length;c+=3)w+=D.areaPoints2d(a[f[c]],a[f[c+1]],a[f[c+2]])}return A.createArea(w,n)}function r(){return{positionsWorldCoords:[]}}function y(b){return C.earcut(H(b),[],2)}function H(b){const e=new Float64Array(2*b.length);for(let k=0;k<b.length;++k){const l=b[k],n=2*k;e[n+0]=l[0];e[n+1]=l[1]}return e}const G=t.create();h.computeEuclideanPlanarArea=q;
h.createEuclideanPlanarAreaCache=r;h.euclideanHorizontalPlanarArea=function(b,e=r()){return q(b,e,!1)};h.euclideanPlanarArea=function(b,e=r()){return q(b,e)};h.triangulate=y;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});