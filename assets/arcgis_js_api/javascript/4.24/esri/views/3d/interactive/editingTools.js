// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/interactive/editingTools/draw/DrawGraphicTool3D":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../support/elevationInfoUtils ../../../../../symbols/support/ElevationInfo ../../SegmentLabels3D ../../SnappingVisualizer3D ../settings ../../visualElements/OutlineVisualElement ../../visualElements/VerticesVisualElement ../../../layers/graphics/GraphicState ../../../../draw/DrawGraphicTool ../../../../draw/DrawOperation ../../../../draw/drawSurfaces ../../../../interactive/sketch/SketchLabelOptions ../../../../interactive/sketch/SketchTooltipOptions".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T){t.DrawGraphicTool3D=function(W){function da(ea){ea=W.call(this,ea)||this;ea._activeVertexVisualElement=null;ea._createGraphicState=null;ea._outlineVisualElement=null;ea._verticesVisualElement=null;ea.geometryType=null;ea.labelOptions=new U;ea.tooltipOptions=new T;ea.type="draw-3d";return ea}Q._inheritsLoose(da,W);var aa=da.prototype;aa.initialize=function(){const {mode:ea,offset:ba}=this.elevationInfo;this.internalGraphicsLayer.elevationInfo=
new J.default({mode:ea,offset:ba})};aa.normalizeCtorArgs=function(ea){if(!ea.elevationInfo){var ba;const ca=null!=(ba=ea.hasZ)?ba:!0;return{...ea,elevationInfo:{mode:ca?"absolute-height":"on-the-ground",offset:0}}}return ea};aa.initializeGraphic=function(ea){const ba=this._createGraphicState=new A.GraphicState({graphic:ea});return M.handlesGroup([this.view.maskOccludee(ea),this.view.trackGraphicState(ba),E.watch(()=>({element:this._outlineVisualElement,isDraped:ba.isDraped}),({element:ca,isDraped:ka})=>
{H.applySome(ca,oa=>oa.isDraped=ka)},E.initial)])};aa.makeDrawOperation=function(){const {geometryType:ea}=this,ba="circle"!==ea&&"rectangle"!==ea;return new F.DrawOperation({view:this.view,manipulators:this.manipulators,geometryType:z.geometryTypeToDrawOperationGeometryType(ea),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new D.SceneDrawSurface(this.view,this.elevationInfo,[this.internalGraphicsLayer]),elevationDrawSurface:new D.ElevationDrawSurface(this.elevationInfo,
this.defaultZ,this.view,this.internalGraphicsLayer),hasM:!1,elevationInfo:this.elevationInfo,snappingManager:this.snappingManager,snappingVisualizer:new L.SnappingVisualizer3D,segmentLabels:ba?new N.SegmentLabels3D:null,labelOptions:this.labelOptions,tooltipOptions:this.tooltipOptions,isDraped:H.isSome(this._createGraphicState)?this._createGraphicState.isDraped:"on-the-ground"===K.getEffectiveElevationMode(this.hasZ,this.elevationInfo)})};aa.onActiveVertexChanged=function(ea){if(H.isSome(this._activeVertexVisualElement))return this._activeVertexVisualElement.vertices=
[ea],null;this._activeVertexVisualElement=new x.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:[ea],elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:R.settings.reshapeManipulators.vertex.renderOccluded,attached:!1});this._activeVertexVisualElement.color=R.settings.colorToVec4(R.settings.reshapeManipulators.selected.color);this._activeVertexVisualElement.attached=!0;return M.makeHandle(()=>{this._activeVertexVisualElement=H.destroyMaybe(this._activeVertexVisualElement)})};
aa.onOutlineChanged=function(ea){if(H.isSome(this._outlineVisualElement))return this._outlineVisualElement.geometry=ea,null;const ba=this.internalGraphicsLayer.elevationInfo;this._outlineVisualElement=new I.OutlineVisualElement({view:this.view,geometry:ea,elevationInfo:ba,isDraped:H.isSome(this._createGraphicState)?this._createGraphicState.isDraped:"on-the-ground"===K.getEffectiveElevationMode(this.hasZ,ba),attached:!1});R.settings.visualElements.lineGraphics.outline.apply(this._outlineVisualElement);
R.settings.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement);this._outlineVisualElement.attached=!0;this._outlineVisualElement.laserlineEnabled=!0;return M.makeHandle(()=>{this._outlineVisualElement=H.destroyMaybe(this._outlineVisualElement)})};aa.onRegularVerticesChanged=function(ea){if(H.isSome(this._verticesVisualElement))return this._verticesVisualElement.vertices=ea,null;this._verticesVisualElement=new x.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,
vertices:ea,elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:R.settings.reshapeManipulators.vertex.renderOccluded,attached:!1});this._verticesVisualElement.attached=!0;return M.makeHandle(()=>{this._verticesVisualElement=H.destroyMaybe(this._verticesVisualElement)})};return da}(z.DrawGraphicTool);y.__decorate([C.property({constructOnly:!0})],t.DrawGraphicTool3D.prototype,"elevationInfo",void 0);y.__decorate([C.property({constructOnly:!0})],t.DrawGraphicTool3D.prototype,"geometryType",
void 0);y.__decorate([C.property({constructOnly:!0,type:U})],t.DrawGraphicTool3D.prototype,"labelOptions",void 0);y.__decorate([C.property({constructOnly:!0,type:T})],t.DrawGraphicTool3D.prototype,"tooltipOptions",void 0);y.__decorate([C.property()],t.DrawGraphicTool3D.prototype,"type",void 0);y.__decorate([C.property({constructOnly:!0})],t.DrawGraphicTool3D.prototype,"view",void 0);t.DrawGraphicTool3D=y.__decorate([P.subclass("esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D")],t.DrawGraphicTool3D);
Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/support/elevationInfoUtils":function(){define(["exports","../core/maybe","../symbols/support/unitConversionUtils"],function(t,Q,y){function M(O,P){return Q.isNone(P)||!P.mode?O?"absolute-height":"on-the-ground":P.mode}function H(O,P){return M(Q.isSome(O)?O.hasZ:!1,P)}function E(O){const P=C(O);return H(O.geometry,P)}function C(O){return O.layer&&"elevationInfo"in O.layer?O.layer.elevationInfo:null}function B(O,
P,K,J,N,L,R=null){if(!Q.isNone(L)){var I=Q.isSome(R)?R.mode:"absolute-height";if("on-the-ground"===I)return 0;({absoluteZ:L}=u(P,K,J,N,O,L));a:{R=Q.isSome(R)&&Q.isSome(R.offset)?R.offset:0;switch(I){case "absolute-height":O=L-R;break a;case "relative-to-ground":O=L-(Q.unwrapOr(O.elevationProvider.getElevation(P,K,J,N,"ground"),0)+R);break a;case "relative-to-scene":O=L-(Q.unwrapOr(O.elevationProvider.getElevation(P,K,J,N,"scene"),0)+R);break a}O=void 0}return O}}function u(O,P,K,J,N,L){const R=Q.isSome(L.offset)?
L.offset:0;switch(L.mode){case "absolute-height":return{absoluteZ:K+R,elevation:0};case "on-the-ground":return K=Q.unwrapOr(N.elevationProvider.getElevation(O,P,0,J,"ground"),0),{absoluteZ:K,elevation:K};case "relative-to-ground":return O=Q.unwrapOr(N.elevationProvider.getElevation(O,P,K,J,"ground"),0),{absoluteZ:K+O+R,elevation:O};case "relative-to-scene":return O=Q.unwrapOr(N.elevationProvider.getElevation(O,P,K,J,"scene"),0),{absoluteZ:K+O+R,elevation:O}}}t.absoluteHeightElevationInfo={mode:"absolute-height",
offset:0};t.getConvertedElevation=function(O,P,K,J=null){return B(O,P.x,P.y,P.hasZ?P.z:0,P.spatialReference,K,J)};t.getConvertedElevationFromVector=function(O,P,K,J,N=null){return B(O,P[0],P[1],2<P.length?P[2]:0,K,J,N)};t.getEffectiveElevationMode=M;t.getGeometryEffectiveElevationMode=H;t.getGraphicEffectiveElevationInfo=function(O){var P=C(O);O=H(O.geometry,P);P=Q.isSome(P)&&"on-the-ground"!==O?Q.unwrapOr(P.offset,0)*y.getMetersPerUnit(Q.unwrapOr(P.unit,"meters")):0;return{mode:O,offset:P}};t.getGraphicEffectiveElevationMode=
E;t.getZForElevationMode=function(O,P,K){if(!Q.isNone(K)&&K.mode){var J=O.hasZ?O.z:0,N=Q.isSome(K.offset)?K.offset:0;switch(K.mode){case "absolute-height":return J-N;case "on-the-ground":return 0;case "relative-to-ground":return O=Q.unwrapOr(P.elevationProvider.getElevation(O.x,O.y,O.z,O.spatialReference,"ground"),0)+N,J-O;case "relative-to-scene":return O=Q.unwrapOr(P.elevationProvider.getElevation(O.x,O.y,O.z,O.spatialReference,"scene"),0)+N,J-O}}};t.hasGraphicFeatureExpressionInfo=function(O){if("on-the-ground"===
E(O))return!1;O=C(O);O=Q.isSome(O)&&O.featureExpressionInfo?O.featureExpressionInfo.expression:null;return!(!O||"0"===O)};t.zValueInAbsoluteHeightMode=u;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/SegmentLabels3D":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/screenUtils ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/set ../../../core/accessorSupport/decorators/subclass ../../../chunks/vec3f64 ../../interactive/SegmentLabels ../../interactive/support/viewUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J){t.SegmentLabels3D=function(L){function R(){return L.apply(this,arguments)||this}Q._inheritsLoose(R,L);var I=R.prototype;I.getCameraOrExtent=function({view:x}){return x.state.camera};I.toScreenPointArray=function({view:x,elevationInfo:A,editGeometryOperations:z},F,D=M.createScreenPointArray()){({spatialReference:z}=z.data.coordinateHelper);J.vectorToRender(F,z,A,x,N);x.state.camera.projectToScreen(N,D);return D};return R}(K.SegmentLabels);t.SegmentLabels3D=y.__decorate([O.subclass("esri.views.3d.interactive.SegmentLabels3D")],
t.SegmentLabels3D);const N=P.create();Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/SegmentLabels":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/handleUtils ../../core/maybe ../../core/promiseUtils ../../core/quantityFormatUtils ../../core/reactiveUtils ../../core/screenUtils ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../chunks/vec2 ../../chunks/vec2f64 ../../chunks/vec3 ../../geometry/support/coordsUtils ../../intl/messages ../../support/elevationInfoUtils ../overlay/TextOverlayItem ../support/automaticLengthMeasurementUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T){const W={default:15,far:25};t.SegmentLabels=function(ca){function ka(fa){fa=ca.call(this,fa)||this;fa.context=null;fa.stagedVertex=null;fa.visible=!0;fa.edgeDistance="default";fa._messagesUnits=null;fa._labelInfos=[];fa._nextLabelIndex=0;return fa}Q._inheritsLoose(ka,ca);var oa=ka.prototype;oa.initialize=function(){var fa=this;const ra=C.createTask(function(){var na=Q._asyncToGenerator(function*(ta){const ya=yield F.fetchMessageBundle("esri/core/t9n/Units");
C.throwIfAborted(ta);fa._messagesUnits=ya});return function(ta){return na.apply(this,arguments)}}()),ua=()=>E.applySome(this.context,na=>na.editGeometryOperations);this.own([u.watch(()=>[E.isSome(this.context)&&this.getCameraOrExtent(this.context),this.visible,this._edgeDistancePixels,this.stagedVertex,this._messagesUnits],()=>this._update()),...["vertex-add","vertex-update","vertex-remove"].map(na=>u.on(ua,na,()=>this._update())),H.makeHandle(()=>ra.abort())])};oa.destroy=function(){for(this._nextLabelIndex=
0;this._labelInfos.length;)this._destroyLabel(this._labelInfos.pop())};oa._update=function(){this._nextLabelIndex=0;const fa=this.context;if(!E.isNone(fa)){var {components:ra,geometry:ua,coordinateHelper:na}=fa.editGeometryOperations.data;if(ua){var ta=ra.length;for(let Ia=0;Ia<ta;++Ia){const La=[];ra[Ia].iterateVertices(Na=>{La.push(na.toXYZ(Na.pos))});0===Ia&&E.isSome(this.stagedVertex)&&La.push(na.toXYZ(this.stagedVertex));if(2>La.length)continue;var ya=La[0],Fa=La[La.length-1];"polygon"===ua.type&&
2<La.length&&!A.equals(ya,Fa)&&La.push(ya);Fa=1===ta?!z.isClockwise(La,!1,!1):!1;let Ba=ea,Va=ba;this.toScreenPointArray(fa,ya,Ba);for(ya=1;ya<La.length;++ya){const Na=La[ya-1],Ga=La[ya];this.toScreenPointArray(fa,Ga,Va);this._addLabel(fa,Na,Ba,Ga,Va,Fa);[Ba,Va]=[Va,Ba]}}}}this._destroyUnusedLabels()};oa._addLabel=function(fa,ra,ua,na,ta,ya){const {label:Fa}=this._getOrCreateLabel(fa);if(!this.visible||3025>I.squaredDistance(ua,ta))Fa.visible=!1;else{var Ia=E.isSome(fa.graphicState)?fa.graphicState.isDraped?
"on-the-ground":"absolute-height":D.getGeometryEffectiveElevationMode(fa.editGeometryOperations.data.geometry,fa.elevationInfo),{spatialReference:La}=fa.editGeometryOperations.data;ra=T.autoDirectDistanceByElevationMode(ra,na,La,Ia);na=this._messagesUnits;fa=P.getDefaultUnitForView(fa.view);Fa.text=E.isSome(na)&&E.isSome(ra)?B.formatLength(na,ra,fa):"";Fa.visible=!0;fa=ta[0]-ua[0];ra=ta[1]-ua[1];ya?I.set(da,-ra,fa):I.set(da,ra,-fa);I.normalize(da,da);I.scale(da,da,this._edgeDistancePixels);I.lerp(aa,
ua,ta,.5);I.add(aa,aa,da);Fa.position=[aa[0],aa[1]];Fa.anchor=Math.abs(da[0])>Math.abs(da[1])?0<da[0]?"left":"right":0>-da[1]?"top":"bottom"}};oa._getOrCreateLabel=function(fa){if(this._labelInfos.length>this._nextLabelIndex)return this._labelInfos[this._nextLabelIndex++];const ra=new U({fontSize:10,anchor:"center"});fa.view.overlay.items.add(ra);fa={label:ra};this._labelInfos.push(fa);this._nextLabelIndex=this._labelInfos.length;return fa};oa._destroyUnusedLabels=function(){for(;this._labelInfos.length>
this._nextLabelIndex;)this._destroyLabel(this._labelInfos.pop())};oa._destroyLabel=function({label:fa}){E.applySome(this.context,ra=>ra.view.overlay.items.remove(fa));fa.destroy()};Q._createClass(ka,[{key:"updating",get:function(){return E.isNone(this._messagesUnits)}},{key:"test",get:function(){return{labelContents:this._labelInfos.slice(0,this._nextLabelIndex).map(fa=>fa.label.text)}}},{key:"_edgeDistancePixels",get:function(){return W[this.edgeDistance]}}]);return ka}(M);y.__decorate([K.property()],
t.SegmentLabels.prototype,"context",void 0);y.__decorate([K.property()],t.SegmentLabels.prototype,"stagedVertex",void 0);y.__decorate([K.property()],t.SegmentLabels.prototype,"visible",void 0);y.__decorate([K.property()],t.SegmentLabels.prototype,"edgeDistance",void 0);y.__decorate([K.property()],t.SegmentLabels.prototype,"updating",null);y.__decorate([K.property()],t.SegmentLabels.prototype,"_messagesUnits",void 0);y.__decorate([K.property()],t.SegmentLabels.prototype,"_edgeDistancePixels",null);
t.SegmentLabels=y.__decorate([R.subclass("esri.views.interactive")],t.SegmentLabels);const da=x.create(),aa=x.create(),ea=O.createScreenPointArray(),ba=O.createScreenPointArray();Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/quantityFormatUtils":function(){define(["exports","./maybe","./quantityUtils","./unitFormatUtils"],function(t,Q,y,M){function H(I,x,A,z=2,F="abbr"){return M.formatDecimal(I,y.toUnit(x,A).value,A,z,F)}function E(I,x,A,z=
2,F="abbr"){return M.formatRelativeDecimal(I,y.toUnit(x,A).value,A,z,F)}function C(I,x,A=2,z="abbr"){return M.formatMetricLength(I,x.value,x.unit,A,z)}function B(I,x,A=2,z="abbr"){return M.formatMetricRelativeLength(I,x.value,x.unit,A,z)}function u(I,x,A=2,z="abbr"){return M.formatMetricVerticalLength(I,x.value,x.unit,A,z)}function O(I,x,A=2,z="abbr"){return M.formatMetricRelativeVerticalLength(I,x.value,x.unit,A,z)}function P(I,x,A=2,z="abbr"){return M.formatMetricArea(I,x.value,x.unit,A,z)}function K(I,
x,A=2,z="abbr"){return M.formatImperialLength(I,x.value,x.unit,A,z)}function J(I,x,A=2,z="abbr"){return M.formatImperialRelativeLength(I,x.value,x.unit,A,z)}function N(I,x,A=2,z="abbr"){return M.formatImperialVerticalLength(I,x.value,x.unit,A,z)}function L(I,x,A=2,z="abbr"){return M.formatImperialRelativeVerticalLength(I,x.value,x.unit,A,z)}function R(I,x,A=2,z="abbr"){return M.formatImperialArea(I,x.value,x.unit,A,z)}t.formatAngle=function(I,x,A){return M.formatAngleDegrees(I.value,I.unit,I.rotationType,
x,A)};t.formatArea=function(I,x,A,z=2,F="abbr"){switch(A){case "imperial":return R(I,x,z,F);case "metric":return P(I,x,z,F);default:return H(I,x,A,z,F)}};t.formatDMS=function(I){return M.formatDMS(I.value,I.unit)};t.formatDecimal=H;t.formatImperialArea=R;t.formatImperialLength=K;t.formatImperialRelativeLength=J;t.formatImperialRelativeVerticalLength=L;t.formatImperialVerticalLength=N;t.formatLength=function(I,x,A,z,F="abbr"){z=Q.unwrapOr(z,2);switch(A){case "imperial":return K(I,x,z,F);case "metric":return C(I,
x,z,F);default:return H(I,x,A,z,F)}};t.formatMetricArea=P;t.formatMetricLength=C;t.formatMetricRelativeLength=B;t.formatMetricRelativeVerticalLength=O;t.formatMetricVerticalLength=u;t.formatRelativeAngle=function(I,x,A){return M.formatRelativeAngleDegrees(I.value,I.unit,I.rotationType,x,A)};t.formatRelativeDecimal=E;t.formatRelativeLength=function(I,x,A,z=2,F="abbr"){switch(A){case "imperial":return J(I,x,z,F);case "metric":return B(I,x,z,F);default:return E(I,x,A,z,F)}};t.formatRelativeVerticalLength=
function(I,x,A,z=2,F="abbr"){switch(A){case "imperial":return L(I,x,z,F);case "metric":return O(I,x,z,F);default:return E(I,x,A,z,F)}};t.formatVerticalLength=function(I,x,A,z=2,F="abbr"){switch(A){case "imperial":return N(I,x,z,F);case "metric":return u(I,x,z,F);default:return H(I,x,A,z,F)}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/quantityUtils":function(){define(["exports","./maybe","./unitUtils"],function(t,Q,y){function M(B,u){return{type:y.unitType(u),
value:B,unit:u}}function H(B,u){return{type:y.unitType(u),value:B,unit:u}}function E(B,u){return M(y.convertUnit(B.value,B.unit,u),u)}const C=H(0,"meters");t.createAngle=function(B,u,O="arithmetic"){return{type:y.unitType(u),value:B,unit:u,rotationType:O}};t.createArea=function(B,u){return{type:y.unitType(u),value:B,unit:u}};t.createLength=H;t.createQuantity=M;t.createVolume=function(B,u){return{type:y.unitType(u),value:B,unit:u}};t.isBaseUnit=function(B){return y.isBaseUnit(B.unit)};t.max=function(B,
u){return Q.isNone(B)?u:Q.isNone(u)?B:B.value>y.convertUnit(u.value,u.unit,B.unit)?B:u};t.min=function(B,u){return Q.isNone(B)?u:Q.isNone(u)?B:B.value<y.convertUnit(u.value,u.unit,B.unit)?B:u};t.toBaseUnit=function(B){return E(B,y.baseUnitForUnit(B.unit))};t.toUnit=E;t.zeroMeters=C;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/overlay/TextOverlayItem":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../libs/maquette/projection ../../libs/maquette/h ../../libs/maquette/projector".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P){const K={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};y=function(L){function R(x){x=
L.call(this,x)||this;x.x=0;x.y=0;x.text="-";x.fontSize=14;x.anchor="center";x.visible=!0;x._backgroundColor="rgba(0, 0, 0, 0.6)";x._textColor="white";x._textShadowColor=[0,0,0];x._textShadowSize=1;return x}t._inheritsLoose(R,L);var I=R.prototype;I.render=function(){return O.h("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this._backgroundColor,
color:this._textColor,padding:this._padding+"px",borderRadius:this._borderRadius+"px",textShadow:this._textShadow}},[this.text])};I.renderCanvas=function(x){if(this.visible){var A=x.font.replace(/^(.*?)px/,"");x.font=`${this.fontSize}px ${A}`;var z=this._padding,F=this._borderRadius,D=x.measureText(this.text).width,U=this.fontSize;A=J[this.anchor];x.textAlign="center";x.textBaseline="middle";D+=2*z;z=U+2*z;this._roundedRect(x,this.x+A.x*D,this.y+A.y*z,D,z,F);x.fillStyle=this._backgroundColor;x.fill();
F=this.x+(A.x+.5)*D;A=this.y+(A.y+.5)*z;this._renderTextShadow(x,this.text,F,A);x.fillStyle=this._textColor;x.fillText(this.text,F,A)}};I._renderTextShadow=function(x,A,z,F){x.lineJoin="miter";x.fillStyle=`rgba(${this._textShadowColor[0]}, ${this._textShadowColor[1]}, ${this._textShadowColor[2]}, ${1/N.length})`;const D=this._textShadowSize;for(const [U,T]of N)x.fillText(A,z+D*U,F+D*T)};I._roundedRect=function(x,A,z,F,D,U){x.beginPath();x.moveTo(A,z+U);x.arcTo(A,z,A+U,z,U);x.lineTo(A+F-U,z);x.arcTo(A+
F,z,A+F,z+U,U);x.lineTo(A+F,z+D-U);x.arcTo(A+F,z+D,A+F-U,z+D,U);x.lineTo(A+U,z+D);x.arcTo(A,z+D,A,z+D-U,U);x.closePath()};I._cssClasses=function(){const x={"esri-text-overlay-item":!0};for(const A in K)x[K[A]]=this.anchor===A;return x};t._createClass(R,[{key:"position",get:function(){return[this.x,this.y]},set:function(x){this._set("x",x[0]);this._set("y",x[1])}},{key:"_textShadow",get:function(){const [x,A,z]=this._textColor;return`0 0 ${this._textShadowSize}px rgb(${x}, ${A}, ${z})`}},{key:"_padding",
get:function(){return.5*this.fontSize}},{key:"_borderRadius",get:function(){return this._padding}}]);return R}(y);Q.__decorate([M.property()],y.prototype,"x",void 0);Q.__decorate([M.property()],y.prototype,"y",void 0);Q.__decorate([M.property()],y.prototype,"position",null);Q.__decorate([M.property()],y.prototype,"text",void 0);Q.__decorate([M.property()],y.prototype,"fontSize",void 0);Q.__decorate([M.property()],y.prototype,"anchor",void 0);Q.__decorate([M.property()],y.prototype,"visible",void 0);
Q.__decorate([M.property()],y.prototype,"_backgroundColor",void 0);Q.__decorate([M.property()],y.prototype,"_textColor",void 0);Q.__decorate([M.property()],y.prototype,"_textShadowColor",void 0);Q.__decorate([M.property()],y.prototype,"_textShadowSize",void 0);Q.__decorate([M.property()],y.prototype,"_textShadow",null);Q.__decorate([M.property()],y.prototype,"_padding",null);Q.__decorate([M.property()],y.prototype,"_borderRadius",null);y=Q.__decorate([B.subclass("esri.views.overlay.TextOverlayItem")],
y);const J={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,
y:0,textAlign:"right",textBaseline:"top"}},N=[];for(Q=0;360>Q;Q+=22.5)N.push([Math.cos(Math.PI*Q/180),Math.sin(Math.PI*Q/180)]);return y})},"esri/libs/maquette/h":function(){define(["exports"],function(t){let Q=(y,M,H)=>{for(let E=0,C=M.length;E<C;E++){let B=M[E];Array.isArray(B)?Q(y,B,H):null!==B&&void 0!==B&&!1!==B&&("string"===typeof B&&(B={vnodeSelector:"",properties:void 0,children:void 0,text:B.toString(),domNode:null}),H.push(B))}};t.h=function(y,M,H){if(Array.isArray(M))H=M,M=void 0;else if(M&&
("string"===typeof M||M.hasOwnProperty("vnodeSelector"))||H&&("string"===typeof H||H.hasOwnProperty("vnodeSelector")))throw Error("h called with invalid arguments");let E,C;H&&1===H.length&&"string"===typeof H[0]?E=H[0]:H&&(C=[],Q(y,H,C),0===C.length&&(C=void 0));return{vnodeSelector:y,properties:M,children:C,text:""===E?void 0:E,domNode:null}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/automaticLengthMeasurementUtils":function(){define(["exports",
"../../core/maybe","./euclideanLengthMeasurementUtils","./geodesicLengthMeasurementUtils"],function(t,Q,y,M){function H(E,C,B,u,...O){return"on-the-ground"===u?(E=C.apply(void 0,O),Q.isSome(E)?E:B.apply(void 0,O)):E.apply(void 0,O)}t.autoDirectDistanceByElevationMode=function(E,C,B,u){return H(y.euclideanDirectDistance,M.geodesicDistance,y.euclideanHorizontalDistance,u,E,C,B)};t.autoDirectDistanceByElevationModeBetweenPoints=function(E,C,B){return H(y.euclideanDirectDistanceBetweenPoints,M.geodesicDistanceBetweenPoints,
y.euclideanHorizontalDistanceBetweenPoints,B,E,C)};t.autoHorizontalDistanceByElevationMode=function(E,C,B,u){return H(y.euclideanHorizontalDistance,M.geodesicDistance,y.euclideanHorizontalDistance,u,E,C,B)};t.autoHorizontalDistanceByElevationModeBetweenPoints=function(E,C,B){return H(y.euclideanHorizontalDistanceBetweenPoints,M.geodesicDistanceBetweenPoints,y.euclideanHorizontalDistanceBetweenPoints,B,E,C)};t.autoLengthByElevationMode=function(E,C){return H(y.euclideanLength,M.geodesicLength,y.euclideanHorizontalLength,
C,E)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/euclideanLengthMeasurementUtils":function(){define("exports ../../core/maybe ../../core/quantityUtils ../../core/unitUtils ../../chunks/vec3 ../../chunks/vec3f64 ../../geometry/projection ../../geometry/support/spatialReferenceUtils ./measurementUtils".split(" "),function(t,Q,y,M,H,E,C,B,u){function O(D,U){const {hasZ:T,spatialReference:W}=D;var da=u.computeEuclideanMeasurementSR(W);
let aa=0;da=M.lengthUnitFromSpatialReference(da);if(Q.isNone(da))return null;U="direct"===U?K:J;for(const ba of D.paths)if(!(2>ba.length)){D=ba.length-1;for(let ca=0;ca<D;++ca){var ea=ba[ca];I[0]=ea[0];I[1]=ea[1];I[2]=T?ea[2]:0;ea=ba[ca+1];x[0]=ea[0];x[1]=ea[1];x[2]=T?ea[2]:0;ea=U(I,x,W);if(Q.isNone(ea))return null;aa+=ea.value}}return y.createLength(aa,da)}function P(D,U,T){D=R(D,U,T);return Q.isSome(D)?{direct:y.createLength(D.direct,D.unit),horizontal:y.createLength(D.horizontal,D.unit),vertical:y.createLength(D.vertical,
D.unit)}:null}function K(D,U,T){D=R(D,U,T,"direct");return Q.isSome(D)?y.createLength(D.direct,D.unit):null}function J(D,U,T){D=R(D,U,T,"horizontal");return Q.isSome(D)?y.createLength(D.horizontal,D.unit):null}function N(D,U,T){D=R(D,U,T,"vertical");return Q.isSome(D)?y.createLength(D.verticalSigned,D.unit):null}function L(D,U){U=M.verticalLengthUnitFromSpatialReference(U);return Q.isSome(U)?y.createLength(D[2],U):null}function R(D,U,T,W){const da=u.computeEuclideanMeasurementSR(T),aa=M.lengthUnitFromSpatialReference(da);
if(Q.isNone(aa))return null;const ea=U[2]-D[2];if("vertical"===W)return{verticalSigned:ea,unit:aa};if(!C.projectVectorToVector(D,T,A,da)||!C.projectVectorToVector(U,T,z,da))return null;if("direct"===W)return{direct:H.distance(z,A),unit:aa};H.set(F,D[0],D[1],U[2]);if(!C.projectVectorToVector(F,T,F,da))return null;D=H.distance(F,z);return"horizontal"===W?{horizontal:D,unit:aa}:{direct:H.distance(z,A),horizontal:D,vertical:Math.abs(ea),unit:aa}}const I=E.create(),x=E.create(),A=E.create(),z=E.create(),
F=E.create();t.elevation=L;t.elevationOfPoint=function(D){I[0]=D.x;I[1]=D.y;I[2]=D.hasZ?D.z:0;return L(I,D.spatialReference)};t.euclideanDirectDistance=K;t.euclideanDirectDistanceBetweenPoints=function(D,U){const {spatialReference:T}=D;if(!B.equals(T,U.spatialReference))return null;I[0]=D.x;I[1]=D.y;I[2]=D.hasZ?D.z:0;x[0]=U.x;x[1]=U.y;x[2]=U.hasZ?U.z:0;return K(I,x,T)};t.euclideanDistance=P;t.euclideanDistanceBetweenPoints=function(D,U){const {spatialReference:T}=D;if(!B.equals(T,U.spatialReference))return null;
I[0]=D.x;I[1]=D.y;I[2]=D.hasZ?D.z:0;x[0]=U.x;x[1]=U.y;x[2]=U.hasZ?U.z:0;return P(I,x,T)};t.euclideanHorizontalDistance=J;t.euclideanHorizontalDistanceBetweenPoints=function(D,U){const {spatialReference:T}=D;if(!B.equals(T,U.spatialReference))return null;I[0]=D.x;I[1]=D.y;I[2]=D.hasZ?D.z:0;x[0]=U.x;x[1]=U.y;x[2]=U.hasZ?U.z:0;return J(I,x,T)};t.euclideanHorizontalLength=function(D){return O(D,"horizontal")};t.euclideanLength=function(D){return O(D,"direct")};t.verticalDistance=function(D,U,T){D=R(D,
U,T,"vertical");return Q.isSome(D)?y.createLength(Math.abs(D.verticalSigned),D.unit):null};t.verticalSignedDistance=N;t.verticalSignedDistanceBetweenPoints=function(D,U){const {spatialReference:T}=D;if(!B.equals(T,U.spatialReference))return null;I[0]=D.x;I[1]=D.y;I[2]=D.hasZ?D.z:0;x[0]=U.x;x[1]=U.y;x[2]=U.hasZ?U.z:0;return N(I,x,T)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/measurementUtils":function(){define(["exports","../../geometry/projection",
"../../geometry/projectionEllipsoid"],function(t,Q,y){t.computeEuclideanMeasurementSR=function(M){var H=y.getSphericalPCPF(M);H=H===y.SphericalECEFSpatialReference?y.WGS84ECEFSpatialReference:H;return Q.canProjectWithoutEngine(M,H)?H:M};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/geodesicLengthMeasurementUtils":function(){define("exports ../../core/quantityUtils ../../chunks/vec3f64 ../../geometry/geometryEngine ../../geometry/projection ../../geometry/support/geodesicUtils ../../geometry/support/spatialReferenceUtils ./geodesicMeasurementUtils".split(" "),
function(t,Q,y,M,H,E,C,B){function u(F,D,U){return B.geodesicMeasure(U,O,P,K,F,D,U)}function O(F,D,U){return Q.createLength(E.inverseGeodeticSolver(R,F,D,U).distance,"meters")}function P(F,D,U){return Q.createLength(M.geodesicLength({type:"polyline",spatialReference:U,paths:[[[...F],[...D]]]},"meters"),"meters")}function K(F,D,U){return H.projectVectorToWGS84ComparableLonLat(F,U,A)&&H.projectVectorToWGS84ComparableLonLat(D,U,z)?Q.createLength(E.inverseGeodeticSolver(R,A,z).distance,"meters"):null}
function J(F){return Q.createLength(E.geodesicLengths([F],"meters")[0],"meters")}function N(F){return Q.createLength(M.geodesicLength(F,"meters"),"meters")}function L(F){var D=[];if(!H.projectPolylineToWGS84ComparableLonLat(F,D))return null;F=0;for(const U of D){D=0;for(let T=1;T<U.length;++T)D+=E.inverseGeodeticSolver(R,U[T-1],U[T]).distance;F+=D}return Q.createLength(F,"meters")}const R={distance:null},I=y.create(),x=y.create(),A=y.create(),z=y.create();t.geodesicDistance=u;t.geodesicDistanceBetweenPoints=
function(F,D){if(!C.equals(F.spatialReference,D.spatialReference))return null;const {spatialReference:U}=F;I[0]=F.x;I[1]=F.y;I[2]=F.hasZ?F.z:0;x[0]=D.x;x[1]=D.y;x[2]=D.hasZ?D.z:0;return u(I,x,U)};t.geodesicLength=function(F){const {spatialReference:D}=F;return B.geodesicMeasure(D,J,N,L,F)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/geometryEngine":function(){define(["exports","../chunks/geometryEngineBase","./geometryAdapters/hydrated"],
function(t,Q,y){function M(E){return Array.isArray(E)?E[0].spatialReference:E&&E.spatialReference}function H(E){return"xmin"in E?"center"in E?E.center:null:"x"in E?E:"extent"in E?E.extent.center:null}t.buffer=function(E,C,B,u=!1){return Q.GeometryEngineApi.buffer(y.hydratedAdapter,M(E),E,C,B,u)};t.clip=function(E,C){return Q.GeometryEngineApi.clip(y.hydratedAdapter,M(E),E,C)};t.contains=function(E,C){return Q.GeometryEngineApi.contains(y.hydratedAdapter,M(E),E,C)};t.convexHull=function(E,C=!1){return Q.GeometryEngineApi.convexHull(y.hydratedAdapter,
M(E),E,C)};t.crosses=function(E,C){return Q.GeometryEngineApi.crosses(y.hydratedAdapter,M(E),E,C)};t.cut=function(E,C){return Q.GeometryEngineApi.cut(y.hydratedAdapter,M(E),E,C)};t.densify=function(E,C,B){return Q.GeometryEngineApi.densify(y.hydratedAdapter,M(E),E,C,B)};t.difference=function(E,C){return Q.GeometryEngineApi.difference(y.hydratedAdapter,M(E),E,C)};t.disjoint=function(E,C){return Q.GeometryEngineApi.disjoint(y.hydratedAdapter,M(E),E,C)};t.distance=function(E,C,B){return Q.GeometryEngineApi.distance(y.hydratedAdapter,
M(E),E,C,B)};t.equals=function(E,C){return Q.GeometryEngineApi.equals(y.hydratedAdapter,M(E),E,C)};t.extendedSpatialReferenceInfo=function(E){return Q.GeometryEngineApi.extendedSpatialReferenceInfo(E)};t.flipHorizontal=function(E,C){var B;if(null==E)throw Error("Illegal Argument Exception");const u=E.spatialReference;C=null!=(B=C)?B:H(E);if(null==C)throw Error("Illegal Argument Exception");E=E.constructor.fromJSON(Q.GeometryEngineApi.flipHorizontal(E,C));E.spatialReference=u;return E};t.flipVertical=
function(E,C){var B;if(null==E)throw Error("Illegal Argument Exception");const u=E.spatialReference;C=null!=(B=C)?B:H(E);if(null==C)throw Error("Illegal Argument Exception");E=E.constructor.fromJSON(Q.GeometryEngineApi.flipVertical(E,C));E.spatialReference=u;return E};t.generalize=function(E,C,B,u){return Q.GeometryEngineApi.generalize(y.hydratedAdapter,M(E),E,C,B,u)};t.geodesicArea=function(E,C,B){return Q.GeometryEngineApi.geodesicArea(y.hydratedAdapter,M(E),E,C,B)};t.geodesicBuffer=function(E,
C,B,u,O,P){return Q.GeometryEngineApi.geodesicBuffer(y.hydratedAdapter,M(E),E,C,B,u,O,P)};t.geodesicDensify=function(E,C,B,u=0){return Q.GeometryEngineApi.geodesicDensify(y.hydratedAdapter,M(E),E,C,B,u)};t.geodesicLength=function(E,C,B){return Q.GeometryEngineApi.geodesicLength(y.hydratedAdapter,M(E),E,C,B)};t.intersect=function(E,C){return Q.GeometryEngineApi.intersect(y.hydratedAdapter,M(E),E,C)};t.intersects=function(E,C){return Q.GeometryEngineApi.intersects(y.hydratedAdapter,M(E),E,C)};t.isSimple=
function(E){return Q.GeometryEngineApi.isSimple(y.hydratedAdapter,M(E),E)};t.nearestCoordinate=function(E,C,B=!0){return Q.GeometryEngineApi.nearestCoordinate(y.hydratedAdapter,M(E),E,C,B)};t.nearestVertex=function(E,C){return Q.GeometryEngineApi.nearestVertex(y.hydratedAdapter,M(E),E,C)};t.nearestVertices=function(E,C,B,u){return Q.GeometryEngineApi.nearestVertices(y.hydratedAdapter,M(E),E,C,B,u)};t.offset=function(E,C,B,u,O,P){return Q.GeometryEngineApi.offset(y.hydratedAdapter,M(E),E,C,B,u,O,P)};
t.overlaps=function(E,C){return Q.GeometryEngineApi.overlaps(y.hydratedAdapter,M(E),E,C)};t.planarArea=function(E,C){return Q.GeometryEngineApi.planarArea(y.hydratedAdapter,M(E),E,C)};t.planarLength=function(E,C){return Q.GeometryEngineApi.planarLength(y.hydratedAdapter,M(E),E,C)};t.relate=function(E,C,B){return Q.GeometryEngineApi.relate(y.hydratedAdapter,M(E),E,C,B)};t.rotate=function(E,C,B){var u;if(null==E)throw Error("Illegal Argument Exception");const O=E.spatialReference;B=null!=(u=B)?u:H(E);
if(null==B)throw Error("Illegal Argument Exception");E=E.constructor.fromJSON(Q.GeometryEngineApi.rotate(E,C,B));E.spatialReference=O;return E};t.simplify=function(E){return Q.GeometryEngineApi.simplify(y.hydratedAdapter,M(E),E)};t.symmetricDifference=function(E,C){return Q.GeometryEngineApi.symmetricDifference(y.hydratedAdapter,M(E),E,C)};t.touches=function(E,C){return Q.GeometryEngineApi.touches(y.hydratedAdapter,M(E),E,C)};t.union=function(E,C=null){return Q.GeometryEngineApi.union(y.hydratedAdapter,
M(E),E,C)};t.within=function(E,C){return Q.GeometryEngineApi.within(y.hydratedAdapter,M(E),E,C)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/geometryEngineBase":function(){define(["exports"],function(t){var Q={exports:{}};(function(M,H){H=function(){function E(f){if("number"===typeof f)return Y.Uc.ah(f);if(null==f)return null;if(null!=Pa[f])return Y.Uc.ah(Pa[f]);throw Error("Unrecognised Unit Type");}function C(f){if("number"===typeof f)return Y.Uc.ah(f);
if(null==f)return null;if(null!=qa[f])return Y.Uc.ah(qa[f]);throw Error("Unrecognised Unit Type");}function B(f){if(f)switch(f){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function u(f,w,l,c){if(null==l||l.B())return null;switch(l.K()){case Y.sn.Point:return f.exportPoint(w,l,c);case Y.sn.Polygon:return f.exportPolygon(w,l,c);case Y.sn.Polyline:return f.exportPolyline(w,l,c);case Y.sn.MultiPoint:return f.exportMultipoint(w,
l,c);case Y.sn.Envelope:return f.exportExtent(w,l,c)}return null}function O(f,w,l,c){if(l.K()!==Y.sn.Point)throw Error("Geometry not Point");return f.exportPoint(w,l,c)}function P(f){var w=f.wkid;f=f.wkt;var l=ha.get(w||f);null==l&&(-1!==w&&null!=w?(l=Y.Gg.create(w),ha.set(w,l)):f&&(l=Y.Gg.kP(f),ha.set(f,l)));return l}function K(f){var w;if(null==f)return null;var l=P(f);f=l.Id();l=l.Ln();return w={},w.tolerance=l,w.unitType=null==f?-1:f.od,w.unitID=null==f?-1:f.Fc(),w.unitBaseFactor=null==f?0:f.ci,
w.unitSquareDerivative=null==f?0:Y.Uc.VF(f).Fc(),w}function J(f,w,l,c){if(null==l)return null;l=Y.bc.clip(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w));return u(f,la,l,w)}function N(f,w,l,c){l=Y.bc.fl(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w));c=[];for(var a=0;a<l.length;a++)c.push(u(f,la,l[a],w));return c}function L(f,w,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return Y.bc.contains(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),
P(w))}function R(f,w,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return Y.bc.vP(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w))}function I(f,w,l,c,a){if(null==l||null==c)throw Error("Illegal Argument Exception");return Y.bc.ub(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w),E(a))}function x(f,w,l,c){return null==l&&null!=c||null==c&&null!=l?!1:Y.bc.Nb(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w))}function A(f,w,l,c){if(null==l||null==
c)throw Error("Illegal Argument Exception");return Y.bc.LS(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w))}function z(f,w,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return Y.bc.touches(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w))}function F(f,w,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return Y.bc.iY(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w))}function D(f,w,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");
return Y.bc.NP(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w))}function U(f,w,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return Y.bc.vU(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w))}function T(f,w,l,c,a){if(null==l||null==c)throw Error("Illegal Argument Exception");return Y.bc.sB(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w),a)}function W(f,w,l){if(null==l)throw Error("Illegal Argument Exception");return Y.bc.WS(f.convertToGEGeometry(la,
l),P(w))}function da(f,w,l){if(null==l)throw Error("Illegal Argument Exception");l=Y.bc.ZB(f.convertToGEGeometry(la,l),P(w));return u(f,la,l,w)}function aa(f,w,l,c){void 0===c&&(c=!1);if(null==l)throw Error("Illegal Argument Exception");if(Array.isArray(l)){var a=c,b=[];for(c=0;c<l.length;c++)b.push(f.convertToGEGeometry(la,l[c]));l=Y.bc.dP(b,a);a=Array(l.length);for(c=0;c<l.length;c++)a[c]=u(f,la,l[c],w);return a}c=Y.bc.cP(f.convertToGEGeometry(la,l),P(w));return u(f,la,c,w)}function ea(f,w,l,c){if(null==
l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=[],b=0;b<l.length;b++)a.push(f.convertToGEGeometry(la,l[b]));l=Y.bc.KP(a,f.convertToGEGeometry(la,c),P(w));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=u(f,la,l[b],w);return c}b=Y.bc.km(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w));return u(f,la,b,w)}function ba(f,w,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=[],b=0;b<l.length;b++)a.push(f.convertToGEGeometry(la,
l[b]));l=Y.bc.NX(a,f.convertToGEGeometry(la,c),P(w));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=u(f,la,l[b],w);return c}b=Y.bc.fp(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w));return u(f,la,b,w)}function ca(f,w,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=[],b=0;b<l.length;b++)a.push(f.convertToGEGeometry(la,l[b]));l=Y.bc.JS(a,f.convertToGEGeometry(la,c),P(w));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=u(f,la,l[b],w);return c}b=
Y.bc.Fa(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),P(w));return u(f,la,b,w)}function ka(f,w,l,c){if(null==l)return null;var a=[];if(Array.isArray(l)){if(0===l.length)return null;for(c=0;c<l.length;c++)a.push(f.convertToGEGeometry(la,l[c]))}else a.push(f.convertToGEGeometry(la,l)),null!=c&&a.push(f.convertToGEGeometry(la,c));return u(f,la,Y.bc.bY(a,P(w)),w)}function oa(f,w,l,c,a,b,d,e){var g=0;if(null!=b)switch(b){case "round":g=0;break;case "bevel":g=1;break;case "miter":g=2;break;case "square":g=
3}if(Array.isArray(l)){if(null==l)f=null;else if(0===l.length)f=[];else{var h=[];for(b=0;b<l.length;b++)h.push(f.convertToGEGeometry(la,l[b]));l=Y.bc.tU(h,P(w),c,g,d,e,E(a));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=u(f,la,l[b],w);f=c}return f}l=Y.bc.offset(f.convertToGEGeometry(la,l),P(w),c,g,d,e,E(a));return u(f,la,l,w)}function fa(f,w,l,c,a,b){void 0===b&&(b=!1);if(Array.isArray(l)){if(!Array.isArray(c)){for(var d=[],e=0;e<l.length;e++)d.push(c);c=d}if(c.length!=l.length){if(0==c.length)throw Error("Illegal Argument Exception");
d=[];var g=0;for(e=0;e<l.length;e++)void 0===c[e]?d.push(g):(d.push(c[e]),g=c[e]);c=d}return ua(f,w,l,c,a,!1,b,"geodesic",NaN)}l=Y.bc.buffer(f.convertToGEGeometry(la,l),P(w),c,E(a),!1,0,NaN);return u(f,la,l,w)}function ra(f,w,l,c,a,b,d,e){if(Array.isArray(l)){if(!Array.isArray(c)){for(var g=[],h=0;h<l.length;h++)g.push(c);c=g}if(c.length!==l.length){if(0===c.length)throw Error("Illegal Argument Exception");g=[];var k=0;for(h=0;h<l.length;h++)void 0===c[h]?g.push(k):(g.push(c[h]),k=c[h]);c=g}return ua(f,
w,l,c,a,!0,b,d,e)}void 0===d&&(d=NaN);l=Y.bc.buffer(f.convertToGEGeometry(la,l),P(w),c,E(a),!0,B(b),d);return u(f,la,l,w)}function ua(f,w,l,c,a,b,d,e,g){void 0===g&&(g=NaN);if(null==l)return null;if(0===l.length)return[];for(var h=[],k=0;k<l.length;k++)h.push(f.convertToGEGeometry(la,l[k]));l=Y.bc.GN(h,P(w),c,E(a),b,d,B(e),g);c=Array(l.length);for(k=0;k<l.length;k++)c[k]=u(f,la,l[k],w);return c}function na(f,w,l,c,a){var b;void 0===a&&(a=!0);l=Y.bc.iz(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,
c),a);return b={},b.coordinate=O(f,la,l.az(),w),b.distance=l.cz(),b.isRightSide=l.Nz(),b.vertexIndex=l.Va(),b.isEmpty=l.B(),b}function ta(f,w,l,c){var a;l=Y.bc.jz(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c));return a={},a.coordinate=O(f,la,l.az(),w),a.distance=l.cz(),a.isRightSide=l.Nz(),a.vertexIndex=l.Va(),a.isEmpty=l.B(),a}function ya(f,w,l,c,a,b){var d;l=Y.bc.kz(f.convertToGEGeometry(la,l),f.convertToGEGeometry(la,c),a,b);c=[];for(a=0;a<l.length;a++)!1===l[a].B()&&c.push((d={},d.coordinate=
O(f,la,l[a].az(),w),d.distance=l[a].cz(),d.isRightSide=l[a].Nz(),d.vertexIndex=l[a].Va(),d.isEmpty=l[a].B(),d));return c}function Fa(f,w,l,c,a,b){l=Y.bc.KQ(f.convertToGEGeometry(la,l),P(w),c,a,E(b));return u(f,la,l,w)}function Ia(f,w,l,c,a){l=Y.bc.Sr(f.convertToGEGeometry(la,l),P(w),c,E(a));return u(f,la,l,w)}function La(f,w,l,c,a,b){void 0===b&&(b=0);l=Y.bc.Ry(f.convertToGEGeometry(la,l),P(w),c,E(a),b);return u(f,la,l,w)}function Ba(f,w,l,c){if(null==l)throw Error("Illegal Argument Exception");return Y.bc.BU(f.convertToGEGeometry(la,
l),P(w),C(c))}function Va(f,w,l,c){if(null==l)throw Error("Illegal Argument Exception");return Y.bc.CU(f.convertToGEGeometry(la,l),P(w),E(c))}function Na(f,w,l,c,a){if(null==l)throw Error("Illegal Argument Exception");return Y.bc.QQ(f.convertToGEGeometry(la,l),P(w),C(c),B(a))}function Ga(f,w,l,c,a){if(null==l)throw Error("Illegal Argument Exception");return Y.bc.TQ(f.convertToGEGeometry(la,l),P(w),E(c),B(a))}function Da(f){Y.HL.bind(f)}function wa(f,w,l,c,a){var b=null,d=null;if(c){if(!a)throw Y.i.O("AOI missing Spatial Reference");
b=f.convertToGEGeometry(la,c);d=P(a).hh()}f=Y.iu.QR(P(w).hh(),P(l).hh(),b,d);return null!==f?f:null}function Ja(f,w,l,c,a){var b=null,d=null;if(c){if(!a)throw Y.i.O("AOI missing Spatial Reference");b=f.convertToGEGeometry(la,c);d=P(a).hh()}return Y.iu.RR(P(w).hh(),P(l).hh(),b,d)}function Ka(f,w,l,c,a,b){void 0===a&&(a=null);void 0===b&&(b=null);if(b){var d=new Y.sC;d.Xu=b.densificationStep;d.Lr=b.centralMeridianOfOutputGCS;b.clipWithInputHorizon&&d.HW(b.clipWithInputHorizon);b.clipWithOutputHorizon&&
d.IW(b.clipWithOutputHorizon)}if(!1===this.CY)throw Error("Projection Engine must be enabled using enableProjection");if(0===w.length)return[];if(a){if(b=a.getCachedGeTransformation(l,c),!b)a:{b=a;a=null;if(b){var e=b.getGTListEntry();if(null!==e){a=new Y.qC(null);for(var g=0,h=e.steps;g<h.length;g++){e=h[g];var k=new Y.Cx(e.geogtran);e.isInverse&&k.Lz();a.add(k)}d=Y.xr.Pr(P(l).hh(),P(c).hh(),a,d);b.assignCachedGe(l,c,d);b=d;break a}}if(null===a&&b&&b.steps&&0<b.steps.length){a=new Y.qC(null);g=0;
for(h=b.steps;g<h.length;g++)e=h[g],-1!=e.wkid&&null!=e.wkid?a.add(Y.Cx.create(e.wkid,e.isInverse)):a.add(Y.Cx.oP(e.wkt,e.isInverse));d=Y.xr.Pr(P(l).hh(),P(c).hh(),a,d);b.assignCachedGe(l,c,d);b=d}else b=Y.xr.Pr(P(l).hh(),P(c).hh(),a,d)}}else b=Y.xr.Pr(P(l).hh(),P(c).hh(),null);l=[];for(a=0;a<w.length;a++)d=w[a],l.push(pa(f,d,c,b));return l}function pa(f,w,l,c){w=Y.bc.Bh(f.convertToGEGeometry(la,w),c);return u(f,la,w,l)}var xa,Ea=this&&this.__extends||function(){function f(w,l){f=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])};return f(w,l)}return function(w,l){function c(){this.constructor=w}f(w,l);w.prototype=null===l?Object.create(l):(c.prototype=l.prototype,new c)}}(),Y;(function(f){(function(l){l[l.Unknown=0]="Unknown";l[l.Point=33]="Point";l[l.Line=322]="Line";l[l.Envelope=197]="Envelope";l[l.MultiPoint=550]="MultiPoint";l[l.Polyline=1607]="Polyline";l[l.Polygon=1736]="Polygon"})(f.sn||(f.sn=
{}));(function(l){l[l.enumMild=0]="enumMild";l[l.enumMedium=1]="enumMedium";l[l.enumHot=2]="enumHot"})(f.SK||(f.SK={}));var w=function(){function l(){this.description=null;this.PA=0}l.prototype.K=function(){return 0};l.prototype.Eb=function(){return-1};l.prototype.kg=function(c){this.wc();c!=this.description&&this.un(c)};l.prototype.un=function(){};l.prototype.Ll=function(c){this.wc();c!=this.description&&(c=f.ee.wR(this.description,c),c!=this.description&&this.un(c))};l.prototype.hasAttribute=function(c){return this.description.hasAttribute(c)};
l.prototype.se=function(c){this.wc();this.description.hasAttribute(c)||(c=f.ee.vR(this.description,c),this.un(c))};l.prototype.Vg=function(){return null};l.prototype.dn=function(){};l.prototype.A=function(){};l.prototype.Ro=function(){};l.prototype.yc=function(c){this.A(c)};l.prototype.B=function(){return!0};l.prototype.Pa=function(){};l.prototype.Pc=function(){};l.prototype.Ja=function(){return null};l.prototype.copyTo=function(){};l.prototype.He=function(){return 0};l.prototype.Rb=function(){return 0};
l.prototype.cG=function(){return this.hasAttribute(1)};l.uf=function(c){return((c&192)>>6)+1>>1};l.Sn=function(c){return 0!=(c&32)};l.MS=function(c){return 0!=(c&128)};l.zd=function(c){return 0!=(c&256)};l.zj=function(c){return 0!=(c&512)};l.Ic=function(c){return 0!=(c&1024)};l.prototype.Pf=function(){var c=this.Ja();this.copyTo(c);return c};l.prototype.mg=function(){return null};l.ig=function(c){var a=c.Ja();c.copyTo(a);return a};l.prototype.wc=function(){0<=this.PA&&(this.PA+=2147483649)};l.zx=
function(c){var a=c.K();if(l.zj(a))return c.I();if(c.B())return 0;if(197==a)return 4;if(33==a)return 1;if(l.zd(a))return 2;throw f.i.ga("missing type");};return l}();f.ba=w})(Y||(Y={}));(function(f){var w=function(){function l(){this.y=this.x=0}l.construct=function(c,a){var b=new l;b.x=c;b.y=a;return b};l.cl=function(c){var a=new l;a.x=c.x;a.y=c.y;return a};l.prototype.na=function(c,a){this.x=c;this.y=a};l.prototype.N=function(c){this.x=c.x;this.y=c.y};l.prototype.hq=function(c,a){return this.x===
c&&this.y===a};l.prototype.Mz=function(c){return 2.220446049250313E-16>=Math.abs(this.x-c.x)&&2.220446049250313E-16>=Math.abs(this.y-c.y)};l.prototype.rb=function(c){return this.x===c.x&&this.y===c.y};l.prototype.Nb=function(c){return c==this?!0:c instanceof l?this.x==c.x&&this.y==c.y:!1};l.prototype.sub=function(c){this.x-=c.x;this.y-=c.y};l.prototype.vc=function(c,a){this.x=c.x-a.x;this.y=c.y-a.y};l.prototype.add=function(c,a){void 0!==a?(this.x=c.x+a.x,this.y=c.y+a.y):(this.x+=c.x,this.y+=c.y)};
l.prototype.Uq=function(){this.x=-this.x;this.y=-this.y};l.prototype.nt=function(c){this.x=-c.x;this.y=-c.y};l.prototype.GS=function(c,a,b){this.x=c.x*(1-b)+a.x*b;this.y=c.y*(1-b)+a.y*b};l.prototype.Dt=function(c,a){this.x=this.x*c+a.x;this.y=this.y*c+a.y};l.prototype.yW=function(c,a,b){this.x=a.x*c+b.x;this.y=a.y*c+b.y};l.prototype.scale=function(c){this.x*=c;this.y*=c};l.prototype.compare=function(c){return this.y<c.y?-1:this.y>c.y?1:this.x<c.x?-1:this.x>c.x?1:0};l.prototype.normalize=function(){var c=
this.length();0==c&&(this.x=1,this.y=0);this.x/=c;this.y/=c};l.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.Tk=function(){return this.x*this.x+this.y*this.y};l.ub=function(c,a){return Math.sqrt(this.zc(c,a))};l.Jy=function(c,a,b,d){c-=b;a-=d;return Math.sqrt(c*c+a*a)};l.prototype.Sh=function(c){return this.x*c.x+this.y*c.y};l.prototype.$C=function(c){return Math.abs(this.x*c.x)+Math.abs(this.y*c.y)};l.prototype.yi=function(c){return this.x*c.y-this.y*c.x};
l.prototype.Ct=function(c,a){var b=-this.x*a+this.y*c;this.x=this.x*c+this.y*a;this.y=b};l.prototype.Jv=function(){var c=this.x;this.x=-this.y;this.y=c};l.prototype.GG=function(c){this.x=-c.y;this.y=c.x};l.prototype.cr=function(){var c=this.x;this.x=this.y;this.y=-c};l.prototype.su=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};l.pu=function(c,a){var b=c.su(),d=a.su();return d==b?(c=c.yi(a),0>c?1:0<c?-1:0):b<d?-1:1};l.zc=function(c,a){var b=c.x-a.x;c=c.y-a.y;return b*b+c*c};l.prototype.toString=
function(){return"("+this.x+" , "+this.y+")"};l.prototype.Sc=function(){this.y=this.x=NaN};l.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};l.prototype.offset=function(c,a){var b=l.ub(c,a),d=l.construct(this.x,this.y);if(0==b)return l.ub(d,c);var e=new l;e.N(a);e.sub(c);d.sub(c);return d.yi(e)/b};l.Wq=function(c,a,b){var d=new f.Xb;d.set(a.x);d.sub(c.x);var e=new f.Xb;e.set(b.y);e.sub(c.y);var g=new f.Xb;g.set(a.y);g.sub(c.y);var h=new f.Xb;h.set(b.x);h.sub(c.x);d.Ag(e);g.Ag(h);d.sub(g);
if(!d.rs())return b=d.value(),0>b?-1:0<b?1:0;d=new f.ip(a.x);e=new f.ip(c.x);g=new f.ip(c.y);d=d.kt(e);c=new f.ip(b.y);c=c.kt(g);a=new f.ip(a.y);a=a.kt(g);b=new f.ip(b.x);b=b.kt(e);d=d.nr(c);a=a.nr(b);d=d.nr(a);return d.fT()?-1:d.ZR()?1:0};l.prototype.dc=function(){return f.P.wj(f.P.wj())};return l}();f.h=w})(Y||(Y={}));(function(f){var w=function(){function l(c){this.Ay=this.Ot=0;this.GX=c}l.prototype.reset=function(){this.Ay=this.Ot=0};l.prototype.add=function(c){c-=this.Ay;var a=this.Ot+c;this.Ay=
a-this.Ot-c;this.Ot=a};l.prototype.sub=function(c){this.add(-c)};l.prototype.tm=function(){return this.GX+this.Ot};return l}();f.Ex=w;f.mc=function(){function l(){}l.Dn=function(c,a){return 0<=a?Math.abs(c):-Math.abs(c)};l.sign=function(c){return 0>c?-1:0<c?1:0};l.LK=function(c){return c-360*Math.floor(c/360)};l.round=function(c){return Math.floor(c+.5)};l.ox=function(c){return c*c};l.jq=function(c,a,b){return.5>=b?c+(a-c)*b:a-(a-c)*(1-b)};l.IG=function(c,a,b,d){.5>=b?(d.x=c.x+(a.x-c.x)*b,d.y=c.y+
(a.y-c.y)*b):(d.x=a.x-(a.x-c.x)*(1-b),d.y=a.y-(a.y-c.y)*(1-b))};l.dT=function(c,a,b,d,e,g){.5>=e?(g.x=c+(b-c)*e,g.y=a+(d-a)*e):(g.x=b-(b-c)*(1-e),g.y=d-(d-a)*(1-e))};return l}()})(Y||(Y={}));(function(f){var w=function(l){function c(){var a=l.call(this)||this;a.sa=0;a.oa=0;a.qa=0;a.ma=0;a.la=null;return a}Ea(c,l);c.prototype.ac=function(){return f.h.construct(this.sa,this.oa)};c.prototype.$p=function(a){a.x=this.sa;a.y=this.oa};c.prototype.Ec=function(a){this.gm(0,a)};c.prototype.TB=function(a,b){this.gm(0,
f.h.construct(a,b))};c.prototype.Uo=function(a){this.bD(0,a)};c.prototype.setStart=function(a){this.oD(0,a)};c.prototype.yv=function(a,b){return this.Pd(0,a,b)};c.prototype.SB=function(a,b,d){this.vn(0,a,b,d)};c.prototype.xc=function(){return f.h.construct(this.qa,this.ma)};c.prototype.Vr=function(a){a.x=this.qa;a.y=this.ma};c.prototype.Rc=function(a){this.gm(1,a)};c.prototype.Sl=function(a,b){this.gm(1,f.h.construct(a,b))};c.prototype.Qo=function(a){this.bD(1,a)};c.prototype.setEnd=function(a){this.oD(1,
a)};c.prototype.jv=function(a,b){return this.Pd(1,a,b)};c.prototype.IB=function(a,b,d){this.vn(1,a,b,d)};c.prototype.Eb=function(){return 1};c.prototype.B=function(){return this.Bc()};c.prototype.Pa=function(){};c.prototype.He=function(){return 0};c.prototype.Fa=function(a,b,d,e,g){return this.EM(a,b,d,e,g)};c.prototype.isIntersecting=function(a,b){return 0!=this.Br(a,b,!1)};c.prototype.ss=function(a,b){return this.tu(a,b,!1)};c.prototype.tu=function(){return null};c.prototype.Bc=function(){return!1};
c.prototype.$x=function(a){this.wc();if(null==this.la&&0<a)this.la=f.P.lg(2*a);else if(null!=this.la&&this.la.length<2*a){for(var b=this.la.slice(0),d=this.la.length;d<2*a;d++)b[d]=0;this.la=b}};c.aM=function(a,b,d){if(0<d)var e=0;for(var g=0;g<d;g++)b[0+e]=a[0],e++};c.prototype.gm=function(a,b){0!=a?(this.qa=b.x,this.ma=b.y):(this.sa=b.x,this.oa=b.y)};c.prototype.un=function(a){if(null!=this.la){for(var b=f.ee.Kw(a,this.description),d=[],e=c.Ig(this.description,0),g=c.Ig(this.description,1),h=c.Ig(a,
0),k=c.Ig(a,1),m=0,n=1,p=a.Ba;n<p;n++){var q=a.qd(n),r=f.ua.Wa(q);if(-1==b[n]){var v=f.ua.te(q);for(q=0;q<r;q++)d[h+m]=v,d[k+m]=v,m++}else for(v=this.description.ak(b[n])-2,q=0;q<r;q++)d[h+m]=this.la[e+v],d[k+m]=this.la[g+v],m++,v++}this.la=d}this.description=a};c.prototype.bD=function(a,b){if(this.Bc())throw f.i.ga("empty geometry");b.kg(this.description);b.Bc()&&b.up();for(var d=0;d<this.description.Ba;d++)for(var e=this.description.Fd(d),g=0,h=f.ua.Wa(e);g<h;g++){var k=this.Pd(a,e,g);b.setAttribute(e,
g,k)}};c.prototype.oD=function(a,b){this.wc();if(b.Bc())throw f.i.ga("empty geometry");for(var d=b.description,e=0,g=d.Ba;e<g;e++)for(var h=d.Fd(e),k=f.ua.Wa(h),m=0;m<k;m++){var n=b.Vc(h,m);this.vn(a,h,m,n)}};c.prototype.Pd=function(a,b,d){if(this.Bc())throw f.i.ga("This operation was performed on an Empty Geometry.");if(0==b)return 0!=a?0!=d?this.ma:this.qa:0!=d?this.oa:this.sa;if(d>=f.ua.Wa(b))throw f.i.re();var e=this.description.Qf(b);return 0<=e?(null!=this.la&&this.$x(this.description.Be.length-
2),this.la[c.Ig(this.description,a)+this.description.ak(e)-2+d]):f.ua.te(b)};c.prototype.vn=function(a,b,d,e){this.wc();if(d>=f.ua.Wa(b))throw f.i.re();var g=this.description.Qf(b);0>g&&(this.se(b),g=this.description.Qf(b));0==b?0!=a?0!=d?this.ma=e:this.qa=e:0!=d?this.oa=e:this.sa=e:(null==this.la&&this.$x(this.description.Be.length-2),this.la[c.Ig(this.description,a)+this.description.ak(g)-2+d]=e)};c.prototype.copyTo=function(a){if(a.K()!=this.K())throw f.i.O();a.description=this.description;a.$x(this.description.Be.length-
2);c.aM(this.la,a.la,2*(this.description.Be.length-2));a.sa=this.sa;a.oa=this.oa;a.qa=this.qa;a.ma=this.ma;a.wc();this.pp(a)};c.prototype.Vg=function(a,b){var d=new f.Oc;if(this.Bc())return d.Pa(),d;d.pa=this.Pd(0,a,b);d.wa=d.pa;d.Mk(this.Pd(1,a,b));return d};c.prototype.TI=function(a){this.Bc()?a.Pa():(a.pa=this.Pd(0,0,0),a.wa=a.pa,a.Mk(this.Pd(1,0,0)))};c.prototype.Vw=function(a,b){b.kg(this.description);b.Db(this.ic(a));for(var d=1,e=this.description.Ba;d<e;d++)for(var g=this.description.Fd(d),
h=f.ua.Wa(g),k=0;k<h;k++){var m=this.Vc(a,g,k);b.setAttribute(g,k,m)}};c.prototype.zM=function(a){if(this.description!=a.description||this.sa!=a.sa||this.qa!=a.qa||this.oa!=a.oa||this.ma!=a.ma)return!1;for(var b=0;b<2*(this.description.Be.length-2);b++)if(this.la[b]!=a.la[b])return!1;return!0};c.prototype.vG=function(){return this.sa==this.qa&&this.oa==this.ma};c.prototype.reverse=function(){var a=this.sa;this.sa=this.qa;this.qa=a;a=this.oa;this.oa=this.ma;this.ma=a;a=1;for(var b=this.description.Ba;a<
b;a++)for(var d=this.description.qd(a),e=0,g=f.ua.Wa(d);e<g;e++){var h=this.Pd(0,d,e),k=this.Pd(1,d,e);this.vn(0,d,e,k);this.vn(1,d,e,h)}};c.prototype.Br=function(a,b,d){var e=a.K();switch(this.K()){case 322:if(322==e)return f.zb.IM(this,a,b,d);throw f.i.Ra();default:throw f.i.Ra();}};c.prototype.EM=function(a,b,d,e,g){var h=a.K();switch(this.K()){case 322:if(322==h)return f.zb.Yx(this,a,b,d,e,g);throw f.i.Ra();default:throw f.i.Ra();}};c.prototype.Sx=function(){return null};c.Ig=function(a,b){return b*
(a.Be.length-2)};c.prototype.ic=function(a,b){if(void 0===b)return b=new f.h,this.ic(a,b),b;f.mc.dT(this.sa,this.oa,this.qa,this.ma,a,b)};c.prototype.fe=function(){return null};c.prototype.ZF=function(){return null};c.prototype.fq=function(){return null};c.prototype.Di=function(){return null};c.prototype.Qn=function(){return null};c.prototype.jg=function(){return null};c.prototype.Tx=function(a,b){return void 0!==b?this.ux(b)-this.ux(a):this.ux(a)};c.prototype.pp=function(){};c.prototype.fl=function(){return null};
c.prototype.dh=function(){};c.prototype.Vc=function(){return null};c.prototype.Me=function(){return null};c.prototype.ux=function(){return null};c.prototype.HG=function(){return null};c.prototype.ub=function(a,b){if(!b&&0!=this.Br(a,0,!1))return 0;b=1.7976931348623157E308;var d=this.ac(),e=a.fe(d,!1);d.sub(a.ic(e));d=d.length();d<b&&(b=d);d=this.xc();e=a.fe(d,!1);d.sub(a.ic(e));d=d.length();d<b&&(b=d);d=a.ac();e=this.fe(d,!1);d.sub(this.ic(e));d=d.length();d<b&&(b=d);d=a.xc();e=this.fe(d,!1);d.sub(this.ic(e));
d=d.length();d<b&&(b=d);return b};c.prototype.mg=function(){return f.si.im(this,null)};return c}(f.ba);f.MC=w})(Y||(Y={}));new Y.h;(function(f){(function(l){l[l.Unknown=-1]="Unknown";l[l.Not=0]="Not";l[l.Weak=1]="Weak";l[l.Strong=2]="Strong"})(f.UK||(f.UK={}));(function(l){l[l.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";l[l.IsWeakSimple=2]="IsWeakSimple";l[l.IsStrongSimple=4]="IsStrongSimple";l[l.DirtyOGCFlags=8]="DirtyOGCFlags";l[l.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";l[l.DirtyExactIntervals=
64]="DirtyExactIntervals";l[l.DirtyLooseIntervals=128]="DirtyLooseIntervals";l[l.DirtyIntervals=192]="DirtyIntervals";l[l.DirtyIsEnvelope=256]="DirtyIsEnvelope";l[l.DirtyLength2D=512]="DirtyLength2D";l[l.DirtyRingAreas2D=1024]="DirtyRingAreas2D";l[l.DirtyCoordinates=1993]="DirtyCoordinates";l[l.DirtyAllInternal=65535]="DirtyAllInternal";l[l.DirtyAll=16777215]="DirtyAll"})(f.GK||(f.GK={}));var w=function(l){function c(){var a=l.call(this)||this;a.Jm=65535;a.xa=0;a.Rg=-1;a.Cb=null;return a}Ea(c,l);
c.prototype.pp=function(){};c.prototype.Zx=function(){};c.prototype.ey=function(){};c.prototype.I=function(){return this.xa};c.prototype.B=function(){return this.Bc()};c.prototype.Bc=function(){return 0==this.xa};c.prototype.bk=function(a){return 0!=(this.Jm&a)};c.prototype.Nf=function(a,b){this.Jm=b?this.Jm|a:this.Jm&~a};c.prototype.rc=function(){this.bk(32)&&this.WM()};c.prototype.vx=function(){if(this.Bc())throw f.i.ga("This operation was performed on an Empty Geometry.");};c.prototype.we=function(a,
b){if(0>a||a>=this.xa)throw f.i.ga("index out of bounds");this.rc();b.kg(this.description);b.B()&&b.up();for(var d=0;d<this.description.Ba;d++)for(var e=this.description.Fd(d),g=0,h=f.ua.Wa(e);g<h;g++){var k=this.Aa[d].Bg(h*a+g);b.setAttribute(e,g,k)}};c.prototype.It=function(a,b){this.rc();for(var d=b.description,e=0;e<d.Ba;e++)for(var g=d.Fd(e),h=f.ua.Wa(g),k=0;k<h;k++){var m=b.Vc(g,k);this.setAttribute(g,a,k,m)}};c.prototype.D=function(a,b){if(0>a||a>=this.I())throw f.i.re();this.rc();this.Aa[0].uc(2*
a,b)};c.prototype.Oa=function(a){var b=new f.h;this.D(a,b);return b};c.prototype.Hc=function(a,b){this.Aa[0].uc(2*a,b)};c.prototype.Db=function(a,b,d){if(0>a||a>=this.xa)throw f.i.re();this.rc();var e=this.Aa[0];void 0!==d?(e.write(2*a,b),e.write(2*a+1,d)):e.Vt(2*a,b);this.Qc(1993)};c.prototype.xz=function(){if(void 0>=this.I())throw f.i.re();this.rc();var a=this.Aa[0],b=new f.Od;b.x=a.read(NaN);b.y=a.read(NaN);b.z=this.hasAttribute(1)?this.Aa[1].Bg(void 0):f.ua.te(1);return b};c.prototype.YB=function(a){if(0>
a||a>=this.I())throw f.i.re();this.se(1);this.rc();this.Qc(1993);var b=this.Aa[0];b.write(2*a,(void 0).x);b.write(2*a+1,(void 0).y);this.Aa[1].rr(a,(void 0).z)};c.prototype.Vc=function(a,b,d){if(0>b||b>=this.xa)throw f.i.re();var e=f.ua.Wa(a);if(d>=e)throw f.i.re();this.rc();var g=this.description.Qf(a);return 0<=g?this.Aa[g].Bg(b*e+d):f.ua.te(a)};c.prototype.sF=function(a,b){return this.Vc(a,b,void 0)};c.prototype.setAttribute=function(a,b,d,e){if(0>b||b>=this.xa)throw f.i.re();var g=f.ua.Wa(a);
if(d>=g)throw f.i.re();this.se(a);this.rc();a=this.description.Qf(a);this.Qc(1993);this.Aa[a].rr(b*g+d,e)};c.prototype.vb=function(a){this.vx();this.se(a);this.rc();return this.Aa[this.description.Qf(a)]};c.prototype.kn=function(a,b){if(null!=b&&f.ua.Vp(a)!=b.Vp())throw f.i.O();this.se(a);a=this.description.Qf(a);null==this.Aa&&(this.Aa=f.Zc.kI(this.description.Ba));this.Aa[a]=b;this.Qc(16777215)};c.prototype.un=function(a){var b=null;if(null!=this.Aa){var d=f.ee.Kw(a,this.description);b=[];for(var e=
0,g=a.Ba;e<g;e++)-1!=d[e]&&(b[e]=this.Aa[d[e]])}this.description=a;this.Aa=b;this.Rg=-1;this.Qc(16777215)};c.prototype.uD=function(a){this.yu(!0);a instanceof f.l?this.aa.A(a):this.aa.Ro(a)};c.prototype.VM=function(a){this.yu(!1);a instanceof f.l?this.aa.A(a):this.aa.Ro(a)};c.prototype.dn=function(a){this.yu(!0);this.aa.copyTo(a)};c.prototype.A=function(a){this.uD(a)};c.prototype.Ro=function(a){this.uD(a)};c.prototype.yc=function(a){this.VM(a)};c.prototype.Vg=function(a,b){var d=new f.Oc;if(this.Bc())return d.Pa(),
d;this.yu(!0);return this.aa.Vg(a,b)};c.prototype.dc=function(){var a=this.description.dc();if(!this.Bc())for(var b=this.I(),d=0,e=this.description.Ba;d<e;d++)a=this.Aa[d].Bn(a,0,b*f.ua.Wa(this.description.Fd(d)));return a};c.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof c&&this.description.Nb(a.description))||this.Bc()!=a.Bc())return!1;if(this.Bc())return!0;var b=this.I();if(b!=a.I())return!1;for(var d=0;d<this.description.Ba;d++){var e=this.description.qd(d),g=this.vb(e),h=a.vb(e);
if(!g.Nb(h,0,b*f.ua.Wa(e)))return!1}return!0};c.prototype.copyTo=function(a){if(a.K()!=this.K())throw f.i.O();this.YC(a)};c.prototype.YC=function(a){this.rc();a.description=this.description;a.Aa=null;var b=this.description.Ba,d=null;if(null!=this.Aa){d=[];for(var e=0;e<b;e++)null!=this.Aa[e]&&(d[e]=this.Aa[e].AB(this.I()*f.ua.Wa(this.description.Fd(e))))}null!=this.aa?(a.aa=this.aa.Ja(),this.aa.copyTo(a.aa)):a.aa=null;a.xa=this.xa;a.Jm=this.Jm;a.Aa=d;try{this.pp(a)}catch(g){throw a.Pa(),f.i.hu();
}};c.prototype.qD=function(){this.xa=0;this.Rg=-1;this.Aa=null;this.Qc(16777215)};c.prototype.Qc=function(a){16777215==a&&(this.Rg=-1,this.Zx());this.Jm|=a;this.fM();this.wc()};c.prototype.yu=function(a){this.rc();if(this.bk(192))if(null==this.aa?this.aa=new f.Hh(this.description):this.aa.kg(this.description),this.B())this.aa.Pa();else{this.dy(a);for(var b=1;b<this.description.Ba;b++)for(var d=this.description.Fd(b),e=f.ua.Wa(d),g=this.Aa[b],h=0;h<e;h++){var k=new f.Oc;k.Pa();for(var m=0;m<this.xa;m++){var n=
g.Bg(m*e+h);k.$b(n)}this.aa.setInterval(d,h,k)}a&&this.Nf(192,!1)}};c.prototype.dy=function(){this.aa.Pa();for(var a=this.Aa[0],b=new f.h,d=0;d<this.xa;d++)a.uc(2*d,b),this.aa.$b(b)};c.prototype.Ap=function(a){a.Pa();for(var b=this.Aa[0],d=new f.h,e=0;e<this.xa;e++)b.uc(2*e,d),a.$b(d)};c.prototype.WM=function(){if(this.Rg<this.xa){null==this.Aa&&(this.Aa=f.Zc.kI(this.description.Ba));this.Rg=2147483647;for(var a=0;a<this.description.Ba;a++){var b=this.description.Fd(a);if(null!=this.Aa[a]){var d=
f.ua.Wa(b),e=f.P.truncate(this.Aa[a].size/d);e<this.xa&&(e=f.P.truncate(this.Rg>this.xa+5?(5*this.xa+3)/4:this.xa),this.Aa[a].resize(e*d,f.ua.te(b)));e<this.Rg&&(this.Rg=e)}else this.Aa[a]=f.Zc.SE(b,this.xa),this.Rg=this.xa}}this.ey();this.Nf(32,!1)};c.prototype.fm=function(a){if(0>a)throw f.i.O();a!=this.xa&&(this.xa=a,this.Qc(65535))};c.prototype.qm=function(a){if(!this.bk(1)){if(!this.bk(2))return 0;if(this.IT>=a)return this.bk(8)?1:2}return-1};c.prototype.Eh=function(a,b){this.IT=b;if(-1==a)this.Nf(1,
!0),this.Nf(8,!0);else if(this.Nf(1,!1),this.Nf(8,!0),0==a)this.Nf(2,!1),this.Nf(4,!1);else if(1==a)this.Nf(2,!0),this.Nf(4,!1);else if(2==a)this.Nf(2,!0),this.Nf(4,!0);else throw f.i.ga("internal error.");};c.prototype.fM=function(){null!=this.Cb&&(this.Cb=null)};c.prototype.eD=function(a,b,d,e){if(0>a||a>=this.xa)throw f.i.ga("index out of bounds");if(0>b||b>=this.xa)throw f.i.ga("index out of bounds");this.rc();e.kg(this.description);e.B()&&e.up();for(var g=0;g<this.description.Ba;g++)for(var h=
this.description.Fd(g),k=0,m=f.ua.Wa(h);k<m;k++){var n=this.Aa[g].Bg(m*a+k),p=this.Aa[g].Bg(m*b+k);e.setAttribute(h,k,f.mc.jq(n,p,d))}};c.prototype.Ar=function(a,b){var d=this.Aa[0].o,e=d[2*a]-d[2*b];a=d[2*a+1]-d[2*b+1];return Math.sqrt(e*e+a*a)};c.prototype.Fh=function(a,b){if(0>a||a>=this.xa)throw f.i.re();if(b.B())throw f.i.O();this.rc();for(var d=b.description,e=0;e<d.Ba;e++)for(var g=d.qd(e),h=f.ua.Wa(g),k=0;k<h;k++){var m=b.Vc(g,k);this.setAttribute(g,a,k,m)}};c.prototype.nu=function(){return null};
c.prototype.hj=function(){return null};return c}(f.ba);f.Fx=w})(Y||(Y={}));(function(f){var w=function(){function l(){this.ob=this.$n=null;this.Vm=124234251;this.Tv=!0;this.Ne=-1;this.ob=new f.ad(7);this.$n=null}l.prototype.Wo=function(c){this.$n=c};l.prototype.LP=function(){this.Tv=!1};l.prototype.Ee=function(c){this.ob.Ee(c)};l.prototype.Rr=function(c){var a=this.ob.De();this.jX(a);this.mX(c,a);return a};l.prototype.GP=function(c){this.ob.kd(c)};l.prototype.addElement=function(c,a){-1==a&&(-1==
this.Ne&&(this.Ne=this.Rr(-1)),a=this.Ne);return this.zD(c,0,a)};l.prototype.DD=function(c){-1==this.Ne&&(this.Ne=this.Rr(-1));return this.zD(c,1,this.Ne)};l.prototype.yn=function(c){-1==this.Ne&&(this.Ne=this.Rr(-1));var a=this.Ne,b=this.ob.o;if(-1==a||-1==b[7*a])return c=this.ob.Nl([-1,-1,-1,c,this.il(),-1,-1]),b=this.ob.o,b[7*a]=c,this.xp(-1,c,a,b),c;var d=-1==a?-1:b[7*a+2];c=this.ob.Nl([-1,-1,d,c,this.il(),-1,-1]);b=this.ob.o;b[7*d+1]=c;this.ky(c,b);-1===b[7*c+2]&&(b[7*a]=c);this.xp(-1,c,a,b);
return c};l.prototype.Bu=function(c,a,b,d){var e=-1;-1==e&&(-1==this.Ne&&(this.Ne=this.Rr(-1)),e=this.Ne);var g=this.ob.o;if(-1==e||-1==g[7*e])return b=this.ob.Nl([-1,-1,-1,b,this.il(),-1,-1]),g=this.ob.o,g[7*e]=b,this.xp(-1,b,e,g),b;if(d){d=-1!=a?this.$n.compare(this,b,a):-1;var h=-1!=c?this.$n.compare(this,b,c):1}else d=-1,h=1;if(0==d||0==h)return g[7*e+3]=0==d?a:c,-1;(-1!=a&&-1!=c?this.Vm>f.P.WA(this.Vm)>>1:-1!=a)?c=a:d=h;for(a=!0;;){if(0>d)if(h=g[7*c],-1!=h)c=h;else{d=c;b=this.ob.Nl([-1,-1,c,
b,this.il(),-1,-1]);g=this.ob.o;g[7*c]=b;break}else if(h=g[7*c+1],-1!=h)c=h;else{d=g[7*c+6];b=this.ob.Nl([-1,-1,c,b,this.il(),-1,-1]);g=this.ob.o;g[7*c+1]=b;break}a&&(d*=-1,a=!1)}this.ky(b,g);-1===g[7*b+2]&&(g[7*e]=b);this.xp(d,b,e,g);return b};l.prototype.zF=function(){return this.cR(this.Ne)};l.prototype.wd=function(c,a){a=-1==a?this.Ne:a;this.Tv?this.FP(c,a):this.aY(c,a)};l.prototype.search=function(c,a){for(a=this.uv(a);-1!=a;){var b=this.$n.compare(this,c,a);if(0==b)return a;a=0>b?this.nl(a):
this.Zp(a)}return-1};l.prototype.zW=function(c){for(var a=this.uv(-1),b=-1;-1!=a;){var d=c.compare(this,a);if(0==d)return a;0>d?a=this.nl(a):(b=a,a=this.Zp(a))}return b};l.prototype.oJ=function(c){for(var a=this.uv(-1),b=-1;-1!=a;){var d=c.compare(this,a);if(0==d)return a;0>d?(b=a,a=this.nl(a)):a=this.Zp(a)}return b};l.prototype.ka=function(c){return this.ob.U(c,3)};l.prototype.nl=function(c){return this.ob.U(c,0)};l.prototype.Zp=function(c){return this.ob.U(c,1)};l.prototype.getParent=function(c){return this.ob.U(c,
2)};l.prototype.lb=function(c){return this.ob.U(c,6)};l.prototype.xe=function(c){return this.ob.U(c,5)};l.prototype.sc=function(c){return-1==c?this.ml(this.Ne):this.ml(c)};l.prototype.Gc=function(c){return-1==c?this.bs(this.Ne):this.bs(c)};l.prototype.SR=function(c){return-1==c?this.WF(this.Ne):this.WF(c)};l.prototype.Uj=function(c,a){this.HB(c,a)};l.prototype.uv=function(c){return-1==c?this.SF(this.Ne):this.SF(c)};l.prototype.clear=function(){this.ob.oj(!1);this.Ne=-1};l.prototype.size=function(c){return-1==
c?this.UF(this.Ne):this.UF(c)};l.prototype.EN=function(c,a){for(var b=a[7*c],d=a[7*c+1],e=a[7*c+4];-1!=b||-1!=d;){var g=-1!=b?a[7*b+4]:2147483647;d=-1!=d?a[7*d+4]:2147483647;if(e<=Math.min(g,d))break;g<=d?this.mJ(b,a):this.lJ(c,a);b=a[7*c];d=a[7*c+1]}};l.prototype.ky=function(c,a){if(this.Tv)for(var b=a[7*c+4],d=a[7*c+2];-1!=d&&a[7*d+4]>b;)a[7*d]==c?this.mJ(c,a):this.lJ(d,a),d=a[7*c+2]};l.prototype.lJ=function(c,a){var b=a[7*c+1];a[7*b+2]=a[7*c+2];a[7*c+2]=b;var d=a[7*b];a[7*c+1]=d;-1!=d&&(a[7*d+
2]=c);a[7*b]=c;d=a[7*b+2];-1!=d&&(a[7*d]==c?a[7*d]=b:a[7*d+1]=b)};l.prototype.mJ=function(c,a){var b=a[7*c+2];a[7*c+2]=a[7*b+2];a[7*b+2]=c;var d=a[7*c+1];a[7*b]=d;-1!=d&&(a[7*d+2]=b);a[7*c+1]=b;d=a[7*c+2];-1!=d&&(a[7*d]===b?a[7*d]=c:a[7*d+1]=c)};l.prototype.Qk=function(c,a){this.ob.T(c,2,a)};l.prototype.NB=function(c,a){this.ob.T(c,0,a)};l.prototype.RB=function(c,a){this.ob.T(c,1,a)};l.prototype.QB=function(c,a){this.ob.T(c,5,a)};l.prototype.fx=function(c,a){this.ob.T(c,6,a)};l.prototype.RJ=function(c,
a){this.ob.T(a,0,c)};l.prototype.jX=function(c){this.ob.T(c,4,0)};l.prototype.mX=function(c,a){this.ob.T(a,5,c)};l.prototype.SF=function(c){return-1==c?-1:this.ob.U(c,0)};l.prototype.ml=function(c){return-1==c?-1:this.ob.U(c,1)};l.prototype.bs=function(c){return-1==c?-1:this.ob.U(c,2)};l.prototype.cR=function(c){return-1==c?-1:this.ob.U(c,3)};l.prototype.UF=function(c){return-1==c?0:this.ob.U(c,4)};l.prototype.WF=function(c){return this.ob.U(c,5)};l.prototype.Rw=function(){return this.ob.Nl([-1,-1,
-1,void 0,this.il(),-1,-1])};l.prototype.hl=function(c){-1!=c&&this.ob.kd(c)};l.prototype.il=function(){this.Vm=f.P.WA(this.Vm);return this.Vm&1073741823};l.prototype.zD=function(c,a,b){var d=this.ob.o;if(-1==b||-1==d[7*b])return c=this.ob.Nl([-1,-1,-1,c,this.il(),-1,-1]),d=this.ob.o,d[7*b]=c,this.xp(-1,c,b,d),c;for(var e=-1==b?-1:d[7*b];;){var g=-1==a?1:this.$n.compare(this,c,e);if(0>g)if(g=this.nl(e),-1!=g)e=g;else{a=e;c=this.ob.Nl([-1,-1,e,c,this.il(),-1,-1]);d=this.ob.o;d[7*e]=c;break}else{if(1==
a&&0==g)return d[7*b+3]=e,-1;g=d[7*e+1];if(-1!=g)e=g;else{a=d[7*e+6];c=this.ob.Nl([-1,-1,e,c,this.il(),-1,-1]);d=this.ob.o;d[7*e+1]=c;break}}}this.ky(c,d);-1===d[7*c+2]&&(d[7*b]=c);this.xp(a,c,b,d);return c};l.prototype.xp=function(c,a,b,d){if(-1!=c){var e=d[7*c+5];d[7*c+5]=a}else e=-1==b?-1:d[7*b+2];d[7*a+5]=e;-1!=e&&(d[7*e+6]=a);d[7*a+6]=c;c==(-1==b?-1:d[7*b+1])&&(d[7*b+1]=a);-1==c&&(d[7*b+2]=a);d[7*b+4]=(-1==b?0:d[7*b+4])+1};l.prototype.uB=function(c,a){var b=this.ob.o,d=b[7*c+5];c=b[7*c+6];-1!=
d?b[7*d+6]=c:b[7*a+1]=c;-1!=c?b[7*c+5]=d:b[7*a+2]=d;b[7*a+4]=-1===a?-1:b[7*a+4]-1};l.prototype.aY=function(c,a){this.uB(c,a);var b=this.nl(c),d=this.Zp(c),e=this.getParent(c),g=c;if(-1!=b&&-1!=d){this.Vm=f.P.WA(this.Vm);var h=1073741823<this.Vm?this.lb(c):this.xe(c),k=this.getParent(h)==c;this.ob.aC(c,h,0);this.ob.aC(c,h,1);this.ob.aC(c,h,2);-1!=e?this.nl(e)==c?this.NB(e,h):this.RB(e,h):this.RJ(h,a);k?(b==h?(this.NB(h,c),this.Qk(d,h)):d==h&&(this.RB(h,c),this.Qk(b,h)),this.Qk(c,h),e=h):(this.Qk(b,
h),this.Qk(d,h),e=this.getParent(c),g=h);b=this.nl(c);d=this.Zp(c);-1!=b&&this.Qk(b,c);-1!=d&&this.Qk(d,c)}b=-1!=b?b:d;-1==e?this.RJ(b,a):this.nl(e)==g?this.NB(e,b):this.RB(e,b);-1!=b&&this.Qk(b,e);this.hl(c)};l.prototype.FP=function(c,a){var b=this.ob.o;b[7*c+4]=2147483647;var d=-1,e=-1,g=-1===a?-1:b[7*a],h=g==c;h&&(d=b[7*g],e=b[7*g+1],-1==d&&-1==e)?(this.uB(g,a),this.hl(g),b[7*a]=-1):(this.EN(c,b),g=b[7*c+2],-1!=g&&(b[7*g]==c?b[7*g]=-1:b[7*g+1]=-1),this.uB(c,a),this.hl(c),h&&(b[7*a]=-1==d||-1!=
b[7*d+2]?e:d))};l.prototype.HB=function(c,a){this.ob.T(c,3,a)};return l}();f.Zj=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a){void 0!==c&&this.L(c,a)}l.prototype.L=function(c,a){this.pa=c;this.wa=a;this.normalize()};l.prototype.isIntersecting=function(c){return this.pa<=c.pa?this.wa>=c.pa:c.wa>=this.pa};l.prototype.move=function(c){this.B()||(this.pa+=c,this.wa+=c)};l.prototype.normalize=function(){if(!isNaN(this.pa)){if(this.pa>this.wa){var c=this.pa;this.pa=this.wa;this.wa=c}isNaN(this.wa)&&
this.Pa()}};l.prototype.Pa=function(){this.wa=this.pa=NaN};l.prototype.B=function(){return isNaN(this.pa)};l.prototype.$b=function(c){"number"===typeof c?this.B()?this.wa=this.pa=c:this.Mk(c):c.B()||(this.B()?(this.pa=c.pa,this.wa=c.wa):(this.pa>c.pa&&(this.pa=c.pa),this.wa<c.wa&&(this.wa=c.wa),this.pa>this.wa&&this.Pa()))};l.prototype.Mk=function(c){c<this.pa?this.pa=c:c>this.wa&&(this.wa=c)};l.prototype.contains=function(c){return"number"===typeof c?c>=this.pa&&c<=this.wa:c.pa>=this.pa&&c.wa<=this.wa};
l.prototype.Fa=function(c){this.B()||c.B()?this.Pa():(this.pa<c.pa&&(this.pa=c.pa),this.wa>c.wa&&(this.wa=c.wa),this.pa>this.wa&&this.Pa())};l.prototype.X=function(c){this.B()||(this.pa-=c,this.wa+=c,this.wa<this.pa&&this.Pa())};l.prototype.zr=function(){return this.B()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.pa)+Math.abs(this.wa)+1)};l.prototype.EB=function(c,a){c>a?(this.pa=a,this.wa=c):(this.pa=c,this.wa=a)};l.prototype.Kt=function(c){return f.P.Sk(c,this.pa,this.wa)};l.prototype.S=
function(){return this.wa-this.pa};l.prototype.tf=function(){return.5*(this.pa+this.wa)};l.prototype.Nb=function(c){return c==this?!0:c instanceof l?this.B()&&c.B()?!0:this.pa!=c.pa||this.wa!=c.wa?!1:!0:!1};l.prototype.dc=function(){return f.P.wj(f.P.wj())};return l}();f.Oc=w})(Y||(Y={}));(function(f){var w=new f.Oc,l=new f.Oc,c=function(){return function(){this.ne=null;this.pb=-1;this.tb=new f.zb;this.kA=55555555;this.Vv=this.Xv=!1;this.Vf=new f.Oc;this.Vf.EB(0,0)}}();f.AY=c;var a=function(){function b(d,
e,g){this.g=d;this.Ik=NaN;this.HH=this.Mq=0;this.IH=NaN;this.ra=e;this.Pq=10*e;this.JH=this.KH=NaN;this.rg=!1;this.Fm=this.ht=this.Mo=this.Zs=this.Ys=-1;this.bA=g;this.NA=new c;this.SH=new c;f.P.truncate(3*d.gd/2)}b.prototype.gG=function(d,e,g,h){d.ne=null===h?null:h[g[5*e]];d.Vv=null!=d.ne;d.Vv||(h=g[5*e+2],-1!==h&&this.g.eW(g[5*e],g[5*h],d.tb),d.ne=d.tb,d.Vf.EB(d.tb.sa,d.tb.qa),d.Vf.wa+=this.ra,d.tb.lI(),d.Xv=d.tb.ma==d.tb.oa,d.Xv||(d.kA=(d.tb.qa-d.tb.sa)/(d.tb.ma-d.tb.oa)))};b.prototype.IO=function(d,
e){var g=d.Br(e,this.ra,!0);if(0!=g)return 2==g?this.Ly():this.zi();d.$p(Ha);d.Vr(Qa);e.$p(Ua);e.Vr(Ra);Ca.na(this.Mq,this.Ik);Ha.rb(Ua)&&this.Ik==Ha.y?0>Qa.compare(Ra)?Ca.N(Qa):Ca.N(Ra):Ha.rb(Ra)&&this.Ik==Ha.y?0>Qa.compare(Ua)?Ca.N(Qa):Ca.N(Ua):Ua.rb(Qa)&&this.Ik==Ua.y?0>Ha.compare(Ra)?Ca.N(Ha):Ca.N(Ra):Qa.rb(Ra)&&this.Ik==Qa.y&&(0>Ha.compare(Ua)?Ca.N(Ha):Ca.N(Ua));return d.Me(Ca.y,Ca.x)<e.Me(Ca.y,Ca.x)?-1:1};b.prototype.GO=function(d,e){if(d.tb.oa==e.tb.oa&&d.tb.sa==e.tb.sa)return d.tb.ma==e.tb.ma&&
d.tb.qa==e.tb.qa?this.bA?this.Ly():0:this.JE(d,e);if(d.tb.ma==e.tb.ma&&d.tb.qa==e.tb.qa)return this.IE(d,e);var g=this.IE(d,e);d=this.JE(d,e);return 0>g&&0>d?-1:0<g&&0<d?1:this.zi()};b.prototype.CO=function(d,e){if(d.qa>e.qa){if(e.qa>e.sa&&e.ma-e.oa<2*this.ra&&d.xi(e.qa,e.ma,this.ra))return this.zi()}else if((e.ma-e.oa)/(e.qa-e.sa)*(d.qa-d.sa)<this.Pq&&e.xi(d.qa,d.ma,this.ra))return this.zi();return 1};b.prototype.DO=function(d,e){if(d.sa<e.sa){if(e.qa>e.sa&&e.ma-e.oa<2*this.ra&&d.xi(e.qa,e.ma,this.ra))return this.zi()}else if((e.ma-
e.oa)/(e.qa-e.sa)*(d.sa-d.qa)<this.Pq&&e.xi(d.sa,d.oa,this.ra))return this.zi();return-1};b.prototype.EO=function(d,e){var g=new f.h;g.vc(e.xc(),e.ac());g.cr();g.normalize();var h=new f.h;h.vc(d.ac(),e.ac());var k=new f.h;k.vc(d.xc(),e.ac());h=h.Sh(g);g=k.Sh(g);k=Math.abs(h);var m=Math.abs(g);if(k<m){if(k<this.Pq&&e.xi(d.sa,d.oa,this.ra))return this.zi()}else if(m<this.Pq&&e.xi(d.qa,d.ma,this.ra))return this.zi();return 0>h&&0>g?-1:0<h&&0<g?1:this.zi()};b.prototype.HE=function(d,e){return d.oa==e.oa&&
d.sa==e.sa?this.CO(d,e):d.ma==e.ma&&d.qa==e.qa?this.DO(d,e):this.EO(d,e)};b.prototype.FO=function(d,e){return d.ma==e.ma&&d.qa==e.qa&&d.oa==e.oa&&d.sa==e.sa?this.bA?this.Ly():0:this.zi()};b.prototype.IE=function(d,e){var g=1;if(d.tb.oa<e.tb.oa){g=-1;var h=d;d=e;e=h}d=d.tb;h=e.tb;var k=d.sa-h.sa;e=e.kA*(d.oa-h.oa);var m=this.Pq;return k<e-m?-g:k>e+m?g:h.xi(d.sa,d.oa,this.ra)?this.zi():k<e?-g:g};b.prototype.JE=function(d,e){var g=1;if(e.tb.ma<d.tb.ma){g=-1;var h=d;d=e;e=h}d=d.tb;h=e.tb;var k=d.qa-h.sa;
e=e.kA*(d.ma-h.oa);var m=this.Pq;return k<e-m?-g:k>e+m?g:h.xi(d.qa,d.ma,this.ra)?this.zi():k<e?-g:g};b.prototype.Ly=function(){this.rg=!0;this.Pi=new f.Nd(5,this.Mo,this.ht);return-1};b.prototype.zi=function(){this.rg=!0;this.bA?this.Pi=new f.Nd(4,this.Mo,this.ht):this.ht=this.Mo=this.Zs=this.Ys=-1;return-1};b.prototype.HO=function(d,e,g,h){if(this.rg)return-1;var k=this.IH==this.Ik&&this.HH==this.Mq;if(k&&d==this.Ys)var m=this.JH;else m=NaN,this.Ys=-1;k&&e==this.Zs?k=this.KH:(k=NaN,this.Zs=-1);g.ne.TI(w);
h.ne.TI(l);if(w.wa<l.pa)return-1;if(l.wa<w.pa)return 1;this.IH=this.Ik;this.HH=this.Mq;isNaN(m)&&(this.Ys=d,this.JH=m=d=g.ne.Me(this.Ik,this.Mq));isNaN(k)&&(this.Zs=e,this.KH=k=d=h.ne.Me(this.Ik,this.Mq));return Math.abs(m-k)<=this.ra?this.IO(g.ne,h.ne):m<k?-1:m>k?1:0};b.prototype.Mr=function(){this.rg=!1};b.prototype.tm=function(){return this.Pi};b.prototype.UJ=function(d,e){this.Ik=d;this.Mq=e;this.ht=this.Mo=this.Zs=this.Ys=-1};b.prototype.compare=function(d,e,g){if(this.rg)return-1;d=d.ka(g);
this.Fm=g;return this.LE(e,e,d,d)};b.prototype.LE=function(d,e,g,h){if(this.Mo==e)var k=this.NA;else this.Mo=e,k=this.NA,this.NA.pb=d,this.gG(k,e,this.g.ud.o,this.g.Te);if(null==m){this.ht=h;var m=this.SH;this.SH.pb=g;this.gG(m,h,this.g.ud.o,this.g.Te)}if(k.Vv||m.Vv)return this.HO(e,h,k,m);if(k.Vf.wa<m.Vf.pa)return-1;if(m.Vf.wa<k.Vf.pa)return 1;d=k.Xv?1:0;d|=m.Xv?2:0;return 0==d?this.GO(k,m):1==d?this.HE(k.tb,m.tb):2==d?-1*this.HE(m.tb,k.tb):this.FO(k.tb,m.tb)};return b}();f.OC=a})(Y||(Y={}));(function(f){var w=
function(){function l(c,a){this.g=c;this.ra=a;this.rg=!1;this.Mo=-1;this.Vf=new f.Oc;this.Iq=new f.h;this.Iq.Sc();this.ie=new f.zb;this.Fm=-1;this.vA=1.7976931348623157E308}l.prototype.Mr=function(){this.rg=!1;this.vA=1.7976931348623157E308};l.prototype.Fh=function(c){this.Iq.N(c)};l.prototype.compare=function(c,a){return this.ME(a,c.ka(a))};l.prototype.ME=function(c,a){var b=null!=this.g.cc(a);b||(this.g.fd(a,this.ie),this.Vf.EB(this.ie.sa,this.ie.qa));if(b)throw f.i.ga("not implemented");if(this.Iq.x+
this.ra<this.Vf.pa)return-1;if(this.Iq.x-this.ra>this.Vf.wa)return 1;if(this.ie.oa==this.ie.ma)return this.Fm=c,this.rg=!0,0;this.ie.lI();b=this.ie.ac();a=new f.h;a.vc(this.ie.xc(),b);a.cr();var d=new f.h;d.vc(this.Iq,b);b=a.Sh(d);b/=a.length();return b<10*-this.ra?-1:b>10*this.ra?1:this.ie.ss(this.Iq,this.ra)&&(a=Math.abs(b),a<this.vA&&(this.Fm=c,this.vA=a),this.rg=!0,a<.25*this.ra)?0:0>b?-1:1};return l}();f.VL=w})(Y||(Y={}));(function(f){function w(c,a,b,d){b=new Float64Array(c.subarray(b,d));c.set(b,
a)}var l=function(){function c(a){this.Pb=this.qk=!1;this.o=null;var b=a;2>b&&(b=2);this.o=new Float64Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Pb)throw f.i.ga("invalid_call");if(b<a||b>d||a>d)throw f.i.O();a!=b&&d!=b&&(this.pi(a,b-a,1),this.pi(b,d-b,1),this.pi(a,d-a,1))};c.rf=function(a,b){var d=new c(a),e=d.o;2>a&&(a=2);if(0!==b)for(var g=0;g<a;g++)e[g]=b;return d};c.Cn=function(a){var b=new c(0);b.o=new Float64Array(a.o);b.size=a.size;return b};c.Nr=function(a,b){var d=new c(0);
d.size=a.size;d.size>b&&(d.size=b);b=d.size;2>b&&(b=2);d.o=new Float64Array(b);d.o.set(a.o.length<=b?a.o:a.o.subarray(0,b),0);return d};c.prototype.Jb=function(a){0>=a||(null==this.o?this.o=new Float64Array(a):a<=this.o.length||(0<this.o.length?(a=new Float64Array(a),a.set(this.o),this.o=a):this.o=new Float64Array(a)))};c.prototype.read=function(a){return this.o[a]};c.prototype.uc=function(a,b){b.x=this.o[a];b.y=this.o[a+1]};c.prototype.get=function(a){return this.o[a]};c.prototype.write=function(a,
b){if(this.Pb)throw f.i.Hb();this.o[a]=b};c.prototype.set=function(a,b){if(this.Pb)throw f.i.Hb();this.o[a]=b};c.prototype.Vt=function(a,b){if(this.Pb)throw f.i.Hb();this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.add=function(a){this.resize(this.size+1);this.o[this.size-1]=a};c.prototype.AB=function(a){return c.Nr(this,a)};c.prototype.Bg=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.qk)throw f.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");
if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var d=new Float64Array(this.o,0,a);this.o=d}}else{a>this.o.length&&(d=f.P.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Float64Array(d),d.set(this.o),this.o=d);d=this.o;for(var e=this.size;e<a;e++)d[e]=b}this.size=a};c.prototype.Dh=function(a){(null==this.o||a>this.o.length)&&this.resize(a);if(this.qk)throw f.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.rr=function(a,b){this.write(a,b)};c.prototype.Bn=
function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=f.P.wj(this.read(b));return a};c.prototype.Nb=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,g=a.size;if(d>e||d>g&&e!=g)return!1;for(d>e&&(d=e);b<d;b++)if(this.read(b)!=a.read(b))return!1;return!0};c.prototype.addRange=function(a,b,d,e,g){if(this.Pb)throw f.i.Hb();if(!e&&(1>g||0!=d%g))throw f.i.O();var h=this.size;this.resize(h+d);if(e)this.o.set(a.o.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=g){e-=g;for(var m=0;m<g;m++)this.o[h+
k+m]=a.o[b+e+m]}}};c.prototype.Nn=function(a,b,d,e,g,h,k){if(this.Pb)throw f.i.Hb();if(!g&&(1>h||0!=e%h))throw f.i.O();var m=this.size-k;m<e&&this.resize(this.size+e-m);w(this.o,a+e,a,a+(k-a));this.o==b.o&&a<d&&(d+=e);if(g)this.o.set(b.o.subarray(d,d+e),a);else for(g=e,k=0;k<e;k+=h)for(g-=h,m=0;m<h;m++)this.o[a+k+m]=b.o[d+g+m]};c.prototype.Dz=function(a,b,d,e,g,h){if(this.Pb)throw f.i.Hb();0>h&&(h=this.size);this.size+2*e>this.o.length?this.resize(this.size+2*e):this.size+=2*e;w(this.o,a+2*e,a,a+
(h-a));if(g)for(g=0;g<e;g++)h=b[d++],this.o[a++]=h.x,this.o[a++]=h.y;else{g=0;for(var k=e-1;g<e;++g)h=b[d+k],this.o[a++]=h.x,this.o[a++]=h.y,k--}};c.prototype.Mn=function(a,b,d,e){if(this.Pb)throw f.i.Hb();e-=a;w(this.o,a+e,a,a+e);for(e=0;e<d;e++)this.o[a+e]=b};c.prototype.xj=function(a,b,d){if(this.Pb)throw f.i.Hb();w(this.o,a+2,a,a+(d-a));this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.Wt=function(a,b,d,e,g,h){if(0>a||0>b||0>e)throw f.i.O();if(!g&&(0>=h||0!=b%h))throw f.i.O();if(d.size<e+b)throw f.i.O();
if(0!=b)if(this.size<b+a&&this.resize(b+a),d==this)this.Cr(a,b,e,g,h);else if(g)for(g=0;g<b;g++)this.o[a]=d.o[e],a++,e++;else if(e=e+b-h,1==h)for(g=0;g<b;g++)this.o[a]=d.o[e],a++,e--;else for(g=0,b=f.P.truncate(b/h);g<b;g++){for(var k=0;k<h;k++)this.o[a+k]=d.o[e+k];a+=h;e-=h}};c.prototype.Fn=function(a,b,d){if(this.Pb)throw f.i.Hb();if(a+b>this.size)throw f.i.Hb();0<d-(a+b)&&w(this.o,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.pi=function(a,b,d){if(this.Pb)throw f.i.Hb();if(1>d||0!=b%d)throw f.i.Hb();
for(var e=b>>1,g=0;g<e;g+=d){b-=d;for(var h=0;h<d;h++){var k=this.o[a+g+h];this.o[a+g+h]=this.o[a+b+h];this.o[a+b+h]=k}}};c.prototype.Yj=function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw f.i.O();for(var e=b;e<b+d;e++)this.o[e]=a};c.prototype.Cr=function(a,b,d,e,g){if(!e||a!=d)if(this.o.set(this.o.subarray(d,d+b),a),!e)for(d=a,a=a+b-g,e=0,b=f.P.truncate(b/2);e<b;e++){for(var h=0;h<g;h++){var k=this.o[d+h];this.o[d+h]=this.o[a+h];this.o[a+h]=k}d+=g;a-=g}};c.prototype.pC=function(a,b,d,e,g){if(0>
a||0>b||0>e)throw f.i.O();if(0!=b)for(this.size<(b<<1)+a&&this.resize((b<<1)+a),g||(a+=b-1<<1),g=g?2:-2,b+=e;e<b;e++)this.o[a]=d[e].x,this.o[a+1]=d[e].y,a+=g};c.prototype.oC=function(a,b,d){if(0>a||0>b)throw f.i.O();if(0!=b){this.size<(b<<1)+a&&this.resize((b<<1)+a);b+=0;for(var e=0;e<b;e++)this.o[a]=d[e][0],this.o[a+1]=d[e][1],a+=2}};c.prototype.Xw=function(a,b,d,e,g){if(0>a||0>b||0>e||this.size<b+a)throw f.i.O();if(g)for(g=0;g<b;g++)d[e+g]=this.o[a+g];else for(e=e+b-1;a<b;a++)d[e]=this.o[a],e--};
c.prototype.oB=function(a,b,d){if(0>a||0>b||this.size<(b>>1)+a)throw f.i.O();if(0!=b){b=0+b;for(var e=0;e<b;e++)d[e][0]=this.o[a],d[e][1]=this.o[a+1],a+=2}};c.prototype.clear=function(a){a?this.resize(0):this.Dh(0)};c.prototype.ix=function(){this.qk=this.Pb=!0};c.prototype.Wd=function(a,b,d){Array.prototype.sort.call(this.o.subarray(a,b),d)};c.prototype.Vp=function(){return 1};return c}();f.ce=l})(Y||(Y={}));(function(f){function w(c,a,b,d){b=new Int32Array(c.subarray(b,d));c.set(b,a)}f.jY=function(){return function(){this.random=
1973}}();var l=function(){function c(a){this.Pb=this.qk=!1;this.o=null;var b=a;2>b&&(b=2);this.o=new Int32Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Pb)throw f.i.ga("invalid_call");if(b<a||b>d||a>d)throw f.i.O();a!=b&&d!=b&&(this.pi(a,b-a,1),this.pi(b,d-b,1),this.pi(a,d-a,1))};c.rf=function(a,b){var d=new c(a),e=d.o;2>a&&(a=2);if(0!==b)for(var g=0;g<a;g++)e[g]=b;return d};c.Cn=function(a){var b=new c(0);b.o=new Int32Array(a.o);b.size=a.size;return b};c.Nr=function(a,b){var d=
new c(0);d.size=a.size;d.size>b&&(d.size=b);b=d.size;2>b&&(b=2);d.o=new Int32Array(b);d.o.set(a.o.length<=b?a.o:a.o.subarray(0,b),0);return d};c.prototype.Jb=function(a){0>=a||(null==this.o?this.o=new Int32Array(a):a<=this.o.length||(0<this.o.length?(a=new Int32Array(a),a.set(this.o),this.o=a):this.o=new Int32Array(a)))};c.prototype.read=function(a){return this.o[a]};c.prototype.uc=function(a,b){b.x=this.o[a];b.y=this.o[a+1]};c.prototype.get=function(a){return this.o[a]};c.prototype.write=function(a,
b){if(this.Pb)throw f.i.Hb();this.o[a]=b};c.prototype.set=function(a,b){if(this.Pb)throw f.i.Hb();this.o[a]=b};c.prototype.Vt=function(a,b){if(this.Pb)throw f.i.Hb();this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.add=function(a){this.resize(this.size+1);this.o[this.size-1]=a};c.prototype.AB=function(a){return c.Nr(this,a)};c.prototype.Bg=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.qk)throw f.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");
if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var d=new Int32Array(this.o,0,a);this.o=d}}else{a>this.o.length&&(d=f.P.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Int32Array(d),d.set(this.o),this.o=d);d=this.o;for(var e=this.size;e<a;e++)d[e]=b}this.size=a};c.prototype.Dh=function(a){(null==this.o||a>this.o.length)&&this.resize(a);if(this.qk)throw f.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.rr=function(a,b){this.write(a,b)};c.prototype.Bn=
function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=f.P.Vh(this.read(b),a);return a};c.prototype.Nb=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,g=a.size;if(d>e||d>g&&e!=g)return!1;for(d>e&&(d=e);b<d;b++)if(this.read(b)!=a.read(b))return!1;return!0};c.prototype.addRange=function(a,b,d,e,g){if(this.Pb)throw f.i.Hb();if(!e&&(1>g||0!=d%g))throw f.i.O();var h=this.size;this.resize(h+d);if(e)this.o.set(a.o.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=g){e-=g;for(var m=0;m<g;m++)this.o[h+
k+m]=a.o[b+e+m]}}};c.prototype.Nn=function(a,b,d,e,g,h,k){if(this.Pb)throw f.i.Hb();if(!g&&(1>h||0!=e%h))throw f.i.O();w(this.o,a+e,a,a+(k-a));this.o==b.o&&a<d&&(d+=e);if(g)this.o.set(b.o.subarray(d,d+e),a);else for(g=e,k=0;k<e;k+=h){g-=h;for(var m=0;m<h;m++)this.o[a+k+m]=b.o[d+g+m]}};c.prototype.Dz=function(a,b,d,e,g,h){if(this.Pb)throw f.i.Hb();0>h&&(h=this.size);this.size+2*e>this.o.length?this.resize(this.size+2*e):this.size+=2*e;w(this.o,a+2*e,a,a+(h-a));if(g)for(g=0;g<e;g++)h=b[d++],this.o[a++]=
h.x,this.o[a++]=h.y;else{g=0;for(var k=e-1;g<e;++g)h=b[d+k],this.o[a++]=h.x,this.o[a++]=h.y,k--}};c.prototype.Mn=function(a,b,d,e){if(this.Pb)throw f.i.Hb();e-=a;w(this.o,a+e,a,a+e);for(e=0;e<d;e++)this.o[a+e]=b};c.prototype.xj=function(a,b,d){if(this.Pb)throw f.i.Hb();w(this.o,a+2,a,a+(d-a));this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.Wt=function(a,b,d,e,g,h){if(0>a||0>b||0>e)throw f.i.O();if(!g&&(0>=h||0!=b%h))throw f.i.O();if(d.size<e+b)throw f.i.O();if(0!=b)if(this.size<b+a&&this.resize(b+a),d==
this)this.Cr(a,b,e,g,h);else if(g)for(g=0;g<b;g++)this.o[a]=d.o[e],a++,e++;else if(e=e+b-h,1==h)for(g=0;g<b;g++)this.o[a]=d.o[e],a++,e--;else for(g=0,b=f.P.truncate(b/h);g<b;g++){for(var k=0;k<h;k++)this.o[a+k]=d.o[e+k];a+=h;e-=h}};c.prototype.Fn=function(a,b,d){if(this.Pb)throw f.i.Hb();if(a+b>this.size)throw f.i.Hb();0<d-(a+b)&&w(this.o,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.pi=function(a,b,d){if(this.Pb)throw f.i.Hb();if(1>d||0!=b%d)throw f.i.Hb();for(var e=b>>1,g=0;g<e;g+=d){b-=d;for(var h=
0;h<d;h++){var k=this.o[a+g+h];this.o[a+g+h]=this.o[a+b+h];this.o[a+b+h]=k}}};c.prototype.Yj=function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw f.i.O();for(var e=b;e<b+d;e++)this.o[e]=a};c.prototype.Cr=function(a,b,d,e,g){if(!e||a!=d)if(this.o.set(this.o.subarray(d,d+b),a),!e)for(d=a,a=a+b-g,e=0,b=f.P.truncate(b/2);e<b;e++){for(var h=0;h<g;h++){var k=this.o[d+h];this.o[d+h]=this.o[a+h];this.o[a+h]=k}d+=g;a-=g}};c.prototype.pC=function(a,b,d,e,g){if(0>a||0>b||0>e)throw f.i.O();if(0!=b)for(this.size<
(b<<1)+a&&this.resize((b<<1)+a),g||(a+=b-1<<1),g=g?2:-2,b+=e;e<b;e++)this.o[a]=d[e].x,this.o[a+1]=d[e].y,a+=g};c.prototype.Xw=function(a,b,d,e,g){if(0>a||0>b||0>e||this.size<b+a)throw f.i.O();if(g)for(g=0;g<b;g++)d[e+g]=this.o[a+g];else for(e=e+b-1;a<b;a++)d[e]=this.o[a],e--};c.prototype.clear=function(a){a?this.resize(0):this.Dh(0)};c.prototype.ix=function(){this.qk=this.Pb=!0};c.prototype.Wd=function(a,b,d){10>b-a?c.lG(this.o,a,b,d):c.kB(this.o,a,b-1,d)};c.prototype.Vp=function(){return 2};c.prototype.Gc=
function(){return this.o[this.size-1]};c.prototype.Jf=function(){this.resize(this.size-1)};c.prototype.TW=function(a){this.o[this.size-1]=a};c.prototype.KV=function(a){a<this.size-1&&(this.o[a]=this.o[this.size-1]);this.resize(this.size-1)};c.prototype.fF=function(a){for(var b=0,d=this.size;b<d;b++)if(this.o[b]==a)return b;return-1};c.prototype.bG=function(a){return 0<=this.fF(a)};c.lG=function(a,b,d,e){for(var g=b;g<d;g++){for(var h=a[g],k=g-1;k>=b&&0<e(a[k],h);)a[k+1]=a[k],k--;a[k+1]=h}};c.sx=function(a,
b,d){var e=a[d];a[d]=a[b];a[b]=e};c.kB=function(a,b,d,e){if(!(b>=d))for(;;){if(9>d-b){c.lG(a,b,d+1,e);break}var g=a[b];c.sx(a,b,d);for(var h=b,k=b;k<d;k++)0>=e(a[k],g)&&(c.sx(a,h,k),h+=1);c.sx(a,h,d);h-b<d-h?(c.kB(a,b,h-1,e),b=h+1):(c.kB(a,h+1,d,e),d=h-1)}};return c}();f.ja=l})(Y||(Y={}));(function(f){function w(c,a,b,d){b=new Int8Array(c.subarray(b,d));c.set(b,a)}var l=function(){function c(a){this.o=null;var b=a;2>b&&(b=2);this.o=new Int8Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Pb)throw f.i.ga("invalid_call");
if(b<a||b>d||a>d)throw f.i.O();a!=b&&d!=b&&(this.pi(a,b-a,1),this.pi(b,d-b,1),this.pi(a,d-a,1))};c.rf=function(a,b){var d=new c(a),e=d.o;2>a&&(a=2);if(0!==b)for(var g=0;g<a;g++)e[g]=b;return d};c.Cn=function(a){var b=new c(0);b.o=new Int8Array(a.o);b.size=a.size;return b};c.Nr=function(a,b){var d=new c(0);d.size=a.size;d.size>b&&(d.size=b);b=d.size;2>b&&(b=2);d.o=new Int8Array(b);d.o.set(a.o.length<=b?a.o:a.o.subarray(0,b),0);return d};c.prototype.Jb=function(a){0>=a||(null==this.o?this.o=new Int8Array(a):
a<=this.o.length||(0<this.o.length?(a=new Int8Array(a),a.set(this.o),this.o=a):this.o=new Int8Array(a)))};c.prototype.read=function(a){return this.o[a]};c.prototype.uc=function(a,b){b.x=this.o[a];b.y=this.o[a+1]};c.prototype.get=function(a){return this.o[a]};c.prototype.write=function(a,b){if(this.Pb)throw f.i.Hb();this.o[a]=b};c.prototype.set=function(a,b){if(this.Pb)throw f.i.Hb();this.o[a]=b};c.prototype.Vt=function(a,b){if(this.Pb)throw f.i.Hb();this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.add=
function(a){this.resize(this.size+1);this.o[this.size-1]=a};c.prototype.AB=function(a){return c.Nr(this,a)};c.prototype.Bg=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.qk)throw f.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var d=new Int8Array(this.o,0,a);this.o=d}}else{a>this.o.length&&(d=f.P.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Int8Array(d),d.set(this.o),this.o=
d);d=this.o;for(var e=this.size;e<a;e++)d[e]=b}this.size=a};c.prototype.Dh=function(a){(null==this.o||a>this.o.length)&&this.resize(a);if(this.qk)throw f.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.rr=function(a,b){this.write(a,b)};c.prototype.Bn=function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=f.P.Vh(this.read(b),a);return a};c.prototype.Nb=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,g=a.size;if(d>e||d>g&&e!=g)return!1;
for(d>e&&(d=e);b<d;b++)if(this.read(b)!=a.read(b))return!1;return!0};c.prototype.addRange=function(a,b,d,e,g){if(this.Pb)throw f.i.Hb();if(!e&&(1>g||0!=d%g))throw f.i.O();var h=this.size;this.resize(h+d);if(e)this.o.set(a.o.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=g){e-=g;for(var m=0;m<g;m++)this.o[h+k+m]=a.o[b+e+m]}}};c.prototype.Nn=function(a,b,d,e,g,h,k){if(this.Pb)throw f.i.Hb();if(!g&&(1>h||0!=e%h))throw f.i.O();w(this.o,a+e,a,a+(k-a));this.o==b.o&&a<d&&(d+=e);if(g)this.o.set(b.o.subarray(d,
d+e),a);else for(g=e,k=0;k<e;k+=h){g-=h;for(var m=0;m<h;m++)this.o[a+k+m]=b.o[d+g+m]}};c.prototype.Mn=function(a,b,d,e){if(this.Pb)throw f.i.Hb();e-=a;w(this.o,a+e,a,a+e);for(e=0;e<d;e++)this.o[a+e]=b};c.prototype.Dz=function(a,b,d,e,g,h){if(this.Pb)throw f.i.Hb();0>h&&(h=this.size);this.size+2*e>this.o.length?this.resize(this.size+2*e):this.size+=2*e;w(this.o,a+2*e,a,a+(h-a));if(g)for(g=0;g<e;g++)h=b[d++],this.o[a++]=h.x,this.o[a++]=h.y;else{g=0;for(var k=e-1;g<e;++g)h=b[d+k],this.o[a++]=h.x,this.o[a++]=
h.y,k--}};c.prototype.xj=function(a,b,d){if(this.Pb)throw f.i.Hb();w(this.o,a+2,a,a+(d-a));this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.Wt=function(a,b,d,e,g,h){if(0>a||0>b||0>e)throw f.i.O();if(!g&&(0>=h||0!=b%h))throw f.i.O();if(d.size<e+b)throw f.i.O();if(0!=b)if(this.size<b+a&&this.resize(b+a),d==this)this.Cr(a,b,e,g,h);else if(g)for(g=0;g<b;g++)this.o[a]=d.o[e],a++,e++;else if(e=e+b-h,1==h)for(g=0;g<b;g++)this.o[a]=d.o[e],a++,e--;else for(g=0,b=f.P.truncate(b/h);g<b;g++){for(var k=0;k<h;k++)this.o[a+
k]=d.o[e+k];a+=h;e-=h}};c.prototype.Fn=function(a,b,d){if(this.Pb)throw f.i.Hb();if(a+b>this.size)throw f.i.Hb();0<d-(a+b)&&w(this.o,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.pi=function(a,b,d){if(this.Pb)throw f.i.Hb();if(1>d||0!=b%d)throw f.i.Hb();for(var e=b>>1,g=0;g<e;g+=d){b-=d;for(var h=0;h<d;h++){var k=this.o[a+g+h];this.o[a+g+h]=this.o[a+b+h];this.o[a+b+h]=k}}};c.prototype.Yj=function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw f.i.O();for(var e=b;e<b+d;e++)this.o[e]=a};c.prototype.Cr=
function(a,b,d,e,g){if(!e||a!=d)if(this.o.set(this.o.subarray(d,d+b),a),!e)for(d=a,a=a+b-g,e=0,b=f.P.truncate(b/2);e<b;e++){for(var h=0;h<g;h++){var k=this.o[d+h];this.o[d+h]=this.o[a+h];this.o[a+h]=k}d+=g;a-=g}};c.prototype.pC=function(a,b,d,e,g){if(0>a||0>b||0>e)throw f.i.O();if(0!=b)for(this.size<(b<<1)+a&&this.resize((b<<1)+a),g||(a+=b-1<<1),g=g?2:-2,b+=e;e<b;e++)this.o[a]=d[e].x,this.o[a+1]=d[e].y,a+=g};c.prototype.Xw=function(a,b,d,e,g){if(0>a||0>b||0>e||this.size<b+a)throw f.i.O();if(g)for(g=
0;g<b;g++)d[e+g]=this.o[a+g];else for(e=e+b-1;a<b;a++)d[e]=this.o[a],e--};c.prototype.clear=function(a){a?this.resize(0):this.Dh(0)};c.prototype.ix=function(){this.qk=this.Pb=!0};c.prototype.Wd=function(a,b,d){b=this.o.subarray(a,b);Array.prototype.sort.call(b,d);this.o.set(b,a)};c.prototype.tJ=function(a,b){if(this.Pb)throw f.i.ga("invalid call. Attribute Stream is read only.");this.o[a]|=b};c.prototype.EE=function(a,b){if(this.Pb)throw f.i.ga("invalid call. Attribute Stream is read only.");this.o[a]&=
~b};c.prototype.Vp=function(){return 1};return c}();f.rn=l})(Y||(Y={}));(function(f){f.Zc=function(){function w(){}w.Or=function(l,c){return f.rn.rf(l,c)};w.En=function(l,c){return f.ce.rf(l,c)};w.jP=function(l,c,a){switch(l){case 1:l=f.ce.rf(c,a);break;case 2:l=f.ja.rf(c,a);break;case 4:l=f.rn.rf(c,a);break;default:throw f.i.Ra();}return l};w.SE=function(l,c){return w.jP(f.ua.Vp(l),c*f.ua.Wa(l),f.ua.te(l))};w.Qh=function(l,c){return f.ja.rf(l,c)};w.kI=function(l){var c,a=[];for(c=0;c<l;c++)a.push(null);
return a};return w}()})(Y||(Y={}));(function(f){f.ha=function(){return function(w){void 0===w&&(w=0);this.u=w}}()})(Y||(Y={}));(function(f){f.HL=function(){function w(){}w.bind=function(l){f.Tc=l.PeDefs;f.qf=l.PeFactory;f.HC=l.PeVertcs;f.gj=l.PeCSTransformations;f.GC=l.PeGTTransformations;f.FL=l.PeGeogtran;f.EL=l.PeFactoryCodechange;f.FC=l.PeGCSExtent;f.Eg=l.PePCSInfo;f.GL=l.PeHorizon;f.DL=l.PeCoordsys;f.mp=l.PeGTlistExtended;f.mp.PE_GTLIST_OPTS_USE_DEFAULT=128;f.qf.initialize(null);f.Lx=l.PeGTlistExtendedEntry;
f.qf.fromString(f.Tc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};return w}();f.qf=null;f.HC=null;f.DL=null;f.GL=null;f.Eg=null;f.mp=null;f.Lx=null;f.FC=null;f.EL=null;f.FL=null;f.Tc=null;f.GC=null;f.gj=null})(Y||(Y={}));(function(f){var w=function(){function l(){}l.Mb=function(c,a){return 0<=a?l.R(c):-l.R(c)};l.R=function(c){return 0>c?-c:c};l.vi=function(c){return 3.552713678800501E-15>c};l.EC=function(c,a,b){return l.R(c-a)<=b*(1+(l.R(c)+l.R(a))/2)};l.$=function(c,a){return l.EC(c,a,3.552713678800501E-15)};
l.zL=function(c){return 3.552713678800501E-15>=l.R(c)};l.Dd=function(c){return l.zL(c)};return l}();f.s=w;f.F=function(){function l(){}l.hp=function(c,a){c=w.R(c);a=w.R(a);var b=0;0!=c+a&&(c>a?(b=a/c,b=c*Math.sqrt(1+b*b)):(b=c/a,b=a*Math.sqrt(1+b*b)));return b};l.Yq=function(c,a,b,d,e){for(var g=[0,0,0],h=[0,0,0],k=0;2>=k;k++)a[k]-=c[k],b[k]-=a[k];b=g[1]*h[2]-g[2]*h[1];a=g[2]*h[0]-g[0]*h[2];g=g[0]*h[1]-g[1]*h[0];c=-1*(b*c[0]+a*c[1]+g*c[2]);d[0]=b;d[1]=a;d[2]=g;d[3]=c;h=l.qn(d);d[0]/=h;d[1]/=h;d[2]/=
h;d[3]/=h;0!=e&&(h=w.Dd(g)?w.Dd(c)?w.Mb(1,a):-w.Mb(1,c):w.Mb(1,g),h*=w.Mb(1,e),d[0]*=h,d[1]*=h,d[2]*=h,d[3]*=h)};l.yx=function(c,a,b){b[0]=c[1]*a[2]-a[1]*c[2];b[1]=c[2]*a[0]-a[2]*c[0];b[2]=c[0]*a[1]-a[0]*c[1]};l.Ut=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]};l.qn=function(c){return l.hp(l.hp(c[0],c[1]),c[2])};l.el=function(c,a,b,d,e,g,h,k){c=l.n(c,a,b);var m=Math.cos(b);g.u=(c+e)*m*Math.cos(d);h.u=(c+e)*m*Math.sin(d);k.u=(c*(1-a)+e)*Math.sin(b)};l.dO=function(c,a,b,d,e,g,h){var k=l.hp(a,b),
m=1*Math.sqrt(1-c),n=m/1;if(w.$(k,0))g.u=0,e.u=w.Mb(1.570796326794897,d),h.u=w.R(d)-m;else{g.u=Math.atan2(b,a);b=Math.atan2(1*d,m*k);g=Math.cos(b);var p=Math.sin(b);a=m*c/(1-c);c*=1;b=Math.atan2(d+a*p*p*p,k-c*g*g*g);3.141592653589793<w.R(b)&&(b=w.Mb(3.141592653589793,b)-b);b=Math.atan(n*Math.tan(b));p=Math.sin(b);g=Math.cos(b);e.u=Math.atan2(d+a*p*p*p,k-c*g*g*g);1.570796326794897<w.R(e.u)&&(e.u=w.Mb(3.141592653589793,e.u)-e.u);b=Math.atan(n*Math.tan(e.u));p=Math.sin(b);g=Math.cos(b);h.u=(d-m*p)*Math.sin(e.u)+
(k-1*g)*Math.cos(e.u)}};l.n=function(c,a,b){b=Math.sin(b);return c/Math.sqrt(1-a*b*b)};l.pt=function(c,a){return Math.atan2(Math.sin(a)*(1-c),Math.cos(a))};l.Sj=function(c,a){return Math.atan2(Math.sin(a),Math.cos(a)*(1-c))};l.Tq=function(c,a){if(w.vi(c)||0==a||w.$(w.R(a),1.570796326794897))return a;if(.006884661117170036>c){var b=Math.sqrt(1-c),d=(1-b)/(1+b),e=d*d,g=d*e,h=d*g,k=d*h,m=d*k,n=d*m,p=1.572916666666667*g-3.2578125*k+4.295068359375*n;c=2.142578125*h-6.071484375*m;b=3.129296875*k-11.249837239583334*
n;var q=4.775276692708333*m,r=7.958636765252976*n,v=Math.cos(2*a);return a+Math.sin(2*a)*(1.5*d-.84375*g+.525390625*k-.2688395182291667*n-p+b-r+v*(2*(1.3125*e-1.71875*h+1.650146484375*m)-4*c+6*q+v*(4*p-12*b+24*r+v*(8*c-32*q+v*(16*b-80*r+v*(32*q+64*v*r))))))}b=1-c;d=c/2;e=w.R(a);g=e*l.av(c)/(1.570796326794897*b);h=9999;m=e;for(e=0;1E-16<h&&50>e;e++)n=l.w(c,m),k=(l.eG(m,c)-d*Math.sin(2*m)/n)/b-g,n=1/(n*n*n),p=k/n,k=m-p,h=w.R(p),m=k;return 0<=a?m:-m};l.iW=function(c,a){return w.vi(a)?c:c*l.av(a)/1.570796326794897};
l.ca=function(c){c=l.jF(c,6.283185307179586);return 0>c?c+6.283185307179586:3.141592653589793>w.R(c)||w.$(w.R(c),3.141592653589793)?c:c-6.283185307179586};l.jF=function(c,a){return c-Math.floor(c/a)*a};l.Ch=function(c,a){if(.006884661117170036>a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var b=a*a,d=b*b;return c/(1+a)*(1+.25*b+.015625*d+.00390625*b*d)*1.570796326794897}return c*l.av(a)};l.Xq=function(c,a){var b=w.Mb(1,Math.sin(a));a=w.R(l.jF(a,3.141592653589793));a=1.570796326794897>=a?a:3.141592653589793-a;
return(w.$(a,1.570796326794897)?a:Math.atan(Math.sqrt(1-c)*Math.tan(a)))*b};l.q=function(c,a,b){if(.006884661117170036>a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var d=a*a,e=a*d,g=a*e,h=a*g,k=a*h,m=a*k,n=-.7291666666666666*e+.2278645833333333*h+.03987630208333334*m,p=.615234375*g-.21533203125*k,q=-.54140625*h+.20302734375*m,r=.48876953125*k,v=-.4488699776785715*m,G=Math.cos(2*b);return c/(1+a)*((1+.25*d+.015625*g+.00390625*k)*b+Math.sin(2*b)*(-1.5*a+.1875*e+.0234375*h+.00732421875*m-n+q-v+G*(2*(.9375*d-.234375*
g-.03662109375*k)-4*p+6*r+G*(4*n-12*q+24*v+G*(8*p-32*r+G*(16*q-80*v+G*(32*r+64*G*v)))))))}return c*(l.eG(b,a)-.5*a*Math.sin(2*b)/l.w(a,b))};l.w=function(c,a){a=Math.sin(a);return Math.sqrt(1-c*a*a)};l.av=function(c){return w.EC(c,1,2.220446049250313E-16)?1:1>c?l.Zw(0,1-c)-c/3*l.Ww(0,1-c):NaN};l.eG=function(c,a){var b=w.Mb(1,c);c=w.R(c);var d=Math.floor(c/1.570796326794897);if(1<a)a=0==c?0:NaN;else if(w.Dd(d))c=l.sin(c),a=c*l.Zw(1-c*c,1-a*c*c)-a/3*c*c*c*l.Ww(1-c*c,1-a*c*c);else{var e=f.P.truncate(d%
2),g=l.av(a);0<e?(c=Math.sin(1.570796326794897*(d+1)-c),a=c*l.Zw(1-c*c,1-a*c*c)-a/3*c*c*c*l.Ww(1-c*c,1-a*c*c),a=g*(d+1)-a):(c=Math.sin(c-1.570796326794897*d),a=c*l.Zw(1-c*c,1-a*c*c)-a/3*c*c*c*l.Ww(1-c*c,1-a*c*c),a=g*d+a)}return a*b};l.sin=function(c){c=l.ca(c);var a=w.Mb(1,c);c=w.R(c);return w.$(c,3.141592653589793)?0:w.$(c,1.570796326794897)?1*a:Math.sin(c)*a};l.Ww=function(c,a){var b=c,d=a,e=1;a=0;c=1;for(var g,h,k,m;;){g=.2*(b+d+3*e);h=(g-b)/g;k=(g-d)/g;m=(g-e)/g;if(1E-4>w.R(h)&&1E-4>w.R(k)&&1E-4>
w.R(m))break;m=Math.sqrt(d);g=Math.sqrt(e);m=Math.sqrt(b)*(m+g)+m*g;a+=c/(g*(e+m));c*=.25;b=.25*(b+m);d=.25*(d+m);e=.25*(e+m)}b=h*k;e=m*m;d=b-e;e=b-6*e;h=e+d+d;return 3*a+c*(1+e*(-.2142857142857143+.10227272727272728*e-.1730769230769231*m*h)+m*(.1666666666666667*h+m*(-.4090909090909091*d+.1153846153846154*m*b)))/(g*Math.sqrt(g))};l.Zw=function(c,a){for(var b,d,e,g,h=1;;h=.25*(h+b)){b=(c+a+h)/3;d=2-(b+c)/b;e=2-(b+a)/b;g=2-(b+h)/b;if(1E-4>w.R(d)&&1E-4>w.R(e)&&1E-4>w.R(g))break;b=Math.sqrt(a);d=Math.sqrt(h);
b=Math.sqrt(c)*(b+d)+b*d;c=.25*(c+b);a=.25*(a+b)}c=d*e-g*g;a=d*e*g;return(1+(.04166666666666666*c-.1-.06818181818181818*a)*c+.07142857142857142*a)/Math.sqrt(b)};l.Sw=function(c,a){if(w.vi(c)||0==a||w.$(w.R(a),1.570796326794897))return a;if(.006884661117170036>c){var b=c*c,d=c*b,e=c*d,g=c*e,h=c*g,k=c*h,m=-(.02708333333333333*d+.03430059523809524*e+.03149181547619048*g+.02634359154541446*h+.02156896735835538*k),n=.007669890873015873*e+.01299603174603175*g+.0148051353064374*h+.01454454953803912*k,p=
-(.002275545634920635*g+.004830845032667949*h+.006558395368616723*k),q=6.957236677288761E-4*h+.001775193002406544*k,r=-(2.17324089394402E-4*k),v=Math.cos(2*a);return a+Math.sin(2*a)*(-(.5*c+.2083333333333333*b+.09375*d+.04878472222222222*e+.02916666666666667*g+.01938905423280423*h+.01388255931712963*k)-m+p-r+v*(2*(.1041666666666667*b+.0875*d+.06050347222222222*e+.04151785714285714*g+.02958958540013228*h+.02203667534722222*k)-4*n+6*q+v*(4*m-12*p+24*r+v*(8*n-32*q+v*(16*p-80*r+v*(32*q+64*v*r))))))}0==
a||w.$(w.R(a),1.570796326794897)?b=a:(d=Math.sqrt(c),e=d*Math.sin(a),b=Math.tan(.7853981633974483+a/2)*Math.pow((1-e)/(1+e),d/2),b=2*Math.atan(b)-1.570796326794897);return b};l.sO=function(c,a){if(w.vi(c)||0==a||w.$(w.R(a),1.570796326794897))return a;if(.006884661117170036>c){v=c*c;p=c*v;q=c*p;var b=c*q;r=c*b;var d=c*r,e=.05833333333333333*p+.07232142857142858*q+.05634300595238095*b+.0355325796406526*r+.020235546186067*d,g=.02653149801587302*q+.04379960317460317*b+.0429211791776896*r+.03255384637546096*
d,h=.01294022817460318*b+.02668104344536636*r+.03155651254609588*d,k=.00659454790965208*r+.0163075268674227*d,m=.003463473736911237*d,n=Math.cos(2*a);return a+Math.sin(2*a)*(.5*c+.2083333333333333*v+.08333333333333333*p+.03611111111111111*q+.01875*b+.01195601851851852*r+.008863673941798942*d-e+h-m+n*(2*(.1458333333333333*v+.1208333333333333*p+.07039930555555556*q+.03616071428571429*b+.01839451058201058*r+.01017113095238095*d)-4*g+6*k+n*(4*e-12*h+24*m+n*(8*g-32*k+n*(16*h-80*m+n*(32*k+64*n*m))))))}var p=
Math.sqrt(c),q=p/2,r=Math.tan(.7853981633974483+a/2);c=0;e=1;for(var v=a;0!=e;v=d)if(b=p*Math.sin(v),d=r*Math.pow((1+b)/(1-b),q),d=2*Math.atan(d)-1.570796326794897,c++,w.$(d,v)||3E4<c)e=0;return v};return l}()})(Y||(Y={}));(function(f){var w=function(){function l(c){this.wl=this.Ws=null;this.Kv=!1;this.AA=this.BA=0;this.BH=new f.h;this.RH=new f.h;this.EA=!1;this.xq=new f.l;this.qH=this.uw=0;this.vw=null;this.Bl=!1;this.Fo=null;this.Xz=0;this.Re=c;this.Cs=f.Ab.zv(this.Re,0,!0);this.BH.Sc();this.RH.Sc();
this.LH=NaN;var a=c.getCode();0<a?(this.Lk=a,f.qf.getCode(c)):this.Lk=f.qf.getCode(c);0>this.Lk&&(this.Lk=0);var b=this.Re.getType();this.dH=b==f.Tc.PE_TYPE_PROJCS?2:1;if(b==f.Tc.PE_TYPE_PROJCS&&!c.loadConstants())throw f.i.O("PeProjcs.loadConstants failed");a=b==f.Tc.PE_TYPE_GEOGCS?this.Re:this.Re.getGeogcs();b!=f.Tc.PE_TYPE_GEOGCS&&f.qf.getCode(a);this.Fo=c.getUnit();this.LH=a.getPrimem().getLongitude();this.qH=c=a.getUnit().getUnitFactor();c=Math.PI/(180*c);1E-10>Math.abs(c-1)&&(c=1);this.AA=c;
0!=(b&f.Tc.PE_TYPE_PROJCS)?(a=this.Re,this.BA=1/a.getUnit().getUnitFactor(),this.uw=.001/this.Re.getUnit().getUnitFactor(),this.vw=f.Eg.generate(a,f.Eg.PE_PCSINFO_OPTION_NONE),this.Bl=this.vw.isPannableRectangle(),this.Xz=f.Ab.kN(this.vw.getCentralMeridian(),this.AA)):(this.EA=this.Bl=!0,this.BA=0,b=1/a.getUnit().getUnitFactor(),this.uw=.001/a.getDatum().getSpheroid().getAxis()*b,this.Xz=0);this.Bl&&(this.wx(),this.xK(),this.fY(),this.wK(),this.dY(),this.eY())}l.prototype.cs=function(){return this.Lk};
l.prototype.lk=function(){return this.vw};l.Ky=function(c,a){return c==a?!0:null!=c&&null!=a&&0==c.Lk&&0==a.Lk?c.Cs===a.Cs:!1};l.prototype.Xc=function(){return this.Bl};l.prototype.ih=function(c){c.L(this.to)};l.prototype.rv=function(){return this.to.v};l.prototype.qv=function(){return this.to.C};l.prototype.AR=function(c){c.L(this.ww)};l.prototype.dY=function(){var c=this.Re.getType();if(c==f.Tc.PE_TYPE_PROJCS){c=this.Re;var a=this.lk().getCentralMeridian(),b=c.getGeogcs();if(null==b)throw f.i.ga("internal error");
b=1/b.getUnit().getUnitFactor()*Math.PI;a=[[a+b,0]];f.gj.geogToProj(c,1,a);a=a[0][0];b=c.getParameters()[f.Tc.PE_PARM_X0].getValue();var d=this.ol();c=new f.l;d.A(c);d=Math.abs(a-b);a=d+b;b=-1*d+b;d=c.H;c=c.G;var e=new f.l;e.L(b,c,a,d);null==this.to&&(this.to=e)}else if(c==f.Tc.PE_TYPE_GEOGCS)b=1/this.Re.getUnit().getUnitFactor()*Math.PI,c=new f.l,c.L(-b,-b/2,b,b/2),null==this.to&&(this.to=c);else throw f.i.ga("internal error");};l.prototype.eY=function(){var c=this.Re.getType();if(c==f.Tc.PE_TYPE_PROJCS){var a=
this.Re;c=this.lk().getCentralMeridian();a=a.getGeogcs();if(null==a)throw f.i.ga("internal error");a=1/a.getUnit().getUnitFactor()*Math.PI;var b=this.Xr(),d=new f.l;b.A(d);b=new f.l;b.L(c-a,d.G,c+a,d.H);null==this.ww&&(this.ww=b)}else if(c==f.Tc.PE_TYPE_GEOGCS)a=1/this.Re.getUnit().getUnitFactor()*Math.PI,c=new f.l,c.L(-a,-a/2,a,a/2),null==this.ww&&(this.ww=c);else throw f.i.ga("internal error");};l.prototype.bf=function(){return this.AA};l.prototype.rm=function(){return this.BA};l.prototype.Xr=function(){if(this.Bl)return this.wl;
var c=this.wl;if(null!=c)return c;this.wx();return this.wl};l.prototype.Yr=function(){if(this.Bl)return null;if(null!=this.wl)return this.SG;this.wx();return this.SG};l.prototype.wx=function(){if(this.Re.getType()==f.Tc.PE_TYPE_PROJCS){var c=this.Re,a=c.getGeogcs(),b=c.horizonGcsGenerate();if(null!=b){var d=b[0].getNump(),e=b[0].getKind();c=0<b[0].getInclusive();var g=this.bf(),h=90*g,k=360*g,m=370*g,n=180*g*f.Tc.PE_HORIZON_DELTA/Math.PI,p=new f.l,q=null;if(1<d)for(var r=1;r<d;r++)if(b[r].getKind()==
f.Tc.PE_HORIZON_LINE){null==q&&(q=new f.Ua);var v=b[r].getCoord();q.rx(v[0][0],v[0][1]);q.Aj(v[1][0],v[1][1])}if(e==f.Tc.PE_HORIZON_RECT)b=b[0].getCoord(),p.L(b[0][0],b[0][1]),p.$b(b[1][0],b[1][1]),Math.abs(p.H-h)<1E-7*n&&(p.H=h),Math.abs(p.G+h)<1E-7*n&&(p.G=-h),p.S()>m&&(b=-400*g,p.L(b,p.G,b+5*k,p.H)),b=new f.Hh(p),null==this.wl&&(this.wl=b,this.Kv=c);else{m=new f.Ea;k=this.lk().isGcsHorizonMultiOverlap();p=f.iu.WE(a,f.ju.Integer64);if(k){m=new f.aL;n=f.Ih.local().W(m,p,null);for(r=0;r<d;r++)if(b[r].getKind()==
f.Tc.PE_HORIZON_POLY){a=b[r].getSize();g=b[r].getCoord();e=[];for(h=0;h<a;h++)e[h]=f.h.construct(g[h][0],g[h][1]);b[r].getInclusive();k&&(g=new f.Ea,g.$k(e,a-1),m.RX(g),n.qe())}m=n.next()}else for(r=0;r<d;r++)if(b[r].getKind()==f.Tc.PE_HORIZON_POLY){a=b[r].getSize();g=b[r].getCoord();k=[];for(h=0;h<a;h++)k[h]=f.h.construct(g[h][0],g[h][1]);b[r].getInclusive();m.$k(k,a-1)}c?f.Xk.local().xn(m,p,1):f.lp.local().xn(m,p,1);f.fj.local().xn(m,p,1);null==this.wl&&(this.wl=m,this.Kv=c,this.SG=q)}}}};l.prototype.kv=
function(){if(this.Bl)return this.Kv;null==this.wl&&this.wx();return this.Kv};l.prototype.xK=function(){if(2==this.dH){var c=this.Re.horizonPcsGenerate();if(null!=c){var a=c[0].getKind();c[0].getInclusive();var b=c[0].getNump(),d=!1;if(a==f.Tc.PE_HORIZON_RECT)c=c[0].getCoord(),b=new f.l,b.L(c[0][0],c[0][1]),b.$b(c[1][0],c[1][1]),c=new f.Hh(b);else{a=-1;for(d=0;d<b;d++)c[d].getKind()==f.Tc.PE_HORIZON_POLY&&(a=d);d=c[a].getSize()-1;c=c[a].getCoord();b=[];for(a=0;a<d;a++)b[a]=f.h.construct(c[a][0],c[a][1]);
c=a=new f.Ea;a.$k(b,d);d=!0}this.lk().isDensificationNeeded()&&(b=1E5*this.rm(),c=f.Zl.local().W(c,b,null));d&&(d=new f.Hh,c.dn(d),c.He(),c.Rb(),c.jR(),f.Xk.local().xn(c,null,1));null==this.Ws&&(this.Ws=c)}}};l.prototype.ol=function(){if(this.Bl)return this.Ws;var c=this.Ws;if(null!=c)return c;this.xK();return this.Ws};l.prototype.fY=function(){if(this.Re.getType()==f.Tc.PE_TYPE_PROJCS){var c=90*this.bf();c=[[0,c],[0,-c]];f.gj.geogToProj(this.Re,2,c);var a=this.lk(),b=a.getNorthPoleLocation()!=f.Eg.PE_POLE_OUTSIDE_BOUNDARY;
a=a.getSouthPoleLocation()!=f.Eg.PE_POLE_OUTSIDE_BOUNDARY;this.EA||(b&&this.BH.na(c[0][0],c[0][1]),a&&this.RH.na(c[1][0],c[1][1]))}this.EA=!0};l.prototype.wK=function(){if(1==this.dH){var c=400*this.bf();this.xq.L(-c,-c,c,c)}else c=f.Eg.generate(this.Re,f.Eg.PE_PCSINFO_OPTION_DOMAIN),c=f.l.construct(c.getDomainMinx(),c.getDomainMiny(),c.getDomainMaxx(),c.getDomainMaxy()),this.xq.B()&&this.xq.L(c)};l.prototype.bR=function(c){this.Bl&&c.L(this.xq);this.xq.B()&&this.wK();c.L(this.xq)};l.prototype.Wp=
function(){return this.LH};l.prototype.Bi=function(){return this.Xz};l.prototype.Id=function(){return this.Fo};l.prototype.Zr=function(){return this.qH};return l}();f.IC=w})(Y||(Y={}));(function(f){var w=function(){function l(c){this.CT=c;this.Cs=f.Ab.zv(c,0,!0);var a=c.getCode();this.us=0<a?a:f.qf.getCode(c);0>this.us&&(this.us=0);this.Fo=a=this.CT.getUnit();this.CH=1/a.getUnitFactor();f.qf.getCode(c)}l.Ky=function(c,a){return c==a?!0:null!=c&&null!=a&&0==c.us&&0==a.us?c.Cs===a.Cs:!1};l.prototype.cs=
function(){return this.us};return l}();f.JL=w})(Y||(Y={}));(function(f){f.$g=function(){function w(){}w.ub=function(l,c,a,b,d,e,g,h){if(null!=e||null!=g||null!=h){b=f.F.ca(b);c=f.F.ca(c);a=f.F.ca(a);d=f.F.ca(d);1.570796326794897<f.s.R(a)&&(a=f.s.Mb(3.141592653589793,a)-a,c=f.F.ca(c+3.141592653589793));1.570796326794897<f.s.R(d)&&(d=f.s.Mb(3.141592653589793,d)-d,b=f.F.ca(b+3.141592653589793));var k=f.F.ca(b-c);if(f.s.$(a,d)&&(f.s.$(c,b)||f.s.$(f.s.R(a),1.570796326794897)))null!=e&&(e.u=0),null!=g&&
(g.u=0),null!=h&&(h.u=0);else{if(f.s.$(a,-d)){if(f.s.$(f.s.R(a),1.570796326794897)){null!=e&&(e.u=3.141592653589793*l);null!=g&&(g.u=0<a?f.F.ca(3.141592653589793-f.F.ca(b)):f.F.ca(b));null!=h&&(h.u=0<a?f.F.ca(b):f.F.ca(3.141592653589793-f.F.ca(b)));return}if(f.s.$(f.s.R(k),3.141592653589793)){null!=e&&(e.u=3.141592653589793*l);null!=g&&(g.u=0);null!=h&&(h.u=0);return}}var m=1.570796326794897==f.s.R(a)?0:Math.cos(a),n=Math.sin(a),p=1.570796326794897==f.s.R(d)?0:Math.cos(d),q=Math.sin(d),r=1.570796326794897==
f.s.R(k)?0:Math.cos(k),v=3.141592653589793==f.s.R(k)?0:Math.sin(k);if(null!=e){var G=Math.sin((d-a)/2);k=Math.sin(k/2);e.u=2*Math.asin(Math.sqrt(G*G+m*p*k*k))*l}null!=g&&(g.u=f.s.$(f.s.R(a),1.570796326794897)?0>a?b:f.F.ca(3.141592653589793-b):Math.atan2(p*v,m*q-n*p*r));null!=h&&(f.s.$(f.s.R(d),1.570796326794897)?h.u=0>d?c:f.F.ca(3.141592653589793-c):(h.u=Math.atan2(m*v,q*m*r-p*n),h.u=f.F.ca(h.u+3.141592653589793)))}}};w.sf=function(l,c,a,b,d,e,g){if(null!=e||null!=g){c=f.F.ca(c);a=f.F.ca(a);1.570796326794897<
f.s.R(a)&&(a=f.s.Mb(3.141592653589793,a)-a,c=f.F.ca(c+3.141592653589793));f.s.$(f.s.R(a),1.570796326794897)&&(c=0);d=f.F.ca(d);var h=f.s.$(f.s.R(d),1.570796326794897)?0:Math.cos(d),k=f.s.$(f.s.R(d),3.141592653589793)?0:Math.sin(d),m=f.s.$(f.s.R(a),1.570796326794897)?0:Math.cos(a),n=Math.sin(a);l=b/l;b=f.s.$(f.s.R(l),1.570796326794897)?0:Math.cos(l);var p=f.s.$(f.s.R(l),3.141592653589793)?0:Math.sin(l),q=Math.asin(n*b+m*p*h);null!=g&&(g.u=q);null!=e&&(e.u=f.s.$(f.s.R(q),1.570796326794897)?f.s.$(a,
-q)?0>q?d:f.F.ca(3.141592653589793-d):c:f.s.$(f.s.R(a),1.570796326794897)&&f.s.$(l,3.141592653589793)?0>a?d:f.F.ca(3.141592653589793-d):f.F.ca(c+Math.atan2(p*k,m*b-n*p*h)))}};return w}()})(Y||(Y={}));(function(f){f.Yk=function(){function w(){}w.ub=function(l,c,a,b,d,e,g,h,k){var m=new f.ha(0),n=new f.ha(0),p=[0,0,0],q=[0,0,0],r=[0,0,0],v=new f.ha(0),G=new f.ha(0),S=new f.ha(0),X=new f.ha(0),V=new f.ha(0);if(null!=g||null!=h||null!=k)if(f.s.vi(c))f.$g.ub(l,a,b,d,e,g,h,k);else{d=f.F.ca(d);a=f.F.ca(a);
var Z=f.F.ca(d-a);if(f.s.$(b,e)&&(f.s.$(a,d)||f.s.$(f.s.R(b),1.570796326794897)))null!=g&&(g.u=0),null!=h&&(h.u=0),null!=k&&(k.u=0);else{if(f.s.$(b,-e)){if(f.s.$(f.s.R(b),1.570796326794897)){null!=g&&(g.u=2*f.F.Ch(l,c));null!=h&&(h.u=0<b?f.F.ca(3.141592653589793-f.F.ca(d)):f.F.ca(d));null!=k&&(k.u=0<b?f.F.ca(d):f.F.ca(3.141592653589793-f.F.ca(d)));return}f.s.$(f.s.R(Z),3.141592653589793)&&(null!=g&&(g.u=2*f.F.Ch(l,c)),null!=h&&(h.u=0),null!=k&&(k.u=0))}else if(f.s.$(f.s.R(b),1.570796326794897)||f.s.$(f.s.R(e),
1.570796326794897))f.s.$(f.s.R(b),1.570796326794897)?a=d:d=a;var ia=0;if(0>Z){ia=1;var ja=a;a=d;d=ja;ja=b;b=e;e=ja}Z=f.F.pt(c,b);var ma=f.F.pt(c,e);if(null!=h||null!=k)f.$g.ub(l,a,Z,d,ma,null,m,n),m=Math.atan2(Math.sin(m.u)*Math.cos(b-Z),Math.cos(m.u)),n=Math.atan2(Math.sin(n.u)*Math.cos(e-ma),Math.cos(n.u)),0!=ia&&(ja=m,m=n,n=ja),null!=h&&(h.u=m),null!=k&&(k.u=n);null!=g&&(f.F.el(1,c,b,a,0,S,X,V),p[0]=S.u,p[1]=X.u,p[2]=V.u,f.F.el(1,c,e,d,0,S,X,V),q[0]=S.u,q[1]=X.u,q[2]=V.u,r[0]=p[1]*q[2]-q[1]*p[2],
r[1]=-(p[0]*q[2]-q[0]*p[2]),r[2]=p[0]*q[1]-q[0]*p[1],c=1-f.F.w(c,f.F.Xq(c,f.F.Sj(c,Math.acos(r[2]/Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]))))),c*=2-c,h=Math.atan2(-r[1],-r[0]),r=f.F.ca(h-1.570796326794897),h=f.F.ca(h+1.570796326794897),r=f.s.R(f.F.ca(a-r))<=f.s.R(f.F.ca(a-h))?r:h,f.$g.ub(1,r,0,a,Z,v,null,null),f.$g.ub(1,r,0,d,ma,G,null,null),3.141592653589793<v.u+G.u&&(r=f.F.ca(r+3.141592653589793),f.$g.ub(1,r,0,a,Z,v,null,null),f.$g.ub(1,r,0,d,ma,G,null,null)),v.u*=f.s.Mb(1,b),G.u*=f.s.Mb(1,e),v.u=
f.F.Sj(c,v.u),G.u=f.F.Sj(c,G.u),a=f.F.q(l,c,v.u),l=f.F.q(l,c,G.u),g.u=f.s.R(l-a))}}};w.sf=function(l,c,a,b,d,e,g,h){var k=0,m=new f.ha(0),n=new f.ha(0),p=[0,0,0],q=[0,0,0],r=new f.ha(0),v=new f.ha(0),G=new f.ha(0);if(null!=g||null!=h)if(f.s.vi(c))f.$g.sf(l,a,b,d,e,g,h);else if(f.s.Dd(d))null!=g&&(g.u=a),null!=h&&(h.u=b);else if(e=f.F.ca(e),0>d&&(d=f.s.R(d),e=f.F.ca(e+3.141592653589793)),a=f.F.ca(a),b=f.F.ca(b),1.570796326794897<f.s.R(b)&&(a=f.F.ca(a+3.141592653589793),b=f.s.Mb(3.141592653589793,b)-
b),f.s.$(f.s.R(b),1.570796326794897)&&(a=0),f.s.Dd(b)){var S=f.s.R(1.570796326794897-f.s.R(e));S=f.F.Sj(c,S);S=1-f.F.w(c,f.F.Xq(c,S));S*=2-S;l=d/f.F.Ch(l,S)*1.570796326794897;l=f.F.Tq(S,l);l=f.F.pt(S,l);f.$g.sf(1,a,b,l,e,g,m);null!=h&&(k=m.u);null!=h&&(h.u=f.F.Sj(c,k))}else if(f.s.$(f.s.R(b),1.570796326794897))k=f.F.Ch(l,c),m=2*k,l=f.s.Mb(1.570796326794897,b),e=0<l?f.F.ca(3.141592653589793-e):e,b=k-d,f.s.R(b)<=k?null!=g&&(g.u=e):(b=Math.floor(d/m),0==f.P.truncate(b%2)?(null!=g&&(g.u=e),d-=b*m):(null!=
g&&(g.u=f.F.ca(e+3.141592653589793)),d=(b+1)*m-d),b=k-d),null!=h&&(h.u=f.F.Tq(c,b/k*l));else{S=f.F.pt(c,b);e=Math.atan2(Math.sin(e),Math.cos(e)*Math.cos(b-S));var X=f.P.truncate(f.s.Mb(1,S))*(1.570796326794897>=f.s.R(e)?1:-1);e=f.F.ca(a+Math.atan(Math.tan(e)*-Math.sin(S)));f.$g.ub(l,e,0,a,S,null,n,null);S=f.s.R(1.570796326794897-f.s.R(n.u));S=f.F.Sj(c,S);S=1-f.F.w(c,f.F.Xq(c,S));S*=2-S;f.F.el(1,c,0,e,0,r,v,G);p[0]=r.u;p[1]=v.u;p[2]=G.u;f.F.el(1,c,b,a,0,r,v,G);q[0]=r.u;q[1]=v.u;q[2]=G.u;b=Math.acos((p[0]*
q[0]+p[1]*q[1]+p[2]*q[2])/Math.sqrt(q[0]*q[0]+q[1]*q[1]+q[2]*q[2]));b=f.F.Sj(S,b);b=f.F.q(l,S,b)+d*X;d=0<b?n.u:f.F.ca(n.u+3.141592653589793);l=f.s.R(b)/f.F.Ch(l,S)*1.570796326794897;l=f.F.Tq(S,l);l=f.F.pt(S,l);f.$g.sf(1,e,0,l,d,g,m);null!=h&&(k=m.u);null!=h&&(h.u=f.F.Sj(c,k))}};return w}()})(Y||(Y={}));(function(f){f.eu=function(){function w(){}w.ub=function(l,c,a,b,d,e,g,h,k){var m=0,n=0,p=0;if(null!=g||null!=h||null!=k)if(f.s.vi(c))f.$g.ub(l,a,b,d,e,g,h,k);else{var q=f.F.ca(d-a);if(f.s.$(b,e)&&
(f.s.Dd(q)||f.s.$(f.s.R(b),1.570796326794897)))null!=g&&(g.u=0),null!=h&&(h.u=0),null!=k&&(k.u=0);else{if(f.s.$(b,-e)){if(f.s.$(f.s.R(b),1.570796326794897)){null!=g&&(g.u=2*f.F.Ch(l,c));null!=h&&(h.u=0<b?f.F.ca(3.141592653589793-f.F.ca(d)):f.F.ca(d));null!=k&&(k.u=0<b?f.F.ca(d):f.F.ca(3.141592653589793-f.F.ca(d)));return}f.s.$(f.s.R(q),3.141592653589793)&&(null!=g&&(g.u=2*f.F.Ch(l,c)),null!=h&&(h.u=0),null!=k&&(k.u=0))}else{if(f.s.$(f.s.R(b),1.570796326794897)||f.s.$(f.s.R(e),1.570796326794897)){f.Yk.ub(l,
c,a,b,d,e,g,h,k);return}if(f.s.Dd(q)||f.s.$(f.s.R(q),3.141592653589793)){f.Yk.ub(l,c,a,b,d,e,g,h,k);return}}var r=1-Math.sqrt(1-c),v=c/(1-c),G=l*(1-r);l=f.F.Xq(c,b);var S=f.F.Xq(c,e);c=1.570796326794897==f.s.R(l)?0:Math.cos(l);var X=Math.sin(l),V=1.570796326794897==f.s.R(S)?0:Math.cos(S),Z=Math.sin(S),ia=q,ja=Math.cos(ia),ma=Math.sin(ia),sa=1,va=0;do{var Aa=ia,za=Math.sqrt(Math.pow(V*ma,2)+Math.pow(c*Z-X*V*ja,2)),Oa=X*Z+c*V*ja,Ma=Math.atan2(za,Oa);if(0==za){sa=0;break}var Sa=c*V*ma/za;m=Math.cos(Math.asin(Sa));
m*=m;n=Oa-2*X*Z/m;1<f.s.R(n)&&(n=f.s.Mb(1,n));p=n*n;ia=r/16*m*(4+r*(4-3*m));ia=q+(1-ia)*r*Sa*(Ma+ia*za*(n+ia*Oa*(2*p-1)));ja=Math.cos(ia);ma=Math.sin(ia);va++;if(3.141592653589793<f.s.R(ia)&&30<va){sa=0;break}}while(5E3>=va&&!f.s.$(Aa,ia));if(0!=sa)v*=m,r=v*(256+v*(-128+v*(74-47*v)))/1024,null!=g&&(g.u=G*(1+v*(4096+v*(-768+v*(320-175*v)))/16384)*(Ma-r*za*(n+r/4*(Oa*(2*p-1)-r/6*n*(4*za*za-3)*(4*p-3))))),null!=h&&(h.u=f.s.$(f.s.R(b),1.570796326794897)?0>b?d:f.F.ca(3.141592653589793-d):Math.atan2(V*
ma,c*Z-X*V*ja)),null!=k&&(f.s.$(f.s.R(e),1.570796326794897)?k.u=0>e?a:f.F.ca(3.141592653589793-a):(k.u=Math.atan2(c*ma,c*Z*ja-X*V),k.u=f.F.ca(k.u+3.141592653589793)));else{ia=f.s.Mb(3.141592653589793,q);Oa=X*Z-c*V;Ma=Math.acos(Oa);za=Math.sin(Ma);m=1;va=Sa=0;do p=Sa,m*=m,ja=m*m,Sa=r*m*(1+r+r*r),n=r*r*ja*(1+2.25*r),sa=r*r*r*ja*m,ja=1-.25*Sa+.1875*n-.1953125*sa,Sa=.25*Sa-.25*n+.29296875*sa,ma=.03125*n-.05859375*sa,sa*=.00651041666666667,n=Oa-2*X*Z/m,1<f.s.R(n)&&(n=f.s.Mb(1,n)),m=Math.acos(n),Oa=Math.cos(2*
m),Aa=Math.cos(3*m),Sa=f.s.$(b,-e)?f.F.ca(3.141592653589793-q)/(3.141592653589793*r*ja):f.F.ca(ia-q)/(r*(ja*Ma+Sa*za*n+ma*Math.sin(2*Ma)*Oa+sa*Math.sin(3*Ma)*Aa)),ma=Sa*za/(c*V),ia=1.570796326794897<f.s.R(q)?f.s.Mb(3.141592653589793,ma)-Math.asin(ma):Math.asin(ma),ja=Math.cos(ia),za=Math.sqrt(Math.pow(V*ma,2)+Math.pow(c*Z-X*V*ja,2)),Ma=3.141592653589793-Math.asin(f.s.R(za)),Oa=Math.cos(Ma),m=Math.cos(Math.asin(Sa)),va++;while(70>=va&&!f.s.$(p,Sa));null!=g&&(m*=m,v*=m,ja=1+v*(4096+v*(-768+v*(320-175*
v)))/16384,f.s.$(b,-e)?g.u=3.141592653589793*G*ja:(n=Oa-2*X*Z/m,m=Math.acos(n),Oa=Math.cos(2*m),Aa=Math.cos(3*m),g.u=G*(ja*Ma+v*(-512+v*(128+v*(-60+35*v)))/2048*za*n+v*(-4+5*v)/6144*v*v*Math.sin(2*Ma)*Oa+sa*Math.sin(3*Ma)*Aa+-7.62939453125E-5*v*v*v*v*Math.sin(4*Ma)*Math.cos(4*m))));null!=h&&(f.s.Dd(b)&&f.s.Dd(e)?(m=Math.sqrt(1-Sa*Sa),h.u=Math.acos(m),0>q&&(h.u*=-1)):f.s.$(f.s.R(b),1.570796326794897)?h.u=0>b?d:f.F.ca(3.141592653589793-d):(g=Sa/c,G=Math.sqrt(1-g*g),0>c*Z-X*V*Math.cos(ia)&&(G*=-1),h.u=
Math.atan2(g,G),f.s.$(b,-e)&&f.s.R(f.F.ca(a-d))>3.141592653589793*(1-r*Math.cos(b))&&(0<b&&1.570796326794897>f.s.R(h.u)||0>b&&1.570796326794897<f.s.R(h.u))&&(h.u=f.s.Mb(3.141592653589793,h.u)-h.u)));if(null!=k)if(f.s.Dd(b)&&f.s.Dd(e))m=Math.sqrt(1-Sa*Sa),k.u=Math.acos(m),0<=q&&(k.u*=-1);else if(f.s.$(f.s.R(e),1.570796326794897))k.u=0>e?a:f.F.ca(3.141592653589793-a);else if(q=Sa/V,g=Math.sqrt(1-q*q),G=Math.sin(ia/2),0>Math.sin(S-l)-2*c*Z*G*G&&(g*=-1),k.u=Math.atan2(q,g),k.u=f.F.ca(k.u+3.141592653589793),
f.s.$(b,-e)&&!f.s.Dd(b)&&!f.s.$(f.s.R(b),1.570796326794897)&&f.s.R(f.F.ca(a-d))>3.141592653589793*(1-r*Math.cos(b))&&(null!=h?G=h.u:(g=Sa/c,G=Math.sqrt(1-g*g),0>c*Z-X*V*Math.cos(ia)&&(G*=-1),G=Math.atan2(g,G),f.s.$(b,-e)&&f.s.R(f.F.ca(a-d))>3.141592653589793*(1-r*Math.cos(b))&&(0<b&&1.570796326794897>f.s.R(G)||0>b&&1.570796326794897<f.s.R(G))&&(G=f.s.Mb(3.141592653589793,G)-G)),1.570796326794897>=f.s.R(G)&&1.570796326794897<f.s.R(k.u)||1.570796326794897<=f.s.R(G)&&1.570796326794897>f.s.R(k.u)))k.u=
-1*f.F.ca(k.u+3.141592653589793)}}}};w.sf=function(l,c,a,b,d,e,g,h){if(null!=g||null!=h)if(f.s.vi(c))f.$g.sf(l,a,b,d,e,g,h);else if(e=f.F.ca(e),f.s.$(f.s.R(b),1.570796326794897)||f.s.Dd(e)||f.s.$(f.s.R(e),3.141592653589793))f.Yk.sf(l,c,a,b,d,e,g,h);else{var k=1.570796326794897==f.s.R(e)?0:Math.cos(e),m=3.141592653589793==f.s.R(e)?0:Math.sin(e);f.s.$(f.s.R(b),1.570796326794897)&&(a=0);e=1-Math.sqrt(1-c);var n=f.F.Xq(c,b);b=1.570796326794897==f.s.R(n)?0:Math.cos(n);var p=Math.sin(n);n=Math.atan2(Math.tan(n),
k);var q=b*m,r=q*q,v=1-r,G=c/(1-c)*v;c=G*(256+G*(-128+G*(74-47*G)))/1024;var S=c/4,X=c/6,V=d/(l*(1-e)*(1+G*(4096+G*(-768+G*(320-175*G)))/16384)),Z=V;do{var ia=Z;d=1.570796326794897==f.s.R(Z)?0:Math.cos(Z);G=3.141592653589793==f.s.R(Z)?0:Math.sin(Z);var ja=G*G;l=Math.cos(2*n+Z);Z=l*l;Z=c*G*(l+S*(d*(2*Z-1)-X*l*(4*ja-3)*(4*Z-3)))+V}while(!f.s.$(ia,Z));d=1.570796326794897==f.s.R(Z)?0:Math.cos(Z);G=3.141592653589793==f.s.R(Z)?0:Math.sin(Z);null!=g&&(m=Math.atan2(G*m,b*d-p*G*k),v=e/16*v*(4+e*(4-3*v)),l=
Math.cos(2*n+Z),g.u=f.F.ca(a+(m-(1-v)*e*q*(Z+v*G*(l+v*d*(2*l*l-1))))));null!=h&&(v=p*G-b*d*k,v=(1-e)*Math.sqrt(r+v*v),h.u=Math.atan2(p*d+b*G*k,v))}};return w}()})(Y||(Y={}));(function(f){f.JC=function(){function w(){}w.ub=function(l,c,a,b,d,e,g,h,k){var m=f.F.ca(d-a),n=f.s.$(f.s.R(b),1.570796326794897),p=f.s.$(f.s.R(e),1.570796326794897);if(f.s.$(b,e)&&(f.s.Dd(m)||n))null!=g&&(g.u=0),null!=h&&(h.u=0),null!=k&&(k.u=0);else{if(f.s.vi(c)){var q=Math.sin(b),r=Math.sin(e);q=Math.sqrt((1+q)/(1-q));r=Math.sqrt((1+
r)/(1-r));q=Math.log(r)-Math.log(q);q=Math.atan2(m,q);null!=g&&(g.u=f.s.$(b,e)?f.s.R(l*Math.cos(b)*m):f.s.R((l*e-l*b)/Math.cos(q)))}else r=f.F.Sw(c,e),q=Math.sin(f.F.Sw(c,b)),r=Math.sin(r),q=Math.sqrt((1+q)/(1-q)),r=Math.sqrt((1+r)/(1-r)),q=Math.log(r)-Math.log(q),q=Math.atan2(m,q),null!=g&&(f.s.$(b,e)?g.u=f.s.R(l*m*Math.cos(b)/f.F.w(c,b)):(m=f.F.q(l,c,b),l=f.F.q(l,c,e),g.u=f.s.R((l-m)/Math.cos(q))));if(null!=h||null!=k)g=f.F.ca(q+3.141592653589793),n&&p||!n&&!p||(n?q=0>b?d:f.F.ca(3.141592653589793-
d):p&&(g=0>e?a:f.F.ca(3.141592653589793-a))),null!=h&&(h.u=q),null!=k&&(k.u=g)}};w.sf=function(l,c,a,b,d,e,g,h){e=f.F.ca(e);0>d&&(d=f.s.R(d),e=f.F.ca(e+3.141592653589793));f.s.vi(c)?f.s.$(f.s.R(b),1.570796326794897)?(a=0>b?e:f.F.ca(3.141592653589793-e),e=d/l%6.283185307179586,3.141592653589793>=e?l=b-f.s.Mb(e,b):(a=f.F.ca(a+3.141592653589793),l=-b+f.s.Mb(e-3.141592653589793,b))):f.s.$(f.s.R(e),1.570796326794897)?(a=f.F.ca(a+f.s.Mb(d,e)/(l*Math.cos(b))),l=b):(l=b+d*Math.cos(e)/l,1.570796326794897<
f.s.R(l)&&(l=1.570796326794897),f.s.$(f.s.R(l),1.570796326794897)&&(f.s.Dd(e)||f.s.$(f.s.R(e),3.141592653589793))||(1.570796316258184<f.s.R(l)&&(l=f.s.Mb(1.570796316258184,l)),c=Math.sin(b),b=Math.sin(l),c=Math.sqrt((1+c)/(1-c)),b=Math.sqrt((1+b)/(1-b)),c=Math.log(b)-Math.log(c),a=f.F.ca(a+Math.tan(e)*c))):f.s.$(f.s.R(b),1.570796326794897)?(a=0>b?e:f.F.ca(3.141592653589793-e),e=d/f.F.iW(l,c),e%=6.283185307179586,3.141592653589793>=e?l=b-f.s.Mb(e,b):(a=f.F.ca(a+3.141592653589793),l=-b+f.s.Mb(e-3.141592653589793,
b)),l=f.F.Tq(c,l)):f.s.$(f.s.R(e),1.570796326794897)?(a=f.F.ca(a+f.s.Mb(d,e)*f.F.w(c,b)/(l*Math.cos(b))),l=b):(l=1.570796326794897*(d*Math.cos(e)+f.F.q(l,c,b))/f.F.Ch(l,c),1.570796326794897<f.s.R(l)&&(l=f.s.Mb(1.570796326794897,l)),l=f.F.Tq(c,l),f.s.$(f.s.R(l),1.570796326794897)&&(f.s.Dd(e)||f.s.$(f.s.R(e),3.141592653589793))||(d=f.F.Sw(c,b),b=f.F.Sw(c,l),1.570796316258184<f.s.R(b)&&(b=f.s.Mb(1.570796316258184,l),l=f.F.sO(c,b)),c=Math.sin(d),b=Math.sin(b),c=Math.sqrt((1+c)/(1-c)),b=Math.sqrt((1+b)/
(1-b)),c=Math.log(b)-Math.log(c),a=f.F.ca(a+Math.tan(e)*c)));null!=g&&(g.u=a);null!=h&&(h.u=l)};return w}()})(Y||(Y={}));(function(f){f.kb=function(){function w(){}w.Sy=function(l,c,a,b,d,e,g){f.eu.ub(l,c,a,b,d,e,null,g,null)};w.Ai=function(l,c,a,b,d,e,g,h){f.eu.sf(l,c,a,b,d,e,g,h)};w.xd=function(l,c,a,b,d,e,g,h,k,m){switch(m){case 2:f.Yk.ub(l,c,a,b,d,e,g,h,k);break;case 3:f.KC.ub(l,c,a,b,d,e,g,h,k);break;case 1:f.JC.ub(l,c,a,b,d,e,g,h,k);break;default:f.eu.ub(l,c,a,b,d,e,g,h,k)}};w.qj=function(l,
c,a,b,d,e,g,h,k){switch(k){case 2:f.Yk.sf(l,c,a,b,d,e,g,h);break;case 3:f.KC.sf(l,c,a,b,d,e,g,h);break;case 1:f.JC.sf(l,c,a,b,d,e,g,h);break;default:f.eu.sf(l,c,a,b,d,e,g,h)}};return w}()})(Y||(Y={}));(function(f){var w=function(){function c(){this.y=this.x=null}c.construct=function(a){var b=new c;b.x=new f.Xb;b.x.set(a.x);b.y=new f.Xb;b.y.set(a.y);return b};c.PE=function(a,b){var d=new c;d.x=new f.Xb;d.x.set(a);d.y=new f.Xb;d.y.set(b);return d};c.prototype.qg=function(){return this.x.qg()&&this.y.qg()};
c.prototype.value=function(){return f.h.construct(this.x.value(),this.y.value())};return c}();f.nY=w;var l=function(){function c(){this.z=this.y=this.x=null}c.construct=function(a){var b=new c;b.x=new f.Xb;b.x.set(a.x);b.y=new f.Xb;b.y.set(a.y);b.z=new f.Xb;b.z.set(a.z);return b};c.PE=function(a,b,d){var e=new c;e.x=new f.Xb;e.x.set(a);e.y=new f.Xb;e.y.set(b);e.z=new f.Xb;e.z.set(d);return e};c.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()};c.prototype.value=function(){return new f.Od(this.x.value(),
this.y.value(),this.z.value())};c.prototype.Sh=function(a){var b=new f.Xb,d=new f.Xb,e=new f.Xb;b.Ml(this.x,a.x);d.Ml(this.y,a.y);e.Ml(this.z,a.z);a=new f.Xb;a.YM(b,d);a.add(e);return a};c.prototype.XE=function(a){var b=new c;b.x.Ml(this.y,a.z);b.y.Ml(this.z,a.x);b.z.Ml(this.x,a.y);var d=new f.Xb,e=new f.Xb,g=new f.Xb;d.Ml(this.z,a.y);e.Ml(this.x,a.z);g.Ml(this.y,a.x);b.x.sub(d);b.y.sub(e);b.z.sub(g);return b};return c}();f.oY=l;f.Nx=function(){function c(){}c.yP=function(a,b,d){var e=b.x;b=b.y;c.el(1,
a,Math.cos(e),Math.sin(e),Math.cos(b),Math.sin(b),d)};c.xP=function(a,b){var d=new f.Od;c.yP(a,b,d);return d};c.el=function(a,b,d,e,g,h,k){a/=Math.sqrt(1-b*h*h);k.L(a*g*d,a*g*e,a*(1-b)*h)};c.$u=function(a,b){var d=new f.Xb,e=new f.Xb,g=new f.Xb,h=new f.Xb;d.cos(b.x);e.sin(b.x);g.cos(b.y);h.sin(b.y);var k=new f.Xb;k.set(h);k.Ag(h);k.Oo(a);k.Oo(-1);k.eN();k.sqrt();b=new f.Xb;b.set(1);b.lm(k);k=new f.Xb;k.set(b);k.Ag(g);k.Ag(d);d=new f.Xb;d.set(b);d.Ag(g);d.Ag(e);e=new f.Xb;e.set(b);e.Oo(1-a);e.Ag(h);
return l.PE(k,d,e)};c.KS=function(a,b,d,e){if(Math.abs(b.x-d.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(d.y)>.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(d.y)==.5*Math.PI)&&b.x!=d.x)return NaN;e=c.XA(e,Math.min(b.x,d.x),Math.max(b.x,d.x));if(!(new f.Oc(b.x,d.x)).contains(e))return NaN;var g=w.construct(b);d=w.construct(d);g=c.$u(a,g);d=c.$u(a,d);d=g.XE(d);if(d.z.qg())return b=b.y;var h=new f.Xb;h.set(d.x);h.lm(d.z);h.Oo(-1);var k=new f.Xb;k.set(d.y);k.lm(d.z);k.Oo(-1);var m=new f.Xb;m.set(k);
m.Ag(k);g=new f.Xb;g.set(h);g.Ag(h);g.add(m);g.sqrt();if(g.qg()||h.qg()&&k.qg())return b=b.y;b=Math.atan2(k.value(),h.value());b=Math.atan2(g.value()*Math.cos(b-e),1-a);e=c.xP(a,f.h.construct(e,b));a=new f.Od(e.x,e.y,-e.z);e=d.value().Sh(e);a=d.value().Sh(a);Math.abs(a)<Math.abs(e)&&(b=-b);return b};c.Jz=function(a,b,d,e,g){g[0]=NaN;g[1]=NaN;if(Math.abs(b.x-d.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(d.y)>.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(d.y)==.5*Math.PI)&&b.x!=d.x||Math.abs(e)>=
.5*Math.PI||0<b.y&&0<d.y&&b.y>e&&d.y>e||0>b.y&&0>d.y&&b.y<e&&d.y<e)return 0;var h=w.construct(b),k=w.construct(d);h=c.$u(a,h);k=c.$u(a,k);var m=h.XE(k);if(m.z.qg())return(new f.Oc(b.y,d.y)).contains(e)?(g[0]=b.x,1):0;k=new f.Xb;k.set(m.x);k.lm(m.z);k.Oo(-1);h=new f.Xb;h.set(m.y);h.lm(m.z);h.Oo(-1);m=new f.Xb;m.set(h);m.Ag(h);var n=new f.Xb;n.set(k);n.Ag(k);n.add(m);n.sqrt();if(n.qg()||k.qg()&&h.qg())return 0==e?(g[0]=b.x,g[1]=d.x,2):0;a=(1-a)*Math.tan(e)/n.value();if(1<Math.abs(a))return 0;a=Math.acos(a);
m=Math.atan2(h.value(),k.value());k=Math.min(b.x,d.x);h=Math.max(b.x,d.x);d=c.XA(m-a,k,h);a=0!=e?c.XA(m+a,k,h):d;e=0;k<=d&&d<=h&&(g[e]=d,e++);a!=d&&k<=a&&a<=h&&(g[e]=a,e++,2==e&&Math.abs(g[0]-b.x)>Math.abs(g[1]-b.x)&&(b=g[0],g[0]=g[1],g[1]=b));return e};c.XA=function(a,b,d){a>d?(b=Math.ceil((a-d)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};return c}()})(Y||(Y={}));(function(f){f.RK=function(){function w(){}w.SX=function(l,c){var a=[0,0,0,0],b=new f.h;
b.N(c);b.scale(9102==f.cb.tc(l).Id().Fc()?1:f.cb.tc(l).Id().ci/3.141592653589793*180);-180>b.x?(b.x-=b.x%360,-180>b.x&&(b.x+=360)):180<b.x&&(b.x-=b.x%360,180<b.x&&(b.x-=360));90<b.y&&(b.y=90);-90>b.y&&(b.y=-90);l=40;c=(l+31)/32;for(var d=-180,e=180,g=l-1,h=c-1;0<=h;h--)for(var k=g-32*h,m=Math.min(32,l-32*h),n=1;n<m;n+=2){var p=.5*(e+d);b.x>=p?(a[h]|=1<<k,d=p):e=p;k-=2;g-=2}d=-90;e=90;g=l-2;for(h=c-1;0<=h;h--)for(k=g-32*h,m=Math.min(32,l-32*h),n=0;n<m;n+=2)p=.5*(e+d),b.y>=p?(a[h]|=1<<k,d=p):e=p,k-=
2,g-=2;return w.UP(a,8,8)};w.UP=function(l,c,a){for(var b=[],d=0;d<c;d++)b[d]="";for(var e=d=0,g=0;g<c;g++){var h=l[d]>>e&31;e+=5;if(31<e){var k=37-e;h&=(1<<k)-1;e-=32;d++;h|=(l[d]&(1<<e)-1)<<k}b[c-1-g]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[h]}if(a>c)for(g=0;g<a-c;g++)b.push("0");else a<c&&(b.length=a);return b.join("")};return w}()})(Y||(Y={}));(function(f){var w={gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,5,8.982439417325895E-9,
6,8.982466029667677E-9,7,8.982476760268133E-9,8,8.982492642167149E-9,9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,27,8.982646307158072E-9,
28,8.982654891980968E-9,29,8.982667769246082E-9,30,8.982674207892485E-9,31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,48,8.982751472369276E-9,
49,8.982755764879183E-9,50,8.982762203651733E-9,51,8.982764776628385E-9,52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,70,8.983120447446023E-9,
71,8.98312748954554E-9,72,8.983134531656096E-9,73,8.983141573777694E-9,74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,91,8.984337959508212E-9,
92,8.984365176209457E-9,93,8.984727360418079E-9,94,8.984901041679577E-9,95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,112,2.348476432064694E-8,
113,2.348765250187846E-8,114,2.378108974103778E-8,115,3.14559636297708E-8,116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,2.42984645941825E-7,133,2.754604784282804E-7,
134,2.884548130346993E-7,135,3.370339971357784E-7,136,4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,153,1.848250952034914E-6,154,
1.909859317102744E-6,155,1.975716534933873E-6,156,2.122065907891938E-6,157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,3,4.970978156565657E-5,
4,4.970980410559237E-5,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,
2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,
2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,
2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,
2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,
2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,
2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,
3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,
4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,
37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,
102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,
6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,
6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,
6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,
6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,
6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,
6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,
6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,
6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,
6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,
103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,
103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,
102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,
102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,
31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,
11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,
5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,
10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,
5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,
5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,
6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,
10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,
5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,
10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,
24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,
5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,
5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,
10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,
10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,
5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,
5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,
5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,
3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],
[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,
8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,
24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,
5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,
5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,
102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,
5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],
[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,
103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,
89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,
55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,
63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,
60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,
75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,
37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,
84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,
104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,
104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,
159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,
104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},
l={c:[[2E3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,
2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],
[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,
9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,
4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],
[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,
9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,
20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],
[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,
28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],
[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,
9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,
9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,
9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,
2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,
9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,
3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,
9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,
3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,
9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,
4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,
9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,
5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,
9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,
6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,
9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,
6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,
9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,
6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,
9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,
7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,
9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,
8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,
9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,
8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,
9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,
9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,
9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,
9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,
9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,
9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,
9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,
9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,
9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};f.yr=function(){function c(){}c.Ny=function(a){!1===c.zp&&c.zt();var b=c.zQ(a);if(-1==b){var d=c.Ax(a);d!=a&&(b=c.Ny(d))}-1==
b&&(d=c.zK(a),d!=a&&(b=c.Ny(d)));return b};c.zQ=function(a){return void 0!==c.Hw[a]?c.Hw[a]:-1};c.wQ=function(a){!1===c.zp&&c.zt();var b=c.hF(a);if(1E38==b){var d=c.Ax(a);d!=a&&(b=c.hF(d));if(1E38==b)return 1E-10}return b};c.RS=function(a){if(void 0!==c.Ks[a])return!0;var b=c.Ax(a);return b!=a&&void 0!==c.Ks[b]?!0:!1};c.TS=function(a){if(void 0!==c.yo[a])return!0;var b=c.Ax(a);return b!=a&&void 0!==c.yo[b]?!0:!1};c.hF=function(a){!1===c.zp&&c.zt();return void 0!==c.Ks[a]?c.Ks[a]:void 0!==c.yo[a]?
c.yo[a]:1E38};c.zK=function(a){!1===c.zp&&c.zt();return void 0!==c.QA[a]?c.QA[a]:a};c.Ax=function(a){!1===c.zp&&c.zt();return void 0!==c.RA[a]?c.RA[a]:a};c.zt=function(){for(var a=w,b,d=0;d<a.pcsid.length;d+=2)c.yo[a.pcsid[d]]=a.pcstol[2*a.pcsid[d+1]+1];for(d=0;d<a.pcsidc.length;d+=1){b=a.pcsidc[d];for(var e=b[0];e<=b[1];e++)c.yo[e]=a.pcstol[2*b[2]+1]}for(d=0;d<a.gcsid.length;d+=2)c.Ks[a.gcsid[d]]=a.gcstol[2*a.gcsid[d+1]+1];for(d=0;d<a.gcsidc.length;d+=1)for(b=a.gcsidc[d],e=b[0];e<=b[1];e++)c.yo[e]=
a.gcstol[2*b[2]+1];for(d=0;d<l.c.length;d+=1)for(b=l.c[d],e=b[0];e<=b[1];e++)c.Hw[e]=b[2];for(d=0;d<l.nc.length;d+=2)c.Hw[l.nc[d]]=l.nc[d+1];l=null;for(d=0;d<a.newtoold.length;d+=2)c.QA[a.newtoold[d+1]]=a.newtoold[d],c.RA[a.newtoold[d]]=a.newtoold[d+1];w=null;c.zp=!0};c.zp=!1;c.Ks=[];c.yo=[];c.QA=[];c.RA=[];c.Hw=[];return c}()})(Y||(Y={}));(function(f){function w(c){return 0===c.length?'""':'"'==c[0]||"."==c[0]||"0"<=c[0]&&"9">=c[0]?c:'"'+c.trim()+'"'}var l=[];f.RC=function(){function c(){}c.yQ=function(a){try{for(var b=
0;b<l.length;b++)if(l[b].wkttext===a)return l[b].unit;for(var d,e=b="",g=!1,h=0;h<a.length;h++){var k=a[h];!0===g?'"'==k?'"'==a[h+1]?b+=k:g=g=!1:b+=k:/[\s]/.test(k)||(","==k?(e=""!==b?e+(w(b)+","):e+",",b=""):")"==k||"]"==k?(e=""!==b?e+(w(b)+"]}"):e+"]}",b=""):"("==k||"["==k?(e+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==k?(g=!0,b=""):b+=k)}d=JSON.parse(e);var m=c.gF(d);if(null===m)return null;d=null;for(k=0;k<m.values.length;k++)if("object"===typeof m.values[k]&&"UNIT"===m.values[k].entity){d=
m.values[k];break}if(null===d)return null;var n=f.Uc.TO("GEOGCS"===m.entity?1:0,d.values[1],d.values[2]);l.push({wkttext:a,unit:n});10<l.length&&l.shift();return n}catch(p){return null}};c.gF=function(a){if(null===a)return null;if("GEOGCS"===a.entity||"PROJCS"===a.entity)return a;for(var b=[],d=0;d<a.values.length;d++)if("object"===typeof a.values[d]&&void 0!==a.values[d].entity){if("GEOGCS"===a.values[d].entity||"PROJCS"==a.values[d].entity)return a.values[d];b.push(a.values[d])}for(a=0;a<b.length;a++)if(d=
c.gF(b[a]),null!==d)return d;return null};c.xQ=function(a){var b=-1;if(null!=a&&0<a.length){var d=a.indexOf("PROJCS");if(0<=d){var e=0;d=a.lastIndexOf("UNIT");if(0<=d&&(d=a.indexOf(",",d+4),0<d)){d++;var g=a.indexOf("]",d+1);if(0<g)try{e=parseFloat(a.substring(d,g))}catch(k){e=0}}0<e&&(b=.001/e)}else if(d=a.indexOf("GEOGCS"),0<=d){var h=0;e=0;d=a.indexOf("SPHEROID",d+6);if(0<d&&(d=a.indexOf(",",d+8),0<d)){d++;g=a.indexOf(",",d+1);if(0<g)try{h=parseFloat(a.substring(d,g))}catch(k){h=0}if(0<h&&(d=a.indexOf("UNIT",
g+1),0<=d&&(d=a.indexOf(",",d+4),0<d&&(d++,g=a.indexOf("]",d+1),0<g))))try{e=parseFloat(a.substring(d,g))}catch(k){e=0}}0<h&&0<e&&(b=.001/(h*e))}}return b};return c}()})(Y||(Y={}));(function(f){(function(l){l[l.NONE=0]="NONE";l[l.LINEAR=1]="LINEAR";l[l.ANGULAR=2]="ANGULAR"})(f.ZK||(f.ZK={}));(function(l){l[l.enumFloat=0]="enumFloat";l[l.enumDouble=1]="enumDouble";l[l.enumInt32=2]="enumInt32";l[l.enumInt64=3]="enumInt64";l[l.enumInt8=4]="enumInt8";l[l.enumInt16=5]="enumInt16"})(f.KL||(f.KL={}));(function(l){l[l.POSITION=
0]="POSITION";l[l.Z=1]="Z";l[l.M=2]="M";l[l.ID=3]="ID";l[l.NORMAL=4]="NORMAL";l[l.TEXTURE1D=5]="TEXTURE1D";l[l.TEXTURE2D=6]="TEXTURE2D";l[l.TEXTURE3D=7]="TEXTURE3D";l[l.ID2=8]="ID2";l[l.MAXSEMANTICS=10]="MAXSEMANTICS"})(f.Kh||(f.Kh={}));var w=function(){function l(c,a){this.Xs=this.Be=null;this.Qq=this.Ba=0;this.wh=this.cg=null;this.yl=0;if(void 0!==a){this.Ba=a.Ba;this.Qq=a.Qq;this.cg=a.cg.slice(0);this.wh=a.wh.slice(0);this.yl=a.yl;this.Xs=[];for(c=a=0;c<this.Ba;c++)this.Xs[c]=a,a+=l.Wa(this.cg[c]);
this.Qq=a;this.Be=[];for(c=0;c<this.Ba;c++){a=l.Wa(this.qd(c));for(var b=l.te(this.qd(c)),d=0;d<a;d++)this.Be[this.Xs[c]+d]=b}}else this.Qq=this.Ba=0}l.prototype.qd=function(c){if(0>c||c>this.Ba)throw f.i.O();return this.cg[c]};l.prototype.Qf=function(c){return this.wh[c]};l.gz=function(c){return l.DM[c]};l.Vp=function(c){return l.MM[c]};l.Wa=function(c){return l.lM[c]};l.prototype.hasAttribute=function(c){return 0<=this.wh[c]};l.prototype.cG=function(){return this.hasAttribute(1)};l.te=function(c){return l.ZC[c]};
l.prototype.ER=function(c){return this.Xs[c]};l.xG=function(c,a){return l.ZC[c]===a};l.prototype.Nb=function(c){return this===c};l.prototype.Bn=function(){for(var c=f.P.Vh(this.cg[0]),a=1;a<this.Ba;a++)c=f.P.Vh(this.cg[a],c);return c};l.prototype.ak=function(c){return this.Xs[c]};l.prototype.dc=function(){return this.yl};l.prototype.Fd=function(c){return this.cg[c]};l.ZC=[0,0,NaN,0,0,0,0,0,0];l.DM=[1,1,1,0,2,1,1,1,0];l.MM=[1,1,1,2,0,0,0,0,2];l.lM=[2,1,1,1,3,1,2,3,2];return l}();f.ua=w})(Y||(Y={}));
(function(f){function w(g,h,k){var m=h-(g=new e(g)).e,n=g.c;n.length>++h&&l(g,m,e.gu);for(n[0]?k?m=h:(n=g.c,m=g.e+m+1):++m;n.length<m;n.push(0));m=g.e;return 1===k||k&&(h<=m||m<=a)?(0>g.Cd&&n[0]?"-":"")+(1<n.length?n[0]+"."+n.join("").slice(1):n[0])+(0>m?"e":"e+")+m:g.toString()}function l(g,h,k,m){var n=g.c,p=g.e+h+1;1===k?m=5<=n[p]:2===k?m=5<n[p]||5==n[p]&&(m||0>p||void 0!==n[p+1]||n[p-1]&1):3===k?m=m||void 0!==n[p]||0>p:(m=!1,0!==k&&c("!Big.RM!"));if(1>p||!n[0])m?(g.e=-h,g.c=[1]):g.c=[g.e=0];else{n.length=
p--;if(m)for(;9<++n[p];)n[p]=0,p--||(++g.e,n.unshift(1));for(p=n.length;!n[--p];n.pop());}return g}function c(g){g=Error(g);g.name="BigError";throw g;}var a=-7,b=21,d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,e=function(){function g(h){if(h instanceof g)this.Cd=h.Cd,this.e=h.e,this.c=h.c.slice();else{var k,m,n;0===h&&0>1/h?h="-0":d.test(h+="")||c(NaN);this.Cd="-"==h.charAt(0)?(h=h.slice(1),-1):1;-1<(k=h.indexOf("."))&&(h=h.replace(".",""));0<(m=h.search(/e/i))?(0>k&&(k=m),k+=+h.slice(m+1),h=h.substring(0,
m)):0>k&&(k=h.length);for(m=0;"0"==h.charAt(m);m++);if(m==(n=h.length))this.c=[this.e=0];else{for(;"0"==h.charAt(--n););this.e=k-m-1;this.c=[];for(k=0;m<=n;this.c[k++]=+h.charAt(m++));}}}g.prototype.abs=function(){var h=new g(this);h.Cd=1;return h};g.prototype.cmp=function(h){var k=this.c,m=(h=new g(h)).c,n=this.Cd,p=h.Cd,q=this.e,r=h.e;if(!k[0]||!m[0])return k[0]?n:m[0]?-p:0;if(n!=p)return n;h=0>n;if(q!=r)return q>(r^h)?1:-1;n=-1;for(p=(q=k.length)<(r=m.length)?q:r;++n<p;)if(k[n]!=m[n])return k[n]>
(m[n]^h)?1:-1;return q==r?0:q>(r^h)?1:-1};g.prototype.lm=function(h){var k=this.c,m=(h=new g(h)).c,n=this.Cd==h.Cd?1:-1,p=g.tr;(p!==~~p||0>p||1E6<p)&&c("!Big.DP!");if(!k[0]||!m[0])return k[0]==m[0]&&c(NaN),m[0]||c(n/0),new g(0*n);var q,r,v=m.slice(),G=q=m.length,S=k.length,X=k.slice(0,q),V=X.length,Z=h,ia=Z.c=[],ja=0,ma=p+(Z.e=this.e-h.e)+1;Z.Cd=n;n=0>ma?0:ma;for(v.unshift(0);V++<q;X.push(0));do{for(r=0;10>r;r++){if(q!=(V=X.length))var sa=q>V?1:-1;else{var va=-1;for(sa=0;++va<q;)if(m[va]!=X[va]){sa=
m[va]>X[va]?1:-1;break}}if(0>sa){for(h=V==q?m:v;V;){if(X[--V]<h[V]){for(va=V;va&&!X[--va];X[va]=9);--X[va];X[V]+=10}X[V]-=h[V]}for(;!X[0];X.shift());}else break}ia[ja++]=sa?r:++r;X[0]&&sa?X[V]=k[G]||0:X=[k[G]]}while((G++<S||void 0!==X[0])&&n--);ia[0]||1==ja||(ia.shift(),Z.e--);ja>ma&&l(Z,p,g.gu,void 0!==X[0]);return Z};g.prototype.ZR=function(){return 0<this.cmp(0)};g.prototype.fT=function(){return 0>this.cmp(0)};g.prototype.kt=function(h){var k,m=this.Cd,n=(h=new g(h)).Cd;if(m!=n)return h.Cd=-n,
this.nI(h);var p=this.c.slice(),q=this.e,r=h.c,v=h.e;if(!p[0]||!r[0])return r[0]?(h.Cd=-n,h):new g(p[0]?this:0);if(m=q-v){(k=0>m)?(m=-m,q=p):(v=q,q=r);q.reverse();for(n=m;n--;q.push(0));q.reverse()}else for(q=((k=p.length<r.length)?p:r).length,m=n=0;n<q;n++)if(p[n]!=r[n]){k=p[n]<r[n];break}k&&(q=p,p=r,r=q,h.Cd=-h.Cd);if(0<(n=(q=r.length)-(k=p.length)))for(;n--;p[k++]=0);for(n=k;q>m;){if(p[--q]<r[q]){for(k=q;k&&!p[--k];p[k]=9);--p[k];p[q]+=10}p[q]-=r[q]}for(;0==p[--n];p.pop());for(;0==p[0];)p.shift(),
--v;p[0]||(h.Cd=1,p=[v=0]);h.c=p;h.e=v;return h};g.prototype.nI=function(h){var k=this.Cd,m=(h=new g(h)).Cd;if(k!=m)return h.Cd=-m,this.kt(h);m=this.e;var n=this.c,p=h.e,q=h.c;if(!n[0]||!q[0])return q[0]?h:new g(n[0]?this:0*k);n=n.slice();if(k=m-p){0<k?(p=m,m=q):(k=-k,m=n);for(m.reverse();k--;m.push(0));m.reverse()}0>n.length-q.length&&(m=q,q=n,n=m);k=q.length;for(m=0;k;)m=(n[--k]=n[k]+q[k]+m)/10|0,n[k]%=10;m&&(n.unshift(m),++p);for(k=n.length;0==n[--k];n.pop());h.c=n;h.e=p;return h};g.prototype.pow=
function(h){var k=this,m=new g(1),n=m,p=0>h;(h!==~~h||-1E6>h||1E6<h)&&c("!pow!");for(h=p?-h:h;;){h&1&&(n=n.nr(k));h>>=1;if(!h)break;k=k.nr(k)}return p?m.lm(n):n};g.prototype.round=function(h,k){var m=this;null==h?h=0:(h!==~~h||0>h||1E6<h)&&c("!round!");l(m=new g(m),h,null==k?g.gu:k);return m};g.prototype.sqrt=function(){var h=this.c,k=this.Cd,m=this.e,n=new g("0.5");if(!h[0])return new g(this);0>k&&c(NaN);k=Math.sqrt(this.toString());0==k||k==1/0?(k=h.join(""),k.length+m&1||(k+="0"),h=new g(Math.sqrt(k).toString()),
h.e=((m+1)/2|0)-(0>m||m&1)):h=new g(k.toString());k=h.e+(g.tr+=4);do m=h,h=n.nr(m.nI(this.lm(m)));while(m.c.slice(0,k).join("")!==h.c.slice(0,k).join(""));l(h,g.tr-=4,g.gu);return h};g.prototype.nr=function(h){var k=this.c,m=(h=new g(h)).c,n=k.length,p=m.length,q=this.e,r=h.e;h.Cd=this.Cd==h.Cd?1:-1;if(!k[0]||!m[0])return new g(0*h.Cd);h.e=q+r;if(n<p){var v=k;k=m;m=v;r=n;n=p;p=r}for(v=Array(r=n+p);r--;v[r]=0);for(q=p;q--;){p=0;for(r=n+q;r>q;)p=v[r]+m[q]*k[r-q-1]+p,v[r--]=p%10,p=p/10|0;v[r]=(v[r]+
p)%10}p&&++h.e;v[0]||v.shift();for(q=v.length;!v[--q];v.pop());h.c=v;return h};g.prototype.toString=function(){var h=this.e,k=this.c.join(""),m=k.length;if(h<=a||h>=b)k=k.charAt(0)+(1<m?"."+k.slice(1):"")+(0>h?"e":"e+")+h;else if(0>h){for(;++h;k="0"+k);k="0."+k}else if(0<h)if(++h>m)for(h-=m;h--;k+="0");else h<m&&(k=k.slice(0,h)+"."+k.slice(h));else 1<m&&(k=k.charAt(0)+"."+k.slice(1));return 0>this.Cd&&this.c[0]?"-"+k:k};g.prototype.toExponential=function(h){null==h?h=this.c.length-1:(h!==~~h||0>h||
1E6<h)&&c("!toExp!");return w(this,h,1)};g.prototype.toFixed=function(h){var k=a,m=b;a=-(b=1/0);if(null==h)var n=this.toString();else h===~~h&&0<=h&&1E6>=h&&(n=w(this,this.e+h),0>this.Cd&&this.c[0]&&0>n.indexOf("-")&&(n="-"+n));a=k;b=m;n||c("!toFix!");return n};g.prototype.toPrecision=function(h){if(null==h)return this.toString();(h!==~~h||1>h||1E6<h)&&c("!toPre!");return w(this,h-1,2)};g.tr=20;g.gu=1;return g}();f.ip=e})(Y||(Y={}));(function(f){var w=function(){function l(c){this.lf=c}l.prototype.qr=
function(c,a,b){var d=new f.h,e=new f.h,g=this.lf;b.Wd(c,a,function(h,k){g.uc(2*h,d);g.uc(2*k,e);return d.compare(e)})};l.prototype.bq=function(c){return this.lf.read(2*c+1)};return l}();f.si=function(){function l(){}l.cq=function(c){if(c.B())return!1;var a=c.K();return 1736==a?0==c.He()?!1:!0:1607==a?(a=[!1],l.mE(c,!0,a),a[0]):197==a||f.ba.zd(a)&&!c.vG()?!0:!1};l.im=function(c){var a=c.K();if(1736==a)return a=new f.Ua(c.description),c.B()||c.YC(a),a;if(1607==a)return l.mE(c,!1,null);if(197==a)return a=
new f.Ua(c.description),c.B()||a.bd(c,!1),a;if(f.ba.zd(a)){a=new f.de(c.description);if(!c.B()&&!c.vG()){var b=new f.Ta;c.Uo(b);a.add(b);c.Qo(b);a.add(b)}return a}if(f.ba.Sn(a))return null;throw f.i.O();};l.mE=function(c,a,b){null!=b&&(b[0]=!1);var d=null;a||(d=new f.de(c.description));if(!c.B()){var e=new f.ja(0);e.Jb(2*c.ea());for(var g=0,h=c.ea();g<h;g++)if(0<c.Ka(g)&&!c.On(g)){var k=c.Ca(g);e.add(k);k=c.Wc(g)-1;e.add(k)}if(0<e.size){h=new f.Zt;g=c.vb(0);h.sort(e,0,e.size,new w(g));h=new f.h;g.uc(2*
e.get(0),h);k=0;for(var m=1,n=new f.Ta,p=new f.h,q=1,r=e.size;q<r;q++)if(g.uc(2*e.get(q),p),p.rb(h))e.get(k)>e.get(q)?(e.set(k,2147483647),k=q):e.set(q,2147483647),m++;else{if(0==(m&1))e.set(k,2147483647);else if(a)return null!=b&&(b[0]=!0),null;h.N(p);k=q;m=1}if(0==(m&1))e.set(k,2147483647);else if(a)return null!=b&&(b[0]=!0),null;if(!a)for(e.Wd(0,e.size,function(v,G){return v-G}),q=0,r=e.size;q<r&&2147483647!=e.get(q);q++)c.we(e.get(q),n),d.add(n)}}return a?null:d};return l}()})(Y||(Y={}));(function(f){var w=
function(){function l(){this.zf=new f.ja(0);this.As=new f.ja(0);this.yH=1;this.Gs=NaN}l.prototype.sort=function(c,a,b,d){if(32>b-a)d.qr(a,b,c);else{var e=!0;try{for(var g=Infinity,h=-Infinity,k=a;k<b;k++){var m=d.bq(c.get(k));m<g&&(g=m);m>h&&(h=m)}if(this.reset(b-a,g,h,b-a)){for(k=a;k<b;k++){var n=c.get(k);m=d.bq(n);var p=this.tF(m);this.zf.set(p,this.zf.get(p)+1);this.As.write(k-a,n)}var q=this.zf.get(0);this.zf.set(0,0);k=1;for(var r=this.zf.size;k<r;k++){var v=this.zf.get(k);this.zf.set(k,q);q+=
v}for(k=a;k<b;k++){n=this.As.read(k-a);m=d.bq(n);p=this.tF(m);var G=this.zf.get(p);c.set(G+a,n);this.zf.set(p,G+1)}e=!1}}catch(S){this.zf.resize(0),this.As.resize(0)}if(e)d.qr(a,b,c);else{k=b=0;for(r=this.zf.size;k<r;k++)e=b,b=this.zf.get(k),b>e&&d.qr(a+e,a+b,c);100<this.zf.size&&(this.zf.resize(0),this.As.resize(0))}}};l.prototype.reset=function(c,a,b,d){if(2>c||b==a)return!1;c=Math.min(l.bL,c);this.zf.Jb(c);this.zf.resize(c);this.zf.Yj(0,0,this.zf.size);this.yH=a;this.As.resize(d);this.Gs=(b-a)/
(c-1);return!0};l.prototype.tF=function(c){return f.P.truncate((c-this.yH)/this.Gs)};l.bL=65536;return l}();f.Zt=w})(Y||(Y={}));(function(f){var w;(function(e){e[e.enum_line=1]="enum_line";e[e.enum_arc=2]="enum_arc";e[e.enum_dummy=4]="enum_dummy";e[e.enum_concave_dip=8]="enum_concave_dip";e[e.enum_connection=3]="enum_connection"})(w||(w={}));var l=function(){function e(){}e.Su=function(g,h,k,m,n,p){var q=new e;q.Km=new f.h;q.Xm=new f.h;q.cw=new f.h;q.Km.N(g);q.Xm.N(h);q.cw.N(k);q.Do=m;q.sh=n;q.uh=
p;return q};e.construct=function(g,h,k,m){var n=new e;n.Km=new f.h;n.Xm=new f.h;n.cw=new f.h;n.Km.N(g);n.Xm.N(h);n.cw.Sc();n.Do=4;n.sh=k;n.uh=m;return n};return e}(),c=function(){function e(g,h,k,m,n,p){this.$v=null;this.za=0;this.yA=g;this.WH=this.UH=0;this.La=h;this.Oj=k;this.wk=m;this.Fq=n;this.Vb=p}e.prototype.next=function(){for(var g=new f.Ta;;){if(this.za==this.yA.I())return null;this.yA.we(this.za,g);this.za++;if(!g.B())break}var h=!1;null==this.$v&&(this.UH=g.Ng(),this.WH=g.kh(),this.$v=
d.buffer(g,this.La,this.Oj,this.wk,this.Fq,this.Vb),h=!0);if(this.za<this.yA.I()){var k=new f.Ea;this.$v.copyTo(k)}else k=this.$v;if(!h){h=new f.Ed;var m=g.Ng()-this.UH;g=g.kh()-this.WH;h.gg(m,g);k.Pc(h)}return k};e.prototype.Ma=function(){return 0};e.prototype.qe=function(){};return e}(),a=function(){function e(g,h){this.Xa=g;this.za=0;this.qq=h}e.prototype.next=function(){var g=this.Xa.Y;if(this.za<g.ea()){var h=this.za;this.za++;if(!g.On(h))for(var k=g.Oa(g.Wc(h)-1);this.za<g.ea();){var m=g.Oa(g.Ca(this.za));
if(g.On(this.za))break;if(m!=k)break;k=g.Oa(g.Wc(this.za)-1);this.za++}if(1==this.za-h)return this.Xa.eE(this.Xa.Y,h,this.qq);k=new f.Ua(this.Xa.Y.description);k.addPath(this.Xa.Y,h,!0);for(h+=1;h<this.za;h++)k.Fr(this.Xa.Y,h,0,g.tv(h),!1);return this.Xa.eE(k,0,this.qq)}return null};e.prototype.Ma=function(){return 0};e.prototype.qe=function(){};return e}(),b=function(){function e(g){this.Xa=g;this.za=0}e.prototype.next=function(){var g=this.Xa.Y;if(this.za<g.ea()){var h=this.za;g.Kr(this.za);for(this.za++;this.za<
g.ea()&&!(0<g.Kr(this.za));)this.za++;return 0==h&&this.za==g.ea()?this.Xa.ly(g,0,g.ea()):this.Xa.ly(g,h,this.za)}return null};e.prototype.Ma=function(){return 0};e.prototype.qe=function(){};return e}(),d=function(){function e(g){this.Ms=this.nw=this.Ns=this.Jd=null;this.$d=[];this.Vb=g;this.sb=this.Mv=this.BT=this.La=this.nA=this.dt=this.ra=0;this.iA=this.wk=-1;this.qq=!0}e.buffer=function(g,h,k,m,n,p){if(null==g)throw f.i.O();if(0>m)throw f.i.O();if(g.B())return new f.Ea(g.description);var q=new f.l;
g.yc(q);0<h&&q.X(h,h);p=new e(p);p.Oj=k;p.Y=g;p.ra=f.ta.Xd(k,q,!0);p.dt=f.ta.Xd(null,q,!0);p.La=h;p.BT=g.K();0>=n&&(n=96);p.sb=Math.abs(p.La);p.Mv=0!=p.sb?1/p.sb:0;isNaN(m)||0==m?m=1E-5*p.sb:m>.5*p.sb&&(m=.5*p.sb);12>n&&(n=12);g=Math.abs(h)*(1-Math.cos(Math.PI/n));g>m?m=g:(g=Math.PI/Math.acos(1-m/Math.abs(h)),g<n-1&&(n=f.P.truncate(g),12>n&&(n=12,m=Math.abs(h)*(1-Math.cos(Math.PI/n)))));p.wk=m;p.Fq=n;p.nA=Math.min(p.dt,.25*m);return p.fE()};e.prototype.ev=function(){if(null==this.Jd)this.Jd=[];else if(0!==
this.Jd.length)return;var g=this.kE();g=f.P.truncate((g+3)/4);var h=.5*Math.PI/g;this.iA=h;for(var k=0;k<4*g;k++)this.Jd.push(null);var m=Math.cos(h);h=Math.sin(h);var n=f.h.construct(0,1);for(k=0;k<g;k++)this.Jd[k+0*g]=f.h.construct(n.y,-n.x),this.Jd[k+1*g]=f.h.construct(-n.x,-n.y),this.Jd[k+2*g]=f.h.construct(-n.y,n.x),this.Jd[k+3*g]=n,n=f.h.construct(n.x,n.y),n.Ct(m,h)};e.prototype.fE=function(){var g=this.Y.K();if(f.ba.zd(g))return g=new f.Ua(this.Y.description),g.oc(this.Y,!0),this.Y=g,this.fE();
if(this.La<=this.ra)if(f.ba.MS(g)){if(0>=this.La&&(g=new f.l,this.Y.A(g),g.S()<=2*-this.La||g.da()<=2*this.La))return new f.Ea(this.Y.description)}else return new f.Ea(this.Y.description);switch(this.Y.K()){case 33:return this.JN();case 550:return this.IN();case 1607:return this.LN();case 1736:return this.KN();case 197:return this.FN();default:throw f.i.Ra();}};e.prototype.LN=function(){if(this.yG(this.Y)){var g=new f.Ta;this.Y.we(0,g);var h=new f.l;this.Y.A(h);g.Db(h.tf());return this.Iu(g)}this.Y=
this.OV(this.Y);g=new a(this,this.qq);return f.Ih.local().W(g,this.Oj,this.Vb).next()};e.prototype.KN=function(){if(0==this.La)return this.Y;var g=f.$l.local();this.ev();this.Y=g.W(this.Y,null,!1,this.Vb);if(0>this.La){var h=this.Y;h=this.ly(h,0,h.ea());return g.W(h,this.Oj,!1,this.Vb)}if(this.yG(this.Y))return g=new f.Ta,this.Y.we(0,g),h=new f.l,this.Y.A(h),g.Db(h.tf()),this.Iu(g);g=new b(this);return f.Ih.local().W(g,this.Oj,this.Vb).next()};e.prototype.ly=function(g,h,k){for(var m=new f.Ea(g.description);h<
k;h++)if(!(1>g.Ka(h))){var n=g.Kr(h),p=new f.l;g.Tj(h,p);if(0<this.La)if(0<n)if(this.zG(g,h))n=new f.Ta,g.we(g.Ca(h),n),n.Db(p.tf()),this.Au(m,n);else{var q=n=new f.Ua(g.description);q=f.au.DG(this.Y,h)||2==this.An(this.Y,h,q,!0,1)?this.dE(g,h):this.zn(n);m.add(q,!1)}else{if(!(p.S()+this.ra<=2*this.sb||p.da()+this.ra<=2*this.sb||(q=n=new f.Ua(g.description),this.An(this.Y,h,q,!0,1),n.B()))){var r=new f.l;r.L(p);r.X(this.sb,this.sb);q.vp(r);q=this.zn(n);p=1;for(n=q.ea();p<n;p++)m.addPath(q,p,!0)}}else if(0<
n){if(!(p.S()+this.ra<=2*this.sb||p.da()+this.ra<=2*this.sb||(q=n=new f.Ua(g.description),this.An(this.Y,h,q,!0,-1),n.B())))for(r=new f.l,q.yc(r),r.X(this.sb,this.sb),q.vp(r),q=this.zn(n),p=1,n=q.ea();p<n;p++)m.addPath(q,p,!0)}else for(q=n=new f.Ua(g.description),this.An(this.Y,h,q,!0,-1),q=this.zn(n),p=0,n=q.ea();p<n;p++)m.addPath(q,p,!0)}if(0<this.La)return 1<m.ea()?m=this.zn(m):e.kx(m);g=new f.l;m.yc(g);if(m.B())return e.kx(m);g.X(this.sb,this.sb);m.vp(g);m=this.zn(m);g=new f.Ea(m.description);
p=1;for(n=m.ea();p<n;p++)g.addPath(m,p,!1);return e.kx(g)};e.prototype.JN=function(){return this.Iu(this.Y)};e.prototype.Iu=function(g){var h=new f.Ea(this.Y.description);this.Au(h,g);return this.kX(h)};e.prototype.IN=function(){var g=new c(this.Y,this.La,this.Oj,this.wk,this.Fq,this.Vb);return f.Ih.local().W(g,this.Oj,this.Vb).next()};e.prototype.FN=function(){var g=new f.Ea(this.Y.description);if(0>=this.La){if(0==this.La)g.bd(this.Y,!1);else{var h=new f.Hh;this.Y.dn(h);h.X(this.La,this.La);g.bd(h,
!1)}return g}g.bd(this.Y,!1);this.Y=g;return this.dE(g,0)};e.prototype.dE=function(g,h){this.ev();var k=new f.Ea(g.description),m=new f.h,n=new f.h,p=new f.h,q=new f.h,r=new f.h,v=new f.h,G=new f.h,S=new f.h,X=g.Ka(h),V=g.Ca(h),Z=0;for(h=g.Ka(h);Z<h;Z++){g.D(V+Z,n);g.D(V+(Z+1)%X,q);g.D(V+(Z+2)%X,v);G.vc(q,n);if(0==G.length())throw f.i.Ra();G.Jv();G.normalize();G.scale(this.sb);m.add(G,n);p.add(G,q);0==Z?k.Nt(m):k.Ei(m);k.Ei(p);S.vc(v,q);if(0==S.length())throw f.i.Ra();S.Jv();S.normalize();S.scale(this.sb);
r.add(S,q);this.AD(k,q,p,r,!1)}return e.kx(k)};e.prototype.eE=function(g,h,k){this.ev();if(1>g.Ka(h))return null;if(this.zG(g,h)&&0<this.La){k=new f.Ta;g.we(g.Ca(h),k);var m=new f.l;g.Tj(h,m);k.Db(m.tf());return this.Iu(k)}m=new f.Ua(g.description);if(g.On(h))this.An(g,h,m,k,1),this.An(g,h,m,k,-1);else{var n=new f.Ua(g.description);n.addPath(g,h,!1);n.Fr(g,h,0,g.tv(h),!1);this.An(n,0,m,k,1)}return this.zn(m)};e.prototype.Zq=function(){this.$s++;if(0==this.$s%1024&&null!=this.Vb&&!this.Vb.progress(-1,
-1))throw f.i.hu("user_canceled");};e.prototype.zn=function(g){return f.Hg.Nk(g,this.dt,!0,!0,this.Vb)};e.prototype.kE=function(){if(0==this.wk)return this.Fq;var g=1-this.wk*Math.abs(this.Mv);g=-1>g?4:2*Math.PI/Math.acos(g)+.5;4>g?g=4:g>this.Fq&&(g=this.Fq);return f.P.truncate(g)};e.prototype.AD=function(g,h,k,m,n){this.ev();var p=new f.h;p.vc(k,h);p.scale(this.Mv);var q=new f.h;q.vc(m,h);q.scale(this.Mv);p=Math.atan2(p.y,p.x)/this.iA;0>p&&(p=this.Jd.length+p);p=this.Jd.length-p;q=Math.atan2(q.y,
q.x)/this.iA;0>q&&(q=this.Jd.length+q);q=this.Jd.length-q;q<p&&(q+=this.Jd.length);var r=f.P.truncate(q);q=f.P.truncate(Math.ceil(p));p=new f.h;p.N(this.Jd[q%this.Jd.length]);p.Dt(this.sb,h);var v=10*this.ra;p.sub(k);p.length()<v&&(q+=1);p.N(this.Jd[r%this.Jd.length]);p.Dt(this.sb,h);p.sub(m);p.length()<v&&--r;k=r-q;k++;r=0;for(q%=this.Jd.length;r<k;r++,q=(q+1)%this.Jd.length)p.N(this.Jd[q]),p.Dt(this.sb,h),g.Ei(p),this.Zq();n&&g.Ei(m)};e.prototype.An=function(g,h,k,m,n){var p=new f.hd,q=p.gN(g,h);
p.Ip(this.nA,!1,!1);if(2>p.I(q)){if(0>n)return 1;n=g;p=new f.Ta;n.we(n.Ca(h),p);this.Au(k,p);return 1}var r=p.Oa(p.Ya(p.Ob(q))),v=new f.Ed;v.gg(-r.x,-r.y);p.Pc(v);if(m&&(this.nQ(p,q,n),2>p.I(q))){if(0>n)return 1;n=g;p=new f.Ta;n.we(n.Ca(h),p);this.Au(k,p);return 1}this.$d.length=0;var G=p.Ob(q);h=p.Ya(G);var S=1==n?p.Na(h):p.V(h);g=1==n?p.V(h):p.Na(h);var X=!0;m=new f.h;q=new f.h;var V=new f.h,Z=new f.h,ia=new f.h,ja=new f.h,ma=new f.h,sa=new f.h,va=new f.h,Aa=new f.h,za=this.sb;G=p.Ka(G);for(var Oa=
0;Oa<G;Oa++)p.D(g,q),X&&(p.D(h,m),p.D(S,V),sa.vc(m,V),sa.normalize(),Aa.GG(sa),Aa.scale(za),Z.add(Aa,m)),ma.vc(q,m),ma.normalize(),va.GG(ma),va.scale(za),ia.add(m,va),S=sa.yi(ma),X=sa.Sh(ma),0>S||0>X&&0==S?this.$d.push(l.Su(Z,ia,m,2,this.$d.length+1,this.$d.length-1)):Z.rb(ia)||(this.$d.push(l.construct(Z,m,this.$d.length+1,this.$d.length-1,"dummy")),this.$d.push(l.construct(m,ia,this.$d.length+1,this.$d.length-1,"dummy"))),ja.add(q,va),this.$d.push(l.Su(ia,ja,m,1,this.$d.length+1,this.$d.length-
1)),Z.N(ja),Aa.N(va),V.N(m),m.N(q),sa.N(ma),S=h,h=g,X=!1,g=1==n?p.V(h):p.Na(h);this.$d[this.$d.length-1].sh=0;this.$d[0].uh=this.$d.length-1;this.QV(k);v.gg(r.x,r.y);k.SD(v,k.ea()-1);return 1};e.prototype.QV=function(g){for(var h=this.tO(),k=!0,m=h+1,n=h;m!=h;n=m){var p=this.$d[n];m=-1!=p.sh?p.sh:(n+1)%this.$d.length;0!=p.Do&&(k&&g.Nt(p.Km),2==p.Do?this.AD(g,p.cw,p.Km,p.Xm,!0):g.Ei(p.Xm),k=!1)}};e.prototype.tO=function(){null==this.Ms&&(this.Ms=[null,null,null,null,null,null,null,null,null]);for(var g=
0,h=0,k=this.$d.length;h<k;){var m=this.$d[h];if(0!=(m.Do&3)){g=h;break}h=m.sh}k=g+1;for(h=g;k!=g;h=k){m=this.$d[h];k=m.sh;for(var n=1,p=null;k!=h;){p=this.$d[k];if(0!=(p.Do&3))break;k=p.sh;n++}1!=n&&1==(m.Do&p.Do)&&(null==this.Ns&&(this.Ns=new f.zb,this.nw=new f.zb),this.Ns.Ec(m.Km),this.Ns.Rc(m.Xm),this.nw.Ec(p.Km),this.nw.Rc(p.Xm),1==this.Ns.Fa(this.nw,this.Ms,null,null,this.dt)&&(m.Xm.N(this.Ms[0]),p.Km.N(this.Ms[0]),m.sh=k,p.uh=h))}return g};e.prototype.Hv=function(g,h,k){var m=new f.h;m.vc(k,
g);k=m.length();k=this.sb*this.sb-k*k*.25;if(0<k){k=Math.sqrt(k);m.normalize();m.cr();var n=new f.h;n.vc(h,g);if(n.Sh(m)+k>=this.sb)return!0}return!1};e.prototype.nQ=function(g,h,k){for(var m=0;1>m;m++){var n=!1,p=g.Ob(h),q=g.Ka(p);if(0==q)break;var r=q;if(3>q)break;!g.ec(p)&&(r=q-1);p=g.Ya(p);q=0<k?g.Na(p):g.V(p);for(var v=0<k?g.V(p):g.Na(p),G=q,S=!0,X=new f.h,V=new f.h,Z=new f.h,ia=new f.h,ja=new f.h,ma=f.h.construct(0,0),sa=new f.h,va=new f.h,Aa=new f.h,za=new f.h,Oa=this.sb,Ma=0,Sa=0;Sa<r;){g.D(v,
V);S&&(g.D(p,X),g.D(q,Z),G=q);va.vc(X,Z);va.normalize();sa.vc(V,X);sa.normalize();if(G==v)break;var Ta=va.yi(sa),Ya=va.Sh(sa),ab=!0;0>Ta||0>Ya&&0==Ta||!this.Hv(Z,X,V)||(ma.N(V),ab=!1,++Ma,n=!0);if(ab){if(0<Ma)for(;;){Ta=0<k?g.Na(G):g.V(G);if(Ta==p)break;g.D(Ta,ia);if(this.Hv(ia,Z,ma))Z.N(ia),G=Ta,ab=!1,++Ma;else{Ta!=v&&this.Hv(ia,Z,V)&&this.Hv(ia,X,V)&&(Z.N(ia),G=Ta,ab=!1,++Ma);break}}if(!ab)continue;if(0<Ma){G=0<k?g.Na(q):g.V(q);for(S=1;S<Ma;S++)ab=0<k?g.Na(G):g.V(G),g.pd(G,!0),G=ab;Aa.vc(X,Z);Ma=
Aa.length();Ma=Oa*Oa-Ma*Ma*.25;Ma=Math.sqrt(Ma);Oa-Ma>.5*this.wk?(ja.add(Z,X),ja.scale(.5),Aa.normalize(),Aa.cr(),za.N(Aa),za.scale(Oa-Ma),ja.add(za),g.mf(q,ja)):g.pd(q,!0);Ma=0}Z.N(X);G=p}X.N(V);q=p;p=v;v=0<k?g.V(p):g.Na(p);Sa++;S=!1}if(0<Ma){G=0<k?g.Na(q):g.V(q);for(S=1;S<Ma;S++)ab=0<k?g.Na(G):g.V(G),g.pd(G,!0),G=ab;ja.add(Z,X);ja.scale(.5);Aa.vc(X,Z);Ma=Aa.length();Ma=Oa*Oa-Ma*Ma*.25;Ma=Math.sqrt(Ma);Aa.normalize();Aa.cr();za.N(Aa);za.scale(Oa-Ma);ja.add(za);g.mf(q,ja)}g.Ip(this.nA,!1,!1);if(!n)break}};
e.prototype.zG=function(g,h){if(1==g.Ka(h))return!0;var k=new f.l;g.Tj(h,k);return Math.max(k.S(),k.da())<.5*this.wk?!0:!1};e.prototype.yG=function(g){var h=new f.l;g.A(h);return Math.max(h.S(),h.da())<.5*this.wk?!0:!1};e.prototype.OV=function(g){g=f.yC.local().W(g,.25*this.wk,!1,this.Vb);for(var h=0,k=0,m=g.ea();k<m;k++)h=Math.max(g.Ka(k),h);if(32>h)return this.qq=!1,g;this.qq=!0;return f.Hg.Nk(g,this.dt,!1,!0,this.Vb)};e.prototype.Au=function(g,h){h=h.D();if(null!=this.Jd&&0!==this.Jd.length){var k=
new f.h;k.N(this.Jd[0]);k.Dt(this.sb,h);g.Nt(k);for(var m=1,n=this.Jd.length;m<n;m++)k.N(this.Jd[m]),k.Dt(this.sb,h),g.Ei(k)}else{m=this.kE();k=f.P.truncate((m+3)/4);m=.5*Math.PI/k;n=Math.cos(m);for(var p=Math.sin(m),q=new f.h,r=3;0<=r;r--){q.na(0,this.sb);switch(r){case 0:for(m=0;m<k;m++)g.Aj(q.x+h.x,q.y+h.y),q.Ct(n,p);break;case 1:for(m=0;m<k;m++)g.Aj(-q.y+h.x,q.x+h.y),q.Ct(n,p);break;case 2:for(m=0;m<k;m++)g.Aj(-q.x+h.x,-q.y+h.y),q.Ct(n,p);break;default:for(g.rx(q.y+h.x,-q.x+h.y),m=1;m<k;m++)q.Ct(n,
p),g.Aj(q.y+h.x,-q.x+h.y)}this.Zq()}}};e.kx=function(g){g.Eh(1,0);return g};e.prototype.kX=function(g){g.Eh(2,this.ra);g.hm();return g};return e}();f.BK=d})(Y||(Y={}));(function(f){var w=function(){function l(c){this.Da=c;this.g=new f.hd;this.ed=new f.ja(0)}l.prototype.Nh=function(c,a,b){switch(a){case 0:if(c.v<b&&c.C<=b)break;else return c.v>=b?1:-1;case 1:if(c.G<b&&c.H<=b)break;else return c.G>=b?1:-1;case 2:if(c.v>=b&&c.C>b)break;else return c.C<=b?1:-1;case 3:if(!(c.G>=b&&c.H>b))return c.H<=b?
1:-1}return 0};l.prototype.vy=function(c,a){return 1736==c.K()?this.xy(c,a):this.yy(c)};l.prototype.xy=function(c,a){if(0==this.Da.S()||0==this.Da.da())return c.Ja();var b=new f.l;c.yc(b);this.Y=this.g.Ib(c);var d=new f.l,e=new f.l,g=new f.h,h=new f.h,k=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0];new f.hg;var n=new f.zb,p=new f.ja(0);p.Jb(Math.min(100,c.I()));for(var q=!1,r=0;!q&&4>r;r++){var v=!1,G=0!=(r&1),S=0;switch(r){case 0:S=this.Da.v;v=b.v<=S&&b.C>=S;break;case 1:S=this.Da.G;v=b.G<=S&&b.H>=S;
break;case 2:S=this.Da.C;v=b.v<=S&&b.C>=S;break;case 3:S=this.Da.H,v=b.G<=S&&b.H>=S}if(v)for(q=!0,v=this.g.Ob(this.Y);-1!=v;){var X=-1,V=-1,Z=this.g.Ya(v),ia=Z;do{var ja=this.g.cc(ia);null==ja&&(ja=n,this.g.D(ia,g),ja.Ec(g),this.g.D(this.g.V(ia),h),ja.Rc(h));ja.A(d);var ma=this.Nh(d,r,S),sa=0,va=-1;if(-1==ma){ja=ja.fq(G,S,k,m);sa=0<ja?this.g.Wl(ia,m,ja):0;sa+=1;var Aa=ia,za=this.g.V(Aa);for(ja=0;ja<sa;ja++){this.g.D(Aa,g);this.g.D(za,h);va=this.g.cc(Aa);null==va&&(va=n,va.Ec(g),va.Rc(h));va.A(e);
va=this.Nh(e,r,S);if(-1==va){if(G)va=Math.abs(g.y-S),Oa=Math.abs(h.y-S),va<Oa?(g.y=S,this.g.mf(Aa,g)):(h.y=S,this.g.mf(za,h));else{va=Math.abs(g.x-S);var Oa=Math.abs(h.x-S);va<Oa?(g.x=S,this.g.mf(Aa,g)):(h.x=S,this.g.mf(za,h))}va=this.g.cc(Aa);null==va&&(va=n,va.Ec(g),va.Rc(h));va.A(e);va=this.Nh(e,r,S)}Oa=X;X=va;-1==V&&(V=X);0==Oa&&1==X||1==Oa&&0==X||0!=Oa||0!=X||p.add(Aa);1==X&&(q=!1);va=Aa=za;za=this.g.V(za)}}0==sa&&(Oa=X,X=ma,-1==V&&(V=X),0==Oa&&1==X||1==Oa&&0==X||0!=Oa||0!=X||p.add(ia),1==X&&
(q=!1),va=this.g.V(ia));ia=va}while(ia!=Z);0==V&&0==X&&p.add(Z);ja=0;for(X=p.size;ja<X;ja++)V=p.get(ja),this.g.pd(V,!1);p.clear(!1);v=3>this.g.Ka(v)?this.g.ar(v):this.g.Sb(v)}}if(q)return c.Ja();this.zB();0<a&&this.Hy(a);return this.g.Ke(this.Y)};l.prototype.yy=function(c){var a=new f.l,b=new f.l,d=[0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0],g=new f.hg,h=c,k=new f.l;c.yc(k);for(var m=0;4>m;m++){var n=!1,p=0!=(m&1),q=0;switch(m){case 0:q=this.Da.v;n=k.v<=q&&k.C>=q;break;case 1:q=this.Da.G;n=k.G<=q&&
k.H>=q;break;case 2:q=this.Da.C;n=k.v<=q&&k.C>=q;break;case 3:q=this.Da.H,n=k.G<=q&&k.H>=q}if(n){n=h;h=c.Ja();n=n.Ha();n.aj();for(var r,v=new f.h;n.ab();)for(var G,S=!0;n.Ia();){var X=n.ia();X.A(a);var V=this.Nh(a,m,q);if(-1==V){if(V=X.fq(p,q,d,e),0<V){var Z=0;r=X.ac();for(var ia=0;ia<=V;ia++)if(G=ia<V?e[ia]:1,Z!=G){X.dh(Z,G,g);var ja=g.get();ja.Ec(r);ia<V&&(p?(v.x=d[ia],v.y=q):(v.x=q,v.y=d[ia]),ja.Rc(v));ja.A(b);var ma=this.Nh(b,m,q);if(-1==ma){r=ja.ac();Z=ja.xc();if(p)ma=Math.abs(r.y-q),sa=Math.abs(Z.y-
q),ma<sa?(r.y=q,ja.Ec(r)):(Z.y=q,ja.Rc(Z));else{ma=Math.abs(r.x-q);var sa=Math.abs(Z.x-q);ma<sa?(r.x=q,ja.Ec(r)):(Z.x=q,ja.Rc(Z))}ja.A(b);ma=this.Nh(b,m,q)}r=ja.xc();Z=G;G=ma;1==G?(h.oc(ja,S),S=!1):S=!0}}}else G=V,1==G?(h.oc(X,S),S=!1):S=!0}}}return h};l.prototype.zB=function(){this.li=-1;this.Xl(!1,this.Da.v);this.Xl(!1,this.Da.C);this.Xl(!0,this.Da.G);this.Xl(!0,this.Da.H);this.ed.resize(0);this.ed.Jb(100);this.li=this.g.Hd();for(var c=new f.h,a=this.g.Ob(this.Y);-1!=a;a=this.g.Sb(a))for(var b=
this.g.Ya(a),d=0,e=this.g.Ka(a);d<e;d++,b=this.g.V(b))if(this.g.D(b,c),this.Da.v==c.x||this.Da.C==c.x||this.Da.G==c.y||this.Da.H==c.y)this.g.Sa(b,this.li,this.ed.size),this.ed.add(b);this.Pl(!1,this.Da.v);this.Pl(!1,this.Da.C);this.Pl(!0,this.Da.G);this.Pl(!0,this.Da.H);this.Oy()};l.prototype.Hy=function(c){for(var a=new f.h,b=new f.h,d=f.P.lg(2048,0),e=this.g.Ob(this.Y);-1!=e;e=this.g.Sb(e)){var g=this.g.Ya(e),h=g;do{var k=this.g.V(h);this.g.D(h,a);var m=-1;a.x==this.Da.v?(this.g.D(k,b),b.x==this.Da.v&&
(m=1)):a.x==this.Da.C&&(this.g.D(k,b),b.x==this.Da.C&&(m=1));a.y==this.Da.G?(this.g.D(k,b),b.y==this.Da.G&&(m=0)):a.y==this.Da.H&&(this.g.D(k,b),b.y==this.Da.H&&(m=0));if(-1!=m&&(m=f.h.ub(a,b),m=f.P.truncate(Math.min(Math.ceil(m/c),2048)),!(1>=m))){for(var n=1;n<m;n++)d[n-1]=1*n/m;this.g.Wl(h,d,m-1)}h=k}while(h!=g)}};l.prototype.Xl=function(c,a){var b=this.g.Hd(),d=new f.h,e=new f.ja(0);e.Jb(100);for(var g=this.g.Ob(this.Y);-1!=g;g=this.g.Sb(g))for(var h=this.g.Ya(g),k=0,m=this.g.Ka(g);k<m;k++){var n=
this.g.V(h);this.g.D(h,d);if(c?d.y==a:d.x==a)if(this.g.D(n,d),c?d.y==a:d.x==a)1!=this.g.Qa(h,b)&&(e.add(h),this.g.Sa(h,b,1)),1!=this.g.Qa(n,b)&&(e.add(n),this.g.Sa(n,b,1));h=n}this.g.Ud(b);if(!(3>e.size)){var p=this;e.Wd(0,e.size,function(ma,sa){return p.Oh(ma,sa)});b=new f.h;g=new f.h;h=new f.h;g.Sc();var q=-1;k=new f.ja(0);m=new f.ja(0);n=this.g.Hd();for(var r=this.g.Hd(),v=0,G=e.size;v<G;v++){var S=e.get(v);this.g.D(S,d);if(!d.rb(g)){if(-1!=q){for(var X=q;X<v;X++){q=e.get(X);var V=this.g.V(q);
S=this.g.Na(q);var Z=!1;0>this.Oh(q,V)&&(this.g.D(V,b),c?b.y==a:b.x==a)&&(k.add(q),Z=!0,this.g.Sa(q,r,1));0>this.Oh(q,S)&&(this.g.D(S,b),c?b.y==a:b.x==a)&&(Z||k.add(q),this.g.Sa(q,n,1))}X=0;for(Z=k.size;X<Z;X++){q=k.get(X);S=this.g.Qa(q,n);V=this.g.Qa(q,r);if(1==S){S=this.g.Na(q);this.g.D(S,h);var ia=[0];ia[0]=0;if(!h.rb(d)){var ja=f.h.ub(g,h);ia[0]=f.h.ub(h,d)/ja;0==ia[0]?ia[0]=2.220446049250313E-16:1==ia[0]&&(ia[0]=.9999999999999998);this.g.Wl(S,ia,1);S=this.g.Na(q);this.g.mf(S,d);m.add(S);this.g.Sa(S,
n,1);this.g.Sa(S,r,-1)}}1==V&&(V=this.g.V(q),this.g.D(V,h),ia=[0],ia[0]=0,h.rb(d)||(ja=f.h.ub(g,h),ia[0]=f.h.ub(g,d)/ja,0==ia[0]?ia[0]=2.220446049250313E-16:1==ia[0]&&(ia[0]=.9999999999999998),this.g.Wl(q,ia,1),S=this.g.V(q),this.g.mf(S,d),m.add(S),this.g.Sa(S,n,-1),this.g.Sa(S,r,1)))}q=k;k=m;m=q;m.clear(!1)}q=v;g.N(d)}}this.g.Ud(n);this.g.Ud(r)}};l.prototype.Pl=function(c,a){var b=new f.h,d=new f.ja(0);d.Jb(100);for(var e=this.g.Hd(),g=0,h=this.ed.size;g<h;g++){var k=this.ed.get(g);if(-1!=k){var m=
this.g.V(k);this.g.D(k,b);if(c?b.y==a:b.x==a)if(this.g.D(m,b),c?b.y==a:b.x==a)-2!=this.g.Qa(k,e)&&(d.add(k),this.g.Sa(k,e,-2)),-2!=this.g.Qa(m,e)&&(d.add(m),this.g.Sa(m,e,-2))}}if(0!=d.size){var n=this;d.Wd(0,d.size,function(sa,va){return n.Oh(sa,va)});g=0;for(h=d.size;g<h;g++){var p=d.get(g);this.g.Sa(p,e,g)}k=new f.h;m=new f.h;m.Sc();var q=-1;g=0;for(h=d.size;g<h;g++)if(p=d.get(g),-1!=p&&(this.g.D(p,b),!b.rb(m))){if(-1!=q)for(;;){p=!1;for(var r=1<g-q?g-1:g,v=q;v<r;v++){var G=d.get(v);if(-1!=G){var S=
-1,X=this.g.V(G);0>this.Oh(G,X)&&(this.g.D(X,k),c?k.y==a:k.x==a)&&(S=X);X=-1;var V=this.g.Na(G);0>this.Oh(G,V)&&(this.g.D(V,k),c?k.y==a:k.x==a)&&(X=V);if(-1!=S&&-1!=X)this.Mh(G,d,e),this.g.pd(G,!1),this.Mh(S,d,e),this.g.pd(S,!1),p=!0;else if(-1!=S||-1!=X){for(V=v+1;V<g;V++){var Z=d.get(V);if(-1!=Z){var ia=this.g.V(Z),ja=-1;0>this.Oh(Z,ia)&&(this.g.D(ia,k),c?k.y==a:k.x==a)&&(ja=ia);ia=this.g.Na(Z);var ma=-1;0>this.Oh(Z,ia)&&(this.g.D(ia,k),c?k.y==a:k.x==a)&&(ma=ia);if(-1!=ja&&-1!=ma){this.Mh(Z,d,e);
this.g.pd(Z,!1);this.Mh(ja,d,e);this.g.pd(ja,!1);p=!0;break}if(-1!=S&&-1!=ma){this.At(d,G,S,Z,ma,e);p=!0;break}else if(-1!=X&&-1!=ja){this.At(d,Z,ja,G,X,e);p=!0;break}}}if(p)break}}}if(!p)break}q=g;m.N(b)}}this.g.Ud(e)};l.prototype.Mh=function(c,a,b){b=this.g.Qa(c,b);a.set(b,-1);b=this.g.Qa(c,this.li);this.ed.set(b,-1);a=this.g.cd(c);-1!=a&&this.g.Ya(a)==c&&(this.g.Kf(a,-1),this.g.Yg(a,-1))};l.prototype.At=function(c,a,b,d,e,g){this.g.Cc(a,d);this.g.Dc(d,a);this.g.Dc(b,e);this.g.Cc(e,b);this.Mh(d,
c,g);this.g.oi(d,!1);this.Mh(e,c,g);this.g.oi(e,!0)};l.prototype.Oy=function(){for(var c=0,a=this.ed.size;c<a;c++){var b=this.ed.get(c);-1!=b&&this.g.cj(b,-1)}for(var d=0,e=0,g=this.g.Ob(this.Y);-1!=g;){var h=this.g.Ya(g);if(-1==h||g!=this.g.cd(h)){var k=g;g=this.g.Sb(g);this.g.Kf(k,-1);this.g.br(k)}else{b=h;k=0;do this.g.cj(b,g),k++,b=this.g.V(b);while(b!=h);2>=k?(b=this.g.Qa(h,this.li),this.ed.set(b,-1),h=this.g.pd(h,!1),2==k&&(b=this.g.Qa(h,this.li),this.ed.set(b,-1),this.g.pd(h,!1)),k=g,g=this.g.Sb(g),
this.g.Kf(k,-1),this.g.br(k)):(this.g.ep(g,!1),this.g.Yg(g,this.g.Na(h)),this.g.Xj(g,k),e+=k,d++,g=this.g.Sb(g))}}c=0;for(a=this.ed.size;c<a;c++)if(b=this.ed.get(c),-1!=b&&(g=this.g.cd(b),-1==g)){g=this.g.wf(this.Y,-1);k=0;h=b;do this.g.cj(b,g),k++,b=this.g.V(b);while(b!=h);2>=k?(b=this.g.Qa(h,this.li),this.ed.set(b,-1),h=this.g.pd(h,!1),2==k&&(b=this.g.Qa(h,this.li),0<=b&&this.ed.set(b,-1),this.g.pd(h,!1)),k=g,this.g.Kf(k,-1),this.g.br(k)):(this.g.mn(g,!0),this.g.Xj(g,k),this.g.Kf(g,h),this.g.Yg(g,
this.g.Na(h)),this.g.ep(g,!1),e+=k,d++)}this.g.Tl(this.Y,d);this.g.Vj(this.Y,e);c=0;for(a=this.g.ld;-1!=a;a=this.g.ve(a))c+=this.g.I(a);this.g.WB(c)};l.wy=function(c,a,b){return(new l(a)).vy(c,b)};l.clip=function(c,a,b,d){if(c.B())return c;if(a.B())return c.Ja();b=c.K();if(33==b)return d=c.D(),a.contains(d)?c:c.Ja();if(197==b)return d=new f.l,c.A(d),d.Fa(a)?(a=new f.Hh,c.copyTo(a),a.Yo(d),a):c.Ja();var e=new f.l;c.yc(e);if(a.contains(e))return c;if(!a.isIntersecting(e))return c.Ja();e=c.Cb;if(null!=
e&&(e=e.Gk,null!=e)){e=e.So(a);if(1==e){if(1736!=b)throw f.i.Ra();c=new f.Ea(c.description);c.vp(a);return c}if(0==e)return c.Ja()}switch(b){case 550:b=null;e=c.I();for(var g=c.vb(0),h=0,k=0;k<e;k++)d=new f.h,g.uc(2*k,d),a.contains(d)||(0==h&&(b=c.Ja()),h<k&&b.Gd(c,h,k),h=k+1);0<h&&b.Gd(c,h,e);return 0==h?c:b;case 1736:case 1607:return l.wy(c,a,d);default:throw f.i.Ra();}};l.prototype.Oh=function(c,a){var b=new f.h;this.g.D(c,b);c=new f.h;this.g.D(a,c);return b.compare(c)};return l}();f.Vd=w})(Y||
(Y={}));(function(f){var w=function(){function l(c,a){this.Da=c;this.g=new f.hd;this.ed=new f.ja(0);this.nd=a}l.prototype.Nh=function(c,a,b){switch(a){case 0:if(c.v<b&&c.C<=b)break;else return c.v>=b?1:-1;case 1:if(c.G<b&&c.H<=b)break;else return c.G>=b?1:-1;case 2:if(c.v>=b&&c.C>b)break;else return c.C<=b?1:-1;case 3:if(!(c.G>=b&&c.H>b))return c.H<=b?1:-1}return 0};l.prototype.vy=function(c,a){return 1736==c.K()?this.xy(c,a):this.yy(c)};l.prototype.xy=function(c,a){if(0==this.Da.S()||0==this.Da.da())return c.Ja();
var b=new f.l;c.yc(b);this.Y=this.g.Ib(c);var d=new f.l,e=new f.l,g=new f.h,h=new f.h,k=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0],n=new f.zb,p=new f.ja(0);p.Jb(256);for(var q=!1,r=0;!q&&4>r;r++){var v=!1,G=0!=(r&1),S=0;switch(r){case 0:S=this.Da.v;v=b.v<=S&&b.C>=S;break;case 1:S=this.Da.G;v=b.G<=S&&b.H>=S;break;case 2:S=this.Da.C;v=b.v<=S&&b.C>=S;break;case 3:S=this.Da.H,v=b.G<=S&&b.H>=S}if(v)for(q=!0,v=this.g.Ob(this.Y);-1!=v;){var X=!0,V=-1,Z=-1,ia=this.g.Ya(v),ja=ia;do{var ma=this.g.cc(ja);null==
ma&&(ma=n,this.g.D(ja,g),ma.Ec(g),this.g.D(this.g.V(ja),h),ma.Rc(h));ma.A(d);var sa=this.Nh(d,r,S),va=0,Aa=-1;if(-1==sa){ma=ma.fq(G,S,k,m);va=0<ma?this.g.DX(ja,m,ma):0;va+=1;var za=ja,Oa=this.g.V(za);for(ma=0;ma<va;ma++){this.g.D(za,g);this.g.D(Oa,h);Aa=this.g.cc(za);null==Aa&&(Aa=n,Aa.Ec(g),Aa.Rc(h));Aa.A(e);Aa=this.Nh(e,r,S);if(-1==Aa){if(G)Aa=Math.abs(g.y-S),Ma=Math.abs(h.y-S),Aa<Ma?(g.y=S,this.g.mf(za,g)):(h.y=S,this.g.mf(Oa,h));else{Aa=Math.abs(g.x-S);var Ma=Math.abs(h.x-S);Aa<Ma?(g.x=S,this.g.mf(za,
g)):(h.x=S,this.g.mf(Oa,h))}Aa=this.g.cc(za);null==Aa&&(Aa=n,Aa.Ec(g),Aa.Rc(h));Aa.A(e);Aa=this.Nh(e,r,S)}Ma=V;V=Aa;-1==Z&&(Z=V);0==Ma&&1==V||1==Ma&&0==V||0!=Ma||0!=V||p.add(za);1==V&&(X=q=!1);Aa=za=Oa;Oa=this.g.V(Oa)}}0==va&&(Ma=V,V=sa,-1==Z&&(Z=V),0==Ma&&1==V||1==Ma&&0==V||0!=Ma||0!=V||p.add(ja),1==V&&(X=q=!1),Aa=this.g.V(ja));ja=Aa;if(256<=p.size){ma=1;for(sa=p.size-1;ma<sa;ma++)va=p.get(ma),this.g.pd(va,!1);p.set(1,p.Gc());p.Dh(2)}}while(ja!=ia);if(!X)for(0==Z&&0==V&&p.add(ia),ma=0,sa=p.size;ma<
sa;ma++)va=p.get(ma),this.g.pd(va,!1);p.clear(!1);v=X||0==this.g.Ka(v)?this.g.ar(v):this.g.Sb(v)}}if(q)return c.Ja();this.zB();0<a&&this.Hy(a);return this.g.Ke(this.Y)};l.prototype.yy=function(c){var a=new f.l,b=new f.l,d=[0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0],g=new f.hg,h=c,k=new f.l;c.yc(k);for(var m=new f.h,n=new f.h,p=null,q=null,r=0;4>r;r++){var v=!1,G=0!=(r&1),S=0;switch(r){case 0:S=this.Da.v;v=k.v<=S&&k.C>=S;break;case 1:S=this.Da.G;v=k.G<=S&&k.H>=S;break;case 2:S=this.Da.C;v=k.v<=S&&k.C>=
S;break;case 3:S=this.Da.H,v=k.G<=S&&k.H>=S}if(v)for(v=h,h=c.Ja(),v=v.Ha(),v.aj();v.ab();)for(var X,V=!0;v.Ia();){var Z=v.ia();Z.A(a);var ia=this.Nh(a,r,S);if(-1==ia){if(ia=Z.fq(G,S,d,e),0<ia){var ja=0;Z.$p(m);for(var ma=0;ma<=ia;ma++)if(X=ma<ia?e[ma]:1,ja!=X){Z.dh(ja,X,g);var sa=g.get();sa.Ec(m);ma<ia&&(G?(n.x=d[ma],n.y=S):(n.x=S,n.y=d[ma]),sa.Rc(n));sa.A(b);var va=this.Nh(b,r,S);-1==va&&(null==p&&(p=new f.h),null==q&&(q=new f.h),sa.$p(p),sa.Vr(q),G?(ja=Math.abs(p.y-S),va=Math.abs(q.y-S),ja<va?(p.y=
S,sa.Ec(p)):(q.y=S,sa.Rc(q))):(ja=Math.abs(p.x-S),va=Math.abs(q.x-S),ja<va?(p.x=S,sa.Ec(p)):(q.x=S,sa.Rc(q))),sa.A(b),va=this.Nh(b,r,S));sa.Vr(m);ja=X;X=va;1==X?(h.oc(sa,V),V=!1):V=!0}}}else X=ia,1==X?(h.oc(Z,V),V=!1):V=!0}}return h};l.prototype.zB=function(){this.li=-1;this.Xl(!1,this.Da.v);this.Xl(!1,this.Da.C);this.Xl(!0,this.Da.G);this.Xl(!0,this.Da.H);this.ed.resize(0);this.ed.Jb(100);this.li=this.g.Hd();for(var c=new f.h,a=this.g.Ob(this.Y);-1!=a;a=this.g.Sb(a))for(var b=this.g.Ya(a),d=0,e=
this.g.Ka(a);d<e;d++,b=this.g.V(b))if(this.g.D(b,c),this.Da.v==c.x||this.Da.C==c.x||this.Da.G==c.y||this.Da.H==c.y)this.g.Sa(b,this.li,this.ed.size),this.ed.add(b);this.Pl(!1,this.Da.v);this.Pl(!1,this.Da.C);this.Pl(!0,this.Da.G);this.Pl(!0,this.Da.H);this.Oy()};l.prototype.Hy=function(c){for(var a=new f.h,b=new f.h,d=null,e=null,g=f.P.lg(2048,0),h=this.g.Ob(this.Y);-1!=h;h=this.g.Sb(h)){var k=this.g.Ya(h),m=k;do{var n=this.g.V(m);this.g.D(m,a);var p=-1;a.x==this.Da.v?(this.g.D(n,b),b.x==this.Da.v&&
(p=1)):a.x==this.Da.C&&(this.g.D(n,b),b.x==this.Da.C&&(p=1));a.y==this.Da.G?(this.g.D(n,b),b.y==this.Da.G&&(p=0)):a.y==this.Da.H&&(this.g.D(n,b),b.y==this.Da.H&&(p=0));if(-1!=p){null==d&&(d=new f.h);null==e&&(e=new f.h);d.N(a);e.na(0,0);if(0==p){var q=a.x-this.Da.v;e.x=f.mc.sign(b.x-a.x);d.x=c*f.mc.Dn(Math.floor(Math.abs(q/c)),q)+this.Da.v;0>d.x&&(d.x+=c)}else q=a.y-this.Da.G,e.y=f.mc.sign(b.y-a.y),d.y=c*f.mc.Dn(Math.floor(Math.abs(q/c)),q)+this.Da.G,0>d.y&&(d.y+=c);q=0!=p?b.y-a.y:b.x-a.x;var r=Math.abs(q);
if(65536<r/c)throw f.i.ga("internal error");if(0<r){r=f.P.truncate(r/c)+2;g.length<r&&(g=f.P.lg(r));for(var v=r=0;;v++){var G=new f.h;G.x=d.x+e.x*v*c;G.y=d.y+e.y*v*c;G=(0!=p?G.y-a.y:G.x-a.x)/q;if(1<=G)break;0>=G||(g[r]=G,r++)}0!=r&&this.g.Wl(m,g,r)}}m=n}while(m!=k)}};l.prototype.Xl=function(c,a){for(var b=-1,d=new f.h,e=null,g=this.g.Ob(this.Y);-1!=g;g=this.g.Sb(g))for(var h=this.g.Ya(g),k=0,m=this.g.Ka(g);k<m;k++){var n=this.g.V(h);this.g.D(h,d);if(c?d.y==a:d.x==a)if(this.g.D(n,d),c?d.y==a:d.x==
a)-1==b&&(b=this.g.Hd()),null==e&&(e=new f.ja(0),e.Jb(100)),1!=this.g.Qa(h,b)&&(e.add(h),this.g.Sa(h,b,1)),1!=this.g.Qa(n,b)&&(e.add(n),this.g.Sa(n,b,1));h=n}-1!=b&&this.g.Ud(b);if(!(null==e||3>e.size)){var p=this;e.Wd(0,e.size,function(ma,sa){return p.Oh(ma,sa)});b=new f.h;g=new f.h;h=new f.h;g.Sc();var q=-1;k=new f.ja(0);m=new f.ja(0);n=null;for(var r=this.g.Hd(),v=this.g.Hd(),G=0,S=e.size;G<S;G++){var X=e.get(G);this.g.D(X,d);if(!d.rb(g)){if(-1!=q){for(var V=q;V<G;V++){q=e.get(V);var Z=this.g.V(q);
X=this.g.Na(q);var ia=!1;this.g.D(Z,b);0>g.compare(b)&&(c?b.y==a:b.x==a)&&(k.add(q),ia=!0,this.g.Sa(q,v,1));this.g.D(X,b);0>g.compare(b)&&(c?b.y==a:b.x==a)&&(ia||k.add(q),this.g.Sa(q,r,1))}V=0;for(ia=k.size;V<ia;V++){q=k.get(V);X=this.g.Qa(q,r);Z=this.g.Qa(q,v);if(1==X&&(X=this.g.Na(q),this.g.D(X,h),!h.rb(d))){null==n&&(n=[]);var ja=f.h.ub(g,h);n[0]=f.h.ub(h,d)/ja;0==n[0]?n[0]=2.220446049250313E-16:1==n[0]&&(n[0]=.9999999999999998);this.g.Wl(X,n,1);X=this.g.Na(q);this.g.mf(X,d);m.add(X);this.g.Sa(X,
r,1);this.g.Sa(X,v,-1)}1==Z&&(Z=this.g.V(q),this.g.D(Z,h),h.rb(d)||(null==n&&(n=[]),ja=f.h.ub(g,h),n[0]=f.h.ub(g,d)/ja,0==n[0]?n[0]=2.220446049250313E-16:1==n[0]&&(n[0]=.9999999999999998),this.g.Wl(q,n,1),X=this.g.V(q),this.g.mf(X,d),m.add(X),this.g.Sa(X,r,-1),this.g.Sa(X,v,1)))}q=k;k=m;m=q;m.clear(!1)}q=G;g.N(d)}}this.g.Ud(r);this.g.Ud(v)}};l.prototype.Pl=function(c,a){for(var b=new f.h,d=null,e=-1,g=0,h=this.ed.size;g<h;g++){var k=this.ed.get(g);if(-1!=k){var m=this.g.V(k);this.g.D(k,b);if(c?b.y==
a:b.x==a)if(this.g.D(m,b),c?b.y==a:b.x==a)-1==e&&(e=this.g.Hd()),null==d&&(d=new f.ja(0),d.Jb(100)),-2!=this.g.Qa(k,e)&&(d.add(k),this.g.Sa(k,e,-2)),-2!=this.g.Qa(m,e)&&(d.add(m),this.g.Sa(m,e,-2))}}if(null==d)-1!=e&&this.g.Ud(e);else{var n=this;d.Wd(0,d.size,function(sa,va){return n.Oh(sa,va)});g=0;for(h=d.size;g<h;g++){var p=d.get(g);this.g.Sa(p,e,g)}k=new f.h;m=new f.h;m.Sc();var q=-1;g=0;for(h=d.size;g<h;g++)if(p=d.get(g),-1!=p&&(this.g.D(p,b),!b.rb(m))){if(-1!=q)for(;;){p=!1;for(var r=1<g-q?
g-1:g,v=q;v<r;v++){var G=d.get(v);if(-1!=G){var S=-1,X=this.g.V(G);this.g.D(X,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(S=X);X=-1;var V=this.g.Na(G);this.g.D(V,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(X=V);if(-1!=S&&-1!=X)this.Mh(G,d,e),this.g.pd(G,!1),this.Mh(S,d,e),this.g.pd(S,!1),p=!0;else if(-1!=S||-1!=X){for(V=v+1;V<g;V++){var Z=d.get(V);if(-1!=Z){var ia=this.g.V(Z),ja=-1;this.g.D(ia,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(ja=ia);ia=this.g.Na(Z);var ma=-1;this.g.D(ia,k);0>m.compare(k)&&(c?k.y==a:k.x==
a)&&(ma=ia);if(-1!=ja&&-1!=ma){this.Mh(Z,d,e);this.g.pd(Z,!1);this.Mh(ja,d,e);this.g.pd(ja,!1);p=!0;break}if(-1!=S&&-1!=ma){this.At(d,G,S,Z,ma,e);p=!0;break}else if(-1!=X&&-1!=ja){this.At(d,Z,ja,G,X,e);p=!0;break}}}if(p)break}}}if(!p)break}q=g;m.N(b)}this.g.Ud(e)}};l.prototype.Mh=function(c,a,b){b=this.g.Qa(c,b);a.set(b,-1);b=this.g.Qa(c,this.li);this.ed.set(b,-1);a=this.g.cd(c);-1!=a&&this.g.Ya(a)==c&&(this.g.Kf(a,-1),this.g.Yg(a,-1))};l.prototype.At=function(c,a,b,d,e,g){this.g.Cc(a,d);this.g.Dc(d,
a);this.g.Dc(b,e);this.g.Cc(e,b);this.Mh(d,c,g);this.g.oi(d,!1);this.Mh(e,c,g);this.g.oi(e,!0)};l.prototype.Oy=function(){for(var c=0,a=this.ed.size;c<a;c++){var b=this.ed.get(c);-1!=b&&this.g.cj(b,-1)}for(var d=0,e=0,g=this.g.Ob(this.Y);-1!=g;){var h=this.g.Ya(g);if(-1==h||g!=this.g.cd(h)){var k=g;g=this.g.Sb(g);this.g.Kf(k,-1);this.g.br(k)}else{b=h;k=0;do this.g.cj(b,g),k++,b=this.g.V(b);while(b!=h);this.g.ep(g,!1);this.g.Yg(g,this.g.Na(h));this.g.Xj(g,k);e+=k;d++;g=this.g.Sb(g)}}c=0;for(a=this.ed.size;c<
a;c++)if(b=this.ed.get(c),-1!=b&&(g=this.g.cd(b),-1==g)){g=this.g.wf(this.Y,-1);k=0;h=b;do this.g.cj(b,g),k++,b=this.g.V(b);while(b!=h);2>=k?(b=this.g.Qa(h,this.li),this.ed.set(b,-1),h=this.g.pd(h,!1),2==k&&(b=this.g.Qa(h,this.li),0<=b&&this.ed.set(b,-1),this.g.pd(h,!1)),k=g,this.g.Kf(k,-1),this.g.br(k)):(this.g.mn(g,!0),this.g.Xj(g,k),this.g.Kf(g,h),this.g.Yg(g,this.g.Na(h)),this.g.ep(g,!1),e+=k,d++)}this.g.Tl(this.Y,d);this.g.Vj(this.Y,e);c=0;for(a=this.g.ld;-1!=a;a=this.g.ve(a))c+=this.g.I(a);
this.g.WB(c)};l.wy=function(c,a,b,d){return(new l(a,d)).vy(c,b)};l.clip=function(c,a,b,d,e){return l.Pu(c,a,null,b,d,e)};l.Pu=function(c,a,b,d,e,g){var h=c.K();if(33==h)return e=c.D(),a.contains(e)?c:c.Ja();if(197==h)return e=new f.l,c.A(e),e.Fa(a)?(a=new f.Hh,c.copyTo(a),a.Yo(e),a):c.Ja();if(c.B())return c;if(a.B())return c.Ja();var k=new f.l;c.yc(k);if(a.contains(k))return c;if(!a.isIntersecting(k))return c.Ja();(null!=b||isNaN(d))&&f.ta.oy(b,a,!1);if(!f.ba.zj(h))throw f.i.O();b=c.Cb;if(null!=b&&
(b=b.Gk,null!=b)){b=b.So(a);if(1==b){if(1736!=h)throw f.i.ga("internal error");c=new f.Ea(c.description);c.vp(a);return c}if(0==b)return c.Ja()}switch(h){case 550:g=null;h=c.I();b=c.vb(0);d=0;e=new f.h;for(k=0;k<h;k++)b.uc(2*k,e),a.contains(e)||(0==d&&(g=c.Ja()),d<k&&g.Gd(c,d,k),d=k+1);0<d&&g.Gd(c,d,h);return 0==d?c:g;case 1736:case 1607:return l.wy(c,a,e,g);default:throw f.i.ga("internal error");}};l.prototype.Oh=function(c,a){var b=new f.h;this.g.D(c,b);c=new f.h;this.g.D(a,c);return b.compare(c)};
return l}();f.ti=w})(Y||(Y={}));(function(f){var w=new f.h,l=function(){function a(b,d,e,g,h){this.Rm=new f.h;this.Ek=new f.h;this.Ri=new f.h;this.g=b;this.Cw=e;this.oo=g;this.Rm=d;this.Al=h;this.Ek.Sc();this.Ri.Sc()}a.prototype.rE=function(b){this.g.D(b,this.Ek);b=f.P.truncate((this.Ek.x-this.Rm.x)*this.oo+.5);var d=f.P.truncate((this.Ek.y-this.Rm.y)*this.oo+.5);return c.dG(b,d)};a.prototype.ez=function(b){return this.g.Qa(b,this.Al)};a.prototype.Ky=function(b,d){this.g.D(b,this.Ek);this.g.D(d,this.Ri);
return c.Ev(this.Ek.x,this.Ek.y,this.Ri.x,this.Ri.y,this.Cw)};return a}();f.kY=function(){return function(){}}();var c=function(){function a(){this.Rm=new f.h;this.rq=[0,0,0,0];this.zs=[0,0,0,0];this.ro=this.Al=-1}a.cQ=function(b,d){var e=new a;e.g=b;e.ra=d;e.Cw=d*d;e.bw=2*d;e.oo=1/e.bw;return e.vO()};a.Ev=function(b,d,e,g,h){b-=e;d-=g;return b*b+d*d<=h};a.dG=function(b,d){return f.P.Vh(d,f.P.Vh(b))};a.prototype.xO=function(b,d){this.g.Hc(b,w);for(var e=(w.y-this.Rm.y)*this.oo,g=f.P.truncate((w.x-
this.Rm.x)*this.oo),h=f.P.truncate(e),k=e=0;1>=k;k+=1)for(var m=0;1>=m;m+=1){var n=a.dG(g+k,h+m),p=this.zl.kR(n);-1!=p&&(this.rq[e]=p,this.zs[e]=n,e++)}for(g=e-1;1<=g;g--)for(p=this.rq[g],h=g-1;0<=h;h--)if(p==this.rq[h]){this.zs[h]=-1;e--;g!=e&&(this.zs[g]=this.zs[e],this.rq[g]=this.rq[e]);break}for(h=0;h<e;h++)this.yO(b,this.zs[h],w,this.rq[h],d)};a.prototype.yO=function(b,d,e,g,h){for(var k=new f.h;-1!=g;g=this.zl.yR(g)){var m=this.zl.ka(g);b==m||-1!=d&&this.g.Qa(m,this.Al)!=d||(this.g.Hc(m,k),
a.Ev(e.x,e.y,k.x,k.y,this.Cw)&&h.add(g))}};a.prototype.Zm=function(b,d,e){var g=this.g.Qa(b,this.ro),h=this.g.Qa(d,this.ro);-1==g&&(g=this.Ad.Rh(),this.Ad.addElement(g,b),this.g.Sa(b,this.ro,g));-1==h?this.Ad.addElement(g,d):this.Ad.Cy(g,h);this.g.Sa(d,this.ro,-2);d=this.QT(b,d);e&&(e=this.mw.rE(b),this.g.Sa(b,this.Al,e));return d};a.OT=function(b,d,e){b.Nb(d);e=b;var g=new f.h;a.PT(b.D(),d.D(),g);e.Db(g)};a.PT=function(b,d,e){var g=b.x;b.x!=d.x&&(g=(1*b.x+1*d.x)/2);var h=b.y;b.y!=d.y&&(h=(1*b.y+
1*d.y)/2);e.na(g,h)};a.prototype.QT=function(b,d){var e=new f.h;this.g.D(b,e);var g=new f.h;this.g.D(d,g);var h=this.g.XF(b);d=this.g.XF(d);var k=h+d,m=0,n=e.x;e.x!=g.x&&(n=(e.x*h+g.x*d)/k,m++);var p=e.y;e.y!=g.y&&(p=(e.y*h+g.y*d)/k,m++);0<m&&this.g.Db(b,n,p);this.g.nX(b,k);return 0!=m};a.prototype.vO=function(){var b=this.g.gd,d=this.g.CF();this.Rm=d.hz();d=Math.max(d.da(),d.S())/2147483646;this.bw<d&&(this.bw=d,this.oo=1/this.bw);this.Ad=new f.cu;this.Ad.Bt(f.P.truncate(this.g.gd/3+1));this.Ad.hn(f.P.truncate(this.g.gd/
3+1));this.Al=this.g.Hd();this.ro=this.g.Hd();this.mw=new l(this.g,this.Rm,this.Cw,this.oo,this.Al);this.zl=new f.YK(f.P.truncate(4*b/3),this.mw);this.zl.sW(this.g.gd);b=!1;for(d=this.g.ld;-1!=d;d=this.g.ve(d))for(var e=this.g.Ob(d);-1!=e;e=this.g.Sb(e))for(var g=this.g.Ya(e),h=0,k=this.g.Ka(e);h<k;h++){var m=this.mw.rE(g);this.g.Sa(g,this.Al,m);this.zl.addElement(g,m);g=this.g.V(g)}var n=new f.ja(0);n.Jb(10);for(d=this.g.ld;-1!=d;d=this.g.ve(d))for(e=this.g.Ob(d);-1!=e;e=this.g.Sb(e))for(g=this.g.Ya(e),
h=0,k=this.g.Ka(e);h<k;h++){if(-2!=this.g.Qa(g,this.ro))for(m=this.g.Qa(g,this.Al),this.zl.kd(g,m);;){this.xO(g,n);if(0==n.size)break;m=!1;for(var p=0,q=n.size;p<q;p++){var r=n.get(p),v=this.zl.ka(r);this.zl.wd(r);m=this.Zm(g,v,p+1==q)||m}b=b||m;n.clear(!1);if(!m)break}g=this.g.V(g)}b&&this.pN();this.mw=this.zl=null;this.g.Ud(this.Al);this.g.Ud(this.ro);return b};a.prototype.pN=function(){for(var b=new f.h,d=this.Ad.je;-1!=d;d=this.Ad.lz(d)){var e=this.Ad.sc(d);this.g.D(this.Ad.ka(e),b);for(e=this.Ad.lb(e);-1!=
e;e=this.Ad.lb(e))this.g.mf(this.Ad.ka(e),b)}};return a}();f.$t=c})(Y||(Y={}));(function(f){var w=function(){function l(c){void 0===c&&(c=null);this.yg=null;this.Pb=!1;this.yg=null===c?[]:c}l.prototype.copyTo=function(c){if(c.Pb)throw f.i.ga("CompositeGeographicTransformation is read-only");for(var a=0;a<this.yg.length;a++)c.yg.push(this.yg[a].Pf())};l.prototype.count=function(){return this.yg.length};l.prototype.add=function(c){if(this.Pb)throw f.i.ga("CompositeGeographicTransformation is read-only");
this.yg.push(c.Pf())};l.prototype.clear=function(){if(this.Pb)throw f.i.ga("CompositeGeographicTransformation is read-only");this.yg.length=0};l.prototype.remove=function(c){if(this.Pb)throw f.i.ga("CompositeGeographicTransformation is read-only");this.yg.splice(c,1)};l.prototype.ig=function(){var c=new l;this.copyTo(c);return c};l.prototype.Pf=function(){return this.ig()};l.prototype.transform=function(c,a,b,d){if(c.length<a)throw f.i.ga("invalid Argument");var e=b;for(b=0;b<this.yg.length;b++){var g=
this.yg[b];if(null!=g.sm()){var h=g.Vn,k=h?1:0,m=h?g.sm().getGeogcs2():g.sm().getGeogcs1();m=m.getUnit().getUnitFactor();m=e/m;if(3.552713678800501E-15<Math.abs(m-1))for(e=0;e<a;e++)c[e][0]*=m,c[e][1]*=m;f.GC.geogToGeog(g.sm(),a,c,null,k);e=(h?g.sm().getGeogcs1():g.sm().getGeogcs2()).getUnit().getUnitFactor()}}m=e/d;if(3.552713678800501E-15<Math.abs(m-1))for(e=0;e<a;e++)c[e][0]*=m,c[e][1]*=m;return a};l.prototype.Nb=function(c){if(c==this)return!0;if(!(c instanceof l)||this.yg.length!=c.yg.length)return!1;
for(var a=0;a<this.yg.length;a++)if(!this.yg[a].Nb(c.yg[a]))return!1;return!0};l.prototype.ix=function(){this.Pb=!0};l.prototype.toString=function(){for(var c="CGT ("+this.count()+") ",a=0,b=this.count();a<b;++a)c+=this.yg[a].toString()+", ";return 200<c.length?c.substring(0,197)+"... ("+c.length.toString()+" characters)":c};l.create=function(){return new l};return l}();f.qC=w})(Y||(Y={}));(function(f){var w=Math.PI,l=2*Math.PI,c=Math.PI/2,a=function(){function e(){}e.NO=function(g,h){var k=new e;
k.x=g;k.y=h;k.type=0;k.Wh=0;return k};e.cl=function(g){var h=new e;h.x=g.x;h.y=g.y;h.type=0;h.Wh=0;return h};e.MO=function(g){var h=new e;h.x=g.x;h.y=g.y;h.type=g.type;h.Wh=g.Wh;return h};e.Qd=function(g,h,k){var m=new e;m.x=g.x+h*Math.cos(k);m.y=g.y+h*Math.sin(k);m.type=g.type;m.Wh=g.Wh;return m};e.Ru=function(g,h){var k=new e;k.x=.5*(g.x+h.x);k.y=.5*(g.y+h.y);k.type=g.type;k.Wh=g.Wh;return k};e.NE=function(g,h){var k=new e;k.x=g.x+.001*(h.x-g.x);k.y=g.y+.001*(h.y-g.y);k.type=g.type;k.Wh=g.Wh;return k};
return e}(),b=function(){return function(){}}();(function(e){e[e.Round=0]="Round";e[e.Bevel=1]="Bevel";e[e.Miter=2]="Miter";e[e.Square=3]="Square"})(f.$K||(f.$K={}));var d=function(){function e(g){this.HA=this.Zb=this.wg=null;this.nd=g}e.W=function(g,h,k,m,n,p){if(null==g)throw f.i.O();if(1>g.Eb())throw f.i.O();if(0==h||g.B())return g;p=new e(p);p.lo=g;p.La=h;p.ra=n;p.Mi=k;p.wA=m;return p.Qx()};e.prototype.ZL=function(){var g=this.lo,h=g.ac(),k=g.xc(),m=new f.h;m.vc(k,h);m.normalize();m.Jv();m.scale(this.La);
h.add(m);k.add(m);m=g.Ja();g.Ec(h);g.Rc(k);return m};e.prototype.YL=function(){var g=this.lo;if(0<this.La&&2!=this.Mi){var h=new f.Ea;h.bd(g,!1);this.lo=h;return this.Qx()}g=new f.Hh(g.aa);g.X(this.La,this.La);return g};e.prototype.nJ=function(g,h,k,m){return(h.x-g.x)*(m.x-k.x)+(h.y-g.y)*(m.y-k.y)};e.prototype.hc=function(g,h){if(void 0===h)this.Zb.push(g),this.gf++;else if(0==this.gf)this.hc(g);else{var k=this.Dw,m=this.wg[0==h?k-1:h-1],n=this.wg[h],p=this.nJ(m,n,this.Zb[this.gf-1],g);0<p?this.hc(g):
0>p&&(0<this.nJ(m,n,n,this.Zb[this.gf-1])?(n=this.wg[0==h?k-2:1==h?k-1:h-2],k=a.Qd(m,this.La,Math.atan2(m.y-n.y,m.x-n.x)-c),this.Zb[this.gf-1]=k,1==this.Mi||2==this.Mi?(k=a.Ru(k,m),this.hc(k),k=a.Qd(m,this.La,this.Lv+c),m=a.Ru(k,m),m.type|=256,this.hc(m)):(k=a.Qd(m,this.La,this.Lv+c),k.type|=256),this.hc(k),this.hc(g,h)):(k=a.Qd(n,this.La,this.Lv+c),this.hc(k),1==this.Mi||2==this.Mi?(k=a.Ru(k,n),this.hc(k),k=a.Qd(n,this.La,this.Wz-c),m=a.Ru(k,n),m.type|=256,this.hc(m)):(k=a.Qd(n,this.La,this.Wz-c),
k.type|=256),this.hc(k)))}};e.prototype.gE=function(){var g,h=this.Dw;this.gf=0;var k=.5*this.ra,m=0,n=0;for(g=0;g<h;g++){var p=this.wg[g],q=0==g?this.wg[h-1]:this.wg[g-1],r=g==h-1?this.wg[0]:this.wg[g+1],v=q.x-p.x,G=q.y-p.y,S=r.x-p.x,X=r.y-p.y,V=Math.atan2(G,v),Z=Math.atan2(X,S);this.Lv=V;this.Wz=Z;0==g&&(m=V,n=Z);v=v*X-S*G;G=Z;Z<V&&(Z+=l);if(0<v*this.La)1==this.Mi||2==this.Mi?(V=a.Qd(p,this.La,V+c),this.hc(V),V=a.NE(p,V),this.hc(V),V=a.Qd(p,this.La,Z-c),p=a.NE(p,V),p.type|=256,this.hc(p),this.hc(V)):
(v=.5*(Z-V),v=this.La/Math.abs(Math.sin(v)),V=a.Qd(p,v,.5*(V+Z)),this.hc(V,g));else if(0!=(p.type&512)){v=1-k/Math.abs(this.La);q=1;r=0>this.La?-w:w;-1<v&&1>v&&(G=2*Math.acos(v),.017453292519943295>G&&(G=.017453292519943295),q=f.P.truncate(w/G+1.5),1<q&&(r/=q));G=V+c;V=a.Qd(p,this.La,G);0==g&&(V.type|=1024);this.hc(V,g);v=this.La/Math.cos(r/2);G+=r/2;V=a.Qd(p,v,G);V.type|=1024;for(this.hc(V);0<--q;)G+=r,V=a.Qd(p,v,G),V.type|=1024,this.hc(V);V=a.Qd(p,this.La,Z-c);V.type|=1024;this.hc(V)}else if(1==
this.Mi)V=a.Qd(p,this.La,V+c),this.hc(V,g),V=a.Qd(p,this.La,Z-c),this.hc(V);else if(0==this.Mi)for(v=1-k/Math.abs(this.La),q=1,r=Z-c-(V+c),-1<v&&1>v&&(G=2*Math.acos(v),.017453292519943295>G&&(G=.017453292519943295),q=f.P.truncate(Math.abs(r)/G+1.5),1<q&&(r/=q)),v=this.La/Math.cos(.5*r),G=V+c+.5*r,V=a.Qd(p,v,G),this.hc(V,g);0<--q;)G+=r,V=a.Qd(p,v,G),this.hc(V);else 2==this.Mi?(v=q.x-p.x,G=q.y-p.y,S=r.x-p.x,X=r.y-p.y,q=(v*S+G*X)/Math.sqrt(v*v+G*G)/Math.sqrt(S*S+X*X),.99999999<q?(V=a.Qd(p,1.4142135623730951*
this.La,Z-.25*w),this.hc(V,g),V=a.Qd(p,1.4142135623730951*this.La,Z+.25*w),this.hc(V)):(q=Math.abs(this.La/Math.sin(.5*Math.acos(q))),r=Math.abs(this.wA*this.La),q>r?(v=.5*(Z-V),v=this.La/Math.abs(Math.sin(v)),V=a.Qd(p,v,.5*(V+Z)),Z=f.h.construct(V.x,V.y),V=f.h.construct(p.x,p.y),p=new f.h,p.vc(Z,V),Z=new f.h,Z.yW(r/p.length(),p,V),V=(q-r)*Math.abs(this.La)/Math.sqrt(q*q-this.La*this.La),0<this.La?p.Jv():p.cr(),p.scale(V/p.length()),V=new f.h,V.add(Z,p),q=new f.h,q.vc(Z,p),V=a.cl(V),this.hc(V,g),
V=a.cl(q),this.hc(V)):(v=.5*(Z-V),v=this.La/Math.abs(Math.sin(v)),V=a.Qd(p,v,.5*(V+Z)),this.hc(V,g)))):(Z=G,0<this.La?(Z>V&&(Z-=l),q=V-Z<c):(Z<V&&(Z+=l),q=Z-V<c),q?(v=1.4142135623730951*this.La,G=0>v?V+.25*w:V+.75*w,V=a.Qd(p,v,G),this.hc(V,g),G=0>v?Z-.25*w:Z-.75*w,V=a.Qd(p,v,G),this.hc(V)):(v=.5*(Z-V),v=this.La/Math.abs(Math.sin(v)),Z<V&&(Z+=l),V=a.Qd(p,v,(V+Z)/2),this.hc(V,g)))}this.Lv=m;this.Wz=n;this.hc(this.Zb[0],0);p=a.MO(this.Zb[this.gf-1]);this.Zb[0]=p;return this.oW()};e.prototype.Cu=function(g,
h){if(!(2>h))for(var k=0;k<h;k++){var m=this.Zb[g+k];0!=k?this.HA.Ei(f.h.construct(m.x,m.y)):this.HA.Nt(f.h.construct(m.x,m.y))}};e.prototype.$L=function(g,h,k){var m=g.Ca(h),n=g.Wc(h);this.Zb=[];this.HA=k;if(g.ec(h)){for(h=g.Oa(m);g.Oa(n-1).rb(h);)n--;if(2<=n-m){this.Dw=n-m;this.wg=[];for(h=m;h<n;h++)this.wg.push(a.cl(g.Oa(h)));this.gE()&&this.Cu(0,this.gf-1)}}else{for(h=g.Oa(m);m<n&&g.Oa(m+1).rb(h);)m++;for(h=g.Oa(n-1);m<n&&g.Oa(n-2).rb(h);)n--;if(2<=n-m){this.Dw=2*(n-m)-2;this.wg=[];k=a.cl(g.Oa(m));
k.type|=1536;this.wg.push(k);for(h=m+1;h<n-1;h++)k=a.cl(g.Oa(h)),this.wg.push(k);k=a.cl(g.Oa(n-1));k.type|=512;this.wg.push(k);for(h=n-2;h>=m+1;h--)k=a.cl(g.Oa(h)),k.type|=1024,this.wg.push(k);if(this.gE())if(2<=this.Zb.length){g=-1;(n=0!=(this.Zb[this.gf-1].type&1024))||(g=0);for(h=1;h<this.gf;h++)(m=0!=(this.Zb[h].type&1024))?n||(n=h-1,1<n-g+1&&this.Cu(g,n-g+1)):n&&(g=h-1),n=m;n||(n=this.gf-1,1<n-g+1&&this.Cu(g,n-g+1))}else g=0,n=this.gf-1,0<=g&&1<=n-g&&this.Cu(g,n-g+1)}}this.wg=null;this.Dw=0;
this.Zb=null;this.gf=0};e.prototype.oW=function(){for(var g=!1,h=0;h<this.gf;h++){var k=this.Zb[h];k.sh=h+1;k.uh=h-1;this.Zb[h]=k}k=this.Zb[0];k.uh=this.gf-2;this.Zb[0]=k;k=this.Zb[this.gf-2];k.sh=0;this.Zb[this.gf-2]=k;for(h=k=0;h<this.gf;h++)if(0!=(this.Zb[k].type&256)){var m=this.AP(k);if(-1!=m)k=m;else{g=!0;break}}else k=this.Zb[k].sh;if(g)return!1;this.KO(k);return!0};e.prototype.AP=function(g){for(var h=this.gf-1,k=g,m,n,p=1;p<=h-2;p++){m=k=this.Zb[k].sh;n=g;for(var q=1;q<=p;q++){n=this.Zb[n].uh;
if(0==(this.Zb[n].type&256)&&0==(this.Zb[m].type&256)){var r=this.$R(n,m);if(-1!=r)return r}m=this.Zb[m].uh}}return-1};e.prototype.$R=function(g,h){var k=this.Zb[this.Zb[g].uh],m=this.Zb[g],n=this.Zb[this.Zb[h].uh],p=this.Zb[h];if(!this.AW(k,m,n,p))return-1;var q=new b;return this.rQ(k,m,n,p,q)&&!q.WD&&f.P.WJ((m.x-k.x)*(p.y-n.y)-(m.y-k.y)*(p.x-n.x))!=f.P.WJ(this.La)?(k=this.Zb[g].uh,q.cn.type=m.type,q.cn.sh=h,q.cn.uh=k,this.Zb[g]=q.cn,q.cn=this.Zb[h],q.cn.uh=g,this.Zb[h]=q.cn,h):-1};e.prototype.AW=
function(g,h,k,m){return Math.max(g.x,h.x)>=Math.min(k.x,m.x)&&Math.max(k.x,m.x)>=Math.min(g.x,h.x)&&Math.max(g.y,h.y)>=Math.min(k.y,m.y)&&Math.max(k.y,m.y)>=Math.min(g.y,h.y)};e.prototype.rQ=function(g,h,k,m,n){n.WD=!1;var p=(h.y-g.y)*(m.x-k.x)-(h.x-g.x)*(m.y-k.y),q=(k.y-g.y)*(h.x-g.x)-(k.x-g.x)*(h.y-g.y);p=0==p?2:q/p;if(0<=p&&1>=p){var r=p;p=(m.y-k.y)*(h.x-g.x)-(m.x-k.x)*(h.y-g.y);q=(g.y-k.y)*(m.x-k.x)-(g.x-k.x)*(m.y-k.y);p=0==p?2:q/p;if(0<=p&&1>=p)return n.cn=a.NO(g.x+p*(h.x-g.x),g.y+p*(h.y-g.y)),
n.cn.Wh=k.Wh+r*(m.Wh-k.Wh),0!=r&&1!=r||0!=p&&1!=p||(n.WD=!0),n.NY=p,n.OY=r,(0==r||1==r)&&0<p&&1>p||(0==p||1==p)&&0<r&&1>r?!1:!0}return!1};e.prototype.KO=function(g){for(;this.Zb[g].uh<g;)g=this.Zb[g].uh;var h=0,k=g;do k=this.Zb[k],this.Zb[h]=k,k=k.sh,h++;while(k!=g);this.Zb[h]=this.Zb[0];this.gf=h+1};e.prototype.UC=function(g){var h=this.lo,k=h.Ha();if(null!=k){k.aj();for(var m=-1;k.ab();)m++,this.$L(h,m,g)}};e.prototype.Qx=function(){var g=this.lo.K();return 322==g?this.ZL():197==g?this.YL():f.ba.zd(g)?
(g=new f.Ua,g.oc(this.lo,!0),this.lo=g,this.Qx()):1607==g?(g=new f.Ua,this.UC(g),g):1736==g?(g=new f.Ea,this.UC(g),g):null};return e}();f.CK=d})(Y||(Y={}));(function(f){var w=function(){function b(d){this.rk=d}b.prototype.D=function(d,e){this.rk.g.D(d,e)};b.prototype.wd=function(d){var e=this.rk.Ga.ka(d);this.rk.Ga.wd(d,-1);this.rk.g.pd(e,!1)};return b}(),l=function(){function b(d){this.rk=d}b.prototype.D=function(d,e){this.rk.AT.D(d,e)};b.prototype.wd=function(d){this.rk.Ga.wd(d,-1)};return b}(),
c=function(){function b(d){this.rk=d}b.prototype.D=function(d,e){e.N(this.rk.DT[d])};b.prototype.wd=function(d){this.rk.Ga.wd(d,-1)};return b}(),a=function(){function b(d){void 0===d?(this.Ga=new f.Zj,this.Ga.Ee(20),this.g=new f.hd,this.oT=this.g.Kg(550),this.Us=this.g.wf(this.oT,-1),this.Zh=new w(this)):d instanceof Array?(this.Ga=new f.Zj,this.Ga.Ee(20),this.DT=d,this.Zh=new c(this)):(this.Ga=new f.Zj,this.Ga.Ee(20),this.AT=d,this.Zh=new l(this))}b.prototype.Ib=function(d){var e=d.K();if(f.Fx.zj(e))this.dN(d);
else if(f.Wk.zd(e))this.iN(d);else if(197==e)this.aN(d);else if(33==e)this.hN(d);else throw f.i.O("invalid shape type");};b.prototype.XQ=function(){var d=new f.Ta,e=this.Ga.sc(-1),g=new f.Ea(this.g.it);this.g.Xi(this.Ga.ka(e),d);g.nf(d);for(e=this.Ga.lb(e);-1!=e;e=this.Ga.lb(e))this.g.Xi(this.Ga.ka(e),d),g.lineTo(d);return g};b.LO=function(d){var e=new b(d),g=d.I(),h=1,k=new f.h,m=new f.h,n=new f.h;for(d.D(0,k);;){d.D(h,m);if(!(m.Mz(k)&&h<g-1))break;h++}e.Ga.addElement(0,-1);e.Ga.yn(h);for(g=h+1;g<
d.I();g++)d.D(g,n),h=e.jC(n),-1!=h&&e.Ga.Uj(h,g);n=new f.Ta;h=e.Ga.sc(-1);g=new f.Ea(d.description);d.we(e.Ga.ka(h),n);g.nf(n);for(h=e.Ga.lb(h);-1!=h;h=e.Ga.lb(h))d.we(e.Ga.ka(h),n),g.lineTo(n);return g};b.construct=function(d,e,g){for(var h=new b(d),k=1,m=d[0];d[k].Mz(m)&&k<e-1;)k++;h.Ga.addElement(0,-1);h.Ga.yn(k);for(k+=1;k<e;k++)m=h.jC(d[k]),-1!=m&&h.Ga.Uj(m,k);d=0;for(e=h.Ga.sc(-1);-1!=e;e=h.Ga.lb(e))g[d++]=h.Ga.ka(e);return d};b.DG=function(d,e){var g=d.Ca(e),h=d.Wc(e);e=!d.ec(e)&&d.On(e);d=
d.vb(0);g*=2;h*=2;e&&(h-=2);if(6>h-g)return!0;e=new f.h;var k=new f.h,m=new f.h;d.uc(g,e);d.uc(g+2,k);d.uc(g+4,m);var n=b.Yu(k,m,e);if(n.rs()||!b.wm(n.value()))return!1;var p=f.h.construct(k.x,k.y),q=new f.h;for(g+=6;g<h;g+=2){q.N(k);k.N(m);d.uc(g,m);n=b.Yu(k,m,e);if(n.rs()||!b.wm(n.value()))return!1;n=b.Yu(p,m,e);if(n.rs()||!b.wm(n.value()))return!1;n=b.Yu(k,m,q);if(n.rs()||!b.wm(n.value()))return!1}return!0};b.prototype.dN=function(d){for(var e=new f.Ta,g=new f.h,h=0;h<d.I();h++){d.D(h,g);var k=
this.Er(g);if(-1!=k){d.we(h,e);var m=this.g.hc(this.Us,e);this.Ga.Uj(k,m)}}};b.prototype.aN=function(d){for(var e=new f.Ta,g=new f.h,h=0;4>h;h++){d.gB(h,g);var k=this.Er(g);if(-1!=k){d.If(h,e);var m=this.g.hc(this.Us,e);this.Ga.Uj(k,m)}}};b.prototype.iN=function(d){var e=new f.Ta,g=d.ac();g=this.Er(g);if(-1!=g){d.Uo(e);var h=this.g.hc(this.Us,e);this.Ga.Uj(g,h)}g=d.xc();g=this.Er(g);-1!=g&&(d.Qo(e),d=this.g.hc(this.Us,e),this.Ga.Uj(g,d))};b.prototype.hN=function(d){var e=d.D();e=this.Er(e);-1!=e&&
(d=this.g.hc(this.Us,d),this.Ga.Uj(e,d))};b.prototype.Er=function(d){var e=-1;if(0==this.Ga.size(-1))return e=this.Ga.addElement(-4,-1);if(1==this.Ga.size(-1)){var g=this.g.Oa(this.Ga.ka(this.Ga.sc(-1)));d.Mz(g)||(e=this.Ga.yn(-5));return e}return e=this.jC(d)};b.prototype.jC=function(d){var e=-1,g=this.Ga.sc(-1),h=this.Ga.Gc(-1),k=this.Ga.ka(g),m=this.Ga.ka(h),n=new f.h,p=new f.h;this.Zh.D(k,n);this.Zh.D(m,p);k=f.h.Wq(p,d,n);if(b.wm(k))e=this.Ga.yn(-1),n=this.hC(d,h,g),n!=g&&this.iC(d,g,this.Ga.xe(n));
else if(b.wG(k)){p=this.Ga.uv(-1);var q=this.Ga.sc(-1),r=this.Ga.Gc(-1);k=new f.h;for(m=new f.h;q!=this.Ga.xe(r);){var v=this.Ga.ka(p);this.Zh.D(v,k);v=f.h.Wq(k,d,n);b.wG(v)?(r=p,p=this.Ga.nl(p)):(q=p,p=this.Ga.Zp(p))}p=r;n=q;v=this.Ga.ka(p);q=this.Ga.ka(n);this.Zh.D(v,k);this.Zh.D(q,m);if(n==g||(k=f.h.Wq(m,d,k),b.wm(k)))e=this.Ga.Bu(n,p,-2,!1),this.iC(d,p,h),this.hC(d,n,g)}else null==this.tb&&(this.tb=new f.zb),this.tb.Ec(p),this.tb.Rc(n),n=this.tb.fe(d,!0),0>n?(n=this.Ga.xe(h),this.Ga.wd(h,-1),
e=this.Ga.yn(-3),this.hC(d,n,g)):1<n&&(n=this.Ga.lb(g),this.Ga.wd(g,-1),e=this.Ga.Bu(-1,n,-3,!1),this.iC(d,n,h));return e};b.prototype.iC=function(d,e,g){if(e!=g){var h=this.Ga.ka(e),k=this.Ga.lb(e),m=new f.h,n=new f.h;for(this.Zh.D(h,m);e!=g&&2<this.Ga.size(-1);){this.Zh.D(this.Ga.ka(k),n);h=f.h.Wq(n,d,m);if(b.wm(h))break;h=e;e=k;m.N(n);k=this.Ga.lb(e);this.Zh.wd(h)}}};b.prototype.hC=function(d,e,g){if(e==g)return g;var h=this.Ga.ka(e),k=this.Ga.xe(e),m=new f.h,n=new f.h;for(this.Zh.D(h,m);e!=g&&
2<this.Ga.size(-1);){this.Zh.D(this.Ga.ka(k),n);h=f.h.Wq(m,d,n);if(b.wm(h))break;h=e;e=k;m.N(n);k=this.Ga.xe(e);this.Zh.wd(h)}return e};b.Yu=function(d,e,g){var h=new f.Xb;h.set(e.x);h.sub(d.x);var k=new f.Xb;k.set(g.y);k.sub(d.y);var m=new f.Xb;m.set(e.y);m.sub(d.y);e=new f.Xb;e.set(g.x);e.sub(d.x);h.Ag(k);m.Ag(e);h.sub(m);return h};b.wm=function(d){return 0>d};b.wG=function(d){return 0<d};return b}();f.au=a})(Y||(Y={}));(function(f){var w=function(){function l(c){this.g=null;this.nH=!0;this.nd=
c}l.rU=function(c,a,b){c=f.ta.Gr(c);return f.$t.Ev(a.Ng(),a.kh(),b.Ng(),b.kh(),f.mc.ox(c))};l.wO=function(c,a){var b=new f.Ta;f.$t.OT(c,a,b);return b};l.W=function(c,a,b,d){b=new l(b);b.g=c;b.ra=a;b.nH=d;return b.yM()};l.prototype.hM=function(c){return f.$t.cQ(this.g,c)};l.prototype.mM=function(c){return f.bu.W(this.g,c,this.nd)};l.prototype.yM=function(){var c=this.ra,a=f.ta.Gr(c);c=f.ta.lN(c);var b=1.00001*c;c*=1.000001;for(var d=!1,e=30<this.g.gd+10?1E3:(this.g.gd+10)*(this.g.gd+10),g=0,h=this.g.cS();;g++){if(g>
e)throw f.i.ga("Internal Error: max number of iterations exceeded");var k=this.hM(a);d=d||k;this.nH&&(k=0!=this.g.Ip(a,!0,!1),d=d||k);k=!1;if(0==g||h||f.bu.eI(!0,this.g,c,null,this.nd))k=this.mM(b),d=d||k;if(!k)break;f.np.Bp(this.nd)}return d};return l}();f.Uk=w})(Y||(Y={}));(function(f){var w=function(){function c(a){this.ae=this.Nc=null;this.$s=0;this.Vb=a;this.Yz=!0}c.prototype.wv=function(a,b){var d=this.g.cc(a);if(null==d){if(!this.g.fd(a,b))return null;d=b}return d};c.prototype.Zq=function(){var a;
void 0===a&&(a=!1);this.$s++;if(a||0==(this.$s&4095))this.$s=0,f.np.Bp(this.Vb)};c.prototype.hP=function(){var a=this.g.$q(!1),b=!1,d=new f.zb,e=new f.zb,g=new f.l;g.Pa();var h=new f.l;h.Pa();for(var k=new f.Ta,m=new f.NC,n=a.next();-1!=n;n=a.next()){f.np.Bp(this.Vb);var p=null,q=!1;if(!f.ba.Sn(this.g.jc(a.dk))){p=this.wv(n,d);if(null==p)continue;p.A(g);g.X(this.ra,this.ra);if(p.Di(this.ra))if(p.Di(0))q=!0,p=null;else continue}var r=this.g.$q(a),v=r.next();for(-1!=v&&(v=r.next());-1!=v;v=r.next()){var G=
null,S=!1;if(!f.ba.Sn(this.g.jc(r.dk))){G=this.wv(v,e);if(null==G)continue;G.A(h);if(G.Di(this.ra))if(G.Di(0))S=!0,G=null;else continue}var X=0,V=0;if(null!=p&&null!=G)g.BG(h)&&(m.Po(p),m.Po(G),m.Fa(this.ra,!1),X=m.ql(0),V=m.ql(1),0<X+V&&(this.g.lr(n,m,0,!0),this.g.lr(v,m,1,!0)),m.clear());else if(null!=p){var Z=new f.h;this.g.D(v,Z);if(g.contains(Z)){m.Po(p);this.g.Xi(v,k);m.Fz(this.ra,k,!1);X=m.ql(0);if(0<X)if(this.g.lr(n,m,0,!0),S){S=-1;for(Z=this.g.V(v);-1!=Z&&Z!=v&&(G=this.wv(Z,e),S=Z,null!=
G&&G.Di(0));Z=this.g.V(Z));for(Z=v;-1!=Z&&(this.g.Fh(Z,m.Cf),Z!=S);Z=this.g.V(Z));}else this.g.Fh(v,m.Cf);m.clear()}}else if(null!=G){if(Z=new f.h,this.g.D(n,Z),h.X(this.ra,this.ra),h.contains(Z)){m.Po(G);this.g.Xi(n,k);m.Fz(this.ra,k,!1);V=m.ql(0);if(0<V)if(this.g.lr(v,m,0,!0),q){S=-1;for(Z=this.g.V(n);-1!=Z&&Z!=n&&(G=this.wv(Z,e),S=Z,null!=G&&G.Di(0));Z=this.g.V(Z));for(Z=n;-1!=Z&&(this.g.Fh(Z,m.Cf),Z!=S);Z=this.g.V(Z));}else this.g.Fh(n,m.Cf);m.clear()}}else continue;if(0!=X+V){if(0!=X){p=this.g.cc(n);
if(null==p){if(!this.g.fd(n,d))continue;p=d;d.A(g)}else p.A(g);if(p.Di(this.ra))break}b=!0}}}return b};c.prototype.iP=function(){return this.IU()};c.prototype.IU=function(){return(new f.LC).HX(this.g,this.ra)};c.prototype.fI=function(){var a=!1;null==this.Nc&&(this.Nc=new f.Zj);var b=new f.ja(0);b.Jb(this.g.gd+1);for(var d=this.g.$q(),e=d.next();-1!=e;e=d.next())b.add(e);this.g.nx(b,b.size);b.add(-1);d=this.g.Hd();e=this.g.Hd();this.ae=new f.OC(this.g,this.ra,!this.Yz);this.Nc.Wo(this.ae);var g=new f.ja(0),
h=new f.ja(0),k=0;new f.h;var m=this.g.ud;this.g.wb.rc();for(var n=this.g.wb.Aa[0].o,p,q,r=b.get(k++);-1!=r;){q=m.U(r,0);p=n[2*q];q=n[2*q+1];var v=p,G=q;do{var S=m.U(r,2),X=m.U(r,1);if(-1!=S){var V=m.U(S,0),Z=n[2*V];V=n[2*V+1];0>(G<V?-1:G>V?1:v<Z?-1:v>Z?1:0)&&(h.add(r),h.add(S))}-1!=X&&(V=m.U(X,0),Z=n[2*V],V=n[2*V+1],0>(G<V?-1:G>V?1:v<Z?-1:v>Z?1:0)&&(h.add(X),h.add(X)));Z=this.g.Qa(r,d);-1!=Z&&(g.add(Z),this.g.Sa(r,d,-1));Z=this.g.Qa(r,e);-1!=Z&&(g.add(Z),this.g.Sa(r,e,-1));r=b.get(k++);-1!==r&&(G=
m.U(r,0),v=n[2*G],G=n[2*G+1])}while(-1!=r&&v===p&&G===q);v=1==g.size&&2==h.size;Z=G=-1;S=0;for(X=g.size;S<X;S++){V=g.get(S);var ia=this.Nc.xe(V);-1==ia||g.bG(ia)||(G=ia);V=this.Nc.lb(V);-1==V||g.bG(V)||(Z=V);if(-1!=G&&-1!=Z)break}this.ae.UJ(q,p);S=0;for(X=g.size;S<X;S++)V=g.get(S),this.Nc.wd(V,-1);g.clear(!1);if(!v&&-1!=G&&-1!=Z&&this.kO(G,Z)){a=!0;this.Pi=this.ae.tm();break}S=0;for(X=h.size;S<X;S+=2){q=h.get(S);p=h.get(S+1);v?(q=this.Nc.Bu(G,Z,q,!0),v=!1):q=this.Nc.addElement(q,-1);if(this.ae.rg){this.Pi=
this.ae.tm();a=!0;break}-1==this.g.Qa(p,d)?this.g.Sa(p,d,q):this.g.Sa(p,e,q)}if(a)break;h.Dh(0)}this.g.Ud(d);this.g.Ud(e);return a};c.prototype.kO=function(a,b){this.ae.compare(this.Nc,this.Nc.ka(a),b);a=this.ae.rg;this.ae.Mr();return a};c.sE=function(a){for(var b=a.ld;-1!=b;b=a.ve(b))if(f.ba.Ic(a.jc(b)))return!0;return!1};c.$P=function(a,b,d,e){if(!c.sE(a))return!1;b=new c(e);b.g=a;b.ra=d;if(15>a.gd)a=b.hP();else return b.iP();return a};c.W=function(a,b,d){return c.$P(a,a.CF(),b,d)};c.eI=function(a,
b,d,e,g){if(!c.sE(b))return!1;var h=new c(g);h.g=b;h.ra=d;h.Yz=a;if(h.fI())return null!=e&&e.Yt(h.Pi),!0;var k=new f.Ed;k.UB();b.Pc(k);h=new c(g);h.g=b;h.ra=d;h.Yz=a;a=h.fI();k.UB();b.Pc(k);return a?(null!=e&&e.Yt(h.Pi),!0):!1};c.Ol=function(a,b){a=a.I();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*b<1*a*b};c.fP=function(a,b,d,e){if(f.ba.Ic(b.K()))return(new c(e)).gP(a,b,d);throw f.i.ga("crack_A_with_B");};c.prototype.gP=function(a,b,d){var e=new f.l;a.yc(e);var g=new f.l;b.yc(g);g.X(d,
d);if(!g.isIntersecting(e))return a;var h=a.Cb,k=null;null!=h&&(k=h.Gb);c.Ol(a,a.I())&&(k=f.ta.lj(a,g));var m=null!=k?k.getIterator():null,n=b.Ha();b=a.Ha();var p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=[];n.ab();)for(;n.Ia();){var q=n.ia();if(null!=k)for(m.Vo(q,d),h=m.next();-1!=h;h=m.next()){if(this.Zq(),b.Wb(k.ka(h),-1),b.Ia()){h=b.ia();var r=h.Fa(q,null,p,null,d);for(h=0;h<r;++h){var v=p[h];if(0!=v&&1!=v){var G=b.xb(),S=new l;S.t=v;S.index=G;g.push(S)}}}}else{var X=new f.l;q.yc(X);X.X(d,d);if(e.isIntersecting(X))for(b.aj();b.ab();)for(;b.Ia();)if(this.Zq(),
h=b.ia(),v=new f.l,h.yc(v),v.isIntersecting(X))for(r=h.Fa(q,null,p,null,d),h=0;h<r;++h)v=p[h],0!=v&&1!=v&&(G=b.xb(),S=new l,S.t=v,S.index=G,g.push(S))}}if(0==g.length)return a;g=g.sort(l.zy);a=a.Ja();for(b.aj();b.ab()&&!b.Ia(););d=b.ia();e=new f.hg;k=-1;h=0;for(m=g.length;h<m;){p=g[h].index;for(n=h+1;n<m&&g[n].index==p;)++n;for(;b.xb()<p;){this.Zq();q=b.Ia();v=b.gb;(X=q||!b.Pn()||b.Qn())&&a.oc(d,k!=v);k=v;if(!q)for(;b.ab()&&!b.Ia(););d=b.ia()}for(p=0;h<n;h++)v=g[h].t,v!=p&&(d.dh(p,v,e),p=v,v=b.gb,
a.oc(e.get(),k!=v),k=v);if(X=(q=b.Ia())||!b.Pn()||b.Qn())d.dh(p,1,e),a.oc(e.get(),!1);if(q)d=b.ia();else{for(;b.ab()&&!b.Ia(););d=b.Ia()?b.ia():null}h=n}null!=d&&(v=b.gb,(X=(q=b.Ia())||!b.Pn()||b.Qn())&&a.oc(d,k!=v),k=v);for(q=b.Ia();;){if(!q){for(;b.ab()&&!(q=b.Ia()););if(!q)break}d=b.ia();v=b.gb;(X=(q=b.Ia())||!b.Pn()||b.Qn())&&a.oc(d,k!=v);k=v}return a};return c}();f.bu=w;var l=function(){function c(){}c.zy=function(a,b){return a.index==b.index?a.t>b.t?1:a.t<b.t?-1:0:a.index>b.index?1:-1};return c}()})(Y||
(Y={}));(function(f){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(f.EK||(f.EK={}));var w=function(){return function(a,b,d,e,g,h,k,m,n,p,q){this.Y=a;this.ct=b;this.Ps=d;this.tg=e;this.Nm=p;this.Cl=q}}();f.mY=w;var l=function(){function a(b,d){this.DH=b;this.Ji=d}a.prototype.kM=function(b,d){var e=new f.h;this.Ji.D(b,e);var g=new f.h;this.Ji.D(d,g);e=e.compare(g);if(0!=e)return e;b=this.Ji.Qa(b,this.DH);d=this.Ji.Qa(d,
this.DH);return b<d?-1:b==d?0:1};return a}(),c=function(){return function(a,b,d,e,g,h,k,m,n){this.tg=a;this.Ps=b;this.IA=d;this.OH=e;this.Gi=g;this.Cl=h;this.Nm=k;this.PH=m;this.GT=n}}();f.lY=c;f.FK=function(){function a(){}a.DK=function(b,d,e,g,h,k){if(d.B())b=new w(d,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else if(e.B())b=new w(d,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else{var m=new f.hd;m.Ib(d);m.Ib(e);f.Uk.W(m,g,k,!0);if(0==m.gd)b=new w(d.Ja(),4,-1,-1,NaN,4,-1,-1,
NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else{d=0;e=m.Hd();for(g=m.ld;-1!=g;g=m.ve(g))for(k=m.Ob(g);-1!=k;k=m.Sb(k))for(var n=m.Ya(k),p=0,q=m.Ka(k);p<q;n=m.V(n),p++)m.Sa(n,e,d++);d=a.BM(e,m);a.XL(b,d,m,h)}}};a.BM=function(b,d){for(var e=d.gd,g=new f.ja(0),h=d.ld;-1!=h;h=d.ve(h))for(var k=d.Ob(h);-1!=k;k=d.Sb(k))for(var m=d.Ya(k),n=0,p=d.Ka(k);n<p;m=d.V(m),n++)g.add(m);var q=new l(b,d);g.Wd(0,e,function(Aa,za){return q.kM(Aa,za)});b=[];var r=[],v=d.Hd(),G=d.Hd();h=d.ld;k=d.ve(h);p=new f.h;var S=new f.h,
X=g.get(0),V=d.cd(X),Z=d.Rf(V);d.D(X,p);var ia=1;for(m=0;ia<e-1;){var ja=!1;for(n=ia;n<e;n++)if(n!=m){var ma=g.get(n),sa=d.cd(ma),va=d.Rf(sa);d.D(ma,S);if(p.rb(S))Z==h&&va==k&&(ja=a.oM(v,G,d,b,r,V,X,sa,ma));else break}if(ja||m==ia-1){ja&&m==ia-1&&ia--;if(++m==e)break;X=g.get(m);V=d.cd(X);Z=d.Rf(V);d.D(X,p)}ja||(ia=m+1)}e=[];for(h=d.ld;-1!=h;h=d.ve(h))for(k=d.Ob(h);-1!=k;k=d.Sb(k))for(g=d.Ya(k),n=0,p=d.Ka(k);n<p;g=d.V(g),n++){m=d.Qa(g,G);if(0<=m)for(;m<r.length&&r[m].tg==g;)e.push(r[m++]);m=d.Qa(g,
v);if(0<=m)for(;m<b.length&&b[m].tg==g;)e.push(b[m++])}d.Ud(v);d.Ud(G);return e};a.oM=function(b,d,e,g,h,k,m,n,p){var q=e.tj(k),r=e.tj(n),v=e.Ya(k),G=e.Ya(n),S=e.Na(m),X=e.Na(p),V=!1,Z=!1,ia=!1,ja=!1;m!=v&&(p!=G&&(V=a.pM(b,e,g,k,S,n,X)),p!=r&&(Z=a.qM(b,e,g,k,S,n,p)));m!=q&&(p!=G&&(ia=a.rM(d,e,h,k,m,n,X,v)),p!=r&&(ja=a.sM(d,e,h,k,m,n,p,v)));V&&Z&&ia?(b=g.length-1,2==h[ja?h.length-2:h.length-1].Gi&&(g[b-1]=g[b],--g.length)):V&&Z&&ja&&2==h[h.length-1].Gi&&(h=g[g.length-1],--g.length,e.Qa(h.tg,b)==g.length&&
e.Sa(h.tg,b,-1));return V||Z||ia||ja};a.pM=function(b,d,e,g,h,k,m){var n=new f.zb,p=new f.zb,q=[0,0],r=[0,0],v=d.cc(h);null==v&&(d.fd(h,n),v=n);n=d.cc(m);null==n&&(d.fd(m,p),n=p);v=v.Fa(n,null,q,r,0);2>v&&(g=new c(h,g,q[0],NaN,v,m,k,r[0],NaN),e.push(g),g=d.Qa(h,b),0>g&&d.Sa(h,b,e.length-1));return!0};a.qM=function(b,d,e,g,h,k,m){var n=new f.zb,p=new f.zb,q=[0,0],r=[0,0],v=d.cc(h);null==v&&(d.fd(h,n),v=n);n=d.cc(m);null==n&&(d.fd(m,p),n=p);v=v.Fa(n,null,q,r,0);return 2>v?(g=new c(h,g,q[0],NaN,v,m,
k,r[0],NaN),e.push(g),g=d.Qa(h,b),0>g&&d.Sa(h,b,e.length-1),!0):!1};a.rM=function(b,d,e,g,h,k,m,n){var p=new f.zb,q=new f.zb,r=[0,0],v=[0,0],G=d.cc(h);null==G&&(d.fd(h,p),G=p);p=d.cc(m);null==p&&(d.fd(m,q),p=q);G=G.Fa(p,null,r,v,0);if(2==G)return g=new c(h,g,r[0],r[1],G,m,k,v[0],v[1]),e.push(g),g=d.Qa(h,b),0>g&&d.Sa(h,b,e.length-1),!0;q=!1;h==n&&(g=new c(h,g,r[0],NaN,G,m,k,v[0],NaN),e.push(g),g=d.Qa(h,b),0>g&&d.Sa(h,b,e.length-1),q=!0);return q};a.sM=function(b,d,e,g,h,k,m,n){var p=new f.zb,q=new f.zb,
r=[0,0],v=[0,0],G=d.cc(h);null==G&&(d.fd(h,p),G=p);p=d.cc(m);null==p&&(d.fd(m,q),p=q);G=G.Fa(p,null,r,v,0);if(2==G)return g=new c(h,g,r[0],r[1],G,m,k,v[0],v[1]),e.push(g),g=d.Qa(h,b),0>g&&d.Sa(h,b,e.length-1),!0;q=!1;h==n&&(g=new c(h,g,r[0],NaN,G,m,k,v[0],NaN),e.push(g),g=d.Qa(h,b),0>g&&d.Sa(h,b,e.length-1),q=!0);return q};a.XL=function(b,d,e,g){var h=[];h[0]=new f.h;h[1]=new f.h;h[2]=new f.h;h[3]=new f.h;var k=new f.h,m=new f.h,n=new f.h,p=new f.h,q=null;null!=g&&(q=new f.hg,q.Qr());var r=0,v=null,
G=new f.zb;new f.zb;for(var S=e.Ob(e.ld);-1!=S;S=e.Sb(S)){for(var X=4,V=-1,Z=-1,ia=-1,ja=-1,ma=NaN,sa=!0,va=!1,Aa=!0,za=!0,Oa=!0,Ma=0,Sa=S,Ta=0,Ya=e.Ya(S),ab=e.Ka(S),fb=0;fb<ab;Ya=e.V(Ya),fb++){var db=e.cc(Ya);if(null==db){if(!e.fd(Ya,G))continue;db=G}-1==Z&&(Z=Ya);for(var Xa=0;r<d.length&&Ya==d[r].tg;){V=d[r].Ps;var Za=d[r].tg,Wa=d[r].IA,eb=d[r].Nm,cb=d[r].Cl,hb=d[r].PH;if(2==d[r].Gi){if(va||(Sa=V,Z=Za,Ta=Wa,ia=eb,ja=cb,ma=hb,X=2,null!=g?v=new f.Ua:Ma=0,Oa=!1,za=!0),Wa=d[r].OH,hb=d[r].GT,null!=g?
(db.dh(Xa,d[r].OH,q),v.oc(q.get(),za)):Ma++,Xa=Wa,va=!0,za=sa=!1,r+1==d.length||2!=d[r+1].Gi||d[r+1].tg==Za&&d[r+1].IA!=Xa){if(null!=g){var $a=new w(v,2,V,Za,Wa,X,Sa,Z,Ta,eb,cb,hb,ia,ja,ma);g.push($a)}else null.add(Ma);Sa=V;Z=Za;Ta=Wa;ia=eb;ja=cb;ma=hb;X=2;va=sa=!1;za=Oa=!0}}else{var gb=e.V(Za);if(r<d.length-1&&d[r+1].tg==gb&&d[r+1].Cl==cb&&2==d[r+1].Gi)Wa!=Xa&&(Oa&&(null!=g?v=new f.Ua:Ma=0),sa=0<r&&d[r-1].Ps==V?1==X?0:0==X?1:3:3,null!=g?(db.dh(Xa,Wa,q),v.oc(q.get(),za),$a=new w(v,sa,V,Za,Wa,X,Sa,
Z,Ta,eb,cb,hb,ia,ja,ma),g.push($a)):(Ma++,null.add(Ma)),Xa=Wa,Sa=V,Z=Za,Ta=Wa,ia=eb,ja=cb,ma=hb,X=sa,sa=Aa=!1,za=Oa=!0);else if(!a.wM(b,e,d,r,k,m)){a.tM(e,d,r,S,Ya,n,p);var bb=!1;gb=!1;$a=!0;if(!(k.rb(n)||m.rb(n)||k.rb(p)||m.rb(p))){h[0].N(k);h[1].N(m);h[2].N(n);h[3].N(p);h.sort(f.h.pu);var ib=h[0],jb=h[1],kb=h[2],lb=h[3];ib.rb(k)?jb.rb(m)?b?(gb=bb=!0,$a=!1):bb=!1:lb.rb(m)?b?$a=gb=bb=!0:bb=!1:(bb=!0,$a=jb.rb(n)):jb.rb(k)?kb.rb(m)?b?(gb=bb=!0,$a=!1):bb=!1:ib.rb(m)?b?$a=gb=bb=!0:bb=!1:(bb=!0,$a=kb.rb(n)):
kb.rb(k)?lb.rb(m)?b?(gb=bb=!0,$a=!1):bb=!1:jb.rb(m)?b?$a=gb=bb=!0:bb=!1:(bb=!0,$a=lb.rb(n)):ib.rb(m)?b?(gb=bb=!0,$a=!1):bb=!1:kb.rb(m)?b?$a=gb=bb=!0:bb=!1:(bb=!0,$a=ib.rb(n))}if(bb){bb=Ya==Za;if(Wa!=Xa||bb&&0==Xa)Oa&&(null!=g?v=new f.Ua:Ma=0),null!=g?(db.dh(Xa,Wa,q),v.oc(q.get(),za)):Ma++;if($a)if(1!=X){if(Wa!=Xa||bb&&0==Xa)null!=g?($a=new w(v,1,V,Za,Wa,X,Sa,Z,Ta,eb,cb,hb,ia,ja,ma),g.push($a)):null.add(Ma);if(!gb)X=1;else if(r>=d.length-2||d[r+2].Ps!=V)X=0}else{if(Wa!=Xa||bb&&0==Xa)null!=g?($a=new w(v,
3,V,Za,Wa,X,Sa,Z,Ta,eb,cb,hb,ia,ja,ma),g.push($a)):null.add(Ma);X=1}else if(0!=X){if(Wa!=Xa||bb&&0==Xa)null!=g?($a=new w(v,0,V,Za,Wa,X,Sa,Z,Ta,eb,cb,hb,ia,ja,ma),g.push($a)):null.add(Ma);if(!gb)X=0;else if(r>=d.length-2||d[r+2].Ps!=V)X=1}else{if(Wa!=Xa||bb&&0==Xa)null!=g?($a=new w(v,3,V,Za,Wa,X,Sa,Z,Ta,eb,cb,hb,ia,ja,ma),g.push($a)):null.add(Ma);X=0}if(Wa!=Xa||bb&&0==Xa)Xa=Wa,Sa=V,Z=Za,Ta=Wa,ia=eb,ja=cb,ma=hb,sa=Aa=!1,za=Oa=!0}}}r++}1!=Xa&&(Oa&&(null!=g?v=new f.Ua:Ma=0),null!=g?(db.dh(Xa,1,q),v.oc(q.get(),
za)):Ma++,za=Oa=!1,Aa=!0)}Aa&&(Wa=1,Za=e.tj(S),Za=e.Na(Za),cb=eb=-1,hb=NaN,sa?null!=g?($a=new w(v,4,V,Za,Wa,X,Sa,Z,Ta,eb,cb,hb,ia,ja,ma),g.push($a)):null.add(Ma):(sa=1==X?0:0==X?1:3,null!=g?($a=new w(v,sa,V,Za,Wa,X,Sa,Z,Ta,eb,cb,hb,ia,ja,ma),g.push($a)):null.add(Ma)))}};a.wM=function(b,d,e,g,h,k){var m=e[g].PH;if(1==m)return a.uM(b,d,e,g,h,k);if(0==m)return a.vM(b,d,e,g,h,k);throw f.i.Ra();};a.uM=function(b,d,e,g,h,k){var m=new f.zb,n=e[g].tg,p=e[g].Nm,q=e[g].Cl,r=-1,v=-1,G=-1,S=-1;if(!b&&0<g){var X=
e[g-1];r=X.tg;v=X.Nm;G=X.Cl;S=X.Gi}var V=-1,Z=-1,ia=-1,ja=-1;g<e.length-1&&(X=e[g+1],V=X.tg,Z=X.Nm,ia=X.Cl,ja=X.Gi);var ma=d.V(n);X=d.V(q);if(!b)return 0<g&&r==n&&v==p&&G==X&&2==S||g<e.length-1&&V==ma&&Z==p&&ia==X&&2==ja?(b=d.cc(q),null==b&&(d.fd(q,m),b=m),k.N(b.jg()),h.nt(k),k.normalize(),h.normalize(),!1):g<e.length-1&&V==n&&Z==p&&ia==X?(b=d.cc(q),null==b&&(d.fd(q,m),b=m),h.N(b.jg()),b=d.cc(X),null==b&&(d.fd(X,m),b=m),k.N(b.jg()),h.Uq(),k.normalize(),h.normalize(),!1):!0;if(g==e.length-1||V!=n||
Z!=p||ia!=X||2==ja)return b=d.cc(q),null==b&&(d.fd(q,m),b=m),k.N(b.jg()),h.nt(k),k.normalize(),h.normalize(),!1;b=d.cc(q);null==b&&(d.fd(q,m),b=m);h.N(b.jg());b=d.cc(X);null==b&&(d.fd(X,m),b=m);k.N(b.jg());h.Uq();k.normalize();h.normalize();return!1};a.vM=function(b,d,e,g,h,k){var m=new f.zb,n=e[g].tg,p=e[g].Nm,q=e[g].Cl,r=-1,v=-1,G=-1,S=-1;if(!b&&g<e.length-1){var X=e[g+1];r=X.tg;v=X.Nm;G=X.Cl;S=X.Gi}var V=-1,Z=-1,ia=-1;X=-1;0<g&&(X=e[g-1],V=X.tg,Z=X.Nm,ia=X.Cl,X=X.Gi);var ja=d.V(n),ma=d.Na(q);return b?
0==g||V!=n||Z!=p||ia!=ma||2==X?(b=d.cc(q),null==b&&(d.fd(q,m),b=m),k.N(b.jg()),h.nt(k),k.normalize(),h.normalize(),!1):!0:0<g&&V==n&&Z==p&&ia==ma&&2==X||g<e.length-1&&r==ja&&v==p&&G==ma&&2==S?(b=d.cc(q),null==b&&(d.fd(q,m),b=m),k.N(b.jg()),h.nt(k),k.normalize(),h.normalize(),!1):!0};a.tM=function(b,d,e,g,h,k,m){var n=new f.zb,p=b.cc(h);null==p&&(b.fd(h,n),p=n);e=d[e];d=e.tg;e=e.IA;h=b.V(d);if(1==e)k.N(p.jg()),-1!=h&&h!=b.tj(g)?(p=b.cc(h),null==p&&(b.fd(h,n),p=n),m.N(p.jg()),p=b.cc(d),null==p&&b.fd(d,
n)):m.N(k),k.Uq(),m.normalize(),k.normalize();else if(0==e)m.N(p.jg()),k.nt(m),m.normalize(),k.normalize();else throw f.i.Ra();};return a}()})(Y||(Y={}));(function(f){(function(g){g[g.Linear=0]="Linear";g[g.Angular=1]="Angular";g[g.Area=2]="Area"})(f.WL||(f.WL={}));var w=function(){function g(h,k,m){this.od=k;this.ci=m;this.pA=h}g.prototype.Nb=function(h){return h instanceof g?this.ci===h.ci:!1};g.VF=function(h){return 0!==h.od?null:-1===h.pA?new g(-1,2,h.ci*h.ci):g.ah(d[h.pA])};g.ah=function(h){h=
b[h];return void 0===h?null:h};g.TO=function(h,k,m){var n=null;if(void 0!==m&&null!==m)try{"EPSG"===m.values[0]&&(n=g.ah(parseInt(m.values[1])))}catch(p){}null===n&&(n=new g(-1,h,k));return n};g.prototype.Fc=function(){return this.pA};g.prototype.wF=function(h){if(h.od!=this.od)throw f.i.Hb();return this.ci/h.ci};g.Ph=function(h,k,m){return k.wF(m)*h};g.RE=function(h,k,m,n,p){m=m.wF(n);for(n=0;n<k;n++)p[n]=h[n]*m};return g}();f.Uc=w;for(var l=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,
109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,
109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,
109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,109464,1.244521604938272E-7,109465,1E-12,109466,1E-18],c=[1031,4.84813681109536E-9,9101,1,9102,.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,
.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],a=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1E3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,
9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,
109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,
5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],b=[],d=[],e=0;e<l.length;e+=2)b[l[e]]=new w(l[e],2,l[e+1]);l=null;for(e=0;e<c.length;e+=2)b[c[e]]=new w(c[e],1,c[e+1]);c=null;for(e=0;e<a.length;e+=3)b[a[e]]=new w(a[e],0,a[e+1]),d[a[e]]=a[e+2];a=null})(Y||(Y={}));(function(f){var w=function(){function l(){this.yb=this.pb=
0}l.prototype.set=function(c,a){void 0!==a?(this.pb=c,this.yb=a):"number"===typeof c?(this.pb=c,this.yb=0):(this.pb=c.pb,this.yb=c.yb)};l.prototype.value=function(){return this.pb};l.prototype.add=function(c){var a=this.pb+c.pb;c=this.yb+c.yb+2.220446049250313E-16*Math.abs(a);this.pb=a;this.yb=c};l.prototype.eN=function(){var c=this.pb+1,a=this.yb+2.220446049250313E-16*Math.abs(c);this.pb=c;this.yb=a};l.prototype.YM=function(c,a){this.pb=c.pb+a.pb;this.yb=c.yb+a.yb+2.220446049250313E-16*Math.abs(this.pb)};
l.prototype.sub=function(c){if("number"===typeof c){var a=this.pb-c;c=this.yb+2.220446049250313E-16*Math.abs(a)}else a=this.pb-c.pb,c=this.yb+c.yb+2.220446049250313E-16*Math.abs(a);this.pb=a;this.yb=c};l.prototype.Ag=function(c){var a=this.pb*c.pb;this.yb=this.yb*Math.abs(c.pb)+c.yb*Math.abs(this.pb)+this.yb*c.yb+2.220446049250313E-16*Math.abs(a);this.pb=a};l.prototype.Oo=function(c){var a=this.pb*c;this.yb=this.yb*Math.abs(c)+2.220446049250313E-16*Math.abs(a);this.pb=a};l.prototype.Ml=function(c,
a){var b=Math.abs(c.pb)*Math.abs(a.pb);this.yb=c.yb*Math.abs(a.pb)+a.yb*Math.abs(c.pb)+c.yb*a.yb+2.220446049250313E-16*Math.abs(b);this.pb=b};l.prototype.lm=function(c){var a=Math.abs(c.pb),b=this.pb/c.pb,d=(this.yb+Math.abs(b)*c.yb)/a;c.yb>.01*a&&(c=c.yb/a,d*=1+(1+c)*c);this.pb=b;this.yb=d+2.220446049250313E-16*Math.abs(b)};l.prototype.sqrt=function(){if(0<=this.pb){var c=Math.sqrt(this.pb),a=this.pb>10*this.yb?.5*this.yb/c:this.pb>this.yb?c-Math.sqrt(this.pb-this.yb):Math.max(c,Math.sqrt(this.pb+
this.yb)-c);a+=2.220446049250313E-16*Math.abs(c)}else this.pb<-1*this.yb?a=c=NaN:(c=0,a=Math.sqrt(this.yb));this.pb=c;this.yb=a};l.prototype.sin=function(c){var a=Math.sin(c.pb),b=Math.cos(c.pb);this.pb=a;a=Math.abs(a);this.yb=(Math.abs(b)+.5*a*c.yb)*c.yb+2.220446049250313E-16*a};l.prototype.cos=function(c){var a=Math.sin(c.pb),b=Math.cos(c.pb);this.pb=b;b=Math.abs(b);this.yb=(Math.abs(a)+.5*b*c.yb)*c.yb+2.220446049250313E-16*b};l.prototype.qg=function(){return Math.abs(this.pb)<=this.yb};l.prototype.rs=
function(){return this.qg()&&0!=this.yb};return l}();f.Xb=w})(Y||(Y={}));var Ca=new Y.h,Ha=new Y.h,Qa=new Y.h,Ua=new Y.h,Ra=new Y.h;(function(f){var w;(function(c){c[c.closedPath=1]="closedPath";c[c.exteriorPath=2]="exteriorPath";c[c.ringAreaValid=4]="ringAreaValid"})(w||(w={}));var l=function(){function c(a,b,d,e,g,h,k){void 0!==b?(this.ib=a,this.dk=b,this.dl=d,this.ki=e,this.za=h,this.cA=k,this.gw=g):(this.ib=a.ib,this.dk=a.dk,this.dl=a.dl,this.ki=a.ki,this.za=a.za,this.cA=a.cA,this.gw=a.gw);this.WG=
!0}c.prototype.next=function(){return this.WG?(this.WG=!1,this.ki):-1!=this.ki?(this.ki=this.ib.V(this.ki),this.za++,-1!=this.ki&&this.ki!=this.gw?this.ki:this.ST()):-1};c.prototype.ST=function(){this.dl=this.ib.Sb(this.dl);for(this.za=0;-1!=this.dk;){for(;-1!=this.dl;this.dl=this.ib.Sb(this.dl))if(this.gw=this.ki=this.ib.Ya(this.dl),-1!=this.ki)return this.ki;this.dk=this.ib.ve(this.dk);if(-1==this.dk)break;if(!this.cA||f.ba.Ic(this.ib.jc(this.dk)))this.dl=this.ib.Ob(this.dk)}return-1};c.uP=function(a,
b,d,e,g,h,k){return new c(a,b,d,e,g,h,k)};return c}();f.rY=l;w=function(){function c(){this.ko=this.Cm=this.xk=this.dd=this.Dk=this.wo=this.Qi=this.md=this.di=this.Ug=this.Te=this.Kl=null;this.sw=this.ld=-1;this.gd=0;this.aA=!1;this.it=this.jt=this.wb=null}c.prototype.Uh=function(a){return null!=this.Te?this.Te[a]:null};c.prototype.Zg=function(a,b){if(null==this.Te){if(null==b)return;this.Te=[];for(var d=0,e=this.wb.I();d<e;d++)this.Te.push(null)}this.Te[a]=b};c.prototype.cp=function(a,b){this.md.T(a,
1,b)};c.prototype.bp=function(a,b){this.md.T(a,2,b)};c.prototype.PB=function(a,b){this.md.T(a,6,b)};c.prototype.Up=function(a){return this.md.U(a,6)};c.prototype.gx=function(a,b){this.md.T(a,7,b)};c.prototype.sv=function(a){return this.md.U(a,0)};c.prototype.IJ=function(a,b){this.dd.T(a,1,b)};c.prototype.MJ=function(a,b){this.dd.T(a,0,b)};c.prototype.DF=function(a){return this.dd.U(a,7)};c.prototype.$o=function(a,b){this.dd.T(a,3,b)};c.prototype.ap=function(a,b){this.dd.T(a,4,b)};c.prototype.mU=function(a){null==
this.dd&&(this.dd=new f.ad(8));var b=this.dd.De();this.dd.T(b,2,a);this.dd.T(b,5,0);this.dd.T(b,6,0);this.dd.T(b,7,b);return b};c.prototype.IQ=function(a){this.dd.kd(a)};c.prototype.oU=function(a){null==this.md&&(this.md=new f.ad(8),this.ud=new f.ad(5),this.Qi=new f.ce(0),this.wo=new f.ce(0));var b=this.md.De();this.md.T(b,0,b);this.md.T(b,3,0);this.md.T(b,6,0);this.gx(b,a);b>=this.Qi.size&&(a=16>b?16:f.P.truncate(3*b/2),this.Qi.resize(a),this.wo.resize(a));this.Qi.set(b,0);this.wo.set(b,0);return b};
c.prototype.mF=function(a){this.md.kd(a)};c.prototype.Qy=function(a){this.ud.kd(a);this.gd--};c.prototype.iI=function(a){null==this.md&&(this.md=new f.ad(8),this.ud=new f.ad(5),this.Qi=new f.ce(0),this.wo=new f.ce(0));var b=this.ud.De(),d=0<=a?a:b;this.ud.T(b,0,d);if(0>a){if(d>=this.wb.I()){a=16>d?16:f.P.truncate(3*d/2);this.wb.resize(a);if(null!=this.Te)for(var e=0;e<a;e++)this.Te.push(null);null!=this.Ug&&this.Ug.resize(a);this.jt=this.wb.vb(0)}this.wb.Db(d,-1E38,-1E38);null!=this.Te&&(this.Te[d]=
null);null!=this.Ug&&this.Ug.write(d,1)}this.ud.T(b,4,2*d);this.gd++;return b};c.prototype.yj=function(a,b,d){var e=-1!=b?this.Na(b):this.tj(a),g=-1!=e?this.V(e):-1,h=this.iI(null==d?this.gd:-1),k=this.Va(h);null!=d&&this.wb.It(k,d);this.cj(h,a);this.Cc(h,g);this.Dc(h,e);-1!=g&&this.Dc(g,h);-1!=e&&this.Cc(e,h);d=this.ec(a);e=this.Ya(a);-1==b&&this.Yg(a,h);b==e&&this.Kf(a,h);d&&-1==g&&(this.Cc(h,h),this.Dc(h,h));this.Xj(a,this.Ka(a)+1);a=this.Rf(a);this.Vj(a,this.I(a)+1);return h};c.prototype.pm=function(){null==
this.ko&&(this.ko=new f.Ta(this.wb.description));return this.ko};c.prototype.Zo=function(a,b){this.dd.T(a,2,this.dd.U(a,2)&-134217729||(1==b?134217728:0))};c.prototype.Jn=function(a){return 0!=(this.dd.U(a,2)&134217728)?1:0};c.prototype.bN=function(a){var b=this.Kg(a.K(),a.description);1736==a.K()&&this.Zo(b,a.Jn());this.OD(b,a);return b};c.prototype.cN=function(a){var b=this.Kg(a.K(),a.description);this.PD(b,a);return b};c.prototype.PV=function(a,b){null==this.md&&(this.md=new f.ad(8),this.ud=new f.ad(5),
this.Qi=new f.ce(0),this.wo=new f.ce(0));this.md.Ee(this.md.Jg+a);this.ud.Ee(this.ud.Jg+b);this.Qi.Jb(this.Qi.size+a);this.wo.Jb(this.wo.size+a)};c.prototype.OD=function(a,b){this.PV(b.ea(),b.I());this.Kl.Gd(b,0,b.I());this.jt=this.wb.vb(0);for(var d=null!=this.Te&&null!=b.Se,e=0,g=b.ea();e<g;e++)if(!(2>b.Ka(e))){var h=this.wf(a,-1);this.mn(h,b.ec(e));for(var k=b.Ca(e),m=b.Wc(e);k<m;k++){var n=this.yj(h,-1,null);if(d)if(n=this.Va(n),0!=(b.TF(k)&1))this.Zg(n,null);else{var p=new f.hg;b.cc(k,p,!0);
this.Zg(n,p.get())}}}};c.prototype.PD=function(a,b){this.Kl.Gd(b,0,b.I());this.jt=this.wb.vb(0);a=this.wf(a,-1);var d=0;for(b=b.I();d<b;d++)this.yj(a,-1,null)};c.prototype.FX=function(a,b,d){var e=this.V(a);if(-1==e)throw f.i.Ra();for(var g=this.pm(),h=this.cd(a),k=0,m=b.ql(d);k<m;k++){var n=this.Va(a),p=this.V(a),q=b.Xp(d,k);0==k&&(q.Uo(g),this.Fh(a,g));322==q.K()?this.Zg(n,null):this.Zg(n,f.ba.ig(q));q.Qo(g);k<m-1?a=this.yj(h,p,g):this.Fh(e,g)}};c.prototype.EX=function(a,b,d){var e=this.V(a);if(-1==
e)throw f.i.Ra();for(var g=this.pm(),h=this.cd(a),k=0,m=b.ql(d);k<m;k++){var n=this.Va(a),p=this.V(a),q=b.Xp(d,m-k-1);0==k&&(q.Qo(g),this.Fh(a,g));322==q.K()?this.Zg(n,null):this.Zg(n,f.ba.ig(q));q.Uo(g);k<m-1?a=this.yj(h,p,g):this.Fh(e,g)}};c.prototype.CF=function(){var a=new f.l;a.Pa();for(var b=this.$q(),d=new f.h,e=!0,g=b.next();-1!=g;g=b.next())this.D(g,d),e?a.$b(d.x,d.y):a.Mk(d.x,d.y),e=!1;return a};c.prototype.Ib=function(a){var b=a.K();if(f.ba.Ic(b))return this.bN(a);if(550==b)return this.cN(a);
throw f.i.Ra();};c.prototype.oN=function(a,b){var d=b.K();if(f.ba.Ic(d))this.OD(a,b);else if(550==d)this.PD(a,b);else throw f.i.Ra();};c.prototype.gN=function(a,b){var d=this.Kg(1736,a.description);if(2>a.Ka(b))return d;this.Kl.Gd(a,a.Ca(b),a.Wc(b));this.jt=this.wb.vb(0);var e=this.wf(d,-1);this.mn(e,a.ec(b)||!0);var g=null!=this.Te&&null!=a.Se,h=a.Ca(b);for(b=a.Wc(b);h<b;h++){var k=this.yj(e,-1,null);if(g)if(k=this.Va(k),0!=(a.TF(h)&1))this.Zg(k,null);else{var m=new f.hg;a.cc(h,m,!0);this.Zg(k,m.get())}}return d};
c.prototype.Ke=function(a){var b=this.jc(a),d=f.TK.Kg(b,this.Kl.description),e=this.I(a);if(0==e)return d;if(f.ba.Ic(b)){b=this.ea(a);for(var g=f.Zc.Qh(b+1),h=f.Zc.Or(b+1,0),k=d.description,m=0,n=k.Ba;m<n;m++){for(var p=k.qd(m),q=f.ua.Wa(p),r=f.Zc.SE(p,e),v=this.wb.vb(p),G=0,S=0,X=0,V=this.Ob(a);-1!=V;V=this.Sb(V)){var Z=0;this.ec(V)&&(Z|=1);this.QS(V)&&(Z|=4);0!=Z&&h.tJ(S,Z);var ia=this.Ka(V);g.write(S++,X);X+=ia;if(0==p){ia=v;var ja=r,ma=new f.h;for(Z=this.Ya(V);G<X;Z=this.V(Z),G++){var sa=this.Va(Z);
ia.uc(2*sa,ma);ja.Vt(2*G,ma)}}else for(Z=this.Ya(V);G<X;Z=this.V(Z),G++)for(sa=this.Va(Z),ja=0;ja<q;ja++)ma=v.Bg(sa*q+ja),r.rr(G*q+ja,ma)}d.kn(p,r);g.write(b,e)}d.JJ(h);d.KJ(g);d.Qc(16777215)}else if(550==b){k=d.description;d.resize(e);m=0;for(n=k.Ba;m<n;m++){p=k.qd(m);q=f.ua.Wa(p);r=d.vb(p);v=this.wb.vb(p);G=0;V=this.Ob(a);ia=this.Ka(V);for(Z=this.Ya(V);G<ia;Z=this.V(Z),G++)for(sa=this.Va(Z),ja=0;ja<q;ja++)ma=v.Bg(sa*q+ja),r.rr(G*q+ja,ma);d.kn(p,r)}d.Qc(16777215)}return d};c.prototype.vB=function(a){for(var b=
this.Ob(a);-1!=b;b=this.ar(b));b=this.IR(a);var d=this.ve(a);-1!=b?this.IJ(b,d):this.ld=d;-1!=d?this.MJ(d,b):this.sw=b;this.IQ(a)};c.prototype.Kg=function(a,b){return void 0===b?this.UE(a,f.ee.og()):this.UE(a,b)};c.prototype.UE=function(a,b){a=this.mU(a);null==this.wb?this.wb=this.Kl=new f.de(b):this.Kl.Ll(b);this.it=this.Kl.description;this.aA=1<this.it.Ba;-1==this.ld?this.ld=a:(this.MJ(a,this.sw),this.IJ(this.sw,a));return this.sw=a};c.prototype.ve=function(a){return this.dd.U(a,1)};c.prototype.IR=
function(a){return this.dd.U(a,0)};c.prototype.jc=function(a){return this.dd.U(a,2)&2147483647};c.prototype.BJ=function(a,b,d){b=this.xk[b];a=this.DF(a);a>=b.size&&b.resize(Math.max(f.P.truncate(1.25*a),16),-1);b.write(a,d)};c.prototype.EF=function(a,b){a=this.DF(a);b=this.xk[b];return a<b.size?b.read(a):-1};c.prototype.VE=function(){null==this.xk&&(this.xk=[]);for(var a=0;a<this.xk.length;a++)if(null==this.xk[a])return this.xk[a]=f.Zc.Qh(0),a;this.xk.push(f.Zc.Qh(0));return this.xk.length-1};c.prototype.pW=
function(a){this.xk[a]=null};c.prototype.Ob=function(a){return this.dd.U(a,3)};c.prototype.mv=function(a){return this.dd.U(a,4)};c.prototype.I=function(a){return this.dd.U(a,5)};c.prototype.ea=function(a){return this.dd.U(a,6)};c.prototype.Ip=function(a,b,d){for(var e=0,g=this.ld;-1!=g;g=this.ve(g)){var h=this.jc(g);if(f.ba.Ic(h)&&(!d||1736==h)){h=1736==this.jc(g);for(var k=this.Ob(g);-1!=k;){for(var m=0,n=this.Ya(k);m<f.P.truncate(this.Ka(k)/2);){var p=this.V(n);if(-1==p)break;var q=this.Va(n),r=
this.Uh(q);null!=r?q=r.Rb():(r=this.Va(p),q=this.wb.Ar(q,r));q<=a?(0==q?0==e&&(e=-1):e=1,p!=this.tj(k)&&(this.fC(p,n),this.pd(p,!0))):n=this.V(n);m++}m=this.Ya(k);for(n=this.ec(k)?m:this.tj(k);0<this.Ka(k);)if(p=this.Na(n),-1!=p){var v=this.Va(p);r=this.Uh(v);null!=r?q=r.Rb():(q=this.Va(n),q=this.wb.Ar(q,v));if(q<=a)0==q?0==e&&(e=-1):e=1,this.fC(p,n),this.pd(p,!1),m==p&&(m=this.Ya(k));else if(n=this.Na(n),n==m)break}else{this.pd(n,!0);0==e&&(e=-1);break}n=this.Ka(k);b&&(h?3>n:2>n)?(k=this.ar(k),e=
0<n?1:0==e?-1:e):k=this.Sb(k)}}}return e};c.prototype.fC=function(a,b){var d=this.Va(a),e=this.Va(b);null!=this.Ug&&(d=this.Ug.read(d),this.Ug.write(e,d));if(null!=this.di)for(e=0,d=this.di.length;e<d;e++)if(null!=this.di[e]){var g=this.Qa(a,e);-1!=g&&this.Sa(b,e,g)}};c.prototype.Wl=function(a,b,d){var e=0,g=this.V(a);if(-1==g)throw f.i.Ra();for(var h=this.Va(a),k=this.Va(g),m=this.Uh(h),n=null==m?this.wb.Ar(h,k):m.Rb(),p=0;p<d;p++){var q=b[p];if(0<q&&1>q){var r=q;null!=m&&(r=0<n?m.Tx(q)/n:0);this.wb.eD(h,
k,r,this.pm());var v=this.yj(this.cd(a),g,this.pm());e++;if(null!=m){var G=m.fl(0,q);r=this.Va(this.Na(v));this.Zg(r,G);this.mf(v,G.xc());if(p==d-1||1==b[p+1])q=m.fl(q,1),this.Zg(r,q)}}}return e};c.prototype.DX=function(a,b,d){var e=0,g=this.V(a);if(-1==g)throw f.i.ga("internal error");var h=this.Va(a),k=this.Va(g),m=this.Uh(h),n=null==m?this.wb.Ar(h,k):m.Rb(),p=0;a=this.cd(a);for(var q=0;q<d;q++){var r=b[q];if(p<r&&1>r){var v=r;null!=m&&(v=0<n?m.Tx(r)/n:0);this.wb.eD(h,k,v,this.pm());v=this.rS(a,
g,this.pm());e++;if(null!=m){p=m.fl(p,r);var G=this.Va(this.Na(v));this.Zg(G,p);this.Db(v,p.qa,p.ma);if(q==d-1||1==b[q+1])p=m.fl(r,1),v=this.Va(v),this.Zg(v,p)}}p=r}return e};c.prototype.rS=function(a,b,d){var e=-1!=b?this.Na(b):this.tj(a),g=-1!=e?this.V(e):-1,h=this.iI(null==d?this.gd:-1),k=this.Va(h);null!=d&&this.wb.It(k,d);this.cj(h,a);this.Cc(h,g);this.Dc(h,e);-1!=g&&this.Dc(g,h);-1!=e&&this.Cc(e,h);d=this.ec(a);e=this.Ya(a);-1==b&&this.Yg(a,h);b==e&&(d&&-1!=e||this.Kf(a,h));d&&-1==g&&(this.Cc(h,
h),this.Dc(h,h));this.Xj(a,this.Ka(a)+1);a=this.Rf(a);this.Vj(a,this.I(a)+1);return h};c.prototype.oE=function(a,b,d){var e=this.Va(b),g=this.Va(d);if(0>e||g>this.gd-1)throw f.i.O("invalid call");if(e>g&&!this.ec(a))throw f.i.O("cannot iterate across an open path");for(a=0;b!=d;b=this.V(b))e=this.Va(b),g=this.Uh(e),null!=g?a+=g.Rb():(g=this.Va(this.V(b)),a+=this.wb.Ar(e,g));return a};c.prototype.Fh=function(a,b){var d=this.Va(a);this.wb.It(d,b);d=this.Uh(d);null!=d&&d.setStart(b);a=this.Na(a);-1!=
a&&(a=this.Va(a),null!=this.Uh(a)&&d.setEnd(b))};c.prototype.Xi=function(a,b){a=this.Va(a);this.wb.we(a,b)};c.prototype.mf=function(a,b){this.Db(a,b.x,b.y)};c.prototype.Db=function(a,b,d){var e=this.Va(a);this.wb.Db(e,b,d);e=this.Uh(e);null!=e&&e.TB(b,d);a=this.Na(a);-1!=a&&(a=this.Va(a),null!=this.Uh(a)&&e.Sl(b,d))};c.prototype.D=function(a,b){this.wb.D(this.ud.U(a,0),b)};c.prototype.Hc=function(a,b){this.wb.Aa[0].uc(2*this.ud.U(a,0),b)};c.prototype.Oa=function(a){var b=new f.h;this.wb.D(this.ud.U(a,
0),b);return b};c.prototype.YF=function(a,b){this.jt.uc(2*a,b)};c.prototype.Vc=function(a,b,d){return this.wb.Vc(a,this.Va(b),d)};c.prototype.setAttribute=function(a,b,d,e){this.wb.setAttribute(a,this.Va(b),d,e)};c.prototype.Va=function(a){return this.ud.U(a,0)};c.prototype.kh=function(){var a=new f.h;this.D(void 0,a);return a.y};c.prototype.hq=function(a,b){a=this.Va(a);b=this.Va(b);var d=this.wb.Aa[0].o;return d[2*a]===d[2*b]&&d[2*a+1]===d[2*b+1]};c.prototype.Fv=function(a,b){a=this.Va(a);var d=
this.wb.Aa[0].o;return d[2*a]===b.x&&d[2*a+1]===b.y};c.prototype.nX=function(a,b){1>b&&(b=1);if(null==this.Ug){if(1==b)return;this.Ug=f.Zc.En(this.wb.I(),1)}a=this.Va(a);a>=this.Ug.size&&this.Ug.resize(a+1,1);this.Ug.write(a,b)};c.prototype.XF=function(a){a=this.Va(a);return null==this.Ug||a>=this.Ug.size?1:this.Ug.read(a)};c.prototype.Sa=function(a,b,d){b=this.di[b];a=this.Va(a);b.size<this.wb.I()&&b.resize(this.wb.I(),-1);b.write(a,d)};c.prototype.Qa=function(a,b){a=this.Va(a);b=this.di[b];return a<
b.size?b.read(a):-1};c.prototype.Hd=function(){null==this.di&&(this.di=[]);for(var a=0;a<this.di.length;a++)if(null==this.di[a])return this.di[a]=f.Zc.Qh(0,-1),a;this.di.push(f.Zc.Qh(0,-1));return this.di.length-1};c.prototype.Ud=function(a){this.di[a]=null};c.prototype.cc=function(a){return null!=this.Te?(a=this.Va(a),this.Te[a]):null};c.prototype.fd=function(a,b){var d=this.ud.U(a,2);if(-1==d)return!1;if(this.aA){var e=new f.Ta;this.Xi(a,e);b.setStart(e);this.Xi(d,e);b.setEnd(e)}else this.wb.Hc(this.ud.U(a,
0),Ca),b.gm(0,Ca),this.wb.Hc(this.ud.U(d,0),Ca),b.gm(1,Ca);return!0};c.prototype.eW=function(a,b,d){if(this.aA){var e=new f.Ta;this.Xi(a,e);d.setStart(e);this.Xi(b,e);d.setEnd(e)}else this.wb.Hc(a,Ca),d.gm(0,Ca),this.wb.Hc(b,Ca),d.gm(1,Ca)};c.prototype.wf=function(a,b){if(-1!=b){if(a!=this.Rf(b))throw f.i.Ra();var d=this.es(b)}else d=this.mv(a);var e=this.oU(a);-1!=b&&this.cp(b,e);this.bp(e,b);this.cp(e,d);-1!=d?this.bp(d,e):this.$o(a,e);-1==b&&this.ap(a,e);this.Tl(a,this.ea(a)+1);return e};c.prototype.hG=
function(a,b,d,e){a=this.wf(a,-1);for(var g=0,h=b,k=!1;h==d&&(k=!0),this.cj(h,a),g++,h=this.V(h),h!=b;);this.mn(a,!0);this.Xj(a,g);k&&(b=d);this.Kf(a,b);this.Yg(a,this.Na(b));this.ep(a,!1);null!=e&&(e[0]=k);return a};c.prototype.ar=function(a){var b=this.es(a),d=this.Sb(a),e=this.Rf(a);-1!=b?this.bp(b,d):this.$o(e,d);-1!=d?this.cp(d,b):this.ap(e,b);this.uO(a);this.Tl(e,this.ea(e)-1);this.mF(a);return d};c.prototype.uO=function(a){var b=this.Ya(a);if(-1!=b){for(var d=0,e=this.Ka(a);d<e;d++){var g=
b;b=this.V(b);this.Qy(g)}b=this.Rf(a);this.Vj(b,this.I(b)-this.Ka(a))}this.Xj(a,0)};c.prototype.Sb=function(a){return this.md.U(a,2)};c.prototype.es=function(a){return this.md.U(a,1)};c.prototype.Ka=function(a){return this.md.U(a,3)};c.prototype.ec=function(a){return 0!=(this.Up(a)&1)};c.prototype.mn=function(a,b){if(this.ec(a)!=b){if(0<this.Ka(a)){var d=this.Ya(a),e=this.tj(a);b?(this.Cc(e,d),this.Dc(d,e),d=this.Va(e)):(this.Cc(e,-1),this.Dc(d,-1),d=this.Va(e));this.Zg(d,null)}this.PB(a,(this.Up(a)|
1)-1|(b?1:0))}};c.prototype.Rf=function(a){return this.md.U(a,7)};c.prototype.QS=function(a){return 0!=(this.Up(a)&2)};c.prototype.JB=function(a,b){this.PB(a,(this.Up(a)|2)-2|(b?2:0))};c.prototype.qz=function(a){if(this.VS(a))return this.Qi.get(this.sv(a));var b=new f.zb,d=this.Ya(a);if(-1==d)return 0;var e=new f.h;this.D(d,e);for(var g=0,h=0,k=this.Ka(a);h<k;h++,d=this.V(d)){var m=this.cc(d);if(null==m){if(!this.fd(d,b))continue;m=b}g+=m.Sx(e.x,e.y)}this.ep(a,!0);this.Qi.set(this.sv(a),g);return g};
c.prototype.ir=function(a,b,d){b=this.Dk[b];a=this.sv(a);b.size<this.Qi.size&&b.resize(this.Qi.size,-1);b.write(a,d)};c.prototype.uj=function(a,b){a=this.sv(a);b=this.Dk[b];return a<b.size?b.read(a):-1};c.prototype.Fy=function(){null==this.Dk&&(this.Dk=[]);for(var a=0;a<this.Dk.length;a++)if(null==this.Dk[a])return this.Dk[a]=f.Zc.Qh(0),a;this.Dk.push(f.Zc.Qh(0));return this.Dk.length-1};c.prototype.wB=function(a){this.Dk[a]=null};c.prototype.RT=function(a,b,d){if(-1==d)throw f.i.O();if(b!=d){var e=
this.Sb(d),g=this.es(d),h=this.Rf(d);-1==g?this.$o(h,e):this.bp(g,e);-1==e?this.ap(h,g):this.cp(e,g);this.Vj(h,this.I(h)-this.Ka(d));this.Tl(h,this.ea(h)-1);g=-1==b?this.mv(a):this.es(b);this.cp(d,g);this.bp(d,b);-1==b?this.ap(a,d):this.cp(b,d);-1==g?this.$o(a,d):this.bp(g,d);this.Vj(a,this.I(a)+this.Ka(d));this.Tl(a,this.ea(a)+1);this.gx(d,a)}};c.prototype.kj=function(a,b){this.wb.we(this.Va(b),this.pm());this.yj(a,-1,this.pm())};c.prototype.pd=function(a,b){var d=this.cd(a),e=this.Na(a),g=this.V(a);
-1!=e&&this.Cc(e,g);var h=this.Ka(d);a==this.Ya(d)&&this.Kf(d,1<h?g:-1);-1!=g&&this.Dc(g,e);a==this.tj(d)&&this.Yg(d,1<h?e:-1);if(-1!=e&&-1!=g){e=this.Va(e);var k=this.Va(g);b?(b=this.Uh(e),null!=b&&(e=new f.h,this.wb.D(k,e),b.Rc(e))):(k=this.Va(a),b=this.Uh(k),this.Zg(e,b),null!=b&&(e=this.wb.Oa(e),b.Ec(e)))}this.Xj(d,h-1);d=this.Rf(d);this.Vj(d,this.I(d)-1);this.Qy(a);return g};c.prototype.Ya=function(a){return this.md.U(a,4)};c.prototype.tj=function(a){return this.md.U(a,5)};c.prototype.V=function(a){return this.ud.U(a,
2)};c.prototype.Na=function(a){return this.ud.U(a,1)};c.prototype.cd=function(a){return this.ud.U(a,3)};c.prototype.hc=function(a,b){return this.yj(a,-1,b)};c.prototype.$q=function(a){if(void 0===a)return this.$q(!1);if(a instanceof l)return new l(a);var b,d=-1,e=-1,g=-1,h=0,k=!1;for(b=this.ld;-1!=b;b=this.ve(b))if(!a||f.ba.Ic(this.jc(b))){for(d=this.Ob(b);-1!=d;d=this.Sb(d))if(g=e=this.Ya(d),h=0,-1!=e){k=!0;break}if(k)break}return l.uP(this,b,d,e,g,h,a)};c.prototype.Pc=function(a){this.Kl.Pc(a);
if(null!=this.Te)for(var b=0,d=this.Te.length;b<d;b++)null!=this.Te[b]&&this.Te[b].Pc(a)};c.prototype.lr=function(a,b,d,e){e?this.FX(a,b,d):this.EX(a,b,d)};c.prototype.Dc=function(a,b){this.ud.T(a,1,b)};c.prototype.Cc=function(a,b){this.ud.T(a,2,b)};c.prototype.cj=function(a,b){this.ud.T(a,3,b)};c.prototype.Xj=function(a,b){this.md.T(a,3,b)};c.prototype.Kf=function(a,b){this.md.T(a,4,b)};c.prototype.Yg=function(a,b){this.md.T(a,5,b)};c.prototype.Tl=function(a,b){this.dd.T(a,6,b)};c.prototype.Vj=function(a,
b){this.dd.T(a,5,b)};c.prototype.jJ=function(a){var b=a;do{var d=this.V(b);this.Cc(b,this.Na(b));this.Dc(b,d);b=d}while(b!=a)};c.prototype.WB=function(a){this.gd=a};c.prototype.br=function(a){var b=this.es(a),d=this.Sb(a),e=this.Rf(a);-1!=b?this.bp(b,d):this.$o(e,d);-1!=d?this.cp(d,b):this.ap(e,b);this.Kf(a,-1);this.Yg(a,-1);this.mF(a)};c.prototype.oi=function(a,b){var d=this.Na(a),e=this.V(a);-1!=d&&this.Cc(d,e);-1!=e&&this.Dc(e,d);if(-1!=d&&-1!=e)if(d=this.Va(d),e=this.Va(e),b){if(b=this.Uh(d),
null!=b){var g=new f.h;this.wb.D(e,g);b.Rc(g)}}else b=this.Va(a),b=this.Uh(b),this.Zg(d,b),null!=b&&(g=new f.h,this.wb.D(d,g),b.Ec(g));this.Qy(a)};c.prototype.VS=function(a){return 0!=(this.Up(a)&4)};c.prototype.ep=function(a,b){this.PB(a,(this.Up(a)|4)-4|(b?4:0))};c.prototype.nx=function(a,b){var d=this.ud.o;this.wb.rc();var e=this.wb.Aa[0].o;a.Wd(0,b,function(g,h){var k=d[5*g];g=d[5*h];h=e[2*k];k=e[2*k+1];var m=e[2*g];g=e[2*g+1];return k<g?-1:k>g?1:h<m?-1:h>m?1:0})};c.prototype.cS=function(){for(var a=
this.ld;-1!=a;a=this.ve(a))if(!f.ba.Ic(this.jc(a)))return!0;return!1};c.prototype.bC=function(a,b){for(var d=this.Ob(a),e=this.Ob(b),g=this.mv(a),h=this.mv(b),k=this.Ob(a);-1!=k;k=this.Sb(k))this.gx(k,b);for(k=this.Ob(b);-1!=k;k=this.Sb(k))this.gx(k,a);this.$o(a,e);this.$o(b,d);this.ap(a,h);this.ap(b,g);d=this.I(a);e=this.ea(a);g=this.ea(b);this.Vj(a,this.I(b));this.Vj(b,d);this.Tl(a,g);this.Tl(b,e);d=this.dd.U(a,2);this.dd.T(a,2,this.dd.U(b,2));this.dd.T(b,2,d)};return c}();f.hd=w})(Y||(Y={}));(function(f){var w=
function(l){function c(a,b,d,e){var g=l.call(this)||this;g.aa=new f.l;void 0===a?g.OE():"number"===typeof a?g.PO(a,b,d,e):a instanceof f.Ta?void 0!==b?g.Su(a,b,d):g.QO(a):a instanceof f.ua?void 0!==b?g.SO(a,b):g.RO(a):a instanceof f.l?g.OO(a):g.OE();return g}Ea(c,l);c.prototype.Su=function(a,b,d){this.description=f.ee.og();this.aa.Pa();a.B()||this.vu(a,b,d)};c.prototype.OO=function(a){this.description=f.ee.og();this.aa.L(a);this.aa.normalize()};c.prototype.RO=function(a){if(null==a)throw f.i.O();
this.description=a;this.aa.Pa()};c.prototype.SO=function(a,b){if(null==a)throw f.i.O();this.description=a;this.aa.L(b);this.aa.normalize()};c.prototype.OE=function(){this.description=f.ee.og();this.aa.Pa()};c.prototype.QO=function(a){this.description=f.ee.og();this.aa.Pa();a.B()||this.vu(a)};c.prototype.PO=function(a,b,d,e){this.description=f.ee.og();this.L(a,b,d,e)};c.prototype.L=function(a,b,d,e){this.wc();if("number"===typeof a)this.aa.L(a,b,d,e);else for(this.Pa(),b=0,d=a.length;b<d;b++)this.$b(a[b])};
c.prototype.Yo=function(a){this.wc();if(!a.YS())throw f.i.O();this.aa.L(a)};c.prototype.Pa=function(){this.wc();this.aa.Pa()};c.prototype.B=function(){return this.aa.B()};c.prototype.S=function(){return this.aa.S()};c.prototype.da=function(){return this.aa.da()};c.prototype.hk=function(){return this.aa.hk()};c.prototype.Lp=function(){return this.aa.Lp()};c.prototype.Kp=function(){return this.aa.tf()};c.prototype.$b=function(a){if(a instanceof f.h)this.wc(),this.aa.$b(a);else if(a instanceof f.l)this.wc(),
this.aa.$b(a);else if(a instanceof f.Ta){if(this.wc(),!a.Bc()){var b=a.description;this.description!=b&&this.Ll(b);if(this.B())this.vu(a);else{this.aa.$b(a.D());for(var d=1,e=b.Ba;d<e;d++)for(var g=b.Fd(d),h=f.ua.Wa(g),k=0;k<h;k++){var m=a.Vc(g,k),n=this.Vg(g,k);n.$b(m);this.setInterval(g,k,n)}}}}else if(a instanceof c&&!a.B())for(b=a.description,b!=this.description&&this.Ll(b),this.aa.$b(a.aa),d=1,e=b.Ba;d<e;d++)for(g=b.qd(d),h=f.ua.Wa(g),k=0;k<h;k++)m=a.Vg(g,k),n=this.Vg(g,k),n.$b(m),this.setInterval(g,
k,n)};c.prototype.vu=function(a,b,d){if(void 0!==b){this.aa.L(a.D(),b,d);b=a.description;d=1;for(var e=b.Ba;d<e;d++)for(var g=b.Fd(d),h=f.ua.Wa(g),k=0;k<h;k++){var m=a.Vc(g,k);this.setInterval(g,k,m,m)}}else for(this.aa.L(a.la[0],a.la[1]),b=a.description,d=1,e=b.Ba;d<e;d++)for(g=b.Fd(d),h=f.ua.Wa(g),k=0;k<h;k++)m=a.Vc(g,k),this.setInterval(g,k,m,m)};c.prototype.setInterval=function(a,b,d,e){d="number"===typeof d?new f.Oc(d,e):d;this.wc();if(0==a)if(0==b)this.aa.v=d.pa,this.aa.C=d.wa;else if(1==b)this.aa.G=
d.pa,this.aa.H=d.wa;else throw f.i.re();else this.pD(0,a,b,d.pa),this.pD(1,a,b,d.wa)};c.prototype.X=function(a,b){this.wc();this.aa.X(a,b)};c.prototype.Pc=function(a){if(a instanceof f.Ed)this.wc(),a.gC(this.aa);else if(this.wc(),!this.aa.B()){var b=new f.IK;this.Ro(b);b.PS()?b.Pa():a.gC(b)}};c.prototype.copyTo=function(a){if(a.K()!=this.K())throw f.i.O();a.wc();a.description=this.description;a.aa.L(this.aa);a.la=null;if(null!=this.la){a.qu();for(var b=0;b<2*(this.description.Be.length-2);b++)a.la[b]=
this.la[b]}};c.prototype.Ja=function(){return new c(this.description)};c.prototype.He=function(){return this.aa.qF()};c.prototype.Rb=function(){return this.aa.sR()};c.prototype.K=function(){return 197};c.prototype.Eb=function(){return 2};c.prototype.dn=function(a){this.copyTo(a)};c.prototype.A=function(a){a.v=this.aa.v;a.G=this.aa.G;a.C=this.aa.C;a.H=this.aa.H};c.prototype.Ro=function(a){a.v=this.aa.v;a.G=this.aa.G;a.C=this.aa.C;a.H=this.aa.H;a.L(this.aa.v,this.aa.G,this.Pd(0,1,0),this.aa.C,this.aa.H,
this.Pd(1,1,0))};c.prototype.Vg=function(a,b){var d=new f.Oc;d.L(this.Pd(0,a,b),this.Pd(1,a,b));return d};c.prototype.If=function(a,b){b.kg(this.description);var d=this.description.Ba-1;switch(a){case 0:for(a=0;a<d;a++)for(var e=this.description.qd(a),g=f.ua.Wa(e),h=0;h<g;h++)b.setAttribute(e,h,this.Pd(0,e,h));b.Db(this.aa.v,this.aa.G);break;case 1:for(a=0;a<d;a++)for(e=this.description.qd(a),g=f.ua.Wa(e),h=0;h<g;h++)b.setAttribute(e,h,this.Pd(1,e,h));b.Db(this.aa.v,this.aa.H);break;case 2:for(a=
0;a<d;a++)for(e=this.description.qd(a),g=f.ua.Wa(e),h=0;h<g;h++)b.setAttribute(e,h,this.Pd(0,e,h));b.Db(this.aa.C,this.aa.H);break;case 3:for(a=0;a<d;a++)for(e=this.description.qd(a),g=f.ua.Wa(e),h=0;h<g;h++)b.setAttribute(e,h,this.Pd(1,e,h));b.Db(this.aa.C,this.aa.G);break;default:throw f.i.re();}};c.prototype.gB=function(a,b){a=this.aa.gB(a);b.na(a.x,a.y)};c.prototype.eR=function(a,b){return b*(a.Qq-2)};c.prototype.rF=function(a,b,d){if(this.aa.B())throw f.i.ga("empty geometry");if(0==b)return 0!=
a?0!=d?this.aa.H:this.aa.C:0!=d?this.aa.G:this.aa.v;if(d>=f.ua.Wa(b))throw f.i.O();var e=this.description.Qf(b);this.qu();return 0<=e?this.la[this.eR(this.description,a)+this.description.ER(e)-2+d]:f.ua.te(b)};c.prototype.qu=function(){this.wc();if(null==this.la&&2<this.description.Be.length){this.la=[];for(var a=c.Ig(this.description,0),b=c.Ig(this.description,1),d=0,e=1,g=this.description.Ba;e<g;e++){var h=this.description.qd(e),k=f.ua.Wa(h);h=f.ua.te(h);for(var m=0;m<k;m++)this.la[a+d]=h,this.la[b+
d]=h,d++}}};c.prototype.un=function(a){if(null!=this.la)if(2<a.Be.length){for(var b=f.ee.Kw(a,this.description),d=[],e=c.Ig(this.description,0),g=c.Ig(this.description,1),h=c.Ig(a,0),k=c.Ig(a,1),m=0,n=1,p=a.Ba;n<p;n++){var q=a.qd(n),r=f.ua.Wa(q);if(-1==b[n]){var v=f.ua.te(q);for(q=0;q<r;q++)d[h+m]=v,d[k+m]=v,m++}else for(v=this.description.ak(b[n])-2,q=0;q<r;q++)d[h+m]=this.la[e+v],d[k+m]=this.la[g+v],m++,v++}this.la=d}else this.la=null;this.description=a};c.prototype.Pd=function(a,b,d){if(this.aa.B())throw f.i.ga("This operation was performed on an Empty Geometry.");
if(0==b)return 0!=a?0!=d?this.aa.H:this.aa.C:0!=d?this.aa.G:this.aa.v;if(d>=f.ua.Wa(b))throw f.i.re();var e=this.description.Qf(b);return 0<=e?(this.qu(),this.la[c.Ig(this.description,a)+this.description.ak(e)-2+d]):f.ua.te(b)};c.prototype.pD=function(a,b,d,e){this.wc();if(0==b)0!=a?0!=d?this.aa.H=e:this.aa.C=e:0!=d?this.aa.G=e:this.aa.v=e;else{if(d>=f.ua.Wa(b))throw f.i.re();if(!this.hasAttribute(b)){if(f.ua.xG(b,e))return;this.se(b)}b=this.description.Qf(b);this.qu();this.la[c.Ig(this.description,
a)+this.description.ak(b)-2+d]=e}};c.Ig=function(a,b){return b*(a.Be.length-2)};c.prototype.Fa=function(a){this.wc();var b=new f.l;a.A(b);return this.aa.Fa(b)};c.prototype.isIntersecting=function(a){return a instanceof f.l?this.aa.isIntersecting(a):this.aa.isIntersecting(a.aa)};c.prototype.Lu=function(a,b){this.wc();a.B()?this.Pa():void 0!==b?this.vu(a,b,void 0):this.aa.Lu(a.Ng(),a.kh())};c.prototype.offset=function(a,b){this.wc();this.aa.offset(a,b)};c.prototype.normalize=function(){this.wc();this.aa.normalize()};
c.prototype.tf=function(a){if(void 0!==a)if(a.kg(this.description),this.B())a.Pa();else{for(var b=this.description.Ba,d=1;d<b;d++)for(var e=this.description.qd(d),g=f.ua.Wa(e),h=0;h<g;h++){var k=.5*(this.rF(0,e,h)+this.rF(1,e,h));a.setAttribute(e,h,k)}a.Db(this.aa.tf())}else{a=new f.Ta(this.description);if(this.B())return a;b=this.description.Ba;for(d=1;d<b;d++)for(e=this.description.Fd(d),g=f.ua.Wa(e),h=0;h<g;h++)k=.5*(this.Pd(0,e,h)+this.Pd(1,e,h)),a.setAttribute(e,h,k);a.Db(this.aa.hk(),this.aa.Lp());
return a}};c.prototype.hz=function(){return new f.Ta(this.aa.hz())};c.prototype.contains=function(a){return a instanceof f.Ta?a.B()?!1:this.aa.contains(a.Ng(),a.kh()):this.aa.contains(a.aa)};c.prototype.YO=function(a){return this.aa.contains(a)};c.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.B())return a.B()?!0:!1;if(!this.aa.Nb(a.aa))return!1;for(var b=0,d=2*(this.description.Be.length-2);b<d;b++)if(this.la[b]!=a.la[b])return!1;
return!0};c.prototype.dc=function(){var a=this.description.dc();a=f.P.Vh(a,this.aa.dc());if(!this.B()&&null!=this.la)for(var b=0,d=2*(this.description.Be.length-2);b<d;b++)a=f.P.Vh(a,this.la[b]);return a};c.prototype.gs=function(){return this.aa.v};c.prototype.js=function(){return this.aa.G};c.prototype.fs=function(){return this.aa.C};c.prototype.hs=function(){return this.aa.H};c.prototype.mg=function(){return f.si.im(this,null)};c.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+
this.aa.v+", "+this.aa.G+", "+this.aa.C+", "+this.aa.H+"]"};return c}(f.ba);f.Hh=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d){void 0===c?this.Pa():(this.v=c,this.G=a,this.C=b,this.H=d)}l.construct=function(c,a,b,d){var e=new l;e.v=c;e.G=a;e.C=b;e.H=d;return e};l.prototype.L=function(c,a,b,d){"number"===typeof c?void 0!==b?(this.v=c,this.G=a,this.C=b,this.H=d,this.normalize()):(this.v=c,this.G=a,this.C=c,this.H=a):c instanceof f.h?void 0!==a?(this.v=c.x-.5*a,this.C=this.v+a,this.G=
c.y-.5*b,this.H=this.G+b,this.normalize()):(this.v=c.x,this.G=c.y,this.C=c.x,this.H=c.y):c instanceof l?this.L(c.v,c.G,c.C,c.H):c instanceof f.Oc&&(c.B()||a.B()?this.Pa():(this.v=c.pa,this.C=c.wa,this.G=a.pa,this.H=a.wa))};l.prototype.bx=function(c,a){if(void 0!==a)if(0==a)this.Pa();else{this.v=c[0].x;this.G=c[0].y;this.C=this.v;this.H=this.G;for(var b=1;b<a;b++){var d=c[b];d.x<this.v?this.v=d.x:d.x>this.C&&(this.C=d.x);d.y<this.G?this.G=d.y:d.y>this.H&&(this.H=d.y)}}else if(null==c||0==c.length)this.Pa();
else for(d=c[0],this.L(d.x,d.y),b=1;b<c.length;b++)a=c[b],this.Mk(a.x,a.y)};l.prototype.Pa=function(){this.H=this.C=this.G=this.v=NaN};l.prototype.B=function(){return isNaN(this.v)};l.prototype.$b=function(c,a){"number"===typeof c?this.B()?(this.v=c,this.G=a,this.C=c,this.H=a):(this.v>c?this.v=c:this.C<c&&(this.C=c),this.G>a?this.G=a:this.H<a&&(this.H=a)):c instanceof f.h?this.$b(c.x,c.y):c instanceof f.Od?this.$b(c.x,c.y):c instanceof l&&!c.B()&&(this.$b(c.v,c.G),this.$b(c.C,c.H))};l.prototype.Mk=
function(c,a){this.v>c?this.v=c:this.C<c&&(this.C=c);this.G>a?this.G=a:this.H<a&&(this.H=a)};l.prototype.X=function(c,a){this.B()||(this.v-=c,this.C+=c,this.G-=a,this.H+=a,(this.v>this.C||this.G>this.H)&&this.Pa())};l.prototype.scale=function(c){0>c&&this.Pa();this.B()||(this.v*=c,this.C*=c,this.G*=c,this.H*=c)};l.prototype.zoom=function(c,a){this.B()||this.L(this.tf(),c*this.S(),a*this.da())};l.prototype.isIntersecting=function(c){return!this.B()&&!c.B()&&(this.v<=c.v?this.C>=c.v:c.C>=this.v)&&(this.G<=
c.G?this.H>=c.G:c.H>=this.G)};l.prototype.BG=function(c){return(this.v<=c.v?this.C>=c.v:c.C>=this.v)&&(this.G<=c.G?this.H>=c.G:c.H>=this.G)};l.prototype.Fa=function(c){if(this.B()||c.B())return!1;c.v>this.v&&(this.v=c.v);c.C<this.C&&(this.C=c.C);c.G>this.G&&(this.G=c.G);c.H<this.H&&(this.H=c.H);(c=this.v<=this.C&&this.G<=this.H)||this.Pa();return c};l.prototype.gB=function(c){switch(c){case 0:return f.h.construct(this.v,this.G);case 1:return f.h.construct(this.v,this.H);case 2:return f.h.construct(this.C,
this.H);case 3:return f.h.construct(this.C,this.G);default:throw f.i.re();}};l.prototype.hB=function(c){if(null==c||4>c.length)throw f.i.O();null!=c[0]?c[0].na(this.v,this.G):c[0]=f.h.construct(this.v,this.G);null!=c[1]?c[1].na(this.v,this.H):c[1]=f.h.construct(this.v,this.H);null!=c[2]?c[2].na(this.C,this.H):c[2]=f.h.construct(this.C,this.H);null!=c[3]?c[3].na(this.C,this.G):c[3]=f.h.construct(this.C,this.G)};l.prototype.qF=function(){return this.B()?0:this.S()*this.da()};l.prototype.sR=function(){return this.B()?
0:2*(this.S()+this.da())};l.prototype.hk=function(){return(this.C+this.v)/2};l.prototype.Lp=function(){return(this.H+this.G)/2};l.prototype.S=function(){return this.C-this.v};l.prototype.da=function(){return this.H-this.G};l.prototype.move=function(c,a){this.B()||(this.v+=c,this.G+=a,this.C+=c,this.H+=a)};l.prototype.Lu=function(c,a){if(void 0!==a)this.move(c-this.hk(),a-this.Lp());else if(c instanceof f.h)this.Lu(c.x,c.y);else if(c instanceof f.Ta){a=(this.C-this.v)/2;var b=(this.H-this.G)/2;this.v=
c.Ng()-a;this.C=c.Ng()+a;this.G=c.kh()-b;this.H=c.kh()+b}else throw f.i.O();};l.prototype.offset=function(c,a){this.v+=c;this.C+=c;this.G+=a;this.H+=a};l.prototype.normalize=function(){if(!this.B()){var c=Math.min(this.v,this.C),a=Math.max(this.v,this.C);this.v=c;this.C=a;c=Math.min(this.G,this.H);a=Math.max(this.G,this.H);this.G=c;this.H=a}};l.prototype.fn=function(c){c.na(this.v,this.G)};l.prototype.UI=function(c){c.na(this.C,this.G)};l.prototype.XI=function(c){c.na(this.v,this.H)};l.prototype.gn=
function(c){c.na(this.C,this.H)};l.prototype.YS=function(){return this.B()||this.v<=this.C&&this.G<=this.H};l.prototype.tf=function(){return f.h.construct((this.C+this.v)/2,(this.H+this.G)/2)};l.prototype.hz=function(){return f.h.construct(this.v,this.G)};l.prototype.contains=function(c,a){if(void 0!==a)return c>=this.v&&c<=this.C&&a>=this.G&&a<=this.H;if(c instanceof f.Ta)return this.contains(c.Ng(),c.kh());if(c instanceof f.h)return this.contains(c.x,c.y);if(c instanceof l)return c.v>=this.v&&c.C<=
this.C&&c.G>=this.G&&c.H<=this.H;throw f.i.O();};l.prototype.jm=function(c,a){if(void 0!==a)return c>this.v&&c<this.C&&a>this.G&&a<this.H;if(c instanceof f.h)return this.jm(c.x,c.y);if(c instanceof l)return c.v>this.v&&c.C<this.C&&c.G>this.G&&c.H<this.H;throw f.i.O();};l.prototype.Nb=function(c){return c==this?!0:c instanceof l?this.B()&&c.B()?!0:this.v!=c.v||this.G!=c.G||this.C!=c.C||this.H!=c.H?!1:!0:!1};l.prototype.dc=function(){var c=this.v;c=f.P.truncate(c^c>>>32);var a=f.P.Vh(c);c=this.C;c=
f.P.truncate(c^c>>>32);a=f.P.Vh(c,a);c=this.G;c=f.P.truncate(c^c>>>32);a=f.P.Vh(c,a);c=this.H;c=f.P.truncate(c^c>>>32);return a=f.P.Vh(c,a)};l.prototype.zr=function(){return this.B()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)};l.prototype.uy=function(c,a){var b=this.$j(c),d=this.$j(a);if(0!=(b&d))return 0;if(0==(b|d))return 4;var e=(0!=b?1:0)|(0!=d?2:0);do{var g=a.x-c.x,h=a.y-c.y;g>h?0!=(b&l.SC)?(0!=(b&l.lu)?(c.y+=h*(this.v-
c.x)/g,c.x=this.v):(c.y+=h*(this.C-c.x)/g,c.x=this.C),b=this.$j(c)):0!=(d&l.SC)?(0!=(d&l.lu)?(a.y+=h*(this.v-a.x)/g,a.x=this.v):(a.y+=h*(this.C-a.x)/g,a.x=this.C),d=this.$j(a)):0!=b?(0!=(b&l.mu)?(c.x+=g*(this.G-c.y)/h,c.y=this.G):(c.x+=g*(this.H-c.y)/h,c.y=this.H),b=this.$j(c)):(0!=(d&l.mu)?(a.x+=g*(this.G-a.y)/h,a.y=this.G):(a.x+=g*(this.H-a.y)/h,a.y=this.H),d=this.$j(a)):0!=(b&l.TC)?(0!=(b&l.mu)?(c.x+=g*(this.G-c.y)/h,c.y=this.G):(c.x+=g*(this.H-c.y)/h,c.y=this.H),b=this.$j(c)):0!=(d&l.TC)?(0!=
(d&l.mu)?(a.x+=g*(this.G-a.y)/h,a.y=this.G):(a.x+=g*(this.H-a.y)/h,a.y=this.H),d=this.$j(a)):0!=b?(0!=(b&l.lu)?(c.y+=h*(this.v-c.x)/g,c.x=this.v):(c.y+=h*(this.C-c.x)/g,c.x=this.C),b=this.$j(c)):(0!=(d&l.lu)?(a.y+=h*(this.v-a.x)/g,a.x=this.v):(a.y+=h*(this.C-a.x)/g,a.x=this.C),d=this.$j(a));if(0!=(b&d))return 0}while(0!=(b|d));return e};l.prototype.$j=function(c){return(c.x<this.v?1:0)|(c.x>this.C?1:0)<<1|(c.y<this.G?1:0)<<2|(c.y>this.H?1:0)<<3};l.prototype.Di=function(c){return!this.B()&&(this.S()<=
c||this.da()<=c)};l.prototype.ub=function(c){return c instanceof f.h?Math.sqrt(this.cK(c)):Math.sqrt(this.px(c))};l.prototype.px=function(c){var a=0,b=0,d=this.v-c.C;d>a&&(a=d);d=this.G-c.H;d>b&&(b=d);d=c.v-this.C;d>a&&(a=d);d=c.G-this.H;d>b&&(b=d);return a*a+b*b};l.prototype.cK=function(c){var a=0,b=0,d=this.v-c.x;d>a&&(a=d);d=this.G-c.y;d>b&&(b=d);d=c.x-this.C;d>a&&(a=d);d=c.y-this.H;d>b&&(b=d);return a*a+b*b};l.prototype.en=function(c){this.B()?c.Pa():c.L(this.v,this.C)};l.lu=1;l.mu=4;l.SC=3;l.TC=
12;return l}();f.l=w})(Y||(Y={}));(function(f){var w;(function(c){c[c.initialize=0]="initialize";c[c.initializeRed=1]="initializeRed";c[c.initializeBlue=2]="initializeBlue";c[c.initializeRedBlue=3]="initializeRedBlue";c[c.sweep=4]="sweep";c[c.sweepBruteForce=5]="sweepBruteForce";c[c.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";c[c.sweepRedBlue=7]="sweepRedBlue";c[c.sweepRed=8]="sweepRed";c[c.sweepBlue=9]="sweepBlue";c[c.iterate=10]="iterate";c[c.iterateRed=11]="iterateRed";c[c.iterateBlue=12]=
"iterateBlue";c[c.iterateBruteForce=13]="iterateBruteForce";c[c.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";c[c.resetRed=15]="resetRed";c[c.resetBlue=16]="resetBlue"})(w||(w={}));var l=function(){function c(a,b){this.ei=a;this.YG=b}c.prototype.qr=function(a,b,d){this.ei.BX(d,a,b,this.YG)};c.prototype.bq=function(a){return this.ei.Tr(a,this.YG)};return c}();w=function(){function c(){this.qw=this.po=this.ff=this.sd=null;this.yq=new f.l;this.Cm=this.Jj=this.Kj=this.Bd=this.Ff=this.Md=this.ew=
this.ho=this.rd=this.Fb=null;this.Yb=-1;this.ra=0;this.Ok()}c.prototype.mr=function(){this.Ok();this.Rv=!0;null==this.Fb?(this.ho=new f.ja(0),this.Fb=[]):(this.ho.Dh(0),this.Fb.length=0)};c.prototype.bd=function(a,b){if(!this.Rv)throw f.i.Hb();var d=new f.l;d.L(b);this.ho.add(a);this.Fb.push(d)};c.prototype.Hp=function(){if(!this.Rv)throw f.i.Hb();this.Rv=!1;null!=this.Fb&&0<this.Fb.length&&(this.Yb=0,this.Jc=!1)};c.prototype.jK=function(){this.Ok();this.Qv=!0;null==this.Fb?(this.ho=new f.ja(0),this.Fb=
[]):(this.ho.Dh(0),this.Fb.length=0)};c.prototype.CD=function(a,b){if(!this.Qv)throw f.i.Hb();var d=new f.l;d.L(b);this.ho.add(a);this.Fb.push(d)};c.prototype.cF=function(){if(!this.Qv)throw f.i.Hb();this.Qv=!1;null!=this.Fb&&0<this.Fb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Yb?this.Yb=3:2==this.Yb?this.Yb=3:3!=this.Yb&&(this.Yb=1),this.Jc=!1)};c.prototype.iK=function(){this.Ok();this.Pv=!0;null==this.rd?(this.ew=new f.ja(0),this.rd=[]):(this.ew.Dh(0),this.rd.length=0)};c.prototype.yD=
function(a,b){if(!this.Pv)throw f.i.Hb();var d=new f.l;d.L(b);this.ew.add(a);this.rd.push(d)};c.prototype.bF=function(){if(!this.Pv)throw f.i.Hb();this.Pv=!1;null!=this.Fb&&0<this.Fb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Yb?this.Yb=3:1==this.Yb?this.Yb=3:3!=this.Yb&&(this.Yb=2),this.Jc=!1)};c.prototype.next=function(){if(this.Jc)return!1;for(var a=!0;a;)switch(this.Yb){case 0:a=this.Bz();break;case 1:a=this.kS();break;case 2:a=this.hS();break;case 3:a=this.jS();break;case 4:a=this.MX();
break;case 5:a=this.IX();break;case 6:a=this.JX();break;case 7:a=this.KX();break;case 8:a=this.tx();break;case 9:a=this.cC();break;case 10:a=this.Pz();break;case 11:a=this.bT();break;case 12:a=this.ZS();break;case 13:a=this.$S();break;case 14:a=this.aT();break;case 15:a=this.eJ();break;case 16:a=this.dJ();break;default:throw f.i.Ra();}return this.Jc?!1:!0};c.prototype.VB=function(a){this.ra=a};c.prototype.oz=function(a){return this.Fb[a]};c.prototype.Wy=function(a){return this.rd[a]};c.prototype.pl=
function(a){return this.ho.read(a)};c.prototype.jl=function(a){return this.ew.read(a)};c.Oz=function(a){return 1==(a&1)};c.gq=function(a){return 0==(a&1)};c.prototype.Ok=function(){this.Rv=this.Pv=this.Qv=!1;this.Df=this.Ef=this.Tg=this.pe=-1;this.Jc=!0};c.prototype.Bz=function(){this.Bf=this.Wf=-1;if(10>this.Fb.length)return this.pe=this.Fb.length,this.Yb=5,!0;null==this.sd&&(this.sd=new f.ur(!0),this.po=this.sd.getIterator(),this.Md=new f.ja(0));this.sd.mr();for(var a=0;a<this.Fb.length;a++){var b=
this.Fb[a];this.sd.Dr(b.v,b.C)}this.sd.Hp();this.Md.Jb(2*this.Fb.length);this.Md.resize(0);for(a=0;a<2*this.Fb.length;a++)this.Md.add(a);this.Mt(this.Md,2*this.Fb.length,!0);this.pe=2*this.Fb.length;this.Yb=4;return!0};c.prototype.kS=function(){this.Bf=this.Wf=-1;if(10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.sd&&(this.sd=new f.ur(!0),this.po=this.sd.getIterator(),this.Md=new f.ja(0));this.sd.mr();for(var a=0;a<this.Fb.length;a++){var b=this.Fb[a];this.sd.Dr(b.v,
b.C)}this.sd.Hp();this.Md.Jb(2*this.Fb.length);this.Md.resize(0);for(a=0;a<2*this.Fb.length;a++)this.Md.add(a);this.Mt(this.Md,this.Md.size,!0);this.pe=this.Md.size;-1!=this.Ef&&(this.Bd.eh(this.Ef),this.Kj.resize(0),this.Ef=-1);this.Yb=7;return this.dJ()};c.prototype.hS=function(){this.Bf=this.Wf=-1;if(10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.ff&&(this.ff=new f.ur(!0),this.qw=this.ff.getIterator(),this.Ff=new f.ja(0));this.ff.mr();for(var a=0;a<this.rd.length;a++){var b=
this.rd[a];this.ff.Dr(b.v,b.C)}this.ff.Hp();this.Ff.Jb(2*this.rd.length);this.Ff.resize(0);for(a=0;a<2*this.rd.length;a++)this.Ff.add(a);this.Mt(this.Ff,this.Ff.size,!1);this.Tg=this.Ff.size;-1!=this.Df&&(this.Bd.eh(this.Df),this.Jj.resize(0),this.Df=-1);this.Yb=7;return this.eJ()};c.prototype.jS=function(){this.Bf=this.Wf=-1;if(10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.sd&&(this.sd=new f.ur(!0),this.po=this.sd.getIterator(),this.Md=new f.ja(0));null==
this.ff&&(this.ff=new f.ur(!0),this.qw=this.ff.getIterator(),this.Ff=new f.ja(0));this.sd.mr();for(var a=0;a<this.Fb.length;a++){var b=this.Fb[a];this.sd.Dr(b.v,b.C)}this.sd.Hp();this.ff.mr();for(a=0;a<this.rd.length;a++)b=this.rd[a],this.ff.Dr(b.v,b.C);this.ff.Hp();this.Md.Jb(2*this.Fb.length);this.Ff.Jb(2*this.rd.length);this.Md.resize(0);this.Ff.resize(0);for(a=0;a<2*this.Fb.length;a++)this.Md.add(a);for(a=0;a<2*this.rd.length;a++)this.Ff.add(a);this.Mt(this.Md,this.Md.size,!0);this.Mt(this.Ff,
this.Ff.size,!1);this.pe=this.Md.size;this.Tg=this.Ff.size;-1!=this.Ef&&(this.Bd.eh(this.Ef),this.Kj.resize(0),this.Ef=-1);-1!=this.Df&&(this.Bd.eh(this.Df),this.Jj.resize(0),this.Df=-1);this.Yb=7;return!0};c.prototype.MX=function(){var a=this.Md.get(--this.pe),b=a>>1;if(c.gq(a))return this.sd.remove(b),0==this.pe?(this.Bf=this.Wf=-1,this.Jc=!0,!1):!0;this.po.yB(this.Fb[b].v,this.Fb[b].C,this.ra);this.Wf=b;this.Yb=10;return!0};c.prototype.IX=function(){if(-1==--this.pe)return this.Bf=this.Wf=-1,this.Jc=
!0,!1;this.Tg=this.Wf=this.pe;this.Yb=13;return!0};c.prototype.JX=function(){if(-1==--this.pe)return this.Bf=this.Wf=-1,this.Jc=!0,!1;this.Wf=this.pe;this.Tg=this.rd.length;this.Yb=14;return!0};c.prototype.KX=function(){var a=this.Md.get(this.pe-1),b=this.Ff.get(this.Tg-1),d=this.Tr(a,!0),e=this.Tr(b,!1);return d>e?this.tx():d<e?this.cC():c.Oz(a)?this.tx():c.Oz(b)?this.cC():this.tx()};c.prototype.tx=function(){var a=this.Md.get(--this.pe),b=a>>1;if(c.gq(a))return-1!=this.Ef&&-1!=this.Kj.get(b)?(this.Bd.kd(this.Ef,
this.Kj.get(b)),this.Kj.set(b,-1)):this.sd.remove(b),0==this.pe?(this.Bf=this.Wf=-1,this.Jc=!0,!1):!0;if(-1!=this.Df&&0<this.Bd.ds(this.Df))for(a=this.Bd.sc(this.Df);-1!=a;){var d=this.Bd.getData(a);this.ff.xj(d);this.Jj.set(d,-1);d=this.Bd.lb(a);this.Bd.kd(this.Df,a);a=d}0<this.ff.size()?(this.qw.yB(this.Fb[b].v,this.Fb[b].C,this.ra),this.Wf=b,this.Yb=12):(-1==this.Ef&&(null==this.Bd&&(this.Bd=new f.kp),this.Kj=new f.ja(0),this.Kj.resize(this.Fb.length,-1),this.Kj.Yj(-1,0,this.Fb.length),this.Ef=
this.Bd.Rh(1)),this.Kj.set(b,this.Bd.addElement(this.Ef,b)),this.Yb=7);return!0};c.prototype.cC=function(){var a=this.Ff.get(--this.Tg),b=a>>1;if(c.gq(a))return-1!=this.Df&&-1!=this.Jj.get(b)?(this.Bd.kd(this.Df,this.Jj.get(b)),this.Jj.set(b,-1)):this.ff.remove(b),0==this.Tg?(this.Bf=this.Wf=-1,this.Jc=!0,!1):!0;if(-1!=this.Ef&&0<this.Bd.ds(this.Ef))for(a=this.Bd.sc(this.Ef);-1!=a;){var d=this.Bd.getData(a);this.sd.xj(d);this.Kj.set(d,-1);d=this.Bd.lb(a);this.Bd.kd(this.Ef,a);a=d}0<this.sd.size()?
(this.po.yB(this.rd[b].v,this.rd[b].C,this.ra),this.Bf=b,this.Yb=11):(-1==this.Df&&(null==this.Bd&&(this.Bd=new f.kp),this.Jj=new f.ja(0),this.Jj.resize(this.rd.length,-1),this.Jj.Yj(-1,0,this.rd.length),this.Df=this.Bd.Rh(0)),this.Jj.set(b,this.Bd.addElement(this.Df,b)),this.Yb=7);return!0};c.prototype.Pz=function(){this.Bf=this.po.next();if(-1!=this.Bf)return!1;var a=this.Md.get(this.pe)>>1;this.sd.xj(a);this.Yb=4;return!0};c.prototype.bT=function(){this.Wf=this.po.next();if(-1!=this.Wf)return!1;
this.Bf=this.Wf=-1;var a=this.Ff.get(this.Tg)>>1;this.ff.xj(a);this.Yb=7;return!0};c.prototype.ZS=function(){this.Bf=this.qw.next();if(-1!=this.Bf)return!1;var a=this.Md.get(this.pe)>>1;this.sd.xj(a);this.Yb=7;return!0};c.prototype.$S=function(){if(-1==--this.Tg)return this.Yb=5,!0;this.yq.L(this.Fb[this.pe]);var a=this.Fb[this.Tg];this.yq.X(this.ra,this.ra);return this.yq.isIntersecting(a)?(this.Bf=this.Tg,!1):!0};c.prototype.aT=function(){if(-1==--this.Tg)return this.Yb=6,!0;this.yq.L(this.Fb[this.pe]);
var a=this.rd[this.Tg];this.yq.X(this.ra,this.ra);return this.yq.isIntersecting(a)?(this.Bf=this.Tg,!1):!0};c.prototype.eJ=function(){if(null==this.sd)return this.Jc=!0,!1;this.pe=this.Md.size;0<this.sd.size()&&this.sd.reset();-1!=this.Ef&&(this.Bd.eh(this.Ef),this.Kj.resize(0),this.Ef=-1);this.Jc=!1;return!0};c.prototype.dJ=function(){if(null==this.ff)return this.Jc=!0,!1;this.Tg=this.Ff.size;0<this.ff.size()&&this.ff.reset();-1!=this.Df&&(this.Bd.eh(this.Df),this.Jj.resize(0),this.Df=-1);this.Jc=
!1;return!0};c.prototype.Mt=function(a,b,d){null==this.Cm&&(this.Cm=new f.Zt);d=new l(this,d);this.Cm.sort(a,0,b,d)};c.prototype.BX=function(a,b,d,e){var g=this;a.Wd(b,d,function(h,k){var m=g.Tr(h,e),n=g.Tr(k,e);return m<n||m==n&&c.gq(h)&&c.Oz(k)?-1:1})};c.prototype.Tr=function(a,b){var d=.5*this.ra;if(b)return b=this.Fb[a>>1],a=c.gq(a)?b.G-d:b.H+d;b=this.rd[a>>1];return a=c.gq(a)?b.G-d:b.H+d};return c}();f.rC=w})(Y||(Y={}));(function(f){var w=function(){function l(){}l.construct=function(c,a,b,d,
e,g){var h=new l;h.v=c;h.G=a;h.Xe=b;h.C=d;h.H=e;h.Dg=g;return h};l.prototype.Pa=function(){this.Xe=this.v=NaN};l.prototype.B=function(){return isNaN(this.v)};l.prototype.PS=function(){return isNaN(this.Xe)};l.prototype.L=function(c,a,b,d,e,g){void 0!==d?"number"===typeof c?(this.v=c,this.G=a,this.Xe=b,this.C=d,this.H=e,this.Dg=g):(this.v=c.x-.5*a,this.C=this.v+a,this.G=c.y-.5*b,this.H=this.G+b,this.Xe=c.z-.5*d,this.Dg=this.Xe+d):(this.v=c,this.G=a,this.Xe=b,this.C=c,this.H=a,this.Dg=b)};l.prototype.move=
function(c){this.v+=c.x;this.G+=c.y;this.Xe+=c.z;this.C+=c.x;this.H+=c.y;this.Dg+=c.z};l.prototype.copyTo=function(c){c.v=this.v;c.G=this.G;c.C=this.C;c.H=this.H};l.prototype.Mk=function(c,a,b){this.v>c?this.v=c:this.C<c&&(this.C=c);this.G>a?this.G=a:this.H<a&&(this.H=a);0==isNaN(this.Xe)?this.Xe>b?this.Xe=b:this.Dg<b&&(this.Dg=b):this.Dg=this.Xe=b};l.prototype.$b=function(c,a,b){if("number"===typeof c)this.B()?(this.v=c,this.G=a,this.Xe=b,this.C=c,this.H=a,this.Dg=b):this.Mk(c,a,b);else if(c instanceof
f.Od)this.$b(c.x,c.y,c.z);else if(c instanceof l)c.B()||(this.$b(c.v,c.G,c.Xe),this.$b(c.C,c.H,c.Dg));else throw f.i.O();};l.prototype.construct=function(c,a,b){c.B()||a.B()?this.Pa():(this.v=c.pa,this.C=c.wa,this.G=a.pa,this.H=a.wa,this.Xe=b.pa,this.Dg=b.wa)};l.prototype.hB=function(c){if(null==c||8>c.length)throw f.i.O();c[0]=new f.Od(this.v,this.G,this.Xe);c[1]=new f.Od(this.v,this.H,this.Xe);c[2]=new f.Od(this.C,this.H,this.Xe);c[3]=new f.Od(this.C,this.G,this.Xe);c[4]=new f.Od(this.v,this.G,
this.Dg);c[5]=new f.Od(this.v,this.H,this.Dg);c[6]=new f.Od(this.C,this.H,this.Dg);c[7]=new f.Od(this.C,this.G,this.Dg)};l.prototype.bx=function(c){if(null==c||0==c.length)this.Pa();else{var a=c[0];this.L(a.x,a.y,a.z);for(a=1;a<c.length;a++){var b=c[a];this.Mk(b.x,b.y,b.z)}}};return l}();f.IK=w})(Y||(Y={}));(function(f){(function(w){w.Ra=function(){var l=Error();l.message="Internal Error";return l};w.Fe=function(){var l=Error();l.message="Not Implemented";return l};w.Zk=function(){var l=Error();l.message=
"The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";return l};w.Hb=function(){var l=Error();l.message="Invalid Call";return l};w.O=function(l){var c=Error();c.message="Illegal Argument Exception";void 0!==l&&(c.message+=": "+l);return c};w.hu=function(l){var c=Error();c.message=void 0!==l?"Runtime Exception: "+l:"Runtime Exception.";return c};w.ga=function(l){var c=Error();c.message="Geometry Exception: "+l;return c};w.AK=function(){var l=Error();l.message=
"Assert Failed Exception";return l};w.re=function(){var l=Error();l.message="IndexOutOfBoundsException";return l};w.QC=function(){var l=Error();l.message="UserCancelException";return l}})(f.i||(f.i={}))})(Y||(Y={}));(function(f){f=f.dm||(f.dm={});f[f.forward=0]="forward";f[f.reverse=1]="reverse"})(Y||(Y={}));(function(f){var w=function(){function a(b,d){this.Xa=b;this.zH=d;this.FH=-1;this.ul=!1}a.prototype.qe=function(){};a.prototype.next=function(){if(++this.FH==this.zH.I())return null;var b=this.zH.Oa(this.FH);
b.scale(this.Xa.fc);var d=new f.Ea;this.Xa.ny(b,this.ul,d);return d};a.prototype.Ma=function(){return 0};return a}(),l=function(){function a(b,d,e){this.Xa=b;this.tw=d;this.Yn=!1;this.eo=e;this.dw=[0];this.tk=[0];this.Pj=[0];this.Is=[0];this.ul=!1;this.sq=new f.Ea;this.vk=[]}a.prototype.qe=function(){};a.prototype.next=function(){if(this.Yn){this.Yn=!1;this.td.ia();var b=f.ba.ig(this.sq);return b=f.Hg.Nk(b,this.Xa.Cq,!0,!0,this.Xa.Vb)}null==this.td&&(this.td=this.tw.Ha(),this.td.ab(),null!=this.eo&&
this.eo.$k(null,0));if(!this.td.Ia()){if(!this.td.ab())return null;null!=this.eo&&this.eo.$k(null,0)}b=null;this.tk[0]=0;this.zA=this.dw[0]=0;this.fi=NaN;this.Yn=!1;for(var d=this.vk.length=0,e=new f.h,g=new f.h,h=[0];this.td.Ia()&&8>this.zA;){var k=this.td.ia();e.N(k.ac());g.N(k.xc());e.scale(this.Xa.fc);g.scale(this.Xa.fc);f.ej.Ou(e,g)?e.x=g.x:f.ej.Mu(e,g)&&(g.x=e.x);this.vk.length=0;f.ej.nF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,e,g,this.Xa.KA,this.Xa.at,h,this.Pj,this.Is,this.vk,this.dw);null!=this.eo&&
(k=this.vk.slice(0),this.eo.kG(this.eo.ea()-1,k,k.length-1));f.ej.Nu(e,g)?(this.sq.Pa(),this.Xa.ny(e,this.ul,this.sq),this.Yn=!0):(this.sq.Pa(),this.Yn=this.sy(h[0],this.sq));if(this.Yn){this.td.ni();if(this.td.zz()){this.td.ni();this.td.ia();break}this.td.uW();break}null==b&&(b=new f.Ea,b.$k(null,0));this.HD(b);d++}this.dw[0]=0;if(0<d){for(h=this.td.xb();0<d;)this.td.ni(),e.N(this.tw.Oa(this.td.xb())),g.N(this.tw.Oa(this.td.jk())),e.scale(this.Xa.fc),g.scale(this.Xa.fc),this.ul&&(f.ej.Ou(e,g)?e.x=
g.x:f.ej.Mu(e,g)&&(g.x=e.x)),this.vk.length=0,f.ej.nF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,g,e,this.Xa.KA,this.Xa.at,null,this.Pj,this.Is,this.vk,this.dw),this.HD(b),d--;e.N(this.tw.Oa(this.td.xb()));e.scale(this.Xa.fc);c.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,e,this.fi+1.570796326794897,this.fi+4.71238898038469,this.Xa.bo,this.ul,this.tk,b,NaN,NaN);this.td.Wb(h);this.td.ia();d=f.ta.mj(null,b,!0);return b=f.Hg.Nk(b,d,!0,!0,this.Xa.Vb)}this.Yn=!1;this.td.ia();b=f.ba.ig(this.sq);return b=f.Hg.Nk(b,
this.Xa.Cq,!0,!0,this.Xa.Vb)};a.prototype.HD=function(b){var d=this.vk[0],e=this.Pj[0]-1.570796326794897,g=this.Is[0]+1.570796326794897;if(!isNaN(this.fi)){if(this.fi>=this.Pj[0]){var h=this.fi+1.570796326794897;e=h+3.141592653589793-(this.fi-this.Pj[0])}else h=this.fi+1.570796326794897,e=h+3.141592653589793-(6.283185307179586-(this.Pj[0]-this.fi));var k=this.fi>=this.Pj[0]&&3.141592653589793>=this.fi-this.Pj[0]?!1:this.fi<this.Pj[0]&&3.141592653589793<=this.Pj[0]-this.fi?!1:!0,m=!1;if(Math.abs(e-
h)<=.5*this.Xa.bo)if(k){var n=b.Oa(b.I()-2);n.scale(this.Xa.fc);var p=new f.ha(0);f.kb.Sy(this.Xa.Ub,this.Xa.lc,d.x,d.y,n.x,n.y,p);for(n=p.u;n<=h;)n+=6.283185307179586;for(;n>h;)n-=6.283185307179586;n<e&&(m=!0)}else m=!0;m?(b.xB(0,b.I()-1),this.ul||(d=new f.h,d.N(b.Oa(b.I()-1)),d.scale(this.Xa.fc),-3.141592653589793>d.x-this.tk[0]?this.tk[0]-=6.283185307179586:3.141592653589793<d.x-this.tk[0]&&(this.tk[0]+=6.283185307179586)),k||(e=.5*(e+h))):(k?(h=new f.h,h.N(d),h.scale(1/this.Xa.fc),b.xf(0,-1,h)):
c.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.vk[0],h,e,this.Xa.bo,this.ul,this.tk,b,NaN,NaN),this.zA+=1)}c.my(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.Xa.Ae,this.vk,e,g,this.ul,this.tk,b);this.fi=this.Is[0]};a.prototype.sy=function(b,d){return this.Xa.sy(this.vk,b,this.Pj[0],this.Is[0],this.ul,d)};a.prototype.Ma=function(){return 0};return a}(),c=function(){function a(){}a.buffer=function(b,d,e,g,h,k){if(null==b)throw f.i.O("Geometry::Geodesic_bufferer::buffer");if(b.B())return new f.Ea(b.description);
var m=new a;m.Sg=d;m.Kc=f.cb.tc(d);var n=f.cb.xv(m.Kc);m.Vb=k;m.Ub=f.cb.gv(m.Kc);m.lc=n*(2-n);m.fc=m.Kc.Id().ci;m.ra=m.Sg.Ln();m.Cq=m.Kc.Ln();m.at=m.Cq*m.fc;m.Bq=1.570796326794897/m.fc;m.GY=3.141592653589793/m.fc;m.Ls=6.283185307179586/m.fc;m.HY=m.Ls/6;m.FA=0;m.FY=1.5707963267948966*m.Ub/m.FA;4==e?(m.Ae=2,m.Yv=!0):(m.Ae=e,m.Yv=!1);m.La=g;m.sb=Math.abs(g);isNaN(h)||.001>h?m.pX():m.ao=h;e=b.K();f.ba.zd(e)?(e=new f.Ua(b.description),e.oc(b,!0),b=e,e=1607):197==e&&(e=new f.l,b.A(e),e.S()<=m.ra||e.da()<=
m.ra?(e=new f.Ua(b.description),e.bd(b,!1),b=e,e=1607):(e=new f.Ea(b.description),e.bd(b,!1),b=e,e=1736));m.qX();f.ba.Sn(e)||m.rX();if(m.sb<=.5*m.ao)return 1736!=e?new f.Ea(b.description):m.Yv?b:f.ej.Sr(b,m.Sg,m.Ae,m.KA,-1,k);if(0>m.La&&1736!=e)return new f.Ea(b.description);m.Yv&&f.ba.Ic(e)?(d=f.ej.Sr(b,d,4,NaN,m.ao,k),b=f.cb.Bh(d,m.Sg,m.Kc)):b=f.cb.Bh(b,m.Sg,m.Kc);b=f.Jh.nj(b,m.Kc);if(b.B())return new f.Ea(b.description);!m.Yv&&f.ba.Ic(e)&&(b=f.ej.jI(m.fc,b));b=a.CX(b,m.Kc);switch(e){case 1736:d=
m.ON(b);break;case 1607:d=m.PN(b);break;case 550:d=m.MN(b);break;case 33:d=m.NN(b);break;default:throw f.i.ga("corrupted_geometry");}m=f.cb.Bh(d,m.Kc,m.Sg);m.Ll(b.description);return m};a.prototype.ON=function(b){var d=new f.Ea;b=new l(this,b,d);b=f.Ih.local().W(b,this.Kc,this.Vb).next();b=f.jp.pj(b,this.Kc,2);var e=new f.Ed;e.scale(1/this.fc,1/this.fc);d.Pc(e);d=f.jp.pj(d,this.Kc,2);return 0<=this.La?f.Ih.local().W(d,b,this.Kc,this.Vb):f.lp.local().W(d,b,this.Kc,this.Vb)};a.prototype.PN=function(b){b=
new l(this,b,null);b=f.Ih.local().W(b,this.Kc,this.Vb).next();return b=f.jp.pj(b,this.Kc,2)};a.prototype.MN=function(b){b=new w(this,b);b=f.Ih.local().W(b,this.Kc,this.Vb).next();return b=f.jp.pj(b,this.Kc,2)};a.prototype.NN=function(b){b=b.D();b.scale(this.fc);var d=new f.Ea;this.ny(b,!1,d);return d=f.jp.pj(d,this.Kc,2)};a.prototype.sy=function(b,d,e,g,h,k){var m=b[0],n=b[b.length-1],p=m.y>n.y?m.y:n.y,q=f.F.q(this.Ub,this.lc,m.y<n.y?m.y:n.y);p=f.F.q(this.Ub,this.lc,p);if(.001<this.FA-(q+d+this.sb)&&
.001<this.FA+(p-d-this.sb))return!1;d=e-1.570796326794897;e=g+1.570796326794897;q=d-3.141592653589793;p=d+3.141592653589793;var r=e+3.141592653589793,v=[NaN],G=[NaN],S=[NaN],X=[NaN];g=!1;a.YI(this.Ub,this.lc,this.sb,m,d,q,n,e,v,G);a.YI(this.Ub,this.lc,this.sb,n,r,e,m,q,S,X);e<v[0]&&v[0]<r?g=!0:e<G[0]&&G[0]<r&&(g=!0);g||(q<S[0]&&S[0]<d?g=!0:q<X[0]&&X[0]<d&&(g=!0));if(!g&&h)return!1;for(var V=[],Z=b.length-1;0<=Z;Z--)V.push(b[Z]);k.Pa();k.$k(null,0);Z=[0];a.my(this.Ub,this.lc,this.fc,this.sb,this.Ae,
b,d,e,h,Z,k);a.Jr(this.Ub,this.lc,this.fc,this.sb,n,e,r,this.bo,h,Z,k,v[0],G[0]);a.my(this.Ub,this.lc,this.fc,this.sb,this.Ae,V,r,p,h,Z,k);a.Jr(this.Ub,this.lc,this.fc,this.sb,m,q,d,this.bo,h,Z,k,S[0],X[0]);b=!1;h||(b=this.CE(this.fc,k));return g||b};a.prototype.ny=function(b,d,e){e.Pa();e.$k(null,0);a.Jr(this.Ub,this.lc,this.fc,this.sb,b,-this.bo,6.283185307179586,this.bo,d,[0],e,NaN,NaN);d||this.CE(this.fc,e)};a.prototype.CE=function(b,d){var e=this.pO(b,d);b=this.qO(b,d);return e||b};a.prototype.pO=
function(b,d){var e=d.I(),g=!1,h=new f.l;d.A(h);if(!f.s.$(h.H*b,1.570796326794897)&&!f.s.$(h.G*b,-1.570796326794897))return!1;var k=new f.h;for(--e;0<=e;e--)d.D(e,k),k.y==h.H&&f.s.$(k.y*b,1.570796326794897)?(g=!0,this.II(k,e,d)):k.y==h.G&&f.s.$(k.y*b,-1.570796326794897)&&(g=!0,this.II(k,e,d));return g};a.prototype.qO=function(b,d){var e=d.Oa(0),g=d.Oa(d.I()-1);return 3.141592653589793<Math.abs(e.x-g.x)*b?(this.NV(d),!0):this.oO(d)};a.prototype.oO=function(b){return 0>b.He()?(this.MV(b),!0):!1};a.prototype.II=
function(b,d,e){var g=e.I(),h=0<d?d-1:g-1;g=e.Oa(d<g-1?d+1:0);h=e.Oa(h);if(!f.s.$(g.y,b.y)&&!f.s.$(g.x,b.x)){var k=new f.h;k.na(g.x,b.y);e.Db(d,k)}f.s.$(h.y,b.y)||f.s.$(h.x,b.x)||(g=new f.h,g.na(h.x,b.y),e.xf(0,d,g))};a.prototype.NV=function(b){var d=new f.Ea,e=new f.Ea,g=new f.Ed,h=b.Oa(0),k=b.Oa(b.I()-1),m=new f.h;h.x>k.x?(k=this.Bq,g.gg(-this.Ls,0)):(k=-this.Bq,g.gg(this.Ls,0));d.add(b,!1);b.Pa();e.add(d,!1);e.Pc(g);h=new f.l;e.A(h);h.X((this.Ls-h.S())/2,0);h.G=-this.Bq;h.H=this.Bq;for(var n=0;n<
e.I();n++)e.D(n,m),d.xf(0,-1,m);e.Pc(g);for(n=0;n<e.I();n++)e.D(n,m),d.xf(0,-1,m);e=d.Oa(0);g=d.Oa(d.I()-1);m.na(g.x,k);d.xf(0,-1,m);m.na(.5*(g.x+e.x),k);d.xf(0,-1,m);m.na(e.x,k);d.xf(0,-1,m);d=f.Jh.ms(d,this.Kc,2,!0,h.v);d=f.Jh.ms(d,this.Kc,2,!0,h.C);d=f.Vd.clip(d,h,this.Cq,NaN);b.add(d,!1)};a.prototype.MV=function(b){var d=new f.l;b.A(d);d.X((this.Ls-d.S())/2,0);d.G=-this.Bq;d.H=this.Bq;b.$k(null,0);var e=new f.h;e.na(d.v,d.G);b.xf(1,-1,e);e.na(d.v,d.H);b.xf(1,-1,e);e.na(.5*(d.v+d.C),d.H);b.xf(1,
-1,e);e.na(d.C,d.H);b.xf(1,-1,e);e.na(d.C,d.G);b.xf(1,-1,e);e.na(.5*(d.v+d.C),d.G);b.xf(1,-1,e)};a.my=function(b,d,e,g,h,k,m,n,p,q,r){var v=null;p||(v=new f.h,v.Sc(),0<r.I()&&(v.N(r.Oa(r.I()-1)),v.scale(e)));var G=new f.ha(0),S=new f.ha(0),X=new f.ha(0),V=new f.h,Z=new f.h,ia=k[k.length-1];e=1/e;for(var ja=0;ja<k.length;ja++){var ma=k[ja];if(0==ja)var sa=m;else ja==k.length-1?sa=n:(f.kb.xd(b,d,ia.x,ia.y,ma.x,ma.y,null,null,G,h),sa=G.u-1.570796326794897);f.kb.Ai(b,d,ma.x,ma.y,g,sa,S,X);p?Z.na(S.u,
X.u):(V.na(S.u,X.u),a.aJ(ma.x,V.x,v.x,q),Z.na(q[0]+V.x,V.y),v.N(Z));Z.scale(e);r.xf(0,-1,Z)}};a.Jr=function(b,d,e,g,h,k,m,n,p,q,r,v,G){if(!(m-k<n)){var S=new f.ha(0),X=new f.ha(0),V=new f.h,Z=new f.h,ia=null;p||(ia=new f.h,ia.Sc(),0<r.I()&&(ia.N(r.Oa(r.I()-1)),ia.scale(e)));var ja=f.P.truncate(Math.ceil(k/n)),ma=ja++*n;ma==k&&(ma=ja++*n);for(e=1/e;ma<m+n;){k<v&&v<ma?(ma=v,ja--):k<G&&G<ma&&(ma=G,ja--);if(ma>=m)break;f.kb.Ai(b,d,h.x,h.y,g,ma,S,X);p?Z.na(S.u,X.u):(V.na(S.u,X.u),a.aJ(h.x,V.x,ia.x,q),
Z.na(q[0]+V.x,V.y),ia.N(Z));Z.scale(e);r.xf(0,-1,Z);k=ma;ma=ja++*n}}};a.YI=function(b,d,e,g,h,k,m,n,p,q){var r=new f.h,v=new f.h,G=new f.ha(0),S=new f.ha(0);f.kb.Ai(b,d,g.x,g.y,e,h,G,S);r.na(G.u,S.u);f.kb.Ai(b,d,g.x,g.y,e,k,G,S);v.na(G.u,S.u);e=new f.ha(0);f.kb.Sy(b,d,m.x,m.y,r.x,r.y,e);p[0]=e.u;f.kb.Sy(b,d,m.x,m.y,v.x,v.y,e);for(q[0]=e.u;p[0]<=q[0];)p[0]+=6.283185307179586;for(;p[0]>q[0];)p[0]-=6.283185307179586;for(;p[0]>=n;)p[0]-=6.283185307179586,q[0]-=6.283185307179586;for(;p[0]<n;)p[0]+=6.283185307179586,
q[0]+=6.283185307179586};a.aJ=function(b,d,e,g){if(isNaN(e)){for(;3.141592653589793<g[0]+d-b;)g[0]-=6.283185307179586;for(;3.141592653589793<b-(g[0]+d);)g[0]+=6.283185307179586}else 3.141592653589793<g[0]+d-e?g[0]-=6.283185307179586:3.141592653589793<e-(g[0]+d)&&(g[0]+=6.283185307179586)};a.CX=function(b,d){var e=b.K(),g=f.ba.Ic(e)?b.ea():550==e?b.I():1;if(1==g)return b;var h=new f.ja(0);h.resize(g);for(var k=[],m=new f.l,n=0;n<g;n++){h.write(n,n);if(f.ba.Ic(e)){b.Tj(n,m);var p=m.tf()}else p=b.Oa(n);
p=f.RK.SX(d,p);k[n]=p}h.Wd(0,h.size,function(q,r){return k[q]<k[r]?-1:k[q]>k[r]?1:0});d=b.Ja();for(n=0;n<g;n++)m=h.read(n),f.ba.Ic(e)?d.addPath(b,m,!0):d.Gd(b,m,m+1);return d};a.prototype.qX=function(){var b=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);b=Math.min(b,.39269908169872414*this.Ub);var d=new f.h;d.na(0,10*this.fc);var e=45*this.fc,g=new f.ha(0),h=new f.ha(0),k=new f.ha(0),m=new f.ha(0),n=new f.ha(0),p=new f.ha(0),q=new f.ha(0),r=new f.ha(0),v=new f.h,G=new f.h,S=new f.h,X=new f.h;
f.kb.Ai(this.Ub,this.lc,d.x,d.y,b,0,g,h);v.na(g.u,h.u);f.kb.Ai(this.Ub,this.lc,d.x,d.y,b,e,k,m);G.na(k.u,m.u);g=new f.ha(0);h=new f.ha(0);for(var V=new f.ha(0);;){f.kb.Ai(this.Ub,this.lc,d.x,d.y,b,.5*(0+e),n,p);S.na(n.u,p.u);f.kb.xd(this.Ub,this.lc,v.x,v.y,G.x,G.y,g,h,null,2);f.kb.qj(this.Ub,this.lc,v.x,v.y,.5*g.u,h.u,q,r,2);X.na(q.u,r.u);f.kb.xd(this.Ub,this.lc,S.x,S.y,X.x,X.y,V,null,null,2);if(V.u<=this.ao)break;e*=.9;f.kb.Ai(this.Ub,this.lc,d.x,d.y,b,e,k,m);G.na(k.u,m.u)}this.bo=6.283185307179586/
Math.ceil(6.283185307179586/(e-0))};a.prototype.rX=function(){var b=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);b=Math.min(b,.39269908169872414*this.Ub);var d=new f.h,e=new f.h;d.na(0,10*this.fc);e.na(10*this.fc,10*this.fc);var g=new f.ha(0),h=new f.ha(0),k=new f.ha(0);f.kb.xd(this.Ub,this.lc,d.x,d.y,e.x,e.y,k,g,h,this.Ae);var m=new f.ha(0),n=new f.ha(0),p=new f.ha(0),q=new f.ha(0),r=new f.h,v=new f.ha(0),G=new f.ha(0),S=new f.ha(0),X=new f.ha(0),V=new f.ha(0),Z=new f.ha(0),ia=new f.ha(0),
ja=new f.ha(0),ma=new f.ha(0),sa=new f.h,va=new f.h,Aa=new f.h,za=new f.h,Oa=1;g=g.u;h=h.u+1.570796326794897;k=k.u;f.kb.Ai(this.Ub,this.lc,d.x,d.y,b,g-1.570796326794897,G,S);sa.na(G.u,S.u);f.kb.Ai(this.Ub,this.lc,e.x,e.y,b,h,X,V);va.na(X.u,V.u);G=new f.ha(0);S=new f.ha(0);h=new f.ha(0);for(var Ma=new f.ha(0);;){f.kb.qj(this.Ub,this.lc,d.x,d.y,.5*(0+Oa)*k,g,m,n,this.Ae);r.na(m.u,n.u);f.kb.xd(this.Ub,this.lc,d.x,d.y,r.x,r.y,null,null,v,this.Ae);f.kb.Ai(this.Ub,this.lc,r.x,r.y,b,v.u+1.570796326794897,
Z,ia);Aa.na(Z.u,ia.u);f.kb.xd(this.Ub,this.lc,sa.x,sa.y,va.x,va.y,G,S,null,2);f.kb.qj(this.Ub,this.lc,sa.x,sa.y,.5*G.u,S.u,ja,ma,2);za.na(ja.u,ma.u);f.kb.xd(this.Ub,this.lc,Aa.x,Aa.y,za.x,za.y,h,null,null,2);if(h.u<=this.ao)break;Oa*=.9;f.kb.qj(this.Ub,this.lc,d.x,d.y,Oa*k,g,p,q,this.Ae);e.na(p.u,q.u);f.kb.xd(this.Ub,this.lc,d.x,d.y,e.x,e.y,null,null,Ma,this.Ae);f.kb.Ai(this.Ub,this.lc,e.x,e.y,b,Ma.u+1.570796326794897,X,V);va.na(X.u,V.u)}b=Oa*k;1E5<b&&(b=1E5);this.KA=b};a.prototype.pX=function(){var b=
5E4<this.sb?100:1E4<this.sb?10:1;500>this.sb/b&&(b=this.sb/500);.01>b&&(b=.01);this.ao=b};return a}();f.PK=c})(Y||(Y={}));(function(f){var w=function(){function l(){}l.Of=function(c,a){var b=new f.h;b.N(a);c.push(b)};l.wp=function(c,a){c.add(a.x);c.add(a.y)};l.bB=function(c){c.Dh(c.size-2)};l.iB=function(c,a){a.na(c.get(c.size-2),c.get(c.size-1))};l.Sr=function(c,a,b,d,e,g){if(null==c)throw f.i.O();var h=c.K();if(c.B()||f.ba.Sn(h))return c;var k=new l;k.Sg=a;k.Kc=f.cb.tc(a);var m=f.cb.xv(k.Kc);k.Vb=
g;k.Ub=f.cb.gv(k.Kc);k.lc=m*(2-m);k.fc=k.Kc.Id().ci;k.Cq=k.Kc.Ln();k.at=k.Cq*k.fc;k.uA=d;k.tA=e;k.Ae=b;197==h?(b=new f.Ea(c.description),b.bd(c,!1)):f.ba.zd(h)?(b=new f.Ua(c.description),b.oc(c,!0)):b=c;if(4!=k.Ae){a=0==k.Sg.Nb(k.Kc)?f.cb.Bh(b,k.Sg,k.Kc):f.Jh.nj(b,k.Kc);if(a.B())return a;a=l.jI(k.fc,a);a=k.Uy(a);a=f.jp.pj(a,k.Kc,k.Ae);k=f.cb.Bh(a,k.Kc,k.Sg)}else{2==f.Gg.Tb(a)?(c=f.cb.ol(),a=f.Xk.local().W(b,c,a,g),a==c&&(a=new f.Ea,c.copyTo(a))):a=f.Jh.nj(b,k.Kc);if(a.B())return a;k=k.uX(a)}return k};
l.jI=function(c,a){var b=new f.l;a.yc(b);if(3.141592653589793>b.S()*c)return a;var d=!1;b=a.Ha();for(var e=new f.h,g=new f.h;b.ab();)for(;b.Ia();){var h=b.ia();e.N(h.ac());g.N(h.xc());e.scale(c);g.scale(c);if(3.141592653589793<Math.abs(e.x-g.x)){var k=l.Nu(e,g);if(!k){d=!0;break}if(6.283185307179586<Math.abs(e.x-g.x)){d=!0;break}}}if(!d)return a;d=a.Ja();var m=1<a.description.Ba,n=new f.h,p=new f.h,q=new f.h,r=new f.h,v=new f.Ta;for(b.aj();b.ab();)for(var G=NaN,S=[0];b.Ia();){h=b.ia();e.N(h.ac());
g.N(h.xc());e.scale(c);g.scale(c);isNaN(G)?(l.Yi(e.x,NaN,S),p.N(e)):p.N(q);G=p.x;if(k=l.Nu(e,g)){if(6.283185307179586<g.x-e.x)for(;6.283185307179586<g.x-e.x;)g.x-=6.283185307179586;if(-6.283185307179586>g.x-e.x)for(;-6.283185307179586>g.x-e.x;)g.x+=6.283185307179586;l.Yi(g.x,NaN,S);q.N(g)}else n.N(g),l.sU(n),l.Yi(n.x,G,S),q.na(S[0]+n.x,n.y);.5>Math.abs(q.x-g.x)&&q.N(g);m?(h.Vw(0,v),r.N(p),r.scale(1/c),v.Db(r),(k=b.xm())?d.nf(v):d.lineTo(v),b.Rn()&&!a.ec(b.gb)&&(h.Vw(1,v),r.N(q),r.scale(1/c),v.Db(r),
d.lineTo(v))):((k=b.xm())&&d.Cz(null,0),h=d.ea()-1,r.N(p),r.scale(1/c),d.xf(h,-1,r),b.Rn()&&!a.ec(b.gb)&&(r.N(q),r.scale(1/c),d.xf(h,-1,r)))}return d};l.nF=function(c,a,b,d,e,g,h,k,m,n,p,q){var r=new f.h,v=new f.h,G=0<d.compare(e);l.$I(G,d,e,r,v);l.oF(c,a,b,r,v,g,NaN,h,k,m,n,null,p,q);G&&l.$B(m,n,null,p)};l.prototype.Uy=function(c){var a=c.Ja(),b=c.Ha(),d=[],e=null,g=null,h=1<c.description.Ba;h&&(e=new f.ce(0),g=new f.hg);for(var k=[0],m=new f.h,n=new f.h,p=new f.h,q=new f.h;b.ab();)for(k[0]=0;b.Ia();){var r=
b.ia();m.N(r.ac());n.N(r.xc());m.scale(this.fc);n.scale(this.fc);var v=0<m.compare(n);l.$I(v,m,n,p,q);d.length=0;null!=e&&e.Dh(0);0<this.uA?l.oF(this.Ub,this.lc,this.Ae,p,q,this.uA,this.tA,this.at,null,null,null,h?e:null,d,k):l.VQ(this.Ub,this.lc,this.Ae,p,q,this.tA,this.at,h?e:null,d,k);v&&l.$B(null,null,h?e:null,d);d[0].N(r.ac());d[d.length-1].N(r.xc());for(var G=1;G<d.length-1;G++)d[G].scale(1/this.fc);h?(v=l.ZI(v,r,g),l.ND(b.xm(),b.Rn()&&!c.ec(b.gb),r,v,e,d,a)):l.MD(b.xm(),b.Rn()&&!c.ec(b.gb),
d,a)}return a};l.prototype.uX=function(c){var a=c.Ja(),b=c.Ha(),d=[],e=null,g=new f.hg,h=1<c.description.Ba;for(h&&(e=new f.ce(0));b.ab();)for(;b.Ia();){var k=b.ia(),m=k.ac(),n=k.xc();m=0<m.compare(n);n=l.ZI(m,k,g);d.length=0;null!=e&&e.Dh(0);l.tX(this.Ub,this.lc,this.fc,n,this.Sg,this.uA,this.tA,h?e:null,d);m&&l.$B(null,null,h?e:null,d);h?l.ND(b.xm(),b.Rn()&&!c.ec(b.gb),k,n,e,d,a):l.MD(b.xm(),b.Rn()&&!c.ec(b.gb),d,a)}return a};l.MD=function(c,a,b,d){c&&d.Cz(null,0);c=d.ea()-1;var e=b.slice(0);d.kG(c,
e,e.length-1);a&&d.xf(c,-1,b[b.length-1])};l.ND=function(c,a,b,d,e,g,h){var k=new f.Ta;b.Uo(k);c?h.nf(k):h.lineTo(k);if(2<g.length){c=d.Rb();for(var m=1;m<g.length-1;m++){var n=d.HG(e.get(m)*c);d.Vw(n,k);k.Db(g[m]);h.lineTo(k)}}a&&(b.Qo(k),h.lineTo(k))};l.oF=function(c,a,b,d,e,g,h,k,m,n,p,q,r,v){var G=new f.ha(0),S=new f.ha(0),X=new f.ha(0);f.kb.xd(c,a,d.x,d.y,e.x,e.y,X,G,S,b);X=X.u;var V=G=G.u;S=S.u;0>V&&(V+=6.283185307179586);0>S&&(S+=6.283185307179586);null!=m&&(m[0]=X);null!=n&&(n[0]=V);null!=
p&&(p[0]=S);n=m=NaN;null!=q&&(n=f.F.Ch(c,a),p=f.F.q(c,a,d.y),m=(n-p)/X,n=(n+p)/X);p=l.Ou(d,e);S=l.Mu(d,e);V=p||S;var Z=l.zE(d,e,k),ia=new f.ha(0),ja=new f.ha(0),ma=new f.h,sa=new f.h,va=new f.h;l.Yi(d.x,NaN,v);var Aa=[v[0]];if(X<=g)l.Of(r,d),l.Yi(e.x,NaN,v),null!=q&&q.add(0),V?(p&&l.eB(d,e,q,r),S&&l.cB(d,e,q,r)):Z?l.dB(d,e,G,m,n,q,r):0<h&&(sa.na(d.x-Aa[0],d.y),ma.na(e.x-v[0],e.y),l.Ty(c,a,b,d,X,G,sa,ma,0,1,h,q,r,Aa)),l.Of(r,e);else{g=1+f.P.truncate(Math.ceil(X/g));var za=X/(g-1),Oa=new f.h,Ma=0;l.Of(r,
d);Oa.N(d);sa.na(d.x-v[0],d.y);null!=q&&q.add(0);for(var Sa=1;Sa<g;Sa++){if(Sa<g-1){f.kb.qj(c,a,d.x,d.y,Sa*za,G,ia,ja,b);ma.na(ia.u,ja.u);l.Yi(ma.x,Oa.x,v);va.na(v[0]+ma.x,ma.y);var Ta=Sa/(g-1)}else l.Yi(e.x,NaN,v),ma.na(e.x-v[0],e.y),va.N(e),Ta=1;V?(1==Sa&&p&&l.eB(d,va,q,r),Sa==g-1&&S&&l.cB(Oa,e,q,r)):Z?l.yE(Oa,va,k)&&(d.x<e.x?Oa.x>va.x&&(v[0]+=6.283185307179586,va.na(v[0]+ma.x,ma.y)):Oa.x<va.x&&(v[0]-=6.283185307179586,va.na(v[0]+ma.x,ma.y)),l.dB(Oa,va,G,m,n,q,r)):0<h&&l.Ty(c,a,b,d,X,G,sa,ma,Ma,
Ta,h,q,r,Aa);l.Of(r,va);null!=q&&q.add(Ta);Oa.N(va);sa.N(ma);Aa[0]=v[0];Ma=Ta}}};l.VQ=function(c,a,b,d,e,g,h,k,m,n){var p=new f.ha(0),q=new f.ha(0),r=new f.ha(0);f.kb.xd(c,a,d.x,d.y,e.x,e.y,r,p,q,b);q=r.u;p=p.u;var v=r=NaN;if(null!=k){v=f.F.Ch(c,a);var G=f.F.q(c,a,d.y);r=(v-G)/q;v=(v+G)/q}G=l.Ou(d,e);var S=l.Mu(d,e),X=G||S;h=l.zE(d,e,h);var V=l.Nu(d,e);V=X||h||V;l.Yi(d.x,NaN,n);var Z=new f.h;l.Of(m,d);Z.N(d);null!=k&&k.add(0);V?(X?(G&&l.eB(d,e,k,m),S&&l.cB(d,e,k,m)):h&&l.dB(d,e,p,r,v,k,m),l.Yi(e.x,
NaN,n),l.Of(m,e)):q<=g?(l.Yi(e.x,NaN,n),l.Of(m,e)):(r=new f.h,h=new f.h,r.N(d),h.N(e),r.x-=n[0],h.x-=n[0],-3.141592653589793>h.x?h.x+=6.283185307179586:3.141592653589793<h.x&&(h.x-=6.283185307179586),l.Ty(c,a,b,d,q,p,r,h,0,1,g,k,m,n),l.Of(m,e),l.Yi(e.x,NaN,n));null!=k&&k.add(1)};l.Ty=function(c,a,b,d,e,g,h,k,m,n,p,q,r,v){var G=new f.h,S=new f.h;G.na(h.x+v[0],h.y);new f.ha(0);new f.ha(0);new f.ha(0);new f.ha(0);var X=new f.ha(0),V=new f.ha(0),Z=new f.ha(0),ia=new f.h,ja=new f.h,ma=new f.h,sa=new f.h;
ia.N(h);ja.N(k);h=new f.ce(0);k=new f.ce(0);l.wp(h,ja);k.add(n);var va=new f.h,Aa=new f.zb,za=[];for(l.SJ(4,za);0<h.size;){for(var Oa=!1,Ma,Sa=NaN,Ta=0;3>Ta;Ta++)if(Ma=za[Ta]*n+(1-za[Ta])*m,f.kb.qj(c,a,d.x,d.y,Ma*e,g,X,V,b),ma.na(X.u,V.u),0==Ta&&(Sa=Ma,sa.N(ma)),l.NW(ia,ma,ja,Aa),Aa.ic(Aa.fe(ma,!0),va),f.kb.xd(c,a,ma.x,ma.y,va.x,va.y,Z,null,null,2),Z.u>p){Oa=!0;break}Oa?(ja.N(sa),n=Sa,l.wp(h,ja),k.add(n)):(l.bB(h),k.Fn(k.size-1,1,k.size-1),0<h.size&&(l.Yi(ja.x,G.x,v),S.na(v[0]+ja.x,ja.y),l.Of(r,S),
G.N(S),null!=q&&q.add(n),ia.N(ja),m=n,l.iB(h,ja),n=k.get(k.size-1)))}};l.tX=function(c,a,b,d,e,g,h,k,m){var n=new f.h,p=new f.h,q=new f.h,r=new f.h,v=new f.h,G=new f.h,S=new f.h,X=new f.h,V=new f.h,Z=new f.h,ia=new f.ha(0),ja=new f.ha(0),ma=new f.h,sa=[[],[]],va=1==f.Gg.Tb(e);e=e.Yd(0);var Aa=d.ac(),za=d.xc();va?(G.na(Aa.x*b,Aa.y*b),S.na(za.x*b,za.y*b)):(sa[0][0]=Aa.x,sa[0][1]=Aa.y,sa[1][0]=za.x,sa[1][1]=za.y,f.cb.wt(),G.x=sa[0][0]*b,G.y=sa[0][1]*b,S.x=sa[1][0]*b,S.y=sa[1][1]*b);var Oa=0,Ma=0,Sa=
1,Ta=d.Qn();n.N(Aa);p.N(za);za=new f.ce(0);var Ya=new f.ce(0),ab=new f.ce(0);l.wp(za,p);l.wp(Ya,S);ab.add(Sa);l.Of(m,n);null!=k&&k.add(Ma);var fb=[],db=0<h?Ta?5:3:Ta?5:1;l.SJ(db,fb);for(var Xa=new f.ha(0),Za=new f.ha(0),Wa=new f.ha(0),eb=new f.ha(0),cb=new f.ha(0),hb=new f.ha(0),$a=new f.ha(0);0<Ya.size;){var gb=!1,bb=NaN;f.kb.xd(c,a,G.x,G.y,S.x,S.y,Xa,Za,null,2);for(Aa=0;Aa<db;Aa++){if(0==Aa){if(!Ta&&0>=h&&Xa.u<=g&&3.141592653589793>Math.abs(G.x-S.x))break;if(d.Tx(Ma,Sa)<=e)break}var ib=fb[Aa]*Sa+
(1-fb[Aa])*Ma;d.ic(ib,q);va?X.na(q.x*b,q.y*b):(sa[0][0]=q.x,sa[0][1]=q.y,f.cb.wt(),X.x=sa[0][0]*b,X.y=sa[0][1]*b);if(0==Aa&&(bb=ib,v.N(q),Z.N(X),0<g&&(Xa.u>g||3.141592653589793<=Math.abs(G.x-S.x)))){gb=!0;break}if(Ta&&0<g){if(f.kb.xd(c,a,G.x,G.y,X.x,X.y,Wa,null,null,2),Wa.u>g||3.141592653589793<=Math.abs(G.x-X.x)){gb=!0;break}}else if(0<h)if(Ta?(r.GS(n,p,fb[Aa]),va?V.na(r.x*b,r.y*b):(sa[0][0]=r.x,sa[0][1]=r.y,f.cb.wt(),V.x=sa[0][0]*b,V.y=sa[0][1]*b)):(r.N(q),V.N(X)),f.kb.xd(c,a,G.x,G.y,V.x,V.y,eb,
null,null,2),eb.u<=Xa.u){f.kb.qj(c,a,G.x,G.y,eb.u,Za.u,ia,ja,2);ma.na(ia.u,ja.u);f.kb.xd(c,a,ma.x,ma.y,X.x,X.y,cb,null,null,2);if(cb.u>h){gb=!0;break}if(Ta){f.kb.xd(c,a,ma.x,ma.y,V.x,V.y,hb,null,null,2);if(hb.u>h){gb=!0;break}f.kb.xd(c,a,V.x,V.y,X.x,X.y,$a,null,null,2);if($a.u>h){gb=!0;break}}}else{gb=!0;break}}gb?(p.N(v),S.N(Z),Sa=bb,l.wp(za,p),l.wp(Ya,S),ab.add(Sa)):(l.bB(za),l.bB(Ya),ab.Fn(ab.size-1,1,ab.size-1),l.Of(m,p),Oa+=Xa.u,null!=k&&k.add(Oa),0<Ya.size&&(n.N(p),G.N(S),Ma=Sa,l.iB(za,p),l.iB(Ya,
S),Sa=ab.get(ab.size-1)))}if(null!=k)for(c=1/Oa,Aa=0;Aa<k.size;Aa++)k.write(Aa,k.read(Aa)*c)};l.$B=function(c,a,b,d){d.reverse();null!=b&&b.pi(0,b.size,1);b=null!=c?c[0]:NaN;d=null!=a?a[0]:NaN;null!=c&&(c[0]=d);null!=a&&(a[0]=b)};l.$I=function(c,a,b,d,e){c?(d.N(b),e.N(a)):(d.N(a),e.N(b))};l.ZI=function(c,a,b){if(!c)return a;b.create(a.K());a.copyTo(b.get());b.get().reverse();return b.get()};l.Yi=function(c,a,b){if(isNaN(a)){for(;3.141592653589793<b[0]-c;)b[0]-=6.283185307179586;for(;3.141592653589793<
c-b[0];)b[0]+=6.283185307179586}else 3.141592653589793<b[0]+c-a?b[0]-=6.283185307179586:3.141592653589793<a-(b[0]+c)&&(b[0]+=6.283185307179586)};l.NW=function(c,a,b,d){3.141592653589793>Math.abs(a.x-c.x)?(d.Ec(c),3.141592653589793<=b.x-c.x?d.Sl(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?d.Sl(b.x+6.283185307179586,b.y):d.Sl(b.x,b.y)):(d.Ec(b),3.141592653589793<=c.x-b.x?d.Sl(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?d.Sl(c.x+6.283185307179586,c.y):d.Sl(c.x,c.y))};l.SJ=function(c,
a){for(var b=0;b<c;b++){var d=Math.ceil(b/2)/(c+1);0!=b%2&&(d=-d);a[b]=.5+d}};l.Ou=function(c,a){return f.s.$(c.y,1.570796326794897)&&!f.s.$(a.y,1.570796326794897)||f.s.$(c.y,-1.570796326794897)&&!f.s.$(a.y,-1.570796326794897)?!0:!1};l.Mu=function(c,a){return f.s.$(a.y,1.570796326794897)&&!f.s.$(c.y,1.570796326794897)||f.s.$(a.y,-1.570796326794897)&&!f.s.$(c.y,-1.570796326794897)?!0:!1};l.zE=function(c,a,b){return!l.yE(c,a,b)||f.s.$(c.y,1.570796326794897)||f.s.$(c.y,-1.570796326794897)||f.s.$(a.y,
1.570796326794897)||f.s.$(a.y,-1.570796326794897)?!1:!0};l.yE=function(c,a,b){return Math.abs(Math.abs(c.x-a.x)-3.141592653589793)<=b?!0:!1};l.Nu=function(c,a){return f.s.$(c.y,1.570796326794897)&&f.s.$(a.y,1.570796326794897)||f.s.$(c.y,-1.570796326794897)&&f.s.$(a.y,-1.570796326794897)?!0:!1};l.eB=function(c,a,b,d){if(0<c.y){var e=new f.h;e.na(a.x,1.570796326794897)}else e=new f.h,e.na(a.x,-1.570796326794897);f.s.$(c.x,e.x)||f.s.$(a.y,e.y)||(l.Of(d,e),null!=b&&b.add(0))};l.cB=function(c,a,b,d){if(0<
a.y){var e=new f.h;e.na(c.x,1.570796326794897)}else e=new f.h,e.na(c.x,-1.570796326794897);f.s.$(a.x,e.x)||f.s.$(c.y,e.y)||(l.Of(d,e),null!=b&&b.add(1))};l.dB=function(c,a,b,d,e,g,h){f.s.Dd(b)?(0<1.570796326794897-c.y&&(b=new f.h,b.na(c.x,1.570796326794897),l.Of(h,b),null!=g&&g.add(d)),0<1.570796326794897-a.y&&(b=new f.h,b.na(a.x,1.570796326794897),l.Of(h,b),null!=g&&g.add(d))):(0<1.570796326794897+c.y&&(b=new f.h,b.na(c.x,-1.570796326794897),l.Of(h,b),null!=g&&g.add(e)),0<1.570796326794897+a.y&&
(b=new f.h,b.na(a.x,-1.570796326794897),l.Of(h,b),null!=g&&g.add(e)))};l.sU=function(c){if(-3.141592653589793>c.x)for(;-3.141592653589793>c.x;)c.x+=6.283185307179586;if(3.141592653589793<c.x)for(;3.141592653589793<c.x;)c.x-=6.283185307179586};return l}();f.ej=w})(Y||(Y={}));(function(f){f.jp=function(){function w(){}w.pj=function(l,c,a){if(null==l||null==c||!f.cb.Xc(c))throw f.i.O();if(l.B())return l;var b=l,d=b.K();if(f.ba.Ic(d)){b=f.Jh.nj(l,c);l=new f.l;b.A(l);d=f.ta.Xd(c,l,!1);for(var e=f.cb.ih(c),
g=Math.floor((l.v-e.v)/e.S())*e.S()+e.v;g<l.C;)g>l.v+d&&g<l.C-d&&(b=f.Jh.ms(b,c,a,!0,g)),g+=e.S()}else{if(197==d)return l=new f.Ea(b.description),l.bd(b,!1),w.pj(l,c,a);if(f.ba.zd(d))return l=new f.Ua(b.description),l.oc(b,!0),w.pj(l,c,a)}return w.Py(b,c)};w.Py=function(l,c){if(null==l||null==c||!f.cb.Xc(c))throw f.i.O();if(l.B())return l;var a=l.K();197==a?(a=new f.Ea(l.description),a.bd(l,!1)):f.ba.zd(a)?(a=new f.Ua(l.description),a.oc(l,!0)):a=l;a=f.Jh.nj(a,c);return a.B()?a:1==f.Gg.Tb(c)?f.Jh.Gn(a,
c,0,a!=l,0):w.HQ(a,c,a!=l)};w.HQ=function(l,c,a){if(!f.cb.Xc(c))throw f.i.O();if(l.B())return l;var b=f.cb.bf(c),d=-(180*b);b*=360;2==f.Gg.Tb(c)&&(d=f.cb.ih(c),b=d.C,d=d.v,b-=d);return f.Jh.Jp(l,d,b,c,a,0,!0)};return w}()})(Y||(Y={}));(function(f){f.tY=function(){function w(){}w.R=function(l){return 0>l?-l:l};w.Mb=function(l,c){return 0<=c?w.R(l):-w.R(l)};w.$=function(l,c){return l==c||w.R(l-c)<=w.DC*(1+(w.R(l)+w.R(c))/2)};w.Dd=function(l){return 0==l||w.R(l)<=w.DC};w.Ch=function(l,c){c=Math.sqrt(1-
c);c=(1-c)/(1+c);var a=c*c;return l/(1+c)*(1+a*(.25+a*(.015625+1/256*a)))*w.yL};w.yL=1.5707963267948966;w.DC=3.552713678800501E-15;return w}()})(Y||(Y={}));(function(f){var w=function(){return function(c){this.Xf=c;this.Lk=this.Xf.getCode();0>this.Lk&&(this.Lk=0)}}();f.vY=w;var l=function(){function c(a){void 0===a&&(a=null);this.Ej=null;this.Vn=!1;null!==a&&(this.Ej=new w(a))}c.prototype.Fc=function(){return null!=this.Ej?this.Ej.Lk:0};c.prototype.Pf=function(){var a=new c;this.copyTo(a);return a};
c.prototype.copyTo=function(a){a.Ej=this.Ej;a.Vn=this.Vn};c.prototype.Lz=function(){this.Vn=!this.Vn};c.prototype.sm=function(){return null!=this.Ej?this.Ej.Xf:null};c.prototype.FJ=function(a){if(0>=a)throw f.i.O();if(a!=this.Fc()){a=f.qf.geogtran(a);if(null==a)throw f.i.O("Geogtran not found.");this.Ej=new w(a)}};c.prototype.wz=function(){return null==this.Ej?null:this.Ej.Xf.toString()};c.prototype.lX=function(a){if(null==a)throw f.i.O();var b=null;try{b=f.qf.fromString(f.Tc.PE_TYPE_GEOGTRAN,a)}catch(d){throw f.i.O();
}this.Ej=new w(b)};c.prototype.Nb=function(a){return a==this?!0:a instanceof c&&(!(0>=this.Fc()||this.Fc()!=a.Fc())||this.sm().isEqual(a.sm()))?this.Vn==a.Vn:!1};c.prototype.toString=function(){var a="GeographicTransformation: "+this.wz();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};c.create=function(a,b){var d=new c;d.FJ(a);b&&d.Lz();return d};c.oP=function(a,b){var d=new c;d.lX(a);b&&d.Lz();return d};return c}();f.Cx=l})(Y||(Y={}));(function(f){var w=function(){function c(){}
c.construct=function(a,b,d,e){var g=new c;g.jw=a;g.kw=b;g.IY=d;g.JY=e;return g};c.zy=function(a,b){return a.jw==b.jw?a.kw==b.kw?0:a.kw<b.kw?-1:1:a.jw<b.jw?-1:1};return c}(),l=function(){function c(){this.qT=[];this.rT=[];this.rp()}c.fz=function(){null==c.dK&&(c.dK=new c);return c.dK};c.prototype.rp=function(){this.cD(this.qT);this.cD(this.rT)};c.prototype.cD=function(a){try{var b=[];b=b.sort(w.zy);for(var d=0;d<b.length;d++)a.push(b[d])}catch(e){}};return c}();f.uY=l})(Y||(Y={}));(function(f){var w=
function(){function l(){}l.prototype.sD=function(c){this.Gk=c};l.prototype.QM=function(c){this.Gb=c};l.prototype.rD=function(c){this.Ao=c};l.wE=function(c){return c.B()||1607!=c.K()&&1736!=c.K()?!1:!0};l.uE=function(c){return c.B()||1607!=c.K()&&1736!=c.K()||20>c.I()?!1:!0};l.vE=function(c){return c.B()||1607!=c.K()&&1736!=c.K()||20>c.I()?!1:!0};return l}();f.Vk=w})(Y||(Y={}));(function(f){f.bc=function(){function w(){}w.LT=function(l){var c=new f.Ea;c.rx(l.gs(),l.js());c.Aj(l.gs(),l.hs());c.Aj(l.fs(),
l.hs());c.Aj(l.fs(),l.js());return c};w.Bh=function(l,c){return null===l?null:f.Gx.local().W(l,c,null)};w.bY=function(l,c){var a=f.Ih.local();l=new f.$c(l);return a.W(l,c,null).next()};w.km=function(l,c,a){return f.lp.local().W(l,c,a,null)};w.fp=function(l,c,a){return f.Jx.local().W(l,c,a,null)};w.NX=function(l,c,a){var b=f.Jx.local();l=new f.$c(l);c=new f.$c(c);a=b.W(l,c,a,null);for(b=[];null!=(c=a.next());)b.push(c);return b};w.Nb=function(l,c,a){return f.fj.local().W(3,l,c,a,null)};w.NP=function(l,
c,a){return f.fj.local().W(4,l,c,a,null)};w.JS=function(l,c,a){var b=f.Xk.local();l=new f.$c(l);c=new f.$c(c);a=b.W(l,c,a,null);for(b=[];null!=(c=a.next());)b.push(c);return b};w.KP=function(l,c,a){var b=f.lp.local();l=new f.$c(l);c=new f.$c(c);a=b.W(l,c,a,null);for(b=[];null!=(c=a.next());)b.push(c);return b};w.Fa=function(l,c,a){return f.Xk.local().W(l,c,a,null)};w.iY=function(l,c,a){return f.fj.local().W(2,l,c,a,null)};w.contains=function(l,c,a){return f.fj.local().W(1,l,c,a,null)};w.vP=function(l,
c,a){return f.fj.local().W(16,l,c,a,null)};w.touches=function(l,c,a){return f.fj.local().W(8,l,c,a,null)};w.vU=function(l,c,a){return f.fj.local().W(32,l,c,a,null)};w.LS=function(l,c,a){return f.fj.local().W(1073741824,l,c,a,null)};w.sB=function(l,c,a,b){return f.tL.local().W(l,c,a,b,null)};w.ub=function(l,c,a,b){var d=null;if(null!=a){if(d=a.Id(),null!=b&&d.Fc()!=b.Fc()&&d.od!=b.od)throw f.i.Zk();}else if(null!=b)throw f.i.O();l=f.kL.local().W(l,c,null);null!==d&&null!==b&&(l=f.Uc.Ph(l,d,b));return l};
w.clip=function(l,c,a){return f.eL.local().W(l,f.l.construct(c.gs(),c.js(),c.fs(),c.hs()),a,null)};w.fl=function(l,c,a){if(null==l||null==c)return null;l=f.gL.local().W(!0,l,c,a,null);for(c=[];null!=(a=l.next());)a.B()||c.push(a);return c.slice(0)};w.GN=function(l,c,a,b,d,e,g,h){if(!0===d)return w.HN(l,c,a,b,e,g,h);d=a;if(null!=c){if(g=c.Id(),null!=b&&g.Fc()!=b.Fc()){if(g.od!=b.od)throw f.i.Zk();d=[];f.Uc.RE(a,a.length,b,g,d)}}else if(null!=b)throw f.i.O();a=f.uC.local();if(e){l=new f.$c(l);c=a.W(l,
c,d,e,null);for(l=[];null!=(e=c.next());)l.push(e);e=l.slice(0)}else for(e=[],b=0;b<l.length;b++)e[b]=a.W(l[b],c,d[b],null);return e};w.HN=function(l,c,a,b,d,e,g){if(null===c)throw f.i.O();if(null===b||void 0===b)b=4326!==c.Fc()?c.Id():f.Uc.ah(9001);if(0!==b.od)throw f.i.O();f.Uc.RE(a,a.length,b,f.Uc.ah(9001),a);b=f.zC.local();if(d){l=new f.$c(l);c=b.W(l,c,e,a,g,!1,d,null);for(a=[];null!=(e=c.next());)a.push(e);d=a.slice(0)}else{d=[];for(var h=0;h<l.length;h++)d[h]=b.W(l[h],c,e,a[h],g,!1,null)}return d};
w.buffer=function(l,c,a,b,d,e,g){var h=a;if(!1===d){if(null!=c){if(d=c.Id(),null!=b&&d.Fc()!=b.Fc()){if(d.od!=b.od)throw f.i.Zk();h=f.Uc.Ph(a,b,d)}}else if(null!=b)throw f.i.O();l=f.uC.local().W(l,c,h,null)}else{if(null===c)throw f.i.O();if(null===b||void 0===b)b=4326!==c.Fc()?c.Id():f.Uc.ah(9001);if(0!==b.od)throw f.i.O();h=f.Uc.Ph(a,b,f.Uc.ah(9001));l=f.zC.local().W(l,c,e,h,g,!1,null)}return l};w.tU=function(l,c,a,b,d,e,g){if(null!=c){var h=c.Id();if(null!=g&&h.Fc()!=g.Fc()){if(h.od!=g.od)throw f.i.Zk();
a=f.Uc.Ph(a,g,h)}}else if(null!=g)throw f.i.O();l=new f.$c(l);c=f.CC.local().W(l,c,a,b,d,e,null);for(a=[];null!=(b=c.next());)a.push(b);return a.slice(0)};w.offset=function(l,c,a,b,d,e,g){if(null!=c){var h=c.Id();if(null!=g&&h.Fc()!=g.Fc()){if(h.od!=g.od)throw f.i.Zk();a=f.Uc.Ph(a,g,h)}}else if(null!=g)throw f.i.O();return f.CC.local().W(l,c,a,b,d,e,null)};w.cP=function(l){return f.wC.local().W(l,null)};w.dP=function(l,c){var a=f.wC.local();l=new f.$c(l);c=a.W(l,c,null);for(a=[];null!=(l=c.next());)a.push(l);
return a};w.iz=function(l,c,a){return f.Hx.local().iz(l,c,a)};w.jz=function(l,c){return f.Hx.local().jz(l,c)};w.kz=function(l,c,a,b){return f.Hx.local().kz(l,c,a,b)};w.ZB=function(l,c){return f.$l.local().W(l,c,!1,null)};w.WS=function(l,c){return f.$l.local().ts(l,c,null)};w.KQ=function(l,c,a,b,d){var e=f.yC.local();if(null!=c){if(c=c.Id(),null!=d&&c.Fc()!=d.Fc()){if(c.od!=d.od)throw f.i.Zk();a=f.Uc.Ph(a,d,c)}}else if(null!=d)throw f.i.O();return e.W(l,a,b,null)};w.Sr=function(l,c,a,b){var d=f.Zl.local();
if(null!=c){if(c=c.Id(),null!=b&&c.Fc()!=b.Fc()){if(c.od!=b.od)throw f.i.Zk();a=f.Uc.Ph(a,b,c)}}else if(null!=b)throw f.i.O();return d.W(l,a,null)};w.Ry=function(l,c,a,b,d){void 0===d&&(d=0);var e=f.mL.local();if(4==d)throw f.i.Fe();if(0!==d)throw f.i.Fe();if(null!==b){if(0!==b.od)throw f.i.O("Unit must be a linear unit type");a=f.Uc.Ph(a,b,f.Uc.ah(9001))}return e.W(l,a,c,d,null)};w.QQ=function(l,c,a,b){if(null===l)return 0;if(4==b)throw f.i.Fe();if(0!==b)throw f.i.Fe();if(197==l.K())l=w.LT(l);else if(1736!=
l.K())return 0;b=f.cb.tc(c);l=f.cb.Bh(l,c,b);l=f.OK.RQ([l])[0];if(null!==a){if(2!==a.od)throw f.i.O("Unit must be a area unit type");l=f.Uc.Ph(l,f.Uc.ah(109404),a)}return l};w.TQ=function(l,c,a,b){l=f.oL.local().W(l,c,b,null);if(null!==a){if(0!==a.od)throw f.i.O("Unit must be a linear unit type");l=f.Uc.Ph(l,f.Uc.ah(9001),a)}return l};w.BU=function(l,c,a){if(null===l)return 0;var b=null;if(null!=c){b=c.Id();if(0==b.od&&(b=f.Uc.VF(b),null==b&&null!==a))throw f.i.O();if(null!=a&&b.Fc()!=a.Fc()&&b.od!=
a.od)throw f.i.Zk();}else if(null!=a)throw f.i.O();return 1736==l.K()||197==l.K()?(l=l.He(),null!==a?f.Uc.Ph(l,b,a):l):0};w.CU=function(l,c,a){if(null===l||l.B()||1>l.Eb())return 0;var b=null;if(null!=c){if(b=c.Id(),null!=a&&b.Fc()!=a.Fc()&&b.od!=a.od)throw f.i.Zk();}else if(null!=a)throw f.i.O();1736==l.K()||197==l.K()?c=l.mg():f.ba.zd(l.K())?(c=new f.Ua(l.description),c.oc(l,!0)):c=l;l=0;c=c.Ha();for(var d=new f.h,e=new f.h;c.ab();)for(;c.Ia();){var g=c.ia();g.$p(d);g.Vr(e);l+=f.h.ub(d,e)}null!==
b&&null!==a&&(l=f.Uc.Ph(l,b,a));return l};w.$O=function(l){return void 0!==l.points?w.fS(l,void 0===l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM):void 0!==l.rings?w.fG(l.rings,void 0===l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM,"P"):void 0!==l.paths?w.fG(l.paths,void 0===l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM,"L"):void 0!==l.x?w.gS(l):void 0!==l.xmin?w.eS(l):null};w.gS=function(l){if(null==l.x||"NaN"==l.x)return new f.Ta;var c=new f.Ta(l.x,l.y);void 0!==l.z&&null!==l.z&&c.oX(l.z);void 0!==l.m&&
null!==l.m&&c.ZW(l.m);return c};w.eS=function(l){if(null==l.xmin||"NaN"==l.xmin)return new f.Hh;var c=new f.Hh(l.xmin,l.ymin,l.xmax,l.ymax);void 0!==l.zmin&&null!==l.zmin&&c.setInterval(1,0,l.zmin,l.zmax);void 0!==l.mmin&&null!==l.mmin&&c.setInterval(2,0,l.mmin,l.mmax);return c};w.fS=function(l,c,a){var b=0,d=new f.de,e=3*l.points.length;0!=e%2&&e++;2>e&&(e=2);var g=f.P.truncate(3*l.points.length/2);4>g?g=4:16>g&&(g=16);e=f.Zc.En(e,0);var h=f.Zc.En(g);g=f.Zc.En(g);for(var k=0;k<l.points.length;k++)e.write(2*
k,l.points[k][0]),e.write(2*k+1,l.points[k][1]),h.write(k,c||a?l.points[k][2]:NaN),g.write(k,a&&c?l.points[k][3]:NaN),b++;0!=b&&(d.resize(b),d.kn(0,e));c&&(d.se(1),d.kn(1,h));a&&(d.se(2),d.kn(2,0==c?h:g));d.Qc(16777215);return d};w.fG=function(l,c,a,b){var d=0,e=2;if("P"==b){var g=new f.Ea;d=1;e=3}else g=new f.Ua;for(var h=f.Zc.Qh(0),k=f.Zc.Or(0),m=0,n=0,p=[],q=[],r=0;r<l.length;r++){var v=l[r].length;p[r]=!1;if("P"===b&&l[r][0][0]===l[r][l[r].length-1][0]&&l[r][0][1]===l[r][l[r].length-1][1]){var G=
0==a?!0:l[r][0][3]===l[r][l[r].length-1][3]||void 0===l[r][0][3]&&void 0===l[r][l[r].length-1][3];(0==c||l[r][0][2]===l[r][l[r].length-1][2]||void 0===l[r][0][2]&&void 0===l[r][l[r].length-1][2])&&G&&(p[r]=!0,--v)}v>=e?(q[r]=!1,n+=1,h.add(m),k.add(d),m+=v):q[r]=!0}b=3*m;0!=b%2&&b++;2>b&&(b=2);r=f.P.truncate(3*m/2);4>r?r=4:16>r&&(r=16);b=f.Zc.En(b,0);d=f.Zc.En(r);e=f.Zc.En(r);for(r=v=0;r<l.length;r++)if(!1===q[r])for(G=0;G<l[r].length;G++){var S=!1;G===l[r].length-1&&!0===p[r]&&(S=!0);S||(b.write(2*
v,l[r][G][0]),b.write(2*v+1,l[r][G][1]),d.write(v,c||a?l[r][G][2]:NaN),e.write(v,a&&c?l[r][G][3]:NaN),v++)}0!=m&&(l=g,h.resize(n),k.resize(n),0<m&&(h.add(m),k.add(0)),l.kn(0,b),l.JJ(k),l.KJ(h));c&&(g.se(1),g.kn(1,d));a&&(g.se(2),g.kn(2,0==c?d:e));g.Qc(16777215);return g};return w}()})(Y||(Y={}));(function(f){f.Dx=function(){function w(){}w.dr=function(l){var c=0,a,b=l.length,d=l[0];for(a=0;a<b-1;a++){var e=l[a+1];c+=(e[0]-d[0])*(e[1]+d[1]);d=e}return 0<=c};w.rotate=function(l,c,a){c=c*Math.PI/180;
var b=Math.cos(c),d=Math.sin(c);if(void 0!==l.paths){c={paths:[]};for(var e=0;e<l.paths.length;e++){for(var g=l.paths[e],h=[],k=0;k<g.length;k++){var m=g[k].slice(0);h.push(m);var n=b*(g[k][0]-a.x)-d*(g[k][1]-a.y)+a.x,p=d*(g[k][0]-a.x)+b*(g[k][1]-a.y)+a.y;m[0]=n;m[1]=p}c.paths.push(h)}return c}if(void 0!==l.rings){c={rings:[]};for(e=0;e<l.rings.length;e++){g=l.rings[e];h=[];var q=w.dr(g);for(k=0;k<g.length;k++)m=g[k].slice(0),h.push(m),n=b*(g[k][0]-a.x)-d*(g[k][1]-a.y)+a.x,p=d*(g[k][0]-a.x)+b*(g[k][1]-
a.y)+a.y,m[0]=n,m[1]=p;w.dr(h)!==q&&h.reverse();c.rings.push(h)}return c}if(void 0!==l.x)return c={x:b*(l.x-a.x)-d*(l.y-a.y)+a.x,y:d*(l.x-a.x)+b*(l.y-a.y)+a.y},void 0!==l.z&&(c.z=l.z),void 0!==l.m&&(c.m=l.m),c;if(void 0!==l.points){c={points:[]};l=l.points;for(k=0;k<l.length;k++)e=l[k].slice(0),e[0]=b*(l[k][0]-a.x)-d*(l[k][1]-a.y)+a.x,e[1]=d*(l[k][0]-a.x)+b*(l[k][1]-a.y)+a.y,c.points.push(e);return c}return null};w.DQ=function(l,c){if(void 0!==l.paths){for(var a={paths:[]},b=0;b<l.paths.length;b++){for(var d=
l.paths[b],e=[],g=0;g<d.length;g++){var h=d[g].slice(0);e.push(h);var k=c.x-d[g][0];h[0]=d[g][0]+2*k}a.paths.push(e)}return a}if(void 0!==l.rings){a={rings:[]};for(b=0;b<l.rings.length;b++){d=l.rings[b];var m=w.dr(d);e=[];for(g=0;g<d.length;g++)h=d[g].slice(0),e.push(h),k=c.x-d[g][0],h[0]=d[g][0]+2*k;w.dr(e)!==m&&e.reverse();a.rings.push(e)}return a}if(void 0!==l.x)return k=c.x-l.x,a={x:l.x+2*k,y:l.y},void 0!==l.z&&(a.z=l.z),void 0!==l.m&&(a.m=l.m),a;if(void 0!==l.points){a={points:[]};l=l.points;
for(g=0;g<l.length;g++)b=l[g].slice(0),k=c.x-b[0],b[0]+=2*k,a.points.push(b);return a}return void 0!==l.xmin?(a={v:l.xmin,G:l.ymin,C:l.xmax,H:l.ymax},void 0!==l.zmin&&(a.zmin=l.zmin,a.zmax=l.zmax),void 0!==l.mmin&&(a.mmin=l.mmin,a.mmax=l.mmax),k=c.x-l.xmin,a.xmax=l.xmin+2*k,k=c.x-l.xmax,a.xmin=l.xmax+2*k,a):null};w.EQ=function(l,c){if(void 0!==l.paths){for(var a={paths:[]},b=0;b<l.paths.length;b++){for(var d=l.paths[b],e=[],g=0;g<d.length;g++){var h=d[g].slice(0);e.push(h);var k=c.y-d[g][1];h[1]=
d[g][1]+2*k}a.paths.push(e)}return a}if(void 0!==l.rings){a={rings:[]};for(b=0;b<l.rings.length;b++){d=l.rings[b];var m=w.dr(d);e=[];for(g=0;g<d.length;g++)h=d[g].slice(0),e.push(h),k=c.y-d[g][1],h[1]=d[g][1]+2*k;w.dr(e)!==m&&e.reverse();a.rings.push(e)}return a}if(void 0!==l.x)return k=c.y-l.y,a={y:l.y+2*k,x:l.x},void 0!==l.z&&(a.z=l.z),void 0!==l.m&&(a.m=l.m),a;if(void 0!==l.points){a={points:[]};l=l.points;for(g=0;g<l.length;g++)b=l[g].slice(0),k=c.y-b[1],b[1]+=2*k,a.points.push(b);return a}return void 0!==
l.xmin?(a={v:l.xmin,G:l.ymin,C:l.xmax,H:l.ymax},void 0!==l.zmin&&(a.zmin=l.zmin,a.zmax=l.zmax),void 0!==l.mmin&&(a.mmin=l.mmin,a.mmax=l.mmax),k=c.y-l.ymin,a.ymax=l.ymin+2*k,k=c.y-l.ymax,a.ymin=l.ymax+2*k,a):null};return w}()})(Y||(Y={}));(function(f){f.TK=function(){function w(){}w.Kg=function(l,c){null==c&&(c=f.ee.og());switch(l){case 33:return new f.Ta(c);case 322:return new f.zb(c);case 197:return new f.Hh(c);case 550:return new f.de(c);case 1607:return new f.Ua(c);case 1736:return new f.Ea(c);
default:throw f.i.ga("invalid argument.");}};return w}()})(Y||(Y={}));(function(f){var w=function(){function l(c,a){this.Qe=f.ja.rf(c,-1);this.va=new f.cu;this.yl=a}l.prototype.sW=function(c){this.va.Bt(Math.min(this.Qe.size,c));this.va.hn(c)};l.prototype.addElement=function(c,a){if(void 0===a)return this.ZM(c);a=f.P.truncate(a%this.Qe.size);var b=this.Qe.get(a);-1==b&&(b=this.va.Rh(),this.Qe.set(a,b));return this.va.addElement(b,c)};l.prototype.ZM=function(c){var a=this.yl.ez(c);a=f.P.truncate(a%
this.Qe.size);var b=this.Qe.get(a);-1==b&&(b=this.va.Rh(),this.Qe.set(a,b));return this.va.addElement(b,c)};l.prototype.kd=function(c,a){if(void 0===a)this.EP(c);else{a=f.P.truncate(a%this.Qe.size);var b=this.Qe.get(a);if(-1==b)throw f.i.O();for(var d=this.va.sc(b),e=-1;-1!=d;){var g=this.va.lb(d);this.va.ka(d)==c?(this.va.kd(b,e,d),-1==this.va.sc(b)&&(this.va.eh(b),this.Qe.set(a,-1))):e=d;d=g}}};l.prototype.EP=function(c){var a=this.yl.ez(c);a=f.P.truncate(a%this.Qe.size);var b=this.Qe.get(a);if(-1==
b)throw f.i.O();for(var d=this.va.sc(b),e=-1;-1!=d;){var g=this.va.lb(d);this.va.ka(d)==c?(this.va.kd(b,e,d),-1==this.va.sc(b)&&(this.va.eh(b),this.Qe.set(a,-1))):e=d;d=g}};l.prototype.kR=function(c){c=f.P.truncate(c%this.Qe.size);c=this.Qe.get(c);return-1==c?-1:this.va.sc(c)};l.prototype.yR=function(c){return this.va.lb(c)};l.prototype.wd=function(c){var a=this.yl.ez(this.ka(c));a=f.P.truncate(a%this.Qe.size);var b=this.Qe.get(a);if(-1==b)throw f.i.O();for(var d=this.va.sc(b),e=-1;-1!=d;){if(d==
c){this.va.kd(b,e,d);-1==this.va.sc(b)&&(this.va.eh(b),this.Qe.set(a,-1));return}e=d;d=this.va.lb(d)}throw f.i.O();};l.prototype.ka=function(c){return this.va.ka(c)};l.prototype.clear=function(){this.Qe=f.ja.rf(this.Qe.size,-1);this.va.clear()};l.prototype.size=function(){return this.va.NF()};return l}();f.YK=w})(Y||(Y={}));(function(f){var w=function(){function l(){this.Ni=new f.ad(3);this.va=new f.ad(6);this.jT=!1;this.je=-1}l.prototype.hl=function(c){this.Ni.kd(c)};l.prototype.Rw=function(){return this.Ni.De()};
l.prototype.dv=function(c){this.va.kd(c)};l.prototype.UA=function(){return this.va.De()};l.prototype.QB=function(c,a){this.Ni.T(c,1,a)};l.prototype.fx=function(c,a){this.Ni.T(c,2,a)};l.prototype.YW=function(c,a){this.Ni.T(c,3,a)};l.prototype.OB=function(c,a){this.va.T(c,4,a)};l.prototype.aX=function(c,a){this.va.T(c,3,a)};l.prototype.NJ=function(c,a){this.va.T(c,2,a)};l.prototype.Rh=function(c){var a=this.UA();this.va.T(a,3,this.je);this.va.T(a,4,0);this.va.T(a,5,c);-1!=this.je&&this.NJ(this.je,a);
return this.je=a};l.prototype.eh=function(c){this.FE(c);var a=this.va.U(c,2),b=this.va.U(c,3);-1!=a?this.aX(a,b):this.je=b;-1!=b&&this.NJ(b,a);this.dv(c);return b};l.prototype.Bt=function(c){this.va.Ee(c)};l.prototype.JF=function(c){return this.va.U(c,5)};l.prototype.XW=function(c,a){this.va.T(c,5,a)};l.prototype.addElement=function(c,a){return this.mS(c,a)};l.prototype.mS=function(c,a){var b=this.Rw();this.fx(b,-1);-1==this.va.U(c,0)&&this.va.T(c,0,b);var d=this.va.U(c,1);this.QB(b,d);-1!=d&&this.fx(d,
b);this.va.T(c,1,b);this.setData(b,a);this.OB(c,this.ds(c)+1);this.jT&&this.YW(b,c);return b};l.prototype.kd=function(c,a){var b=this.xe(a),d=this.lb(a);-1!=b?this.fx(b,d):this.va.T(c,0,d);-1!=d?this.QB(d,b):this.va.T(c,1,b);this.hl(a);this.OB(c,this.ds(c)-1);return d};l.prototype.hn=function(c){this.Ni.Ee(c)};l.prototype.getData=function(c){return this.Ni.U(c,0)};l.prototype.setData=function(c,a){this.Ni.T(c,0,a)};l.prototype.lb=function(c){return this.Ni.U(c,2)};l.prototype.xe=function(c){return this.Ni.U(c,
1)};l.prototype.sc=function(c){return this.va.U(c,0)};l.prototype.Gc=function(c){return this.va.U(c,1)};l.prototype.clear=function(){for(var c=this.je;-1!=c;)c=this.eh(c)};l.prototype.FE=function(c){for(var a=this.Gc(c);-1!=a;){var b=a;a=this.xe(b);this.hl(b)}this.va.T(c,0,-1);this.va.T(c,1,-1);this.OB(c,0)};l.prototype.B=function(){return 0==this.Ni.size};l.prototype.NF=function(){return this.Ni.size};l.prototype.ds=function(c){return this.va.U(c,4)};l.prototype.lz=function(c){return this.va.U(c,
3)};return l}();f.kp=w})(Y||(Y={}));(function(f){var w=function(){function l(c){void 0===c?(this.ug=new f.ad(2),this.va=new f.ad(4),this.je=-1,this.Sv=!0):(this.ug=new f.ad(2),this.va=new f.ad(c?4:2),this.je=-1,this.Sv=c)}l.prototype.hl=function(c){this.ug.kd(c)};l.prototype.Rw=function(){return this.ug.De()};l.prototype.dv=function(c){this.va.kd(c)};l.prototype.UA=function(){return this.va.De()};l.prototype.Rh=function(){var c=this.UA();this.Sv&&(this.va.T(c,3,this.je),-1!=this.je&&this.va.T(this.je,
2,c),this.je=c);return c};l.prototype.eh=function(c){for(var a=this.sc(c);-1!=a;){var b=a;a=this.lb(a);this.hl(b)}this.Sv&&(a=this.va.U(c,2),b=this.va.U(c,3),-1!=a?this.va.T(a,3,b):this.je=b,-1!=b&&this.va.T(b,2,a));this.dv(c)};l.prototype.Bt=function(c){this.va.Ee(c)};l.prototype.addElement=function(c,a){var b=this.va.U(c,1),d=this.Rw();-1!=b?this.ug.T(b,1,d):this.va.T(c,0,d);this.va.T(c,1,d);this.ug.T(d,0,a);return d};l.prototype.hn=function(c){this.ug.Ee(c)};l.prototype.kd=function(c,a,b){-1!=
a?(this.ug.T(a,1,this.ug.U(b,1)),this.va.U(c,1)==b&&this.va.T(c,1,a)):(this.va.T(c,0,this.ug.U(b,1)),this.va.U(c,1)==b&&this.va.T(c,1,-1));this.hl(b)};l.prototype.Cy=function(c,a){var b=this.va.U(c,1),d=this.va.U(a,0);-1!=d&&(-1!=b?this.ug.T(b,1,d):this.va.T(c,0,d),this.va.T(c,1,this.va.U(a,1)));this.Sv&&(c=this.va.U(a,2),b=this.va.U(a,3),-1!=c?this.va.T(c,3,b):this.je=b,-1!=b&&this.va.T(b,2,c));this.dv(a)};l.prototype.ka=function(c){return this.ug.U(c,0)};l.prototype.Uj=function(c,a){this.ug.T(c,
0,a)};l.prototype.lb=function(c){return this.ug.U(c,1)};l.prototype.sc=function(c){return this.va.U(c,0)};l.prototype.Kn=function(c){return this.ka(this.sc(c))};l.prototype.clear=function(){this.ug.oj(!0);this.va.oj(!0);this.je=-1};l.prototype.B=function(){return 0==this.ug.size};l.prototype.NF=function(){return this.ug.size};l.prototype.lz=function(c){return this.va.U(c,3)};return l}();f.cu=w})(Y||(Y={}));(function(f){f.ta=function(){function w(){}w.Xd=function(l,c,a){c=c.zr();l=null!=l&&void 0!==
l.Yd?l.Yd(0):0;a&&(c*=4,l*=1.1);return Math.max(l,c)};w.Gr=function(l){return 2*Math.sqrt(2)*l};w.lN=function(l){return Math.sqrt(2)*l};w.mj=function(l,c,a){var b=new f.l;c.A(b);return w.Xd(l,b,a)};w.qE=function(l,c,a){c=c.Vg(1,0).zr();l=null!=l?l.Yd(1):0;a&&(c*=4,l*=1.1);return Math.max(l,c)};w.ov=function(l,c){var a=new f.l;l.yc(a);l=new f.l;c.yc(l);a.$b(l);return a};w.SN=function(l){var c=new f.l;l.yc(c);if(c.B())return null;var a=new f.fu(c,8),b=-1,d=new f.l,e=!1;do for(var g=0,h=l.ea();g<h;g++)if(l.Tj(g,
d),b=a.Ez(g,d,b),-1==b){if(e)throw f.i.ga("internal error");l.Ap(c,!1);e=!0;a.reset(c,8);break}else e=!1;while(e);return a};w.hE=function(l){var c=new f.l;l.yc(c);for(var a=new f.fu(c,8),b=-1,d=l.Ha(),e=new f.l,g=!1;d.ab();)for(;d.Ia();){var h=d.ia(),k=d.xb();h.A(e);b=a.Ez(k,e,b);if(-1==b){if(g)throw f.i.Ra();l.Ap(c,!1);g=!0;a.reset(c,8);d.aj();break}}return a};w.lj=function(l,c){var a=new f.l;l.yc(a);for(var b=new f.fu(a,8),d=-1,e=new f.l,g=l.Ha(),h=!1;g.ab();)for(;g.Ia();){var k=g.ia(),m=g.xb();
k.A(e);if(e.isIntersecting(c)&&(d=b.Ez(m,e,d),-1==d)){if(h)throw f.i.ga("internal error.");l.Ap(a,!1);h=!0;b.reset(a,8);g.aj();break}}return b};w.iE=function(l,c){for(var a=new f.fu(c,8),b=new f.h,d=!1,e=new f.l,g=0;g<l.I();g++)if(l.D(g,b),c.contains(b)&&(e.L(b),-1==a.xj(g,e))){if(d)throw f.i.Ra();d=!0;g=new f.l;l.Ap(g,!1);a.reset(g,8);g=-1}return a};w.fR=function(l,c,a){var b=new f.l,d=new f.l;l.yc(b);c.yc(d);b.X(a,a);d.X(a,a);var e=new f.l;e.L(b);e.Fa(d);l=l.Ha();c=c.Ha();var g=new f.rC;g.VB(a);
var h=!1;for(g.jK();l.ab();)for(;l.Ia();)l.ia().A(b),b.isIntersecting(e)&&(h=!0,a=new f.l,a.L(b),g.CD(l.xb(),a));g.cF();if(!h)return null;b=!1;for(g.iK();c.ab();)for(;c.Ia();)c.ia().A(d),d.isIntersecting(e)&&(b=!0,a=new f.l,a.L(d),g.yD(c.xb(),a));g.bF();return b?g:null};w.gR=function(l,c,a,b,d){var e=l.K(),g=c.K(),h=new f.l,k=new f.l;l.yc(h);c.yc(k);h.X(a,a);k.X(a,a);var m=new f.l;m.L(h);m.Fa(k);var n=new f.rC;n.VB(a);var p=!1;n.jK();var q=0;for(a=l.ea();q<a;q++)if(!b||1736!=e||l.Gv(q))l.Tj(q,h),
h.isIntersecting(m)&&(p=!0,n.CD(q,h));n.cF();if(!p)return null;l=!1;n.iK();b=0;for(a=c.ea();b<a;b++)if(!d||1736!=g||c.Gv(b))c.Tj(b,k),k.isIntersecting(m)&&(l=!0,n.yD(b,k));n.bF();return l?n:null};w.Tu=function(l,c,a){if(l!=c)for(var b=0;b<a;b++)null==l[b]?l[b]=f.h.cl(c[b]):l[b].N(c[b])};w.Ey=function(l,c,a,b){var d=0;for(b+=0;d<b;a++,d++)null==l[d]&&(l[d]=[0,0]),l[d][0]=c[a].x,l[d][1]=c[a].y};w.Dy=function(l,c,a,b){var d=c,e=0;for(c=b+c;d<c;e++,d++)null==l[d]?l[d]=f.h.construct(a[e][0],a[e][1]):l[d].na(a[e][0],
a[e][1])};w.eP=function(l,c,a){if(l!=c)for(var b=0;b<a;b++)null==l[b]?l[b]=new f.Ta(c[b]):c[b].copyTo(l[b])};w.pE=function(l,c,a,b){var d=0;null!=l&&(d=l.Yd(0),b&&!a||null==l||(d+=1.01*l.pz(0)));a&&(c*=4,d*=1.01);return Math.max(d,c)};w.oy=function(l,c,a){return w.pE(l,c.zr(),a,!1)};w.aO=function(l,c){var a=new f.l;c.A(a);return w.oy(l,a,!0)};w.py=function(l,c){return w.pE(l,c.zr(),!1,!0)};w.Ju=function(l,c){var a=new f.l;c.A(a);return w.py(l,a)};w.uG=function(l,c,a,b){b*=b;var d=new f.h;d.vc(l,c);
l=new f.h;l.vc(a,c);c=d.Tk();a=l.Tk();if(c<=b&&a<=b)return!0;var e=f.mc.ox(d.yi(l));return e<=b*c||e<=b*a?0<=d.Sh(l):!1};w.YJ=function(l,c,a,b){for(var d=0;d<c;d++){var e=l[d].y,g=f.P.Sk(e,a,b);g!=e&&(l[d].y=g)}};return w}()})(Y||(Y={}));(function(f){var w=function(){function d(e){this.Za=e}d.prototype.compare=function(e,g,h){e=e.ka(h);h=this.Za.pk(g);var k=this.Za.pk(e);return h<k?-1:h==k?b.iq(g)&&b.Iv(e)?-1:b.iq(e)&&b.Iv(g)?1:0:1};return d}(),l=function(){function d(e){this.Za=e}d.prototype.qr=
function(e,g,h){this.Za.yX(h,e,g)};d.prototype.bq=function(e){return this.Za.pk(e)};return d}(),c;(function(d){d[d.initialize=0]="initialize";d[d.pIn=1]="pIn";d[d.pL=2]="pL";d[d.pR=3]="pR";d[d.pT=4]="pT";d[d.right=5]="right";d[d.left=6]="left";d[d.all=7]="all"})(c||(c={}));var a=function(){function d(){this.Za=null;this.Si=new f.Oc;this.ji=new f.ja(0);this.sg=[0,0]}d.prototype.Zi=function(e,g){this.Si.pa=e.pa-g;this.Si.wa=e.wa+g;this.ji.resize(0);this.he=0;this.sg[0]=0};d.prototype.yB=function(e,
g,h){if(e>g)throw f.i.O();this.Si.pa=e-h;this.Si.wa=g+h;this.ji.resize(0);this.he=0;this.sg[0]=0};d.prototype.Vo=function(e,g){this.Si.pa=e-g;this.Si.wa=e+g;this.ji.resize(0);this.he=0;this.sg[0]=0};d.prototype.next=function(){if(!this.Za.nq)throw f.i.Hb();if(0>this.he)return-1;for(var e=!0;e;)switch(this.sg[this.he]){case 1:e=this.xU();break;case 2:e=this.yU();break;case 3:e=this.zU();break;case 4:e=this.AU();break;case 5:e=this.xW();break;case 6:e=this.cT();break;case 7:e=this.nN();break;case 0:e=
this.Bz();break;default:throw f.i.Ra();}return-1!=this.Qg?this.Op()>>1:-1};d.construct=function(e){var g=new d;g.Za=e;g.ji.Jb(20);g.he=-1;return g};d.prototype.Bz=function(){this.Qg=this.pH=this.Oi=this.Mc=-1;if(null!=this.Za.me&&0<this.Za.me.size)return this.sg[0]=1,this.Oi=this.Za.kf,!0;this.he=-1;return!1};d.prototype.xU=function(){this.Mc=this.Oi;if(-1==this.Mc)return this.Qg=this.he=-1,!1;var e=this.Za.Pp(this.Mc);if(this.Si.wa<e)return e=this.Za.nk(this.Mc),this.Oi=this.Za.sj(this.Mc),-1!=e&&
(this.gi=this.Za.ml(e),this.sg[++this.he]=6),!0;if(e<this.Si.pa)return e=this.Za.nk(this.Mc),this.Oi=this.Za.mk(this.Mc),-1!=e&&(this.gi=this.Za.bs(e),this.sg[++this.he]=5),!0;this.sg[this.he]=2;this.pH=this.Mc;e=this.Za.nk(this.Mc);this.Oi=this.Za.sj(this.Mc);-1!=e&&(this.gi=this.Za.ml(e),this.sg[++this.he]=7);return!0};d.prototype.yU=function(){this.Mc=this.Oi;if(-1==this.Mc)return this.sg[this.he]=3,this.Oi=this.Za.mk(this.pH),!0;if(this.Za.Pp(this.Mc)<this.Si.pa){var e=this.Za.nk(this.Mc);this.Oi=
this.Za.mk(this.Mc);-1!=e&&(this.gi=this.Za.bs(e),this.sg[++this.he]=5);return!0}e=this.Za.nk(this.Mc);this.Oi=this.Za.sj(this.Mc);-1!=e&&(this.gi=this.Za.ml(e),this.sg[++this.he]=7);e=this.Za.mk(this.Mc);-1!=e&&this.ji.add(e);return!0};d.prototype.zU=function(){this.Mc=this.Oi;if(-1==this.Mc)return this.sg[this.he]=4,!0;if(this.Si.wa<this.Za.Pp(this.Mc)){var e=this.Za.nk(this.Mc);this.Oi=this.Za.sj(this.Mc);-1!=e&&(this.gi=this.Za.ml(e),this.sg[++this.he]=6);return!0}e=this.Za.nk(this.Mc);this.Oi=
this.Za.mk(this.Mc);-1!=e&&(this.gi=this.Za.ml(e),this.sg[++this.he]=7);e=this.Za.sj(this.Mc);-1!=e&&this.ji.add(e);return!0};d.prototype.AU=function(){if(0==this.ji.size)return this.Qg=this.he=-1,!1;this.Mc=this.ji.get(this.ji.size-1);this.ji.resize(this.ji.size-1);var e=this.Za.nk(this.Mc);-1!=e&&(this.gi=this.Za.ml(e),this.sg[++this.he]=7);-1!=this.Za.sj(this.Mc)&&this.ji.add(this.Za.sj(this.Mc));-1!=this.Za.mk(this.Mc)&&this.ji.add(this.Za.mk(this.Mc));return!0};d.prototype.cT=function(){this.Qg=
this.gi;if(-1!=this.Qg&&b.iq(this.Op())&&this.Za.pk(this.Op())<=this.Si.wa)return this.gi=this.MF(),!1;this.he--;return!0};d.prototype.xW=function(){this.Qg=this.gi;if(-1!=this.Qg&&b.Iv(this.Op())&&this.Za.pk(this.Op())>=this.Si.pa)return this.gi=this.JR(),!1;this.he--;return!0};d.prototype.nN=function(){this.Qg=this.gi;if(-1!=this.Qg&&b.iq(this.Op()))return this.gi=this.MF(),!1;this.he--;return!0};d.prototype.MF=function(){return this.Za.Tf?this.Za.ag.lb(this.Qg):this.Za.Vi.lb(this.Qg)};d.prototype.JR=
function(){return this.Za.Tf?this.Za.ag.xe(this.Qg):this.Za.Vi.xe(this.Qg)};d.prototype.Op=function(){return this.Za.Tf?this.Za.ag.ka(this.Qg):this.Za.Vi.getData(this.Qg)};return d}();f.wY=a;var b=function(){function d(e){this.Cm=this.bi=this.ag=this.Vi=this.Mm=this.Gj=this.me=this.Hj=null;this.Tf=e;this.nq=this.Uv=!1}d.prototype.mr=function(){this.Ok(!0)};d.prototype.Dr=function(e,g){if(!this.Uv)throw f.i.Hb();this.Hj.push(new f.Oc(e,g))};d.prototype.Hp=function(){if(!this.Uv)throw f.i.ga("invalid call");
this.Uv=!1;this.nq=!0;this.Tf||(this.oS(),this.aw=this.Hj.length)};d.prototype.xj=function(e){if(!this.Tf||!this.nq)throw f.i.O("invalid call");if(-1==this.kf){var g=this.Hj.length;if(this.dA){var h=new f.ja(0);h.Jb(2*g);this.WI(h);this.bi.Jb(2*g);this.bi.resize(0);this.VI(h);this.Mm.resize(g,-1);this.Mm.Yj(-1,0,g);this.dA=!1}else this.Mm.Yj(-1,0,g);this.kf=this.Vu()}g=this.jG(e<<1,this.kf);h=this.ag.addElement((e<<1)+1,this.rz(g));this.PJ(g,h);this.Mm.set(e,g);this.aw++};d.prototype.remove=function(e){if(!this.Tf||
!this.nq)throw f.i.ga("invalid call");var g=this.Mm.get(e);if(-1==g)throw f.i.O("the interval does not exist in the interval tree");this.Mm.set(e,-1);this.aw--;var h=this.rz(g),k=this.ag.SR(h);this.ag.wd(this.qR(g),h);this.ag.wd(this.MR(g),h);e=this.ag.size(h);0==e&&(this.ag.GP(h),this.TJ(k,-1));this.Gj.kd(g);h=this.OF(k);var m=this.sj(k),n=this.mk(k);for(g=0;!(0<e||k==this.kf||-1!=m&&-1!=n);)k==this.sj(h)?-1!=m?(this.Pk(h,m),this.Wj(m,h),this.Pk(k,-1)):-1!=n?(this.Pk(h,n),this.Wj(n,h),this.Rk(k,
-1)):this.Pk(h,-1):-1!=m?(this.Rk(h,m),this.Wj(m,h),this.Pk(k,-1)):-1!=n?(this.Rk(h,n),this.Wj(n,h),this.Rk(k,-1)):this.Rk(h,-1),this.Wj(k,-1),g++,k=h,h=this.nk(k),e=-1!=h?this.ag.size(h):0,m=this.sj(k),n=this.mk(k),h=this.OF(k)};d.prototype.reset=function(){if(!this.Tf||!this.nq)throw f.i.O("invalid call");this.Ok(!1)};d.prototype.size=function(){return this.aw};d.prototype.getIterator=function(){return a.construct(this)};d.prototype.WI=function(e){for(var g=this.Hj.length,h=0;h<2*g;h++)e.add(h);
this.zX(e,2*g)};d.prototype.VI=function(e){for(var g=NaN,h=0;h<e.size;h++){var k=e.get(h),m=this.pk(k);m!=g&&(this.bi.add(k),g=m)}};d.prototype.oS=function(){var e=this.Hj.length,g=new f.ja(0);g.Jb(2*e);this.WI(g);this.bi.Jb(2*e);this.bi.resize(0);this.VI(g);this.Gj.Ee(e);this.Vi.hn(2*e);var h=f.Zc.Qh(e);h.Yj(-1,0,e);this.kf=this.Vu();for(e=0;e<g.size;e++){var k=g.get(e),m=h.get(k>>1);-1!=m?this.PJ(m,this.Vi.addElement(this.rz(m),k)):(m=this.jG(k,this.kf),h.set(k>>1,m))}};d.prototype.jG=function(e,
g){var h=g,k=g,m=-1,n=0,p=this.bi.size-1,q=0,r=e>>1,v=NaN,G=NaN,S=!0,X=this.xR(r);for(r=this.uR(r);S;){n<p?(q=n+f.P.truncate((p-n)/2),-1==this.bz(h)&&this.zJ(h,this.bi.get(q),this.bi.get(q+1))):-1==this.bz(h)&&this.zJ(h,this.bi.get(n),this.bi.get(n));var V=this.Pp(h);if(r<V)-1!=g&&(g==h?(k=h,v=V,g=this.sj(h),G=-1!=g?this.Pp(g):NaN):G>V&&(V<v?this.Pk(k,h):this.Rk(k,h),this.Rk(h,g),this.Tf&&(this.Wj(h,k),this.Wj(g,h)),k=h,v=V,g=-1,G=NaN)),p=this.rR(h),-1==p&&(p=this.Vu(),this.VW(h,p)),h=p,p=q;else if(X>
V)-1!=g&&(g==h?(k=h,v=V,g=this.mk(h),G=-1!=g?this.Pp(g):NaN):G<V&&(V<v?this.Pk(k,h):this.Rk(k,h),this.Pk(h,g),this.Tf&&(this.Wj(h,k),this.Wj(g,h)),k=h,v=V,g=-1,G=NaN)),n=this.NR(h),-1==n&&(n=this.Vu(),this.fX(h,n)),h=n,n=q+1;else{S=this.nk(h);-1==S&&(S=this.tP(h),this.TJ(h,S));var Z=this.$M(S,e);m=this.rP();this.iX(m,S);this.UW(m,Z);h!=g&&(V<v?this.Pk(k,h):this.Rk(k,h),this.Tf&&this.Wj(h,k),-1!=g&&(G<V?this.Pk(h,g):this.Rk(h,g),this.Tf&&this.Wj(g,h)));S=!1}}return m};d.prototype.Vu=function(){return this.me.De()};
d.prototype.tP=function(e){return this.Tf?this.ag.Rr(e):this.Vi.Rh(e)};d.prototype.rP=function(){return this.Gj.De()};d.prototype.Ok=function(e){e?(this.Uv=this.dA=!0,this.nq=!1,null==this.bi?this.bi=f.Zc.Qh(0):this.bi.resize(0),null==this.Hj?this.Hj=[]:this.Hj.length=0):this.dA=!1;this.Tf?null==this.Mm?(this.Mm=f.Zc.Qh(0),this.ag=new f.Zj,this.ag.Wo(new w(this))):this.ag.clear():null==this.Vi?this.Vi=new f.kp:this.Vi.clear();null==this.me?(this.Gj=new f.ad(3),this.me=new f.ad(this.Tf?8:7)):(this.Gj.oj(!1),
this.me.oj(!1));this.kf=-1;this.aw=0};d.prototype.zJ=function(e,g,h){this.OW(e,g);this.PW(e,h)};d.prototype.Pp=function(e){var g=this.bz(e);if(-1==g)return NaN;g=this.pk(g);e=this.pk(this.aR(e));return g==e?g:.5*(g+e)};d.prototype.OW=function(e,g){this.me.T(e,0,g)};d.prototype.PW=function(e,g){this.me.T(e,1,g)};d.prototype.VW=function(e,g){this.me.T(e,3,g)};d.prototype.fX=function(e,g){this.me.T(e,4,g)};d.prototype.TJ=function(e,g){this.me.T(e,2,g)};d.prototype.Pk=function(e,g){this.me.T(e,5,g)};
d.prototype.Rk=function(e,g){this.me.T(e,6,g)};d.prototype.Wj=function(e,g){this.me.T(e,7,g)};d.prototype.iX=function(e,g){this.Gj.T(e,0,g)};d.prototype.$M=function(e,g){return this.Tf?this.ag.addElement(g,e):this.Vi.addElement(e,g)};d.prototype.UW=function(e,g){this.Gj.T(e,1,g)};d.prototype.PJ=function(e,g){this.Gj.T(e,2,g)};d.prototype.ml=function(e){return this.Tf?this.ag.sc(e):this.Vi.sc(e)};d.prototype.bs=function(e){return this.Tf?this.ag.Gc(e):this.Vi.Gc(e)};d.iq=function(e){return 0==(e&1)};
d.Iv=function(e){return 1==(e&1)};d.prototype.bz=function(e){return this.me.U(e,0)};d.prototype.aR=function(e){return this.me.U(e,1)};d.prototype.nk=function(e){return this.me.U(e,2)};d.prototype.rR=function(e){return this.me.U(e,3)};d.prototype.NR=function(e){return this.me.U(e,4)};d.prototype.sj=function(e){return this.me.U(e,5)};d.prototype.mk=function(e){return this.me.U(e,6)};d.prototype.OF=function(e){return this.me.U(e,7)};d.prototype.rz=function(e){return this.Gj.U(e,0)};d.prototype.qR=function(e){return this.Gj.U(e,
1)};d.prototype.MR=function(e){return this.Gj.U(e,2)};d.prototype.xR=function(e){return this.Hj[e].pa};d.prototype.uR=function(e){return this.Hj[e].wa};d.prototype.zX=function(e,g){null==this.Cm&&(this.Cm=new f.Zt);var h=new l(this);this.Cm.sort(e,0,g,h)};d.prototype.yX=function(e,g,h){var k=this;e.Wd(g,h,function(m,n){var p=k.pk(m),q=k.pk(n);return p<q||p==q&&d.iq(m)&&d.Iv(n)?-1:1})};d.prototype.pk=function(e){var g=this.Hj[e>>1];return d.iq(e)?g.pa:g.wa};return d}();f.ur=b})(Y||(Y={}));(function(f){var w=
function(){function l(c){if(null==c)throw f.i.ga("Invalid arguement");this.hf=c;var a=c.hR();a.aS()?c.ef.CG()?this.mo=f.ui.PannableFold:this.mo=f.ui.Clip:this.mo=f.ui.DontClip;a.bS()?c.Zf.CG()?this.Sm=f.ui.PannableFold:this.Sm=f.ui.Clip:this.Sm=f.ui.DontClip;this.Dm=a.Lr;this.gH=a.Xu;c=this.hf.mH;this.VG=c.ks(2147483648);this.Wv=c.ks(1073741824)}l.Bh=function(c,a,b){return a.yw.Bh(c,b)};l.Tt=function(c,a,b,d){return c.yw.Tt(a,b,d)};l.St=function(c,a,b,d){b=0>b?a.length:b;c=c.yw.Tt(a,b,d);if(c==b)return c;
for(var e=a=0;e<b;e++){var g=d[e];g.isNaN()||(a<e&&d[a].N(g),a++)}for(;a<b;a++)d[a].Sc();return c};l.transform=function(c,a,b,d,e){if(c.isIdentity())return f.ta.eP(d,a,b),b;for(var g=[],h=0,k=0;k<b;){for(var m=Math.min(g.length,b-k),n=k,p=0;n<m;n++,p++)null==g[p]?g[p]=a[n].D():a[n].D(g[p]);var q=e?l.St(c,g,m,g):l.Tt(c,g,m,g);for(p=n=0;n<q;n++,p++)null==d[k]&&(d[k]=new f.Ta(a[k])),d[k].Db(g[p]);k+=m;h+=q}return h};l.prototype.Tt=function(c,a,b){if(this.hf.isIdentity())return c!=b&&f.ta.Tu(b,c,a),a;
var d=this.hf.ef,e=this.hf.Zf,g=d.Tb(),h=e.Tb();if(0==g&&g===h){var k=d.Sp();e=e.Sp();e=k/e;k=new f.Ed;k.Jt(e,e);k.XX(c,a,b);return a}k=f.P.Hu(Math.min(a,64));if(3==g){var m=d.Li;d=m.gk();g=d.Tb();b!=c&&f.ta.Tu(b,c,a);f.Ab.bl(m,b,a,!0);m.St(f.dm.forward,b,a);f.Ab.al(m,b,a,!0)}if(3==g||3===h)throw f.i.ga("image: transform_in_place_");if(2==g)this.mo==f.ui.Clip?(b!=c&&f.ta.Tu(b,c,a),c=d.ol(),f.Ab.HS(c,d,b,a)):(b!=c&&f.ta.Tu(b,c,a),d.Xc()&&(g=d.Yd(0),m=d.Le(),f.Ab.wX(b,a,m,g),f.Ab.kF(b,a,d,0))),f.Ab.CL(d,
b,a,k);else for(g=d.Yd(0),m=d.Le(),d=0;d<a;d++)f.Ab.xX(c[d],m,g,b[d]);f.Ab.AL(this.hf,b,a,k);c=0;(h=2==h)?c=e.Bi():isNaN(this.Dm)||(c=this.Dm);h&&this.Sm!=f.ui.Clip||f.Ab.kF(b,a,e.tc(),c);h&&(f.Ab.sG(b,a,e,this.Sm),f.Ab.BL(e,b,a,k));c=a;for(d=0;d<a;++d)b[d].isNaN()&&c--;return c};l.prototype.Bh=function(c,a){if(this.hf.isIdentity()||c.B())return c;if(33==c.K())return this.RI(c);var b=this.hf.ef,d=this.hf.Zf,e=b.Tb(),g=d.Tb();if(0==e&&e==g)return a=b.Sp(),d=d.Sp(),a/=d,d=new f.Ed,d.Jt(a,a),c=f.ba.ig(c),
c.Pc(d),c;switch(c.K()){case 1607:case 1736:c=this.OI(c,a);break;case 550:c=this.YV(c,a);break;case 197:c=this.XV(c,a);break;default:throw f.i.ga("");}return c};l.prototype.RI=function(c){var a=c.D(),b=[];b[0]=a;this.Tt(b,1,b);c=new f.Ta(c);c.Db(b[0]);return c};l.prototype.OI=function(c,a){if(c.vm())throw f.i.ga("curves not supported");var b=c.K();if(1736==b)return this.ZV(c,a);if(1607==b)return this.$V(c,a);throw f.i.ga("projectMultiPath");};l.prototype.ZV=function(c,a){var b=this.hf.ef,d=this.hf.Zf,
e=b.Tb(),g=d.Tb(),h=f.P.Hu(Math.min(c.I(),64)),k=f.Ea.ig(c);3==e&&(c=b.Li,b=c.gk(),e=b.Tb(),k=c.bl(k,!0),this.yp(c,f.dm.forward,k),k=c.al(k,!0));c=null;3==g&&(c=d.Li,d=c.gk(),g=d.Tb());var m=2==e,n=2==g,p=n?d.tc():d,q=!n&&!this.Wv;g=!1;var r=k;if(m){if(r=f.Ab.NI(r,b,this.mo,a),r.B())return r}else{k=new f.l;r.yc(k);e=b.Le();if(k.G<e.G||k.H>e.H){var v=f.l.construct(k.v-1,e.G,k.C+1,e.H);r=f.ti.Pu(r,v,b,NaN,0,a);if(r.B())return r}k.S()>2*e.S()&&(r=f.Ab.Jp(r,-2*e.S(),2*e.S(),b,!0,0,!0,a))}k=this.gH;(e=
!isNaN(k))&&(r=f.Zl.local().W(r,k,a));v=n?d.lk():null;var G=NaN;m&&(G=b.Bi());var S=null!=d.Yr();if(this.VG)m&&(f.Ab.wr(b,G,r,h),e&&(m=b.jh(),G=b.tc().jh(),k*=G/m)),f.Ab.vr(this.hf,r,q,h),e&&(m=b.tc().jh(),G=d.tc().jh(),k*=G/m),b=r;else{var X=new f.Ua(r.description);X.xD(r);m&&(f.Ab.wr(b,G,X,h),e&&(m=b.jh(),G=b.tc().jh(),k*=G/m));f.Ab.vr(this.hf,X,q,h);e&&(m=b.tc().rm(),G=d.tc().rm(),k*=G/m);q=NaN;n?(v=d.lk(),q=d.Bi()):isNaN(this.Dm)||(q=this.Dm);m=l.vv(b)|l.vv(d);G=10*p.Yd(0);this.Wv&&(m=3,G=0);
b=f.Ab.OQ(r,b,X,p,q,a,m,G)}S&&(b=f.Ab.RD(b,d,a));n&&(g||(n=p.Le().S(),b.Vg(0,0).S()>=n-p.Yd(0)&&(p=v.getNorthPoleLocation(),n=v.getSouthPoleLocation(),r=v.getNorthPoleGeometry(),v=v.getSouthPoleGeometry(),q=0,r==f.Eg.PE_POLE_POINT&&p!=f.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(q=1),v==f.Eg.PE_POLE_POINT&&n!=f.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(q|=2),0!==q&&(g=!0))),b=f.Ab.Hz(b,d,this.Sm,a),e&&(b=f.Zl.local().W(b,k,a)),f.Ab.Kx(d,b,h));if(b.B())return b;g&&(b=f.$l.local().W(b,d,!1,a));null!=c&&(b=c.al(b,!1),this.yp(c,
f.dm.reverse,b),b=c.bl(b,!1));return b};l.vv=function(c){if(2!=c.Tb())return 0;var a=0,b=c.lk();c=b.getNorthPoleLocation();var d=b.getSouthPoleLocation(),e=b.getNorthPoleGeometry();b=b.getSouthPoleGeometry();e==f.Eg.PE_POLE_POINT&&c!=f.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);b==f.Eg.PE_POLE_POINT&&d!=f.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};l.prototype.$V=function(c,a){var b=this.hf.ef,d=this.hf.Zf,e=b.Tb(),g=d.Tb(),h=f.P.Hu(Math.min(c.I(),64)),k=f.Ua.ig(c);3==e&&(c=b.Li,b=c.gk(),e=b.Tb(),k=c.bl(k,
!0),this.yp(c,f.dm.forward,k),k=c.al(k,!0));c=null;3==g&&(c=d.Li,d=c.gk(),g=d.Tb());var m=2==e;e=(g=2==g)?d.tc():d;var n=!g&&!this.Wv;if(m){if(k=f.Ab.NI(k,b,this.mo,a),k.B())return k}else{var p=new f.l;k.yc(p);var q=b.Le();if(p.G<q.G||p.H>q.H)if(p=f.l.construct(p.v-1,q.G,p.C+1,q.H),k=f.ti.Pu(k,p,b,NaN,0,a),k.B())return k}var r=NaN;m&&(r=b.Bi());p=null!=d.Yr();q=this.gH;var v=!isNaN(q);v&&(k=f.Zl.local().W(k,q,a));if(this.VG)m&&f.Ab.wr(b,r,k,h),v&&(m=b.jh(),r=b.tc().jh(),q*=r/m),f.Ab.vr(this.hf,k,
n,h),v&&(m=b.tc().jh(),r=d.tc().jh(),q*=r/m),b=k;else{var G=new f.Ua(k.description);G.xD(k);m&&(f.Ab.wr(b,r,G,h),v&&(m=b.jh(),r=b.tc().jh(),q*=r/m));f.Ab.vr(this.hf,G,n,h);v&&(m=b.tc().jh(),r=d.tc().jh(),q*=r/m);n=NaN;g?n=d.Bi():isNaN(this.Dm)||(n=this.Dm);m=l.vv(b)|l.vv(d);r=10*e.Yd(0);this.Wv&&(m=3,r=0);b=f.Ab.PQ(k,b,G,e,n,a,m,r)}p&&(b=f.Ab.RD(b,d,a));g&&(b=f.Ab.Hz(b,d,this.Sm,a),v&&(b=f.Zl.local().W(b,q,a)),f.Ab.Kx(d,b,h));if(b.B())return b;null!=c&&(b=c.al(b,!1),this.yp(c,f.dm.reverse,b),b=c.bl(b,
!1));return b};l.prototype.XV=function(c,a){var b=(c.da()+c.S())/400;0!=b?(b=f.Zl.local().W(c,b,a),b=this.OI(b,a),a=c.Ja(),b.dn(a)):(a=new f.Ta(c.Kp()),b=this.RI(a),a=c.Ja(),b.B()?a.Pa():(c.copyTo(a),c=b.D(),a.L(c.x,c.y,c.x,c.y)));return a};l.prototype.YV=function(c,a){c=f.ba.ig(c);var b=this.hf.ef,d=this.hf.Zf,e=b.Tb(),g=d.Tb(),h=f.P.Hu(Math.min(c.I(),64));if(3==e){var k=b.Li;b=k.gk();e=b.Tb();c=k.al(c,!0);this.yp(k,f.dm.forward,c);c=k.bl(c,!0)}if(2==e){this.mo==f.ui.Clip?c=f.Xk.local().W(c,b.ol(),
b,a):b.Xc()&&(e=new f.l,c.yc(e),b.Le().contains(e)||(this.mo==f.ui.PannableFold&&(c=f.Ab.nj(c,b)),f.Ab.Lt(c,b.Le(),b.Yd(0),!0),c=f.Ab.Gn(c,b,0,!0,0,a)));if(c.B())return c;f.Ab.wr(b,0,c,h)}else f.Ab.Lt(c,b.Le(),b.Yd(0),!0);f.Ab.vr(this.hf,c,!1,h);b=0;e=!1;k=null;3==g&&(e=!0,k=d.Li,d=k.gk(),g=d.Tb());(g=2==g)?b=d.Bi():isNaN(this.Dm)||(b=this.Dm);g&&this.Sm!=f.ui.Clip||(c=f.Ab.Gn(c,d.tc(),b,!1,0,a));if(g&&(c=f.Ab.Hz(c,d,this.Sm,a),f.Ab.Kx(d,c,h),c.B()))return c;e&&(c=k.al(c,!0),this.yp(k,f.dm.reverse,
c),c=k.bl(c,!0));return c};l.prototype.yp=function(c,a,b){var d=b.I();if(0!=d){for(var e=b.vb(0),g=f.P.lg(200,0),h=[],k=0;k<d;){var m=Math.min(100,d-k);e.Xw(2*k,2*m,g,2,!0);for(var n=0;n<m;++n)h[n]=f.h.construct(g[2*k],g[2*k+1]);c.St(a,h,m);k+=m}b.Qc(1993)}};l.Py=function(c,a,b){if(null==c||null==a||!a.Xc())throw f.i.ga("Invalid Arguement");if(c.B())return c;var d=c.K();197==d?(d=new f.Ea(c.description),d.bd(c,!1)):f.ba.zd(d)?(d=new f.Ua(c.description),d.oc(c,!0)):d=c;d=f.Ab.nj(d,a);return d.B()?
d:f.Ab.Gn(d,a,0,d!=c,0,b)};l.pj=function(c,a,b,d){if(null==c||null==a||!a.Xc())throw f.i.ga("Invalid Arguement");if(c.B())return c;var e=c.K();if(f.ba.Ic(e)){c=f.Ab.nj(c,a);e=new f.l;c.A(e);for(var g=f.ta.oy(a,e,!1),h=a.ih(),k=Math.floor((e.v-h.v)/h.S())*h.S()+h.v;k<e.C;)k>e.v+g&&k<e.C-g&&(c=f.Ab.nS(c,a,b,k)),k+=h.S()}else{if(197==e)return e=new f.Ea(c.description),e.bd(c,!1),l.pj(e,a,b,d);if(f.ba.zd(e))return e=new f.Ua(c.description),e.oc(c,!0),l.pj(e,a,b,d)}return l.Py(c,a,d)};return l}();f.du=
w})(Y||(Y={}));(function(f){var w=function(l){function c(a,b,d,e){var g=l.call(this)||this;void 0===a?g.description=f.ee.og():void 0===d?g.description=a:(g.description=f.ee.og(),g.TB(a,b),g.Sl(d,e));return g}Ea(c,l);c.prototype.K=function(){return 322};c.prototype.Rb=function(){var a=this.sa-this.qa,b=this.oa-this.ma;return Math.sqrt(a*a+b*b)};c.prototype.Di=function(a){var b=this.sa-this.qa,d=this.oa-this.ma;return Math.sqrt(b*b+d*d)<=a};c.prototype.Qn=function(){return!1};c.prototype.jg=function(){var a=
new f.h;a.vc(this.xc(),this.ac());return a};c.XO=function(a,b){return new c(a.x,a.y,b.x,b.y)};c.prototype.dn=function(a){a.Pa();a.kg(this.description);var b=new f.l;this.A(b);a.Yo(b);b=1;for(var d=this.description.Ba;b<d;b++)for(var e=this.description.qd(b),g=f.ua.Wa(e);b<g;b++){var h=this.Vg(e,0);a.setInterval(e,0,h)}};c.prototype.A=function(a){a.L(this.sa,this.oa,this.qa,this.ma);a.normalize()};c.prototype.Ro=function(a){a.Pa();a.$b(this.sa,this.oa,this.Pd(0,1,0));a.$b(this.qa,this.ma,this.Pd(1,
1,0))};c.prototype.Pc=function(a){if(a instanceof f.Ed){this.wc();var b=new f.h;b.x=this.sa;b.y=this.oa;a.Gh(b,b);this.sa=b.x;this.oa=b.y;b.x=this.qa;b.y=this.ma;a.Gh(b,b);this.qa=b.x;this.ma=b.y}else this.wc(),b=new f.Od,b.x=this.sa,b.y=this.oa,b.z=this.Pd(0,1,0),b=a.gp(b),this.sa=b.x,this.oa=b.y,this.vn(0,1,0,b.z),b.x=this.qa,b.y=this.ma,b.z=this.Pd(1,1,0),b=a.gp(b),this.qa=b.x,this.ma=b.y,this.vn(1,1,0,b.z)};c.prototype.Ja=function(){return new c(this.description)};c.prototype.Sx=function(a,b){return(this.qa-
a-(this.sa-a))*(this.ma-b+(this.oa-b))*.5};c.prototype.ux=function(a){return a*this.Rb()};c.prototype.HG=function(a){return a/this.Rb()};c.prototype.xF=function(a){return f.mc.jq(this.sa,this.qa,a)};c.prototype.$Q=function(a){return f.mc.jq(this.oa,this.ma,a)};c.prototype.fl=function(a,b){var d=new f.hg;this.dh(a,b,d);return d.get()};c.prototype.dh=function(a,b,d){if(null==d)throw f.i.O();d.Qr();d=d.get();d.kg(this.description);var e=new f.h;this.ic(a,e);d.TB(e.x,e.y);this.ic(b,e);d.Sl(e.x,e.y);e=
1;for(var g=this.description.Ba;e<g;e++)for(var h=this.description.Fd(e),k=f.ua.Wa(h),m=0;m<k;m++){var n=this.Vc(a,h,m);d.SB(h,m,n);n=this.Vc(b,h,m);d.IB(h,m,n)}};c.prototype.Vc=function(a,b,d){if(0==b)return 0==d?this.ic(a).x:this.ic(a).y;switch(f.ua.gz(b)){case 0:return.5>a?this.yv(b,d):this.jv(b,d);case 1:var e=this.yv(b,d);b=this.jv(b,d);return f.mc.jq(e,b,a);case 2:throw f.i.ga("not implemented");}throw f.i.Ra();};c.prototype.fe=function(a,b){var d=this.qa-this.sa,e=this.ma-this.oa,g=d*d+e*e;
if(0==g)return.5;a=((a.x-this.sa)*d+(a.y-this.oa)*e)/g;b||(0>a?a=0:1<a&&(a=1));return a};c.prototype.fq=function(a,b,d,e){if(a){a=this.ma-this.oa;if(0==a)return b==this.ma?-1:0;b=(b-this.oa)/a;if(0>b||1<b)return 0;null!=d&&(d[0]=this.xF(b))}else{a=this.qa-this.sa;if(0==a)return b==this.qa?-1:0;b=(b-this.sa)/a;if(0>b||1<b)return 0;null!=d&&(d[0]=this.$Q(b))}null!=e&&(e[0]=b);return 1};c.prototype.Me=function(a,b){var d=this.ma-this.oa;if(0==d)return a==this.ma?b:NaN;a=(a-this.oa)/d;b=this.xF(a);1==
a&&(b=this.qa);return b};c.prototype.tu=function(a,b,d){return 0<=this.sp(a.x,a.y,b,d)};c.prototype.xi=function(a,b,d){return 0<=this.sp(a,b,d,!0)};c.prototype.ss=function(a,b){return this.tu(a,b,!1)};c.prototype.lI=function(){if(this.ma<this.oa||this.ma==this.oa&&this.qa<this.sa){var a=this.sa;this.sa=this.qa;this.qa=a;a=this.oa;this.oa=this.ma;this.ma=a;a=0;for(var b=this.description.Qq-2;a<b;a++){var d=this.la[a];this.la[a]=this.la[a+b];this.la[a+b]=d}}};c.prototype.wu=function(a,b){b=f.h.construct(a,
b);b.sub(this.ac());var d=new f.h;d.vc(this.xc(),this.ac());a=d.yi(b);b=8.881784197001252E-16*(Math.abs(d.x*b.y)+Math.abs(d.y*b.x));return a>b?-1:a<-b?1:0};c.prototype.sp=function(a,b,d,e){var g=this.sa,h=this.oa,k=a-g,m=b-h;k=Math.sqrt(k*k+m*m);if(k<=Math.max(d,6.661338147750939E-16*k))return e&&0==k?NaN:0;k=a-this.qa;m=b-this.ma;k=Math.sqrt(k*k+m*m);if(k<=Math.max(d,6.661338147750939E-16*k))return e&&0==k?NaN:1;k=this.qa-this.sa;m=this.ma-this.oa;e=Math.sqrt(k*k+m*m);if(0<e){var n=1/e;k*=n;m*=n;
var p=a-g,q=b-h,r=p*k+q*m,v=1.7763568394002505E-15*(Math.abs(p*k)+Math.abs(q*m)),G=k;k=-m;m=G;v=Math.max(d,v);if(r<-v||r>e+v)return NaN;if(Math.abs(p*k+q*m)<=Math.max(d,1.7763568394002505E-15*(Math.abs(p*k)+Math.abs(q*m)))&&(k=f.P.Sk(r*n,0,1),.5>=k?(m=this.sa+(this.qa-this.sa)*k,e=this.oa+(this.ma-this.oa)*k):(m=this.qa-(this.qa-this.sa)*(1-k),e=this.ma-(this.ma-this.oa)*(1-k)),f.h.Jy(m,e,a,b)<=d)){if(.5>k){if(f.h.Jy(m,e,g,h)<=d)return 0}else if(f.h.Jy(m,e,this.qa,this.ma)<=d)return 1;return k}}return NaN};
c.prototype.Nb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.zM(a)};c.prototype.lD=function(a,b,d){var e=d?this.sa:this.qa;d=d?this.oa:this.ma;var g=new f.h;g.x=a.qa-e;g.y=a.ma-d;return b.Sh(g)>6.661338147750939E-16*b.$C(g)?(g.x=a.sa-e,g.y=a.oa-d,b.Sh(g)<=6.661338147750939E-16*b.$C(g)):!0};c.prototype.kD=function(a){var b=new f.h;b.x=this.qa-this.sa;b.y=this.ma-this.oa;if(!this.lD(a,b,!1))return!1;b.Uq();return this.lD(a,b,!0)?!0:!1};c.HM=function(a,b){var d=a.wu(b.sa,
b.oa),e=a.wu(b.qa,b.ma);if(0>d&&0>e||0<d&&0<e)return!1;d=b.wu(a.sa,a.oa);e=b.wu(a.qa,a.ma);if(0>d&&0>e||0<d&&0<e)return!1;d=a.Rb();e=b.Rb();return d>e?a.kD(b):b.kD(a)};c.FM=function(a,b,d){var e=f.h.construct(NaN,NaN),g=a.qa-a.sa,h=a.ma-a.oa,k=b.qa-b.sa,m=b.ma-b.oa,n=k*h-g*m;if(0==n)return e;var p=8.881784197001252E-16*(Math.abs(k*h)+Math.abs(g*m)),q=b.sa-a.sa,r=b.oa-a.oa,v=k*r-q*m,G=v/n,S=Math.abs(n);k=(8.881784197001252E-16*(Math.abs(k*r)+Math.abs(q*m))*S+p*Math.abs(v))/(n*n)+2.220446049250313E-16*
Math.abs(G);if(G<-k||G>1+k)return e;m=g*r-q*h;k=m/n;g=(8.881784197001252E-16*(Math.abs(g*r)+Math.abs(q*h))*S+p*Math.abs(m))/(n*n)+2.220446049250313E-16*Math.abs(k);if(k<-g||k>1+g)return e;G=f.P.Sk(G,0,1);g=f.P.Sk(k,0,1);h=a.ic(G);n=b.ic(g);p=new f.h;p.vc(h,n);if(p.length()>d&&(p.add(h,n),p.scale(.5),G=a.fe(p,!1),g=b.fe(p,!1),a=a.ic(G),b=b.ic(g),a.sub(b),a.length()>d))return e;e.na(G,g);return e};c.IM=function(a,b,d,e){var g=0;if(a.sa==b.sa&&a.oa==b.oa||a.sa==b.qa&&a.oa==b.ma)if(g++,!e)return 1;if(a.qa==
b.sa&&a.ma==b.oa||a.qa==b.qa&&a.ma==b.ma){g++;if(2==g)return 2;if(!e)return 1}return b.xi(a.sa,a.oa,d)||b.xi(a.qa,a.ma,d)||a.xi(b.sa,b.oa,d)||a.xi(b.qa,b.ma,d)?1:e&&0!=g?0:0==c.HM(a,b)?0:1};c.Yx=function(a,b,d,e,g,h){var k=0,m=a.sp(b.sa,b.oa,h,!1),n=a.sp(b.qa,b.ma,h,!1),p=b.sp(a.sa,a.oa,h,!1),q=b.sp(a.qa,a.ma,h,!1);isNaN(m)||(null!=e&&(e[k]=m),null!=g&&(g[k]=0),null!=d&&(d[k]=f.h.construct(b.sa,b.oa)),k++);isNaN(n)||(null!=e&&(e[k]=n),null!=g&&(g[k]=1),null!=d&&(d[k]=f.h.construct(b.qa,b.ma)),k++);
2==k||isNaN(p)||0==m&&0==p||0==n&&1==p||(null!=e&&(e[k]=0),null!=g&&(g[k]=p),null!=d&&(d[k]=f.h.construct(a.sa,a.oa)),k++);2==k||isNaN(q)||1==m&&0==q||1==n&&1==q||(null!=e&&(e[k]=1),null!=g&&(g[k]=q),null!=d&&(d[k]=f.h.construct(b.qa,b.ma)),k++);if(0<k)return 2==k&&null!=e&&e[0]>e[1]&&(a=e[0],e[0]=e[1],e[1]=a,null!=g&&(e=g[0],g[0]=g[1],g[1]=e),null!=d&&(g=f.h.construct(d[0].x,d[0].y),d[0]=d[1],d[1]=g)),k;k=c.FM(a,b,h);if(isNaN(k.x))return 0;null!=d&&(d[0]=a.ic(k.x));null!=e&&(e[0]=k.x);null!=g&&(g[0]=
k.y);return 1};c.prototype.ZF=function(){return 0};c.prototype.pp=function(){};c.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.oa.toString()+", "+this.qa.toString()+", "+this.ma.toString()+"]"};return c}(f.MC);f.zb=w})(Y||(Y={}));(function(f){var w=function(){function l(){this.Lm=[];this.za=-1}l.prototype.Ma=function(){return this.za};l.prototype.next=function(){if(null!=this.Lm&&0!=this.Lm.length){this.za++;var c=this.Lm[0];this.Lm=1>=this.Lm.length?[]:this.Lm.slice(1);
return c}return this.Lm=null};l.prototype.RX=function(c){this.Lm.push(c)};l.prototype.qe=function(){};return l}();f.aL=w})(Y||(Y={}));(function(f){(function(l){l[l.enumFillRuleOddEven=0]="enumFillRuleOddEven";l[l.enumFillRuleWinding=1]="enumFillRuleWinding"})(f.ML||(f.ML={}));var w=function(l){function c(a,b){var d=l.call(this)||this;d.yf=!1;d.Gq=null;d.uq=0;d.tq=0;d.Cj=null;d.Og=!1;d.nb=null;d.mb=null;d.Se=null;d.Nj=null;d.Td=null;d.vq=0;d.gb=0;d.zq=0;if(void 0===b)d.yf=a,d.Og=!1,d.vq=0,d.uq=0,d.tq=
0,d.xa=0,d.description=f.ee.og();else{if(null==b)throw f.i.O();d.yf=a;d.Og=!1;d.vq=0;d.uq=0;d.tq=0;d.xa=0;d.description=b}d.Cj=null;d.gb=0;return d}Ea(c,l);c.prototype.vm=function(){return 0<this.vq};c.prototype.Xx=function(){this.wc();null==this.Gq?this.Gq=new f.Ta(this.description):this.Gq.kg(this.description)};c.prototype.rx=function(a,b){var d=new f.h;d.x=a;d.y=b;this.Nt(d)};c.prototype.Nt=function(a){this.Xx();this.Gq.Db(a);this.Og=!0};c.prototype.nf=function(a){if(a.B())throw f.i.O();this.Ll(a.description);
this.Xx();a.copyTo(this.Gq);this.Og=!0};c.prototype.Rx=function(){var a=1;this.Og&&(this.Xx(),null==this.nb?(this.nb=f.Zc.Qh(2),this.nb.write(0,0),this.mb=f.Zc.Or(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.yf&&this.mb.write(this.mb.size-2,1),a++);var b=this.xa;this.nb.write(this.nb.size-1,this.xa+a);this.fm(b+a);this.mb.write(this.nb.size-1,0);this.Og&&(this.It(b,this.Gq),this.Og=!1)};c.prototype.Aj=function(a,b){this.Rx();this.Db(this.xa-1,a,b)};c.prototype.Ei=
function(a){this.Rx();this.Db(this.xa-1,a)};c.prototype.lineTo=function(a){this.Rx();this.It(this.xa-1,a)};c.prototype.uU=function(a){this.wc();if(this.yf)throw f.i.Ra();var b=this.ea();if(a>b)throw f.i.Ra();if(this.ec(a)){if(null==this.mb)throw f.i.Ra();var d=this.xa,e=this.Ca(a),g=this.Wc(a);this.fm(this.xa+1);this.rc();for(var h=0,k=this.description.Ba;h<k;h++)if(null!=this.Aa[h]){var m=f.ua.Wa(this.description.Fd(h));this.Aa[h].Nn(m*g,this.Aa[h],m*e,m,!0,1,m*d)}for(;b>a;b--)d=this.nb.read(b),
this.nb.write(b,d+1);this.mb.EE(a,1)}};c.prototype.Cp=function(){this.vx();if(void 0===a){this.Og=!1;var a=this.ea()-1}var b=this.mb.read(a);this.mb.write(a,b|1);null!=this.Se&&(a=this.Wc(a)-1,this.Se.write(a,1),this.Nj.write(a,-1))};c.prototype.ec=function(a){return 0!=(this.mb.read(a)&1)};c.prototype.On=function(a){if(this.ec(a))return!0;var b=this.Ca(a);a=this.Wc(a)-1;if(b>a)return!1;b=this.Oa(b);a=this.Oa(a);return b.rb(a)};c.prototype.Av=function(a){return 0!=(this.mb.read(a)&2)};c.prototype.oc=
function(a,b){this.Ll(a.description);if(322==a.K()){var d=new f.Ta;if(b||this.B())a.Uo(d),this.nf(d);a.Qo(d);this.lineTo(d)}else throw f.i.Ra();};c.prototype.vp=function(a){var b=0==this.xa;this.rx(a.v,a.G);this.Aj(a.v,a.H);this.Aj(a.C,a.H);this.Aj(a.C,a.G);this.Cp();this.Og=!1;b&&this.Nf(256,!1)};c.prototype.bd=function(a,b){if(!a.B()){for(var d=0==this.xa,e=new f.Ta(this.description),g=0;4>g;g++)a.If(b?4-g-1:g,e),0==g?this.nf(e):this.lineTo(e);this.Cp();this.Og=!1;d&&!b&&this.Nf(256,!1)}};c.prototype.add=
function(a,b){for(var d=0;d<a.ea();d++)this.addPath(a,d,!b)};c.prototype.addPath=function(a,b,d){this.wf(-1,a,b,d)};c.prototype.$k=function(a,b){this.Cz(a,b)};c.prototype.Fr=function(a,b,d,e,g){g||0!=this.ea()||(g=!0);0>b&&(b=a.ea()-1);if(b>=a.ea()||0>d||0>e||e>a.tv(b))throw f.i.ga("index out of bounds");if(0!=e){var h=a.ec(b)&&d+e==a.tv(b);if(!h||1!=e){this.Og=!1;this.Ll(a.description);d=a.Ca(b)+d+1;g&&(e++,d--);h&&e--;h=this.xa;this.fm(this.xa+e);this.rc();if(g){if(0==e)return;this.nb.add(this.xa);
g=a.mb.read(b);g&=-5;this.yf&&(g|=1);this.mb.write(this.mb.size-1,g);this.mb.add(0)}else this.nb.write(this.mb.size-1,this.xa);g=0;for(var k=this.description.Ba;g<k;g++){var m=this.description.qd(g),n=f.ua.Wa(m),p=a.description.Qf(m);0>p||null==a.Aa[p]?this.Aa[g].Mn(n*h,f.ua.te(m),e*n,n*h):this.Aa[g].Nn(n*h,a.Aa[p],n*d,e*n,!0,n,n*h)}if(this.vm())throw f.i.Ra();if(a.Av(b))throw f.i.Ra();this.Qc(1993)}}};c.prototype.iJ=function(){for(var a=0,b=this.ea();a<b;a++)this.wW(a)};c.prototype.wW=function(a){this.rc();
if(a>=this.ea())throw f.i.O();var b=this.Ca(a),d=this.Ka(a);a=this.ec(a)?1:0;for(var e=0,g=this.description.Ba;e<g;e++)if(null!=this.Aa[e]){var h=f.ua.Wa(this.description.Fd(e));this.Aa[e].pi(h*(b+a),h*(d-a),h)}this.Qc(1993)};c.prototype.ar=function(a){this.rc();var b=this.ea();0>a&&(a=b-1);if(a>=b)throw f.i.O();for(var d=this.Ca(a),e=this.Ka(a),g=0,h=this.description.Ba;g<h;g++)if(null!=this.Aa[g]){var k=f.ua.Wa(this.description.Fd(g));this.Aa[g].Fn(k*d,k*e,k*this.xa)}for(d=a+1;d<=b;d++)g=this.nb.read(d),
this.nb.write(d-1,g-e);if(null==this.mb)for(d=a+1;d<=b;d++)a=this.mb.read(d),this.mb.write(d-1,a);this.nb.resize(b);this.mb.resize(b);this.xa-=e;this.Rg-=e;this.Qc(1993)};c.prototype.wf=function(a,b,d,e){if(b==this)throw f.i.O();if(d>=b.ea())throw f.i.O();var g=this.ea();if(a>g)throw f.i.O();0>a&&(a=g);0>d&&(d=b.ea()-1);this.Og=!1;this.Ll(b.description);b.rc();var h=b.Ca(d),k=b.Ka(d),m=this.xa,n=b.ec(d)&&!e?1:0;this.fm(this.xa+k);this.rc();for(var p=a<g?this.Ca(a):m,q=0,r=this.description.Ba;q<r;q++){var v=
this.description.Fd(q),G=b.description.Qf(v),S=f.ua.Wa(v);0<=G&&null!=b.Aa[G]?(0!=n&&this.Aa[q].Nn(p*S,b.Aa[G],S*h,S,!0,S,S*m),this.Aa[q].Nn((p+n)*S,b.Aa[G],S*(h+n),S*(k-n),e,S,S*(m+n))):this.Aa[q].Mn(p*S,f.ua.te(v),S*k,S*m)}this.nb.add(m+k);for(e=g;e>=a+1;e--)h=this.nb.read(e-1),this.nb.write(e,h+k);b.Av(d);this.mb.add(0);for(e=g-1;e>=a+1;e--)g=this.mb.read(e),g&=-5,this.mb.write(e+1,g);g=b.DR().read(d);g&=-5;this.yf&&(g|=1);this.mb.write(a,g)};c.prototype.Cz=function(a,b){var d=-1,e=this.ea();if(d>
e)throw f.i.O();0>d&&(d=e);this.Og=!1;var g=this.xa;this.fm(this.xa+b);this.rc();var h=d<e?this.Ca(d):g;if(null!=a)this.Aa[0].Dz(2*h,a,0,b,!0,2*g);else{var k=f.ua.te(0);this.Aa[0].Mn(2*h,k,2*b,2*g)}a=1;for(var m=this.description.Ba;a<m;a++){k=this.description.qd(a);var n=f.ua.Wa(k);k=f.ua.te(k);this.Aa[a].Mn(h*n,k,n*b,n*g)}this.nb.add(this.xa);for(g=e;g>=d+1;g--)h=this.nb.read(g-1),this.nb.write(g,h+b);this.mb.add(0);for(g=e-1;g>=d+1;g--)b=this.mb.read(g),b&=-5,this.mb.write(g+1,b);this.yf&&this.mb.write(d,
1)};c.prototype.kG=function(a,b,d){var e=-1;0>a&&(a=this.ea());if(a>this.ea()||e>this.Ka(a)||d>b.length)throw f.i.ga("index out of bounds");if(0!=d){a==this.ea()&&(this.nb.add(this.xa),this.yf?this.mb.add(1):this.mb.add(0));0>e&&(e=this.Ka(a));this.rc();var g=this.xa;this.fm(this.xa+d);this.rc();for(var h=0,k=this.description.Ba;h<k;h++){var m=this.description.Fd(h),n=f.ua.Wa(m);this.Aa[h].Wt(n*(this.Ca(a)+e+d),(g-this.Ca(a)-e)*n,this.Aa[h],n*(this.Ca(a)+e),!0,n);0==h?this.Aa[h].pC(n*(this.Ca(a)+
e),d,b,0,!0):this.Aa[h].Yj(f.ua.te(m),(this.Ca(a)+e)*n,d*n)}this.vm()&&(this.Se.Wt(this.Ca(a)+e+d,g-this.Ca(a)-e,this.Se,this.Ca(a)+e,!0,1),this.Nj.Wt(this.Ca(a)+e+d,g-this.Ca(a)-e,this.Nj,this.Ca(a)+e,!0,1),this.Se.Yj(1,this.Ca(a)+e,d),this.Nj.Yj(-1,this.Ca(a)+e,d));a+=1;for(b=this.ea();a<=b;a++)this.nb.write(a,this.nb.read(a)+d)}};c.prototype.xf=function(a,b,d){var e=this.ea();0>a&&(a=this.ea());if(a>=e||b>this.Ka(a))throw f.i.ga("index out of bounds");a==this.ea()&&(this.nb.add(this.xa),this.yf?
this.mb.add(1):this.mb.add(0));0>b&&(b=this.Ka(a));var g=this.xa;this.fm(this.xa+1);this.rc();var h=this.Ca(a);this.Aa[0].xj(2*(h+b),d,2*g);d=1;for(var k=this.description.Ba;d<k;d++){var m=this.description.Fd(d),n=f.ua.Wa(m);this.Aa[d].Mn(n*(h+b),f.ua.te(m),n,n*g)}for(a+=1;a<=e;a++)this.nb.write(a,this.nb.read(a)+1)};c.prototype.xB=function(a,b){var d=this.ea();0>a&&(a=d-1);if(a>=d||b>=this.Ka(a))throw f.i.ga("index out of bounds");this.rc();var e=this.Ca(a);0>b&&(b=this.Ka(a)-1);b=e+b;e=0;for(var g=
this.description.Ba;e<g;e++)if(null!=this.Aa[e]){var h=f.ua.Wa(this.description.Fd(e));this.Aa[e].Fn(h*b,h,h*this.xa)}for(;d>=a+1;d--)b=this.nb.read(d),this.nb.write(d,b-1);this.xa--;this.Rg--;this.Qc(1993)};c.prototype.oE=function(a,b,d,e){a=this.Ca(a)+b;d=this.Ca(d)+e;if(d<a||0>a||d>this.I()-1)throw f.i.O();e=this.Ha();b=0;e.Wb(a);do{for(;e.Ia();){a=e.ia();if(e.xb()==d)break;a=a.Rb();b+=a}if(e.xb()==d)break}while(e.ab());return b};c.prototype.$N=function(a,b,d){b=this.Ca(a)+b;d=this.Ca(a)+d;if(0>
b||d>this.I()-1)throw f.i.O();var e=this.Ha();if(b>d){if(!this.ec(a))throw f.i.O("cannot iterate across an open path");e.DB()}var g=a=0;e.Wb(b);do g+=a,a=e.ia().Rb();while(e.xb()!=d);return g};c.prototype.mg=function(){return f.si.im(this,null)};c.prototype.DS=function(a,b,d){for(var e=a;e<d-1;e++)if(this.ec(e))throw f.i.O("cannot interpolate across closed paths");e=this.description.Ba;if(1!=e){var g=this.oE(a,b,d,void 0);if(0!=g)for(var h=1;h<e;h++){var k=this.description.qd(h);if(2!=f.ua.gz(k))for(var m=
f.ua.Wa(k),n=0;n<m;n++)this.FS(k,a,b,d,g,n)}}};c.prototype.CS=function(a,b,d){var e=this.description.Ba;if(1!=e){var g=this.$N(a,b,d);if(0!=g)for(var h=1;h<e;h++){var k=this.description.qd(h);if(2!=f.ua.gz(k))for(var m=f.ua.Wa(k),n=0;n<m;n++)this.ES(k,a,b,d,g,n)}}};c.prototype.FS=function(a,b,d,e,g,h){var k=this.Ha(),m=this.Ca(b)+d;e=this.Ca(e)+void 0;b=this.Vc(a,m,h);d=this.Vc(a,e,h);var n=b,p=0;k.Wb(m);do if(k.Ia()){k.ia();if(k.xb()==e)break;this.setAttribute(a,k.xb(),h,n);k.ni();do{m=k.ia();if(k.jk()==
e)return;m=m.Rb();p+=m;n=f.mc.jq(b,d,p/g);k.Pn()||this.setAttribute(a,k.jk(),h,n)}while(k.Ia())}while(k.ab())};c.prototype.ES=function(a,b,d,e,g,h){var k=this.Ha(),m=this.Ca(b)+d;b=this.Ca(b)+e;if(b!=m){e=this.Vc(a,m,h);d=this.Vc(a,b,h);var n=0;k.Wb(m);k.DB();m=e;do{var p=k.ia();this.setAttribute(a,k.xb(),h,m);m=p.Rb();n+=m;m=f.mc.jq(e,d,n/g)}while(k.jk()!=b)}};c.prototype.Pa=function(){this.vq=0;this.Og=!1;this.Td=this.Se=this.Nj=this.mb=this.nb=null;this.qD()};c.prototype.Pc=function(a){a instanceof
f.Ed?this.SD(a,-1):this.qN(a)};c.prototype.SD=function(a,b){if(!this.B()&&!a.isIdentity()){this.rc();var d=this.Aa[0],e=new f.h,g=new f.h;if(0>b){var h=this.vm(),k=0;b=this.xa}else h=this.Av(b),k=this.Ca(b),b=this.Wc(b);for(;k<b;k++){e.x=d.read(2*k);e.y=d.read(2*k+1);if(h){var m=this.Nj.read(k);if(0<=m)switch(this.Se.read(k)&7){case 2:g.x=this.Td.read(m);g.y=this.Td.read(m+1);a.Gh(g,g);this.Td.write(m,g.x);this.Td.write(m+1,g.y);g.x=this.Td.read(m+3);g.y=this.Td.read(m+4);a.Gh(g,g);this.Td.write(m+
3,g.x);this.Td.write(m+4,g.y);break;case 4:throw f.i.Ra();}}a.Gh(e,e);d.write(2*k,e.x);d.write(2*k+1,e.y)}this.Qc(1993)}};c.prototype.qN=function(a){if(!this.B()){this.se(1);this.rc();for(var b=this.Aa[0],d=this.Aa[1],e=new f.Od,g=new f.Od,h=this.vm(),k=0;k<this.xa;k++){e.x=b.read(2*k);e.y=b.read(2*k+1);e.z=d.read(k);if(h){var m=this.Nj.read(k);if(0<=m)switch(this.Se.read(k)&7){case 2:g.x=this.Td.read(m);g.y=this.Td.read(m+1);g.z=this.Td.read(m+2);g=a.gp(g);this.Td.write(m,g.x);this.Td.write(m+1,
g.y);this.Td.write(m+1,g.z);g.x=this.Td.read(m+3);g.y=this.Td.read(m+4);g.z=this.Td.read(m+5);g=a.gp(g);this.Td.write(m+3,g.x);this.Td.write(m+4,g.y);this.Td.write(m+5,g.z);break;case 4:throw f.i.Ra();}}e=a.gp(e);b.write(2*k,e.x);b.write(2*k+1,e.y);d.write(k,e.z)}this.Qc(1993)}};c.prototype.ey=function(){null==this.nb&&(this.nb=f.Zc.Qh(1,0),this.mb=f.Zc.Or(1,0));null!=this.Se&&(this.Se.resize(this.Rg,1),this.Nj.resize(this.Rg,-1))};c.prototype.pp=function(a){a.Og=!1;a.vq=this.vq;a.zq=this.zq;a.nb=
null!=this.nb?f.ja.Cn(this.nb):null;a.mb=null!=this.mb?f.rn.Cn(this.mb):null;a.Nj=null!=this.Nj?f.ja.Cn(this.Nj):null;a.Se=null!=this.Se?f.rn.Cn(this.Se):null;a.Td=null!=this.Td?f.ce.Cn(this.Td):null;a.uq=this.uq;a.tq=this.tq;a.Cj=this.bk(1024)?null:this.Cj};c.prototype.Rb=function(){if(!this.bk(512))return this.uq;for(var a=this.Ha(),b=new f.Ex(0);a.ab();)for(;a.Ia();)b.add(a.ia().Rb());this.uq=b.tm();this.Nf(512,!1);return b.tm()};c.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof
c&&l.prototype.Nb.call(this,a)))return!1;var b=this.ea();return b!=a.ea()||null!=this.nb&&!this.nb.Nb(a.nb,0,b+1)||this.zq!=a.zq||null!=this.mb&&!this.mb.Nb(a.mb,0,b)?!1:l.prototype.Nb.call(this,a)};c.prototype.Ha=function(){return new f.SL(this)};c.prototype.dy=function(a){l.prototype.dy.call(this,a);if(this.vm())for(a=this.Ha();a.ab();)for(;a.Ia();)break};c.prototype.Ap=function(a,b){l.prototype.Ap.call(this,a,b);if(this.vm())for(a=this.Ha();a.ab();)for(;a.Ia();)break};c.prototype.Zx=function(){this.xa=
null==this.nb||0==this.nb.size?0:this.nb.read(this.nb.size-1)};c.prototype.He=function(){if(!this.yf)return 0;this.zu();return this.tq};c.prototype.Gv=function(a){if(!this.yf)return!1;if(!this.bk(8))return 0!=(this.mb.read(a)&4);this.zu();return 0<this.Cj.read(a)};c.prototype.Kr=function(a){if(!this.yf)return 0;this.zu();return this.Cj.read(a)};c.prototype.zu=function(){if(this.bk(1024)){var a=this.ea();null==this.Cj?this.Cj=new f.ce(a):this.Cj.size!=a&&this.Cj.resize(a);a=new f.Ex(0);for(var b=new f.Ex(0),
d=new f.h,e=0,g=this.Ha();g.ab();){b.reset();for(this.D(this.Ca(g.gb),d);g.Ia();)b.add(g.ia().Sx(d.x,d.y));a.add(b.tm());var h=e++;this.Cj.write(h,b.tm())}this.tq=a.tm();this.Nf(1024,!1)}};c.prototype.zR=function(){if(this.yf){this.hm();for(var a=0,b=this.ea(),d=0;d<b;d++)0!=(this.mb.read(d)&4)&&a++}};c.prototype.hm=function(){if(this.bk(8)){this.zu();var a=this.ea();if(null==this.mb||this.mb.size<a)this.mb=f.Zc.Or(a+1);for(var b=1,d=0;d<a;d++){var e=this.Cj.read(d);0==d&&(b=0<e?1:-1);0<e*b?this.mb.tJ(d,
4):this.mb.EE(d,4)}this.Nf(8,!1)}};c.prototype.nz=function(a){var b=this.gb,d=this.ea();if(0<=b&&b<d){if(a<this.Wc(b)){if(a>=this.Ca(b))return b;b--}else b++;if(0<=b&&b<d&&a>=this.Ca(b)&&a<this.Wc(b))return this.gb=b}if(5>d){for(b=0;b<d;b++)if(a<this.Wc(b))return this.gb=b;throw f.i.ga("corrupted geometry");}b=0;for(--d;d>b;){var e=b+(d-b>>1),g=this.Ca(e);if(a<g)d=e-1;else if(b=this.Wc(e),a>=b)b=e+1;else return this.gb=e}return this.gb=b};c.prototype.sz=function(){var a=this.I();if(!this.yf){a-=this.ea();
for(var b=0,d=this.ea();b<d;b++)this.ec(b)&&a++}return a};c.prototype.tv=function(a){var b=this.Ka(a);this.ec(a)||b--;return b};c.prototype.Ja=function(){return new c(this.yf,this.description)};c.prototype.Eb=function(){return this.yf?2:1};c.prototype.K=function(){return this.yf?1736:1607};c.prototype.KJ=function(a){this.nb=a;this.Qc(16777215)};c.prototype.OR=function(){this.vx();return this.Se};c.prototype.DR=function(){this.vx();return this.mb};c.prototype.JJ=function(a){this.mb=a;this.Qc(16777215)};
c.prototype.ea=function(){return null!=this.nb?this.nb.size-1:0};c.prototype.Wc=function(a){return this.nb.read(a+1)};c.prototype.Ka=function(a){return this.nb.read(a+1)-this.nb.read(a)};c.prototype.Ca=function(a){return this.nb.read(a)};c.prototype.nu=function(a,b){null==this.Cb&&(this.Cb=new f.Vk);b=f.Mx.hW(b);var d=this.Cb.Gk;if(null!=d)if(d.Jk<a||b>d.KR())this.Cb.sD(null);else return!0;d=f.Mx.create(this,a,b);this.Cb.sD(d);return!0};c.prototype.dc=function(){var a=l.prototype.dc.call(this);if(!this.Bc()){var b=
this.ea();null!=this.nb&&this.nb.Bn(a,0,b+1);null!=this.mb&&this.mb.Bn(a,0,b)}return a};c.prototype.TF=function(a){return null!=this.Se?this.Se.read(a):1};c.prototype.cc=function(a,b,d){var e=this.nz(a);if(a==this.Wc(e)-1&&!this.ec(e))throw f.i.ga("index out of bounds");this.rc();var g=this.Se,h=1;null!=g&&(h=g.read(a)&7);switch(h){case 1:b.Qr();break;case 2:throw f.i.Ra();case 4:throw f.i.Ra();default:throw f.i.Ra();}b=b.get();d?b.kg(f.ee.og()):b.kg(this.description);e=a==this.Wc(e)-1&&this.ec(e)?
this.Ca(e):a+1;g=new f.h;this.D(a,g);b.Ec(g);this.D(e,g);b.Rc(g);if(!d)for(d=1,g=this.description.Ba;d<g;d++){h=this.description.Fd(d);for(var k=f.ua.Wa(h),m=0;m<k;m++){var n=this.Vc(h,a,m);b.SB(h,m,n);n=this.Vc(h,e,m);b.IB(h,m,n)}}};c.prototype.Tj=function(a,b){if(a>=this.ea())throw f.i.O();if(this.B())b.Pa();else{if(this.Av(a))throw f.i.ga("not implemented");var d=this.vb(0),e=new f.h,g=new f.l;g.Pa();var h=this.Ca(a);for(a=this.Wc(a);h<a;h++)d.uc(2*h,e),g.$b(e);b.L(g)}};c.prototype.hj=function(a){null==
this.Cb&&(this.Cb=new f.Vk);if(0==a||16>this.I())return!1;a=f.ta.hE(this);this.Cb.QM(a);return!0};c.prototype.bM=function(){null==this.Cb&&(this.Cb=new f.Vk);if(null==this.Cb.Ao){this.Cb.rD(null);var a=f.ta.SN(this);this.Cb.rD(a)}};c.prototype.Zo=function(a){this.zq=a};c.prototype.Jn=function(){return this.zq};c.prototype.xD=function(a){if(this==a)throw f.i.ga("MultiPathImpl.add");for(var b=this.ea(),d=0;d<a.ea();d++)this.addPath(a,d,!0),this.uU(b),b++};c.prototype.eO=function(a){var b=this.nz(a),
d=this.Ca(b);if(d!=a){b=this.Wc(b);if(a>=b||a<d)throw f.i.ga("change_ring_start_point");for(var e=0,g=this.description.Ba;e<g;e++){var h=this.description.qd(e);h=f.ua.Wa(h);this.Aa[e].rotate(d*h,a*h,b*h)}}};return c}(f.Fx);f.Wk=w})(Y||(Y={}));(function(f){var w=function(l){function c(a){var b=l.call(this)||this;if(void 0!==a){if(null==a)throw f.i.O();b.description=a}else b.description=f.ee.og();b.xa=0;return b}Ea(c,l);c.prototype.Ja=function(){return new c(this.description)};c.prototype.add=function(a){this.resize(this.xa+
1);this.Fh(this.xa-1,a)};c.prototype.Du=function(a,b){this.resize(this.xa+1);var d=new f.h;d.na(a,b);this.Db(this.xa-1,d)};c.prototype.Gd=function(a,b,d){d=0>d?a.I():d;if(0>b||b>a.I()||d<b)throw f.i.O();if(b!=d){this.Ll(a.description);d-=b;var e=this.xa;this.resize(this.xa+d);this.rc();for(var g=0,h=a.description.Ba;g<h;g++){var k=a.description.Fd(g),m=f.ua.Wa(k),n=this.vb(k);k=a.vb(k);n.Nn(e*m,k,b*m,d*m,!0,1,e*m)}}};c.prototype.BD=function(a,b){var d=a.length;b=0>b?d:b;if(0>d||0>b)throw f.i.O();
if(0!=b){d=b-0;b=this.xa;this.resize(this.xa+d);for(var e=0;e<d;e++)this.Db(b+e,a[0+e])}};c.prototype.xB=function(a){if(0>a||a>=this.I())throw f.i.ga("index out of bounds");this.rc();for(var b=0,d=this.description.Ba;b<d;b++)if(null!=this.Aa[b]){var e=f.ua.Wa(this.description.Fd(b));this.Aa[b].Fn(e*a,e,e*this.xa)}this.xa--;this.Rg--;this.Qc(1993)};c.prototype.resize=function(a){this.fm(a)};c.prototype.pp=function(){};c.prototype.Pa=function(){l.prototype.qD.call(this)};c.prototype.Pc=function(a){if(a instanceof
f.Ed){if(this.B())return;this.rc();for(var b=this.Aa[0],d=new f.h,e=0;e<this.xa;e++)d.x=b.read(2*e),d.y=b.read(2*e+1),a.Gh(d,d),b.write(2*e,d.x),b.write(2*e+1,d.y)}else{if(this.B())return;this.rc();this.se(1);this.rc();b=this.Aa[0];d=this.Aa[1];var g=new f.Od;for(e=0;e<this.xa;e++){g.x=b.read(2*e);g.y=b.read(2*e+1);g.z=d.read(e);var h=a.gp(g);b.write(2*e,h.x);b.write(2*e+1,h.y);d.write(e,h.z)}}this.Qc(1993)};c.prototype.Eb=function(){return 0};c.prototype.K=function(){return 550};c.prototype.He=function(){return 0};
c.prototype.Rb=function(){return 0};c.prototype.Nb=function(a){return a==this?!0:a instanceof c?l.prototype.Nb.call(this,a):!1};c.prototype.dW=function(a,b){var d=this.xa;d=Math.min(d,b+1E3);if(0>b||b>=this.xa||d<b||1E3!=a.length)throw f.i.O();var e=this.vb(0),g=d-b,h=[];e.Xw(2*b,2*g,h,0,!0);for(b=0;b<g;b++)a[b]=f.h.construct(h[2*b],h[2*b+1]);return d};c.prototype.Zx=function(){};c.prototype.ey=function(){};c.prototype.nu=function(){return!1};c.prototype.hj=function(){return!1};c.prototype.mg=function(){return null};
return c}(f.Fx);f.de=w})(Y||(Y={}));(function(f){(function(l){l[l.NotDetermined=0]="NotDetermined";l[l.Structure=1]="Structure";l[l.DegenerateSegments=2]="DegenerateSegments";l[l.Clustering=3]="Clustering";l[l.Cracking=4]="Cracking";l[l.CrossOver=5]="CrossOver";l[l.RingOrientation=6]="RingOrientation";l[l.RingOrder=7]="RingOrder";l[l.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";l[l.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";l[l.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(f.cL||
(f.cL={}));var w=function(){function l(c,a,b){void 0===c?(this.Lj=0,this.Lo=this.Ko=-1):(this.Lj=c,this.Ko=a,this.Lo=b)}l.prototype.Yt=function(c){this.Lj=c.Lj;this.Ko=c.Ko;this.Lo=c.Lo};return l}();f.Nd=w})(Y||(Y={}));(function(f){f.P=function(){function w(){}w.assert=function(l){if(!1===l)throw f.i.AK();};w.WJ=function(l){return isNaN(l)?NaN:0===l?l:0<l?1:-1};w.Hu=function(l){var c;void 0===c&&(c=0);for(var a=[],b=0;b<l;b++)a[b]=w.lg(2,c);return a};w.lg=function(l,c){void 0===c&&(c=0);for(var a=
[],b=0;b<l;b++)a[b]=c;return a};w.bv=function(l,c){var a,b;void 0===a&&(a=0);for(void 0===b&&(b=l.length-1);a<=b;a++)l[a]=c};w.Sk=function(l,c,a){return l<c?c:l>a?a:l};w.Vh=function(l,c){var a=5381;a=void 0!==c?(c<<5)+c+(l&255):(a<<5)+a+(l&255);a=(a<<5)+a+(l>>8&255);a=(a<<5)+a+(l>>16&255);return(a<<5)+a+(l>>24&255)&2147483647};w.wj=function(){throw Error("Not Implemented");};w.WA=function(l){return w.TT(l)+12345&2147483647};w.QG=function(l){var c=32,a=l%w.Px|0,b=l/w.Px|0;if(0===(c&=63))return l;32>
c?(l=a>>>c|b<<32-c,c=b>>c):(l=b>>c-32,c=0<=b?0:-1);return c*w.Px+(l>>>0)};w.TT=function(l){l|=0;return(1103495168*l|0)+(20077*l|0)|0};w.truncate=function(l){return 0>l?-1*Math.floor(Math.abs(l)):Math.floor(l)};w.MAX_SAFE_INTEGER=Math.pow(2,53)-1;w.MIN_SAFE_INTEGER=-w.MAX_SAFE_INTEGER;w.PC=65536;w.Px=w.PC*w.PC;return w}()})(Y||(Y={}));(function(f){(function(l){l[l.Project=0]="Project";l[l.Union=1]="Union";l[l.Difference=2]="Difference";l[l.Proximity2D=3]="Proximity2D";l[l.Relate=4]="Relate";l[l.Equals=
5]="Equals";l[l.Disjoint=6]="Disjoint";l[l.Intersects=7]="Intersects";l[l.Within=8]="Within";l[l.Contains=9]="Contains";l[l.Crosses=10]="Crosses";l[l.Touches=11]="Touches";l[l.Overlaps=12]="Overlaps";l[l.Buffer=13]="Buffer";l[l.Distance=14]="Distance";l[l.Intersection=15]="Intersection";l[l.Clip=16]="Clip";l[l.Cut=17]="Cut";l[l.DensifyByLength=18]="DensifyByLength";l[l.DensifyByAngle=19]="DensifyByAngle";l[l.LabelPoint=20]="LabelPoint";l[l.GeodesicBuffer=21]="GeodesicBuffer";l[l.GeodeticDensifyByLength=
22]="GeodeticDensifyByLength";l[l.ShapePreservingDensify=23]="ShapePreservingDensify";l[l.GeodeticLength=24]="GeodeticLength";l[l.GeodeticArea=25]="GeodeticArea";l[l.Simplify=26]="Simplify";l[l.SimplifyOGC=27]="SimplifyOGC";l[l.Offset=28]="Offset";l[l.Generalize=29]="Generalize";l[l.SymmetricDifference=30]="SymmetricDifference";l[l.ConvexHull=31]="ConvexHull";l[l.Boundary=32]="Boundary";l[l.SimpleRelation=33]="SimpleRelation"})(f.wL||(f.wL={}));var w=function(){function l(){}l.prototype.K=function(){return null};
l.prototype.xn=function(){};l.prototype.Ku=function(){return!1};return l}();f.Ge=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 13};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,g){return a instanceof f.ba?(g=new f.$c(a),this.W(g,b,[d],!1,e).next()):!0===e?(d=new f.vC(a,b,d,!1,g),f.Ih.local().W(d,b,g)):new f.vC(a,b,d,!1,g)};c.instance=null;
return c}(f.Ge);f.uC=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d,e){this.za=-1;this.Sd=c;this.Vz=a;this.Es=b;this.kT=new f.l;this.kT.Pa();this.fo=-1;this.Vb=e}l.prototype.next=function(){for(var c;null!=(c=this.Sd.next());)return this.za=this.Sd.Ma(),this.fo+1<this.Es.length&&this.fo++,this.buffer(c,this.Es[this.fo]);return null};l.prototype.Ma=function(){return this.za};l.prototype.buffer=function(c,a){return f.BK.buffer(c,a,this.Vz,NaN,96,this.Vb)};l.prototype.qe=function(){};
return l}();f.vC=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 16};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e){return a instanceof f.ba?(a=new f.$c(a),this.W(a,b,d,e).next()):new f.fL(a,b,d,e)};c.instance=null;return c}(f.Ge);f.eL=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b){this.za=-1;if(null==c)throw f.i.O();this.aa=
a;this.zk=c;this.ra=f.ta.Xd(b,a,!1)}l.prototype.next=function(){var c;return null!=(c=this.zk.next())?(this.za=this.zk.Ma(),f.Vd.clip(c,this.aa,this.ra,0)):null};l.prototype.Ma=function(){return this.za};l.prototype.qe=function(){};return l}();f.fL=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 31};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,
d){return a instanceof f.ba?f.xC.lE(a):new f.xC(b,a,d)};c.instance=null;return c}(f.Ge);f.wC=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b){this.oA=new f.au;this.za=-1;if(null==a)throw f.i.O();this.XG=c;this.Jc=!1;this.zk=a;this.Vb=b}l.prototype.next=function(){if(this.XG){if(!this.Jc){var c=this.YN(this.zk);this.Jc=!0;return c}return null}if(!this.Jc){c=this.zk.next();if(null!=c)return this.za=this.zk.Ma(),l.lE(c);this.Jc=!0}return null};l.prototype.Ma=function(){return this.za};
l.prototype.YN=function(c){for(var a;null!=(a=c.next());)this.oA.Ib(a);return this.oA.XQ()};l.prototype.qe=function(){if(!this.Jc){if(!this.XG)throw f.i.ga("Invalid call for non merging convex hull.");var c=this.zk.next();if(null!=c)this.oA.Ib(c);else throw f.i.ga("Expects a non-null geometry.");}};l.lE=function(c){if(l.NS(c))return c;var a=c.K();if(f.Wk.zd(a))return a=new f.Ua(c.description),a.oc(c,!0),a;if(550==a&&2==c.I()){var b=new f.Ta;a=new f.Ua(c.description);c.we(0,b);a.nf(b);c.we(1,b);a.lineTo(b);
return a}return f.au.LO(c)};l.NS=function(c){if(c.B())return!0;var a=c.K();return 33==a||197==a?!0:f.Wk.zd(a)?!1:550==a?1==c.I()?!0:!1:1607==a?1==c.ea()&&2>=c.I()?!0:!1:1!=c.ea()?!1:2>=c.I()?!0:f.au.DG(c,0)};return l}();f.xC=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 17};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,g){return new f.hL(a,
b,d,e,g)};c.instance=null;return c}(f.Ge);f.gL=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d,e){this.Uf=null;if(null==a||null==b)throw f.i.ga("invalid argument");this.hT=c;this.hA=a;this.fH=b;c=f.ta.ov(a,b);this.ra=f.ta.Xd(d,c,!0);this.eH=-1;this.nd=e}l.prototype.Ma=function(){return 0};l.prototype.next=function(){this.LQ();return++this.eH<this.Uf.length?this.Uf[this.eH]:null};l.prototype.LQ=function(){if(null==this.Uf)switch(this.Uf=[],this.hA.K()){case 1607:this.NQ();break;case 1736:this.MQ()}};
l.prototype.NQ=function(){var c=new f.Ua,a=new f.Ua,b=new f.Ua;this.Uf.push(c);this.Uf.push(a);var d=[];f.FK.DK(this.hT,this.hA,this.fH,this.ra,d,this.nd);for(var e=0;e<d.length;e++){var g=d[e];if(0==g.ct)c.add(g.Y,!1);else if(1==g.ct||2==g.ct)a.add(g.Y,!1);else if(3==g.ct)this.Uf.push(g.Y);else if(4==g.ct)b.add(g.Y,!1);else throw f.i.ga("internal");}b.B()||c.B()&&a.B()&&!(3<=this.Uf.length)||this.Uf.push(b);c.B()&&a.B()&&3>this.Uf.length&&(this.Uf.length=0)};l.prototype.MQ=function(){var c=new f.ja(0),
a=new f.hd,b=a.VE(),d=a.Ib(this.hA),e=a.Ib(this.fH),g=new f.Hg;try{g.Gt(a,this.ra,this.nd);g.fl(b,d,e,c);var h=a.Ke(d),k=new f.Ea,m=new f.Ea;this.Uf.length=0;this.Uf.push(k);this.Uf.push(m);for(d=0;d<c.size;d++){var n=new f.hd,p=n.Ib(h),q=n.Ib(a.Ke(c.get(d)));g.fr(n,this.nd);var r=g.Cv(p,q),v=n.Ke(r);if(!v.B()){var G=a.EF(c.get(d),b);2==G?k.add(v,!1):1==G?m.add(v,!1):this.Uf.push(v);var S=new f.hd;p=S.Ib(h);q=S.Ib(a.Ke(c.get(d)));g.fr(S,this.nd);h=S.Ke(g.km(p,q))}}!h.B()&&0<c.size&&this.Uf.push(h);
k.B()&&m.B()&&(this.Uf.length=0)}finally{g.Wg()}};l.prototype.qe=function(){};return l}();f.hL=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 18};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d){if(a instanceof f.ba)return a=new f.$c(a),this.W(a,b,d).next();if(0>=b)throw f.i.O();return new f.iL(a,b,d)};c.instance=null;return c}(f.Ge);f.Zl=w})(Y||
(Y={}));(function(f){var w=function(){function l(c,a){this.za=-1;this.Sd=c;this.Rs=a}l.prototype.Ma=function(){return this.za};l.prototype.next=function(){var c;return null!=(c=this.Sd.next())?(this.za=this.Sd.Ma(),this.HP(c)):null};l.prototype.HP=function(c){if(c.B()||1>c.Eb())return c;var a=c.K();if(1736==a||1607==a)return this.Iy(c);if(f.ba.zd(a))return this.JP(c);if(197==a)return this.IP(c);throw f.i.Ra();};l.prototype.JP=function(c){if(c.Rb()<=this.Rs)return c;var a=new f.Ua(c.description);a.oc(c,
!0);return this.Iy(a)};l.prototype.IP=function(c){var a=new f.Ea(c.description);a.bd(c,!1);var b=new f.l;c.A(b);c=b.da();return b.S()<=this.Rs&&c<=this.Rs?a:this.Iy(a)};l.prototype.Iy=function(c){for(var a=c.Ja(),b=c.Ha();b.ab();)for(var d=!0;b.Ia();){var e=b.ia();if(322!=e.K())throw f.i.ga("not implemented");var g=b.Pn(),h=e.Rb();if(h>this.Rs){var k=Math.ceil(h/this.Rs);h=new f.Ta(c.description);d&&(e.Uo(h),a.nf(h));var m=d=1/k,n=0;for(--k;n<k;n++)e.Vw(m,h),a.lineTo(h),m+=d;g?a.Cp():(e.Qo(h),a.lineTo(h))}else g?
a.Cp():a.oc(e,d);d=!1}return a};l.prototype.qe=function(){};return l}();f.iL=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.K=function(){return 2};c.prototype.W=function(a,b,d,e){return a instanceof f.ba?(a=new f.$c(a),b=new f.$c(b),this.W(a,b,d,e).next()):new f.jL(a,b,d,e)};c.km=function(a,b,d,e){if(a.B()||b.B())return a;var g=a.Eb(),h=b.Eb();
if(g>h)return a;var k=a.K(),m=b.K(),n=new f.l,p=new f.l,q=new f.l;a.A(n);b.A(p);q.L(n);q.$b(p);q=f.ta.Xd(d,q,!0);var r=q*Math.sqrt(2)*1.00001,v=new f.l;v.L(n);v.X(r,r);if(!v.isIntersecting(p))return a;if(1==g&&2==h)return c.CV(a,b,m,d,e);if(33==k)switch(f.Wk.zd(m)?(d=new f.Ua(b.description),d.oc(b,!0)):d=b,m){case 1736:return c.PU(a,d,q);case 1607:return c.QU(a,d,q);case 550:return c.NU(a,d,q);case 197:return c.MU(a,d,q);case 33:return c.OU(a,d,q);default:throw f.i.O();}else if(550==k)switch(m){case 1736:return c.fU(a,
b,q);case 197:return c.dU(a,b,q);case 33:return c.eU(a,b,q)}return f.Hg.km(a,b,d,e)};c.PU=function(a,b,d){return 0==f.jd.EG(b,a,d)?a:a.Ja()};c.QU=function(a,b,d){var e=a.D();b=b.Ha();for(var g=d*Math.sqrt(2)*1.00001,h=g*g,k=new f.l;b.ab();)for(;b.Ia();){var m=b.ia();m.A(k);k.X(g,g);if(k.contains(e)){if(m.ss(e,d))return a.Ja();var n=m.ac();if(f.h.zc(e,n)<=h)return a.Ja();n=m.xc();if(f.h.zc(e,n)<=h)return a.Ja()}}return a};c.NU=function(a,b,d){var e=b.vb(0);b=b.I();var g=a.D(),h=new f.h;d=d*Math.sqrt(2)*
1.00001;d*=d;for(var k=0;k<b;k++)if(e.uc(2*k,h),f.h.zc(h,g)<=d)return a.Ja();return a};c.MU=function(a,b,d){var e=new f.l;b.A(e);e.X(d,d);b=a.D();return e.contains(b)?a.Ja():a};c.OU=function(a,b,d){d=d*Math.sqrt(2)*1.00001;d*=d;var e=a.D();b=b.D();return f.h.zc(e,b)<=d?a.Ja():a};c.fU=function(a,b,d){var e=new f.l;b.A(e);e.X(d,d);for(var g=a.I(),h=!1,k=[],m=0;m<g;m++)k[m]=!1;var n=new f.h;for(m=0;m<g;m++)a.D(m,n),e.contains(n)&&0!=f.jd.Zd(b,n,d)&&(h=!0,k[m]=!0);if(!h)return a;b=a.Ja();for(m=0;m<g;m++)k[m]||
b.Gd(a,m,m+1);return b};c.dU=function(a,b,d){var e=new f.l;b.A(e);e.X(d,d);b=a.I();var g=!1;d=[];for(var h=0;h<b;h++)d[h]=!1;var k=new f.h;for(h=0;h<b;h++)a.D(h,k),e.contains(k)&&(g=!0,d[h]=!0);if(!g)return a;e=a.Ja();for(h=0;h<b;h++)d[h]||e.Gd(a,h,h+1);return e};c.eU=function(a,b,d){var e=a.vb(0),g=a.I(),h=b.D(),k=new f.h,m=!1;b=[];for(var n=0;n<g;n++)b[n]=!1;n=d*Math.sqrt(2)*1.00001;d=n*n;for(n=0;n<g;n++)e.uc(2*n,k),f.h.zc(k,h)<=d&&(m=!0,b[n]=!0);if(!m)return a;e=a.Ja();for(n=0;n<g;n++)b[n]||e.Gd(a,
n,n+1);return e};c.CV=function(a,b,d,e,g){var h=new f.Hh;a.dn(h);var k=new f.l;b.A(k);h.$b(k);h.X(.1*h.S(),.1*h.da());k=new f.Ea;k.bd(h,!1);1736==d?k.add(b,!0):k.bd(b,!0);return f.Xk.local().W(a,k,e,g)};c.instance=null;return c}(f.Ge);f.lp=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d){this.vs=null==a;this.za=-1;this.Sd=c;this.Vz=b;this.nT=a.next();this.Vb=d}l.prototype.next=function(){if(this.vs)return null;var c;return null!=(c=this.Sd.next())?(this.za=this.Sd.Ma(),f.lp.km(c,this.nT,
this.Vz,this.Vb)):null};l.prototype.Ma=function(){return this.za};l.prototype.qe=function(){};return l}();f.jL=w})(Y||(Y={}));(function(f){var w=function(){function c(a){this.nd=a;this.Dj=new f.l;this.Dj.Pa();this.qh=new f.l;this.qh.Pa()}c.prototype.Pt=function(){var a=this.Dj.v;this.Dj.v=this.qh.v;this.qh.v=a;a=this.Dj.C;this.Dj.C=this.qh.C;this.qh.C=a;a=this.Dj.G;this.Dj.G=this.qh.G;this.qh.G=a;a=this.Dj.H;this.Dj.H=this.qh.H;this.qh.H=a};c.prototype.ZP=function(a,b){if(null!=this.nd&&!this.nd.progress(-1,
-1))throw f.i.hu("user_canceled");var d=!this.Dj.isIntersecting(this.qh);if(f.ba.Ic(a.K())&&f.ba.Ic(b.K())){if(a.I()>b.I())return this.aE(a,b,d);this.Pt();a=this.aE(b,a,d);this.Pt();return a}if(550==a.K()&&f.ba.Ic(b.K()))return a=this.bE(b,a,d),this.Pt(),a;if(550==b.K()&&f.ba.Ic(a.K()))return this.bE(a,b,d);if(550==a.K()&&550==b.K()){if(a.I()>b.I())return this.cE(a,b);this.Pt();a=this.cE(b,a);this.Pt();return a}return 0};c.prototype.aE=function(a,b,d){var e=a.Ha(),g=b.Ha(),h=new f.l,k=new f.l,m=1.7976931348623157E308;
if(!d&&this.hY(a,b,e,g))return 0;for(;e.ab();)for(;e.Ia();)if(a=e.ia(),a.A(h),!(h.px(this.qh)>m)){for(;g.ab();)for(;g.Ia();)if(b=g.ia(),b.A(k),h.px(k)<m&&(b=a.ub(b,d),b*=b,b<m)){if(0==b)return 0;m=b}g.aj()}return Math.sqrt(m)};c.prototype.bE=function(a,b,d){var e=a.Ha(),g=new f.l,h=1.7976931348623157E308,k=new f.h,m=b.I();for(d=!d&&1736==a.K();e.ab();)for(;e.Ia();){var n=e.ia();n.A(g);if(!(1<m&&g.px(this.qh)>h)){for(var p=0;p<m;p++){b.D(p,k);if(d&&0!=f.jd.Zd(a,k,0))return 0;var q=n.fe(k,!1);k.sub(n.ic(q));
q=k.Tk();if(q<h){if(0==q)return 0;h=q}}d=!1}}return Math.sqrt(h)};c.prototype.cE=function(a,b){for(var d=1.7976931348623157E308,e=new f.h,g=new f.h,h,k=a.I(),m=b.I(),n=0;n<k;n++)if(a.D(n,e),!(1<m&&this.qh.cK(e)>d))for(var p=0;p<m;p++)if(b.D(p,g),h=f.h.zc(e,g),h<d){if(0==h)return 0;d=h}return Math.sqrt(d)};c.prototype.hY=function(a,b,d,e){if(1736==a.K()){for(;e.ab();)if(e.Ia()){var g=e.ia();if(0!=f.jd.Zd(a,g.xc(),0))return!0}e.aj()}if(1736==b.K()){for(;d.ab();)if(d.Ia()&&(a=d.ia(),0!=f.jd.Zd(b,a.xc(),
0)))return!0;d.aj()}return!1};c.prototype.im=function(a,b){if(a.B()||b.B())return NaN;a.A(this.Dj);b.A(this.qh);return this.ZP(a,b)};return c}(),l=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}Ea(a,c);a.prototype.W=function(b,d,e){if(null==b||null==d)throw f.i.O();if(b.B()||d.B())return NaN;var g=b.K(),h=d.K();if(33==g){if(33==h)return f.h.ub(b.D(),d.D());if(197==h)return e=new f.l,d.A(e),e.ub(b.D());g=new f.de;g.add(b);b=g}else if(197==g){if(197==h)return h=new f.l,b.A(h),
e=new f.l,d.A(e),e.ub(h);g=new f.Ea;g.bd(b,!1);b=g}33==h?(h=new f.de,h.add(d),d=h):197==h&&(h=new f.Ea,h.bd(d,!1),d=h);return(new w(e)).im(b,d)};a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.K=function(){return 14};a.instance=null;return a}(f.Ge);f.kL=l})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d){this.tH=c;this.xH=a;this.nd=d;this.UG=b}l.prototype.next=function(){var c=this.tH.next();return null==c?null:this.tC(c)};l.prototype.Ma=function(){return this.tH.Ma()};
l.prototype.tC=function(c){var a=c.K();if(f.ba.Sn(a))return c;if(197==a)return a=new f.Ea(c.description),a.bd(c,!1),this.tC(a);if(c.B())return c;if(null==c)throw f.i.Ra();a=c.Ja();for(var b=new f.zb,d=0,e=c.ea();d<e;d++)this.NK(c,d,a,b);return a};l.prototype.NK=function(c,a,b,d){if(!(2>c.Ka(a))){var e=c.Ca(a),g=c.Wc(a)-1,h=c.vb(0),k=c.ec(a),m=new f.ja(0);m.Jb(c.Ka(a)+1);var n=new f.ja(0);n.Jb(c.Ka(a)+1);m.add(k?e:g);m.add(e);for(e=new f.h;1<m.size;){var p=m.Gc();m.Jf();var q=m.Gc();c.D(p,e);d.Ec(e);
c.D(q,e);d.Rc(e);q=this.MK(d,e,h,p,q,g);0<=q?(m.add(q),m.add(p)):n.add(p)}k||n.add(m.get(0));if(n.size==m.size)b.addPath(c,a,!0);else if(2<=n.size&&(!this.UG||2!=n.size||!(k||f.h.ub(c.Oa(n.get(0)),c.Oa(n.get(1)))<=this.xH))){a=new f.Ta;d=0;for(g=n.size;d<g;d++)c.we(n.get(d),a),0==d?b.nf(a):b.lineTo(a);k&&(this.UG||2!=n.size||b.lineTo(a),b.Cp())}}};l.prototype.MK=function(c,a,b,d,e,g){var h=e-1;e<=d&&(h=g);g=e=-1;for(d+=1;d<=h;d++){b.uc(2*d,a);var k=a.x,m=a.y;c.ic(c.fe(a,!1),a);a.x-=k;a.y-=m;k=a.length();
k>this.xH&&k>g&&(e=d,g=k)}return e};l.prototype.qe=function(){};return l}();f.lL=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 29};c.prototype.W=function(a,b,d,e){return a instanceof f.ba?(a=new f.$c(a),this.W(a,b,d,e).next()):new f.lL(a,b,d,e)};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(f.Ge);f.yC=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==
l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 21};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,g,h,k,m){return a instanceof f.ba?(m=new f.$c(a),this.W(m,b,d,[e],g,h,!1,k).next()):!0===k?(d=new f.AC(a,b,d,e,g,!1,!1,m),f.Ih.local().W(d,b,m)):new f.AC(a,b,d,e,g,!1,!1,m)};c.instance=null;return c}(f.Ge);f.zC=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d,e,g,h,k){if(g)throw f.i.Fe();if(null==a)throw f.i.O();
this.za=-1;this.Os=c;this.vg=a;this.Ae=b;this.Es=d;this.ao=e;this.fo=-1;this.Vb=k;this.lT=new f.l;this.lT.Pa()}l.prototype.next=function(){for(var c;null!=(c=this.Os.next());)return this.za=this.Os.Ma(),this.fo+1<this.Es.length&&this.fo++,this.UQ(c,this.Es[this.fo]);return null};l.prototype.Ma=function(){return this.za};l.prototype.UQ=function(c,a){return f.PK.buffer(c,this.vg,this.Ae,a,this.ao,this.Vb)};l.prototype.qe=function(){};return l}();f.AC=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==
l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 24};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d){if(null==b)throw f.i.O();if(a.B()||1>a.Eb())return 0;if(4==d)throw f.i.Fe();var e=f.cb.tc(b),g=f.cb.xv(e),h=f.cb.gv(e);g*=2-g;var k=e.Id().ci,m=a.K();if(1736==m||197==m)var n=a.mg();else f.ba.zd(m)?(n=new f.Ua(a.description),n.oc(a,!0)):n=a;if(0==e.Nb(b)){if(f.cb.Xc(b)){n=f.Jh.nj(n,b);1607==m&&n==a&&(n=f.ba.ig(a));a=
new f.Oc;f.cb.ih(b).en(a);m=0;for(var p=n.I();m<p;m++){var q=n.Oa(m);q.x=f.Jh.an(q.x,a);n.Db(m,q)}}a=n.Ja();n=f.Jh.QI(b,e,n,a)?a:f.cb.Bh(n,b,e)}return this.bQ(n,d,h,g,k)};c.prototype.bQ=function(a,b,d,e,g){var h=new f.ha(0),k=0;for(a=a.Ha();a.ab();)for(;a.Ia();){var m=a.ia(),n=m.ac();m=m.xc();n.scale(g);m.scale(g);f.kb.xd(d,e,n.x,n.y,m.x,m.y,h,null,null,b);k+=h.u}return k};c.instance=null;return c}(f.Ge);f.oL=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,
arguments)||this}Ea(c,l);c.prototype.K=function(){return 18};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,g){return a instanceof f.ba?(a=new f.$c(a),this.W(a,b,d,e,g).next()):new f.nL(a,d,e,b,-1,-1,g)};c.instance=null;return c}(f.Ge);f.mL=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d,e,g){if(0<g)throw f.i.Fe();if(4!=b&&0<e)throw f.i.Fe();if(null==a)throw f.i.O();this.za=-1;this.Os=c;this.vg=a;this.Ae=b;this.vT=d;this.uT=
e}l.prototype.next=function(){for(var c;null!=(c=this.Os.next());)return this.za=this.Os.Ma(),this.Uy(c);return null};l.prototype.Ma=function(){return this.za};l.prototype.Uy=function(c){return f.ej.Sr(c,this.vg,this.Ae,this.vT,this.uT,this.Vb)};l.prototype.qe=function(){};return l}();f.nL=w})(Y||(Y={}));(function(f){(function(w){w[w.Unknown=0]="Unknown";w[w.Contains=1]="Contains";w[w.Within=2]="Within";w[w.Equals=3]="Equals";w[w.Disjoint=4]="Disjoint";w[w.Touches=8]="Touches";w[w.Crosses=16]="Crosses";
w[w.Overlaps=32]="Overlaps";w[w.NoThisRelation=64]="NoThisRelation";w[w.Intersects=1073741824]="Intersects";w[w.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(f.XK||(f.XK={}));f.qL=function(){function w(){}w.fW=function(l,c){var a=l.K(),b=c.K();if(f.ba.zj(a)){var d=l.Cb;if(null!=d&&(d=d.Gk,null!=d)){if(33==b){var e=c.D();d=d.To(e.x,e.y)}else e=new f.l,c.A(e),d=d.So(e);if(1==d)return 1;if(0==d)return 4}}if(f.ba.zj(b)&&(d=c.Cb,null!=d&&(d=d.Gk,null!=d))){33==a?(l=l.D(),d=d.To(l.x,l.y)):(c=
new f.l,l.A(c),d=d.So(c));if(1==d)return 2;if(0==d)return 4}return 0};return w}()})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.K=function(){return 15};c.prototype.W=function(a,b,d,e,g){return a instanceof f.ba?(a=new f.$c(a),b=new f.$c(b),this.W(a,b,d,e,g).next()):void 0===g?new f.BC(a,b,d,e,-1):new f.BC(a,b,d,e,g)};c.prototype.xn=function(a,b,
d){this.Ku(a)&&(b=f.ta.mj(b,a,!1),a.hj(d)||a.nu(b,d))};c.prototype.Ku=function(a){return f.Mx.tE(a)};c.instance=null;return c}(f.Ge);f.Xk=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d,e){this.vs=null==a;this.za=-1;this.Sd=c;this.vg=b;this.Pe=a.next();this.Fj=this.Pe.K();this.Vb=d;this.Hi=e;if(-1!=this.Hi&&(0>=this.Hi||7<this.Hi))throw f.i.O("bad dimension mask");}l.prototype.next=function(){if(this.vs)return null;if(null!=this.Bw){var c=this.Bw.next();if(null!=c)return c;this.Bw=
null}for(;null!=(c=this.Sd.next());)return this.za=this.Sd.Ma(),-1==this.Hi?c=this.Fa(c):(this.Bw=this.IS(c),c=this.Bw.next()),c;return null};l.prototype.Ma=function(){return this.za};l.prototype.Fa=function(c){var a=this.tK(c);if(null!=a)return a;a=f.ta.ov(this.Pe,c);var b=f.ta.Xd(this.vg,a,!0);a=new f.l;this.Pe.A(a);var d=new f.l;c.A(d);a.X(2*b,2*b);a.Fa(d);a.X(100*b,100*b);b=f.Vd.clip(this.Pe,a,0,0);c=f.Vd.clip(c,a,0,0);return f.Hg.Cv(c,b,this.vg,this.Vb)};l.prototype.JI=function(c,a,b){var d=
0;if(0!=(a&1))null==b[0]&&(b[0]=new f.de(c)),d++;else for(var e=0;e<b.length-1;e++)b[e]=b[e+1];if(0!=(a&2))null==b[d]&&(b[d]=new f.Ua(c)),d++;else for(e=d;e<b.length-1;e++)b[e]=b[e+1];if(0!=(a&4))null==b[d]&&(b[d]=new f.Ea(c)),d++;else for(e=d;e<b.length-1;e++)b[e]=b[e+1];if(3!=d){c=[];for(e=0;e<d;e++)c[e]=b[e];return new f.$c(c)}return new f.$c(b)};l.prototype.IS=function(c){var a=this.tK(c);if(null!=a){var b=[null,null,null];b[a.Eb()]=a;return this.JI(c.description,this.Hi,b)}a=f.ta.ov(this.Pe,
c);b=f.ta.Xd(this.vg,a,!0);a=new f.l;this.Pe.A(a);a.X(2*b,2*b);var d=new f.l;c.A(d);a.Fa(d);a.X(100*b,100*b);b=f.Vd.clip(this.Pe,a,0,0);a=f.Vd.clip(c,a,0,0);b=f.Hg.Kz(a,b,this.vg,this.Vb);return this.JI(c.description,this.Hi,b)};l.prototype.tK=function(c){var a=f.ta.ov(c,this.Pe),b=f.ta.Xd(this.vg,a,!0);a=c.K();var d=c.B(),e=this.Pe.B();e=d||e;if(!e){e=new f.l;c.A(e);var g=new f.l;this.Pe.A(g);g.X(2*b,2*b);e=!e.isIntersecting(g)}if(!e)if(g=f.qL.fW(this.Pe,c),4==g)e=!0;else{if(0!=(g&2))return this.Pe;
if(0!=(g&1))return c}if(e)return b=f.ba.uf(a),e=f.ba.uf(this.Fj),b<e?l.BB(c,d):b>e?this.hJ():0==b?550==a&&33==this.Fj?this.hJ():l.BB(c,d):l.BB(c,d);if((-1==this.Hi||4==this.Hi)&&197==a&&197==this.Fj)return b=this.Pe,a=new f.l,c.A(a),d=new f.l,b.A(d),a.Fa(d),b=new f.Hh,c.copyTo(b),b.Yo(a),b;if(197==a&&0==f.ba.uf(this.Fj)||197==this.Fj&&0==f.ba.uf(a))return d=197==a?c:this.Pe,c=197==a?this.Pe:c,a=new f.l,d.A(a),f.Vd.clip(c,a,b,0);if(0==f.ba.uf(a)&&0<f.ba.uf(this.Fj)||0<f.ba.uf(a)&&0==f.ba.uf(this.Fj)){b=
f.ta.mj(this.vg,c,!1);if(550==a||33==a)return f.Hg.tG(c,this.Pe,b);if(550==this.Fj||33==this.Fj)return f.Hg.tG(this.Pe,c,b);throw f.i.Ra();}return-1!=this.Hi&&2!=this.Hi||1607!=a||1736!=this.Fj?-1!=this.Hi&&2!=this.Hi||1736!=a||1607!=this.Fj?null:this.qK(this.Pe,c):this.qK(c,this.Pe)};l.prototype.qK=function(c,a){var b=c,d=a,e=f.ta.mj(this.vg,a,!1),g=new f.l;d.A(g);var h=new f.l;b.A(h);h.X(2*e,2*e);g.Fa(h);g.X(10*e,10*e);b=c=f.Vd.clip(c,g,0,0);h=new f.ja(0);var k=-1,m=d.Cb;if(null!=m){var n=m.Gk;
if(null!=n){k=0;h.Jb(b.I()+b.ea());for(var p=new f.l,q=b.Ha();q.ab();)for(;q.Ia();){q.ia().A(p);var r=n.So(p);1==r?h.add(1):0==r?h.add(0):(h.add(-1),k++)}}}5<a.I()&&(d=a=f.Vd.clip(a,g,0,0),m=d.Cb);0>k&&(k=b.sz());g=b.I()+d.I();if(k*d.I()>Math.log(g)*g*4)return null;g=null;k=d.Ha();null!=m&&null!=m.Gb&&(g=m.Gb);null==g&&20<d.I()&&(g=f.ta.hE(d));c=c.Ja();d=null;m=b.Ha();n=[0,0,0,0,0,0,0,0,0];p=new f.ce(0);q=new f.hg;r=-1;for(var v=0,G=0,S=0<h.size,X=-1;m.ab();){X=m.gb;var V=0;r=-1;for(v=0;m.Ia();){var Z=
S?f.P.truncate(h.get(G)):-1;G++;var ia=m.ia();if(0>Z){if(null!=g)for(null==d?d=g.oR(ia,e):d.Vo(ia,e),Z=d.next();-1!=Z;Z=d.next()){k.Wb(g.ka(Z));Z=k.ia();var ja=ia.Fa(Z,null,n,null,e);for(Z=0;Z<ja;Z++)p.add(n[Z])}else for(k.aj();k.ab();)for(;k.Ia();)for(Z=k.ia(),ja=ia.Fa(Z,null,n,null,e),Z=0;Z<ja;Z++)p.add(n[Z]);if(0<p.size){p.Wd(0,p.size,function(za,Oa){return za-Oa});var ma=0;p.add(1);ja=-1;Z=0;for(var sa=p.size;Z<sa;Z++){var va=p.get(Z);if(va!=ma){var Aa=!1;0!=ma||1!=va?(ia.dh(ma,va,q),ma=q.get()):
(ma=ia,Aa=!0);if(2<=V){c.Fr(b,X,r,v,3==V);if(1!=this.KD(a,ma.ac(),e)&&1!=this.LD(a,ma,e))return null;c.oc(ma,!1);V=1;v=0}else switch(ja=this.LD(a,ma,e),ja){case 1:Aa?2>V?(r=m.xb()-b.Ca(X),v=1,V=0==V?3:2):v++:(c.oc(ma,0==V),V=1);break;case 0:V=0;r=-1;v=0;break;default:return null}ma=va}}}else{Z=this.KD(a,ia.ac(),e);if(0>Z)return null;1==Z?(2>V&&(r=m.xb()-b.Ca(X),V=0==V?3:2),v++):(r=-1,v=0)}p.clear(!1)}else 0!=Z&&1==Z&&(0==V?(V=3,r=m.xb()-b.Ca(X)):1==V?(V=2,r=m.xb()-b.Ca(X)):v++)}2<=V&&(c.Fr(b,X,r,
v,3==V),r=-1)}return c};l.prototype.KD=function(c,a,b){return f.Fg.ym(c,a,b)};l.prototype.LD=function(c,a,b){var d=a.ac();a=a.xc();var e=f.Fg.ym(c,d,b),g=f.Fg.ym(c,a,b);if(1==e&&0==g||0==e&&1==g)return-1;if(0==e||0==g)return 0;if(1==e||1==g)return 1;e=new f.h;e.add(d,a);e.scale(.5);c=f.Fg.ym(c,e,b);return 0==c?0:1==c?1:-1};l.BB=function(c,a){return a?c:c.Ja()};l.prototype.hJ=function(){null==this.sH&&(this.sH=this.Pe.Ja());return this.sH};l.prototype.qe=function(){};return l}();f.BC=w})(Y||(Y={}));
(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 28};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,g,h,k){return a instanceof f.ba?(a=new f.$c(a),this.W(a,b,d,e,g,h,k).next()):new f.rL(a,b,d,e,g,h,k)};c.instance=null;return c}(f.Ge);f.CC=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d,e,g,h){this.za=-1;this.Sd=c;this.Oj=a;this.La=b;this.Mi=
d;this.wA=e;this.oH=g;this.nd=h}l.prototype.next=function(){var c=this.Sd.next();return null!=c?(this.za=this.Sd.Ma(),this.dL(c)):null};l.prototype.Ma=function(){return this.za};l.prototype.dL=function(c){var a=0>=this.oH?f.ta.mj(this.Oj,c,!1):this.oH;return f.CK.W(c,this.La,this.Mi,this.wA,a,this.nd)};l.prototype.qe=function(){};return l}();f.rL=w})(Y||(Y={}));(function(f){(function(l){l[l.clipToDomainOnly=1]="clipToDomainOnly";l[l.clipWithHorizon=2]="clipWithHorizon";l[l.foldAndClipWithHorizon=
3]="foldAndClipWithHorizon"})(f.HK||(f.HK={}));var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 0};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d){return a instanceof f.ba?(a=new f.$c(a),this.W(a,b,d).next()):new f.sL(a,b,d)};c.prototype.transform=function(a,b,d,e){return f.du.transform(a,b,d,e,!0)};c.prototype.St=function(a,b,d,e){return f.du.St(a,b,d,e)};c.instance=null;
return c}(f.Ge);f.Gx=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b){this.za=-1;this.Sd=c;this.ET=a;this.nd=b}l.prototype.next=function(){var c=this.Sd.next();return null!=c?(this.za=this.Sd.Ma(),f.du.Bh(c,this.ET,this.nd)):null};l.prototype.Ma=function(){return this.za};l.prototype.qe=function(){};return l}();f.sL=w})(Y||(Y={}));(function(f){var w=function(){function c(){}c.prototype.reset=function(){this.rh=this.yk=-1;this.ws=this.mq=!1};c.prototype.uQ=function(a,b,d){for(a.Wb(b,
d);a.Ia();){var e=a.ia();e=e.Rb();if(0!=e)return a.xb()}for(a.Wb(b,d);a.zz();)if(e=a.ni(),e=e.Rb(),0!=e)return a.xb();return-1};c.prototype.vQ=function(a,b){for(a.Wb(b,-1);a.zz();)if(0!=a.ni().Rb())return a.xb();return-1};c.prototype.tQ=function(a,b){a.Wb(b,-1);for(a.ia();a.Ia();)if(0!=a.ia().Rb())return a.xb();return-1};c.prototype.sQ=function(a,b,d,e){this.yk=this.uQ(b,d,e);if(-1!=this.yk){b.Wb(this.yk,-1);var g=b.ia(),h=g.ic(g.fe(a,!1));d=f.h.zc(h,a);e=new f.h;e.N(h);e.sub(g.ac());h=new f.h;h.N(a);
h.sub(g.ac());this.mq=0>e.yi(h);this.rh=this.tQ(b,this.yk);if(-1!=this.rh){b.Wb(this.rh,-1);g=b.ia();var k=g.fe(a,!1);k=g.ic(k);var m=f.h.zc(k,a);m>d?this.rh=-1:(e.N(k),e.sub(g.ac()),h.N(a),h.sub(g.ac()),this.ws=0>e.yi(h))}-1==this.rh&&(this.rh=this.vQ(b,this.yk),-1!=this.rh&&(b.Wb(this.rh,-1),g=b.ia(),k=g.fe(a,!1),k=g.ic(k),m=f.h.zc(k,a),m>d?this.rh=-1:(e.N(k),e.sub(g.ac()),h.N(a),h.sub(g.ac()),this.ws=0>e.yi(h),a=this.yk,this.yk=this.rh,this.rh=a,a=this.mq,this.mq=this.ws,this.ws=a)))}};c.prototype.XN=
function(a,b,d,e,g){d=d.Ha();this.sQ(a,d,e,g);if(-1!=this.yk&&-1==this.rh)return this.mq;if(-1!=this.yk&&-1!=this.rh){if(this.mq==this.ws)return this.mq;d.Wb(this.yk,-1);a=d.ia().jg();d.Wb(this.rh,-1);b=d.ia().jg();return 0<=a.yi(b)?!0:!1}return b};return c}(),l=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}Ea(a,c);a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.K=function(){return 3};a.prototype.iz=function(b,d,e){var g;void 0===g&&
(g=!1);if(b.B())return new f.bm;d=d.D();var h=b,k=b.K();197==k&&(h=new f.Ea,h.bd(b,!1),k=1736);switch(k){case 33:return this.rI(h,d);case 550:return this.dI(h,d);case 1607:case 1736:return this.UT(h,d,e,g);default:throw f.i.ga("not implemented");}};a.prototype.jz=function(b,d){if(b.B())return new f.bm;d=d.D();var e=b,g=b.K();197==g&&(e=new f.Ea,e.bd(b,!1),g=1736);switch(g){case 33:return this.rI(e,d);case 550:case 1607:case 1736:return this.dI(e,d);default:throw f.i.ga("not implemented");}};a.prototype.kz=
function(b,d,e,g){if(0>g)throw f.i.O();if(b.B())return[];d=d.D();var h=b,k=b.K();197==k&&(h=new f.Ea,h.bd(b,!1),k=1736);switch(k){case 33:return this.LU(h,d,e,g);case 550:case 1607:case 1736:return this.lU(h,d,e,g);default:throw f.i.ga("not implemented");}};a.prototype.UT=function(b,d,e,g){if(1736==b.K()&&e&&(e=new f.l,b.A(e),e=f.ta.Xd(null,e,!1),0!=(g?f.jd.Zd(b,d,0):f.jd.Zd(b,d,e)))){var h=new f.bm(d,0,0);g&&h.QJ(!0);return h}var k=b.Ha();h=new f.h;for(var m=e=-1,n=1.7976931348623157E308,p=0;k.ab();)for(;k.Ia();){var q=
k.ia();q=q.ic(q.fe(d,!1));var r=f.h.zc(q,d);r<n?(p=1,h=q,e=k.xb(),m=k.gb,n=r):r==n&&p++}h=new f.bm(h,e,Math.sqrt(n));g&&(k.Wb(e,m),q=k.ia(),g=0>f.h.Wq(d,q.ac(),q.xc()),1<p&&(p=new w,p.reset(),g=p.XN(d,g,b,e,m)),h.QJ(g));return h};a.prototype.rI=function(b,d){b=b.D();d=f.h.ub(b,d);return new f.bm(b,0,d)};a.prototype.dI=function(b,d){for(var e=b.vb(0),g=b.I(),h=b=0,k=0,m=1.7976931348623157E308,n=0;n<g;n++){var p=new f.h;e.uc(2*n,p);var q=f.h.zc(p,d);q<m&&(h=p.x,k=p.y,b=n,m=q)}d=new f.bm;d.by(h,k,b,
Math.sqrt(m));return d};a.prototype.LU=function(b,d,e,g){if(0==g)return e=[];e*=e;b=b.D();d=f.h.zc(b,d);d<=e?(e=[],g=new f.bm,g.by(b.x,b.y,0,Math.sqrt(d)),e[0]=g):e=[];return e};a.prototype.lU=function(b,d,e,g){if(0==g)return g=[];var h=b.vb(0),k=b.I();b=[];e*=e;for(var m=0;m<k;m++){var n=h.read(2*m),p=h.read(2*m+1),q=d.x-n,r=d.y-p;q=q*q+r*r;q<=e&&(r=new f.bm,r.by(n,p,m,Math.sqrt(q)),b.push(r))}d=b.length;b.sort(function(v,G){return v.La<G.La?-1:v.La==G.La?0:1});if(g>=d)return b.slice(0);b.length=
g;return b.slice(0)};a.instance=null;return a}(f.Ge);f.Hx=l})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 4};c.prototype.W=function(a,b,d,e,g){return f.cm.sB(a,b,d,e,g)};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.Ku=function(a){return f.Xt.ry(a)};c.prototype.xn=function(a,b,d){f.Xt.wD(a,b,d)};c.instance=null;return c}(f.Ge);f.tL=w})(Y||(Y={}));(function(f){var w=
function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 33};c.prototype.W=function(a,b,d,e,g){return 1073741824===a?!f.vd.tB(b,d,e,4,g):f.vd.tB(b,d,e,a,g)};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.Ku=function(a){return f.Xt.ry(a)};c.prototype.xn=function(a,b,d){f.Xt.wD(a,b,d)};c.instance=null;return c}(f.Ge);f.fj=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d){this.nd=d;this.iT=
b;this.za=-1;if(null==c)throw f.i.O();this.zk=c;this.Oj=a}l.prototype.next=function(){var c;if(null!=(c=this.zk.next())){this.za=this.zk.Ma();if(null!=this.nd&&!this.nd.progress(-1,-1))throw f.i.hu("user_canceled");return this.ZB(c)}return null};l.prototype.Ma=function(){return this.za};l.prototype.ZB=function(c){if(null==c)throw f.i.O();return f.Ix.XJ(c,this.Oj,this.iT,this.nd)};l.prototype.qe=function(){};return l}();f.uL=w})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==
l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 26};c.prototype.W=function(a,b,d,e){return a instanceof f.ba?(a=new f.$c(a),this.W(a,b,d,e).next()):new f.uL(a,b,d,e)};c.prototype.ts=function(a,b,d,e,g){return 0<(void 0!==e?f.Ix.ts(a,b,d,e,g):f.Ix.ts(a,b,!1,null,d))};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(f.Ge);f.$l=w})(Y||(Y={}));(function(f){var w=function(){function g(){this.Aq=0}g.prototype.eX=function(h){this.Aq&=
-2;this.Aq|=h?1:0};g.prototype.Yp=function(){return 0!=(this.Aq&1)};g.prototype.RF=function(){return this.Yp()?0:1};return g}();f.pY=w;var l=function(){return function(){}}(),c=function(){return function(g,h,k,m){this.x=g;this.y=h;this.Ci=k;this.zm=m}}(),a=function(){function g(h){this.Ce=h}g.prototype.compare=function(h,k,m){h=h.ka(m);k=this.Ce.lf.read(2*k);h=this.Ce.lf.read(2*h);k-=h;return 0>k?-1:0<k?1:0};return g}(),b=function(){function g(h){this.Ce=h}g.prototype.compare=function(h,k,m){k=this.Ce.hb[k];
h=this.Ce.hb[h.ka(m)];var n=k.Yp(),p=h.Yp();m=k.ne.Me(this.Ce.No,0);var q=h.ne.Me(this.Ce.No,0);m==q&&(m=Math.min(n?k.ne.oa:k.ne.ma,p?h.ne.oa:h.ne.ma),n=.5*(m-this.Ce.No)+this.Ce.No,n==this.Ce.No&&(n=m),m=k.ne.Me(n,0),q=h.ne.Me(n,0));return m<q?-1:m>q?1:0};return g}(),d=function(){function g(h,k){this.SI=new f.h;this.parent=h;this.XR=k}g.prototype.qr=function(h,k,m){var n=this.parent,p=this.XR;m.Wd(h,k,function(q,r){return n.Oh(q,r,p)})};g.prototype.bq=function(h){h=this.parent.ii.get(h);this.parent.lf.uc(2*
(h>>1),this.SI);return this.SI.y+(0!=(h&1)?this.parent.Qj:-this.parent.Qj)};return g}(),e=function(){function g(h,k,m,n,p){this.hH=h.description;this.Y=h;this.Sg=k;this.Qj=f.ta.mj(this.Sg,h,!1);this.Co=f.ta.mj(this.Sg,h,!0);this.rA=m;this.gT=this.hH.Ba;this.hb=[];this.qo=[];this.oh=new f.kp;this.fb=new f.Zj;this.ke=new f.Nd;this.TG=this.sl=p}g.prototype.XS=function(){this.TG=!0;return(!f.ba.Ic(this.Y.K())||this.AE()&&this.xE(!1))&&this.gO()?f.ba.Ic(this.Y.K())?this.jO()?1607==this.Y.K()?this.lO()?
2:0:this.mO()?this.nO():0:0:2:0};g.prototype.eC=function(h,k){var m=this.lf.read(2*h);h=this.lf.read(2*h+1);var n=this.lf.read(2*k);k=this.lf.read(2*k+1);var p=!f.$t.Ev(m,h,n,k,this.Qj*this.Qj);return p?p:0==this.Y.Eb()?!1:m==n&&h==k};g.prototype.AE=function(){for(var h=this.Y,k=h.yf?3:2,m=0,n=h.ea();m<n;m++)if(h.Ka(m)<k)return this.ke=new f.Nd(1,m,0),!1;return!0};g.prototype.xE=function(h){var k=this.Y,m=k.Ha(),n=k.hasAttribute(1);for(k=n?f.ta.qE(this.Sg,k,!1):0;m.ab();)for(;m.Ia();){var p=m.ia();
if(!(p.Rb()>this.Qj)){if(h&&n){var q=p.yv(1,0);p=p.yv(1,0);if(Math.abs(p-q)>k)continue}this.ke=new f.Nd(2,m.xb(),-1);return!1}}return!0};g.prototype.gO=function(){var h=this.Y,k=null;f.ba.Ic(this.Y.K())&&(k=this.Y);var m=(this.TG||this.sl)&&null!=k,n=h.I();this.lf=h.vb(0);this.ii=new f.ja(0);this.ii.Jb(2*n);this.hi=new f.ja(0);this.hi.Jb(2*n);m&&(null==this.Hl&&(this.Hl=new f.ja(0)),this.Hl.Jb(n));for(var p=h=0;p<n;p++)if(this.ii.add(2*p),this.ii.add(2*p+1),this.hi.add(2*p),this.hi.add(2*p+1),m){for(;p>=
k.Wc(h);)h++;this.Hl.add(h)}(new f.Zt).sort(this.hi,0,2*n,new d(this,m));this.fb.clear();this.fb.Wo(new a(this));this.fb.Ee(n);k=0;for(n*=2;k<n;k++)if(m=this.hi.get(k),h=this.ii.get(m),m=h>>1,0==(h&1)){h=this.fb.addElement(m,-1);p=this.fb.xe(h);if(-1!=p&&!this.eC(this.fb.ka(p),m))return this.ke=new f.Nd(3,m,this.fb.ka(p)),!1;var q=this.fb.lb(h);if(-1!=q&&!this.eC(this.fb.ka(q),m))return this.ke=new f.Nd(3,m,this.fb.ka(q)),!1}else if(h=this.fb.search(m,-1),p=this.fb.xe(h),q=this.fb.lb(h),this.fb.wd(h,
-1),-1!=p&&-1!=q&&!this.eC(this.fb.ka(p),this.fb.ka(q)))return this.ke=new f.Nd(3,this.fb.ka(p),this.fb.ka(q)),!1;return!0};g.prototype.jO=function(){return 10>this.Y.I()?this.hO():this.iO()};g.prototype.iO=function(){var h=new f.hd;h.Ib(this.Y);var k=new f.Nd;return f.bu.eI(!1,h,this.Qj,k,this.nd)?(k.Ko=h.Va(k.Ko),k.Lo=h.Va(k.Lo),this.ke.Yt(k),!1):!0};g.prototype.hO=function(){var h=this.Y,k=h.Ha();for(h=h.Ha();k.ab();)for(;k.Ia();){var m=k.ia();if(!k.Rn()||!k.SS()){h.tW(k);do for(;h.Ia();){var n=
h.ia();n=m.Br(n,this.Qj,!0);if(0!=n)return this.ke=new f.Nd(2==n?5:4,k.xb(),h.xb()),!1}while(h.ab())}}return!0};g.prototype.mO=function(){var h=this.Y;this.hb.length=0;this.qo.length=0;this.$f=h.Ha();this.$f.DB();var k=new f.ja(0);k.Jb(10);var m=NaN,n=0,p=0;for(h=2*h.I();p<h;p++){var q=this.hi.get(p);q=this.ii.get(q);if(0==(q&1)){q>>=1;var r=this.lf.read(2*q),v=this.lf.read(2*q+1);if(0!=k.size&&(r!=m||v!=n)){if(!this.KI(k))return!1;null!=k&&k.clear(!1)}k.add(q);m=r;n=v}}return this.KI(k)?!0:!1};g.prototype.lO=
function(){for(var h=this.Y,k=Array(h.ea()),m=0,n=h.ea();m<n;m++)k[m]=h.On(m);n=new l;var p=new f.h;m=this.hi.get(0);m=this.ii.get(m);var q=m>>1;this.lf.uc(2*q,p);m=this.Hl.get(q);var r=k[m],v=h.Ca(m),G=h.Wc(m)-1;n.gl=q==v||q==G;n.jy=this.sl?!r&&n.gl:n.gl;n.Ci=m;n.x=p.x;n.y=p.y;n.zm=q;for(var S=new l,X=1,V=this.hi.size;X<V;X++)if(m=this.hi.get(X),m=this.ii.get(m),0==(m&1)){q=m>>1;this.lf.uc(2*q,p);m=this.Hl.get(q);m!=n.Ci&&(r=k[m],v=h.Ca(m),G=h.Wc(m)-1);var Z=q==v||q==G,ia=this.sl?!r&&n.gl:n.gl;S.x=
p.x;S.y=p.y;S.Ci=m;S.zm=q;S.jy=ia;S.gl=Z;if(S.x==n.x&&S.y==n.y)if(this.sl){if(!S.jy||!n.jy)if(S.Ci!=n.Ci||!S.gl&&!n.gl)return this.ke=new f.Nd(8,S.zm,n.zm),!1}else if(!S.gl||!n.gl)return this.ke=new f.Nd(5,S.zm,n.zm),!1;m=n;n=S;S=m}return!0};g.prototype.DE=function(){for(var h=this.Y,k=[],m=-1,n=!1,p=0,q=h.ea();p<q;p++)h.Gv(p)&&(n=!1,m++,p<q-1&&(h.Gv(p+1)||(n=!0))),k[p]=n?m:-1;n=new f.h;p=this.hi.get(0);p=this.ii.get(p);var r=p>>1;this.lf.uc(2*r,n);p=this.Hl.get(r);m=new c(n.x,n.y,p,r,k[p]);h=[];
var v=1;for(q=this.hi.size;v<q;v++)if(p=this.hi.get(v),p=this.ii.get(p),0==(p&1)){r=p>>1;this.lf.uc(2*r,n);p=this.Hl.get(r);p=new c(n.x,n.y,p,r,k[p]);if(p.x==m.x&&p.y==m.y){if(p.Ci==m.Ci)return this.ke=new f.Nd(9,p.zm,m.zm),!1;0<=k[p.Ci]&&k[p.Ci]==k[m.Ci]&&(0!=h.length&&h[h.length-1]==m||h.push(m),h.push(p))}m=p}if(0==h.length)return!0;p=new f.kp(!0);f.P.bv(k,-1);n=-1;v=new f.h;v.Sc();m=0;for(q=h.length;m<q;m++){r=h[m];if(r.x!=v.x||r.y!=v.y)n=p.Rh(0),v.x=r.x,v.y=r.y;var G=k[r.Ci];-1==G&&(G=p.Rh(2),
k[r.Ci]=G);p.addElement(G,n);p.addElement(n,G)}q=new f.ja(0);q.Jb(10);for(m=p.je;-1!=m;m=p.lz(m))if(h=p.JF(m),0==(h&1)&&0!=(h&2)){h=-1;q.add(m);for(q.add(-1);0<q.size;){n=q.Gc();q.Jf();v=q.Gc();q.Jf();r=p.JF(v);if(0!=(r&1)){h=0==(r&2)?n:v;break}p.XW(v,r|1);for(r=p.sc(v);-1!=r;r=p.lb(r))G=p.getData(r),G!=n&&(q.add(G),q.add(v))}if(-1!=h){p=-1;m=0;for(q=k.length;m<q;m++)if(k[m]==h){p=m;break}this.ke=new f.Nd(10,p,-1);return!1}}return!0};g.prototype.nO=function(){var h=this.Y;if(0>=h.He())return this.ke=
new f.Nd(6,1==h.ea()?1:-1,-1),0;if(1==h.ea())return this.sl&&!this.DE()?0:2;this.uo=f.ja.rf(h.ea(),0);this.DA=f.ja.rf(h.ea(),-1);for(var k=-1,m=0,n=0,p=h.ea();n<p;n++){var q=h.Kr(n);this.uo.write(n,0>q?0:256);if(0<q)k=n,m=q;else{if(0==q)return this.ke=new f.Nd(6,n,-1),0;if(0>k||m<Math.abs(q))if(this.ke=new f.Nd(7,n,-1),this.sl)return 0;this.DA.write(n,k)}}this.et=h.ea();this.Qm=new f.ja(0);this.Qm.Jb(10);p=h.I();this.No=NaN;h=new f.ja(0);h.Jb(10);this.Sq=f.ja.rf(p,-1);this.Jw=f.ja.rf(p,-1);null!=
this.Bj?this.Bj.clear(!1):this.Bj=new f.ja(0);this.Bj.Jb(10);this.fb.clear();this.fb.Wo(new b(this));k=0;for(p*=2;0<this.et&&k<p;k++)if(m=this.hi.get(k),m=this.ii.get(m),0==(m&1)){m>>=1;n=this.lf.read(2*m+1);if(n!=this.No&&0!=h.size){if(!this.vt(h))return 0;null!=h&&h.clear(!1)}h.add(m);this.No=n}return 0<this.et&&!this.vt(h)?0:this.sl?0==this.ke.Lj&&this.DE()?2:0:0==this.ke.Lj?2:1};g.prototype.KI=function(h){if(1==h.size)return!0;for(var k=0,m=h.size;k<m;k++){var n=h.get(k);this.$f.Wb(n);var p=this.$f.ni();
this.hb.push(this.Uu(p,n,this.$f.gb,!0));this.$f.ia();p=this.$f.ia();this.hb.push(this.Uu(p,n,this.$f.gb,!1))}var q=this;this.hb.sort(function(G,S){return q.RP(G,S)});n=this.oh.je;-1==n&&(n=this.oh.Rh(0));this.oh.hn(this.hb.length);k=0;for(m=this.hb.length;k<m;k++)this.oh.addElement(n,k);k=!0;for(var r=m=-1;k;){k=!1;p=this.oh.sc(n);if(-1==p)break;for(var v=this.oh.lb(p);-1!=v;){m=this.oh.getData(p);r=this.oh.getData(v);m=this.hb[m].Jo;r=this.hb[r].Jo;if(m==r)if(k=!0,this.oh.kd(n,p),p=this.oh.xe(v),
v=this.oh.kd(n,v),-1==v||-1==p)break;else continue;p=v;v=this.oh.lb(p)}}k=this.oh.ds(n);this.oh.FE(n);if(0<k)return this.ke=new f.Nd(5,m,r),!1;k=0;for(m=h.size;k<m;k++)this.pB(this.hb[k]);this.hb.length=0;return!0};g.prototype.vt=function(h){for(var k=0,m=h.size;k<m;k++){var n=h.get(k),p=this.Sq.read(n);if(-1!=p){var q=this.fb.ka(p);this.Bj.add(q);this.fb.wd(p,-1);this.pB(this.hb[q]);this.hb[q]=null;this.Sq.write(n,-1)}p=this.Jw.read(n);-1!=p&&(q=this.fb.ka(p),this.Bj.add(q),this.fb.wd(p,-1),this.pB(this.hb[q]),
this.hb[q]=null,this.Jw.write(n,-1))}k=0;for(m=h.size;k<m;k++){n=h.get(k);this.$f.Wb(n);p=this.$f.ni();if(p.oa>p.ma){var r=this.$f.xb(),v=this.Uu(p,n,this.$f.gb,!0);0<this.Bj.size?(q=this.Bj.Gc(),this.Bj.Jf(),this.hb[q]=v):(q=this.hb.length,this.hb.push(v));p=this.fb.addElement(q,-1);-1==this.Sq.read(r)?this.Sq.write(r,p):this.Jw.write(r,p);0==(this.uo.read(this.$f.gb)&3)&&this.Qm.add(p)}this.$f.ia();p=this.$f.ia();p.oa<p.ma&&(r=this.$f.jk(),v=this.Uu(p,n,this.$f.gb,!1),0<this.Bj.size?(q=this.Bj.Gc(),
this.Bj.Jf(),this.hb[q]=v):(q=this.hb.length,this.hb.push(v)),p=this.fb.addElement(q,-1),-1==this.Sq.read(r)?this.Sq.write(r,p):this.Jw.write(r,p),0==(this.uo.read(this.$f.gb)&3)&&this.Qm.add(p))}k=0;for(m=this.Qm.size;k<m&&0<this.et;k++)if(p=this.Qm.get(k),0==(this.uo.read(this.hb[this.fb.ka(p)].CA)&3)){h=-1;n=this.fb.xe(p);var G=p;v=null;q=-1;for(var S=0;-1!=n;){q=this.fb.ka(n);v=this.hb[q];q=v.CA;S=this.uo.read(q);if(0!=(S&3))break;G=n;n=this.fb.xe(n)}-1==n?(r=1,n=G):(h=1==(S&3)?q:this.DA.read(q),
r=0!=v.RF()?0:1,n=this.fb.lb(n));do{q=this.fb.ka(n);v=this.hb[q];q=v.CA;G=this.uo.read(q);if(0==(G&3)){if(r!=v.RF())return this.ke=new f.Nd(6,q,-1),!1;S=0==r||v.Yp()?2:1;G=G&252|S;this.uo.write(q,S);if(2==S&&0==this.ke.Lj&&this.DA.read(q)!=h&&(this.ke=new f.Nd(7,q,-1),this.sl))return!1;this.et--;if(0==this.et)return!0}1==(G&3)&&(h=q);G=n;n=this.fb.lb(n);r=0!=r?0:1}while(G!=p)}null!=this.Qm?this.Qm.clear(!1):this.Qm=new f.ja(0);return!0};g.prototype.Uu=function(h,k,m,n){if(322==h.K())h=this.mP(h);
else throw f.i.Ra();h.Jo=k;h.CA=m;h.Aq=0;h.eX(n);return h};g.prototype.mP=function(h){if(0<this.qo.length){var k=this.qo[this.qo.length-1];--this.qo.length;h.copyTo(k.ne)}else k=new w,k.ne=f.MC.ig(h);return k};g.prototype.pB=function(h){322==h.ne.K()&&this.qo.push(h)};g.prototype.cU=function(){for(var h=this.Y.I(),k=new f.ja(0),m=0;m<h;m++)k.add(m);var n=this;k.Wd(0,h,function(p,q){return n.Qu(p,q)});for(m=1;m<h;m++)if(0==this.Qu(k.get(m-1),k.get(m)))return this.ke=new f.Nd(3,k.get(m-1),k.get(m)),
0;return 2};g.prototype.BV=function(){return this.AE()?this.xE(!0)?2:0:0};g.prototype.gV=function(){return this.XS()};g.prototype.hU=function(){for(var h=this.Y.I(),k=new f.ja(0),m=0;m<h;m++)k.add(m);var n=this;k.Wd(0,h,function(G,S){return n.JO(G,S)});var p=Array(h);f.P.bv(p,!1);p[k.get(0)]=!0;for(m=1;m<h;m++){var q=k.get(m-1),r=k.get(m);0==this.Qu(q,r)?p[r]=!1:p[r]=!0}k=this.Y.Ja();q=this.Y;r=0;var v=1;for(m=0;m<h;m++)p[m]?v=m+1:(r<v&&k.Gd(q,r,v),r=m+1);r<v&&k.Gd(q,r,v);k.Eh(2,this.Co);return k};
g.prototype.FV=function(){var h=this.Y,k=h.Ha(),m=h.Ha(),n=this.Y.Ja(),p=this.Y,q=h.hasAttribute(1),r=q?f.ta.qE(this.Sg,h,!0):0,v=new f.ja(0),G=new f.ja(0);v.Jb(f.P.truncate(h.I()/2+1));for(G.Jb(f.P.truncate(h.I()/2+1));k.ab();)if(m.ab(),!(2>h.Ka(k.gb))){m.vW();for(var S,X,V=!0;k.Ia();){var Z=k.ia(),ia=m.ni();if(k.xb()>m.xb())break;V&&(v.add(k.xb()),G.add(m.jk()),V=!1);X=v.Gc();var ja=k.jk();if(1<ja-X){var ma=new f.h;ma.vc(h.Oa(X),h.Oa(ja));S=ma.length()}else S=Z.Rb();X=G.Gc();ja=m.xb();1<ja-X?(ma=
new f.h,ma.vc(h.Oa(X),h.Oa(ja)),X=ma.length()):X=ia.Rb();S>this.Co?v.add(k.jk()):q&&(S=h.Vc(1,v.Gc(),0),Z=Z.jv(1,0),Math.abs(Z-S)>r&&v.add(k.jk()));X>this.Co?G.add(m.xb()):q&&(S=h.Vc(1,G.Gc(),0),Z=ia.jv(1,0),Math.abs(Z-S)>r&&G.add(m.xb()))}v.Gc()<G.Gc()?v.size>G.size?v.Jf():G.Jf():(v.Gc()!=G.Gc()&&G.Jf(),G.Jf());if(2<=G.size+v.size){V=new f.Ta;ia=0;for(Z=v.size;ia<Z;ia++)p.we(v.get(ia),V),0==ia?n.nf(V):n.lineTo(V);for(ia=G.size-1;0<ia;ia--)p.we(G.get(ia),V),n.lineTo(V);p.ec(k.gb)?n.Cp():0<G.size&&
(p.we(G.get(0),V),n.lineTo(V))}null!=v&&v.clear(!1);null!=G&&G.clear(!1)}n.Eh(2,this.Co);return n};g.prototype.jV=function(){return this.vX()};g.prototype.vX=function(){if(1736==this.Y.K()&&1==this.Y.Jn())return f.Hg.Nk(this.Y,this.Co,!0,!1,this.nd);this.Ji=new f.hd;this.Ji.Ib(this.Y);0!=this.Ji.gd&&(1!=this.rA&&f.Uk.W(this.Ji,this.Co,this.nd,!0),1736==this.Y.K()&&f.tn.W(this.Ji,this.Ji.ld,this.rA,!1,this.nd));this.Y=this.Ji.Ke(this.Ji.ld);1736==this.Y.K()&&(this.Y.hm(),this.Y.Zo(0));this.Y.Eh(2,
this.Co);return this.Y};g.ts=function(h,k,m,n,p){null!=n&&(n.Lj=0,n.Ko=-1,n.Lo=-1);if(h.B())return 1;var q=h.K();if(33==q)return 1;var r=f.ta.mj(k,h,!1);if(197==q)return k=new f.l,h.A(k),k.Di(r)?(null!=n&&(n.Lj=2,n.Ko=-1,n.Lo=-1),0):1;if(f.ba.zd(q))return r=new f.Ua(h.description),r.oc(h,!0),g.ts(r,k,m,n,p);var v=h.qm(r);m=m?-1:v;if(-1!=m)return m;k=new g(h,k,m,p,!1);if(550==q)m=k.cU();else if(1607==q)m=k.BV();else if(1736==q)m=k.gV();else throw f.i.Ra();h.Eh(m,r);null!=n&&0==m&&n.Yt(k.ke);return m};
g.XJ=function(h,k,m,n){if(h.B())return h;var p=h.K();if(33==p)return h;var q=f.ta.mj(k,h,!1);if(197==p)return k=new f.l,h.A(k),k.Di(q)?h.Ja():h;if(f.ba.zd(p))return p=new f.Ua(h.description),p.oc(h,!0),g.XJ(p,k,m,n);q=h.qm(q);m=m?-1:q;if(2==m)return h;h=new g(h,k,m,n,!1);if(550==p)h=h.hU();else if(1607==p)h=h.FV();else if(1736==p)h=h.jV();else throw f.i.Ra();return h};g.prototype.Oh=function(h,k,m){if(h==k)return 0;h=this.ii.get(h);var n=this.ii.get(k);k=h>>1;var p=n>>1,q=new f.h,r=new f.h;this.lf.uc(2*
k,q);q.y+=0!=(h&1)?this.Qj:-this.Qj;this.lf.uc(2*p,r);r.y+=0!=(n&1)?this.Qj:-this.Qj;h=q.compare(r);return 0==h&&m?(m=this.Hl.get(k)-this.Hl.get(p),0>m?-1:0<m?1:0):h};g.prototype.Qu=function(h,k){if(h==k)return 0;var m=this.Y,n=m.Oa(h),p=m.Oa(k);if(n.x<p.x)return-1;if(n.x>p.x)return 1;if(n.y<p.y)return-1;if(n.y>p.y)return 1;for(n=1;n<this.gT;n++){p=this.hH.qd(n);for(var q=f.ua.Wa(p),r=0;r<q;r++){var v=m.Vc(p,h,r),G=m.Vc(p,k,r);if(v<G)return-1;if(v>G)return 1}}return 0};g.prototype.JO=function(h,k){var m=
this.Qu(h,k);return 0==m?h<k?-1:1:m};g.prototype.RP=function(h,k){if(h===k)return 0;var m=h.ne.jg();h.Yp()&&m.Uq();h=k.ne.jg();k.Yp()&&h.Uq();k=m.su();var n=h.su();return n==k?(k=m.yi(h),Math.abs(k)<=8.881784197001252E-16*(Math.abs(h.x*m.y)+Math.abs(h.y*m.x))&&(k--,k++),0>k?1:0<k?-1:0):k<n?-1:1};return g}();f.Ix=e})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 30};c.local=function(){null===c.instance&&
(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e){return a instanceof f.ba?(a=new f.$c(a),b=new f.$c(b),this.W(a,b,d,e).next()):new f.vL(a,b,d,e)};c.fp=function(a,b,d,e){var g=a.Eb(),h=b.Eb();if(a.B()&&b.B())return g>h?a:b;if(a.B())return b;if(b.B())return a;var k=new f.l,m=new f.l,n=new f.l;a.A(k);b.A(m);n.L(k);n.$b(m);k=f.ta.Xd(d,n,!0);m=a.K();n=b.K();return 33==m&&33==n?c.TU(a,b,k):m!=n?0<g||0<h?g>h?a:b:550==m?c.cI(a,b,k):c.cI(b,a,k):f.Hg.fp(a,b,d,e)};c.TU=function(a,b,d){d=
d*Math.sqrt(2)*1.00001;d*=d;var e=a.D(),g=b.D(),h=new f.de(a.description);f.h.zc(e,g)>d&&(h.add(a),h.add(b));return h};c.cI=function(a,b,d){var e=a.vb(0),g=a.I(),h=b.D(),k=a.Ja();d=d*Math.sqrt(2)*1.00001;var m=new f.l;a.A(m);m.X(d,d);if(m.contains(h)){d*=d;m=!1;for(var n=[],p=0;p<g;p++)n[p]=!1;for(p=0;p<g;p++){var q=e.read(2*p),r=e.read(2*p+1);q-=h.x;r-=h.y;q*q+r*r<=d&&(m=!0,n[p]=!0)}if(m)for(p=0;p<g;p++)n[p]||k.Gd(a,p,p+1);else k.Gd(a,0,g),k.add(b)}else k.Gd(a,0,g),k.add(b);return k};c.instance=
null;return c}(f.Ge);f.Jx=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b,d){this.vs=null==a;this.za=-1;this.Sd=c;this.vg=b;this.FT=a.next();this.Vb=d}l.prototype.next=function(){if(this.vs)return null;var c;return null!=(c=this.Sd.next())?(this.za=this.Sd.Ma(),f.Jx.fp(c,this.FT,this.vg,this.Vb)):null};l.prototype.Ma=function(){return this.za};l.prototype.qe=function(){};return l}();f.vL=w})(Y||(Y={}));(function(f){var w=function(){function a(){}a.prototype.Az=function(){this.Vy=null;
this.zx=-1;this.uK=!1};return a}(),l=function(){function a(){this.Ir=0;this.rj=[]}a.prototype.jN=function(b){this.Ir+=b.zx;this.rj.push(b)};a.prototype.LV=function(){this.Ir-=this.rj[this.rj.length-1].zx;--this.rj.length};a.prototype.iy=function(){return this.rj[this.rj.length-1]};a.prototype.Nb=function(b){return b===this};return a}(),c=function(){function a(b,d,e){this.za=-1;this.Jc=!1;this.uH=[!1,!1,!1,!1];this.wq=[0,0,0,0];this.eA=!1;this.Ak=-1;this.kq=0;this.co=-1;this.Eo=[];this.Sd=b;this.vg=
d;this.Vb=e}a.YD=function(b){var d=[],e=0;for(b=Object.keys(b);e<b.length;e++)d.push(Number(b[e]));d.sort(function(g,h){return g-h});return d};a.prototype.$F=function(b){var d=this.Eo[b],e=a.YD(d)[0],g=d[e],h=g.iy().Vy;g=g.iy().uK;delete d[e];g&&(h=f.$l.local().W(h,this.vg,!1,this.Vb),0==b&&33==h.K()&&(b=new f.de(h.description),h.B()||b.add(h),h=b));return h};a.prototype.next=function(){if(this.Jc&&this.co==this.Ak)return null;for(;!this.kK(););if(-1==this.Ak)return null;if(this.eA){for(this.co++;;){if(this.co>
this.Ak||0>this.co)throw f.i.Ra();if(this.uH[this.co])break}this.za++;return this.$F(this.co)}this.za=0;this.co=this.Ak;return this.$F(this.Ak)};a.prototype.Ma=function(){return this.za};a.prototype.kK=function(){if(this.Jc)return!0;var b=null;null!=this.Sd&&(b=this.Sd.next(),null==b&&(this.Jc=!0,this.Sd=null));f.np.Bp(this.Vb);if(null!=b){var d=b.Eb();this.uH[d]=!0;d>=this.Ak&&!this.eA&&(this.GD(d,!1,b),d>this.Ak&&!this.eA&&this.rW(d))}if(0<this.kq)for(d=0;d<=this.Ak;d++)for(;1<this.wq[d];)if(b=
this.zO(d),0!=b.length)b=f.Hg.PP(b,this.vg,this.Vb),this.GD(d,!0,b);else break;return this.Jc};a.prototype.zO=function(b){for(var d=[],e=[],g=this.Eo[b],h=a.YD(g),k=0;k<h.length;k++){var m=h[k],n=g[m];if(this.Jc||1E4<n.Ir&&1<n.rj.length){this.wq[b]-=n.rj.length;for(this.kq-=n.rj.length;0<n.rj.length;)d.push(n.iy().Vy),n.LV();e.push(m)}}for(k=0;k<e.length;k++)delete g[e[k]];return d};a.prototype.rW=function(b){for(var d=0;d<b;d++)this.Eo[d]=[],this.kq-=this.wq[d],this.wq[d]=0};a.prototype.GD=function(b,
d,e){var g=new w;g.Az();g.Vy=e;e=a.YR(e);g.zx=e;e=a.WR(e);if(b+1>this.Eo.length)for(var h=0,k=Math.max(2,b+1);h<k;h++)this.Eo.push([]);h=this.Eo[b][e];void 0===h&&(h=new l,this.Eo[b][e]=h);g.uK=d;h.jN(g);this.wq[b]++;this.kq++;this.Ak=Math.max(this.Ak,b)};a.WR=function(b){return 0<b?f.P.truncate(Math.log(b)/Math.log(4)+.5):0};a.YR=function(b){var d=b.K();if(f.ba.zj(d))return b.I();if(33==d)return 1;if(197==d)return 4;if(f.ba.zd(d))return 2;throw f.i.Ra();};a.prototype.qe=function(){this.kK()};return a}();
f.xL=c})(Y||(Y={}));(function(f){var w=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}Ea(c,l);c.prototype.K=function(){return 1};c.prototype.W=function(a,b,d,e){return void 0===e?new f.xL(a,b,d):this.aQ(a,b,d,e)};c.prototype.aQ=function(a,b,d,e){a=new f.$c([a,b]);return this.W(a,d,e).next()};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(f.Ge);f.Ih=w})(Y||(Y={}));(function(f){var w;(function(l){l[l.nextPath=0]="nextPath";
l[l.nextSegment=1]="nextSegment";l[l.iterate=2]="iterate"})(w||(w={}));w=function(){function l(c,a,b,d){this.Vs=new f.l;this.yT=c;this.zT=a;this.oq=d;this.vo=-1;this.tl=!1;var e=c.Cb;null!=e&&(e=d?e.Ao:e.Gb,null!=e&&(this.Jc=!1,this.ra=b,this.Gb=e,this.zw=this.Gb.getIterator(),this.pq=this.tl=!0,this.Yb=0,d?this.vo=a.ea():this.td=a.Ha()));this.tl||(e=a.Cb,null!=e&&(e=d?e.Ao:e.Gb,null!=e&&(this.Jc=!1,this.ra=b,this.Gb=e,this.zw=this.Gb.getIterator(),this.tl=!0,this.pq=!1,this.Yb=0,d?this.vo=c.ea():
this.td=c.Ha())));this.tl||(this.ei=d?f.ta.gR(c,a,b,1<=c.qm(0),1<=a.qm(0)):f.ta.fR(c,a,b))}l.prototype.next=function(){if(this.tl){if(this.Jc)return!1;for(var c=!0;c;)switch(this.Yb){case 0:c=this.pU();break;case 1:c=this.qU();break;case 2:c=this.Pz();break;default:throw f.i.ga("internal error");}return this.Jc?!1:!0}return null==this.ei?!1:this.ei.next()};l.prototype.pl=function(){return this.tl?this.pq?this.Gb.ka(this.Hs):this.oq?this.vo:this.td.xb():this.ei.pl(this.ei.Wf)};l.prototype.jl=function(){return this.tl?
this.pq?this.oq?this.vo:this.td.xb():this.Gb.ka(this.Hs):this.ei.jl(this.ei.Bf)};l.prototype.oz=function(){if(!this.oq)throw f.i.ga("internal error");return this.tl?this.pq?this.Gb.AF(this.Hs):this.Vs:this.ei.oz(this.ei.Wf)};l.prototype.Wy=function(){if(!this.oq)throw f.i.ga("internal error");return this.tl?this.pq?this.Vs:this.Gb.AF(this.Hs):this.ei.Wy(this.ei.Bf)};l.prototype.pU=function(){if(!this.oq){if(!this.td.ab())return this.Jc=!0,!1;this.Yb=1;return!0}if(-1==--this.vo)return this.Jc=!0,!1;
this.pq?this.zT.Tj(this.vo,this.Vs):this.yT.Tj(this.vo,this.Vs);this.zw.Zi(this.Vs,this.ra);this.Yb=2;return!0};l.prototype.qU=function(){if(!this.td.Ia())return this.Yb=0,!0;var c=this.td.ia();this.zw.Vo(c,this.ra);this.Yb=2;return!0};l.prototype.Pz=function(){this.Hs=this.zw.next();return-1==this.Hs?(this.Yb=this.oq?0:1,!0):!1};return l}();f.am=w})(Y||(Y={}));(function(f){f=f.IL||(f.IL={});f[f.enumClosed=1]="enumClosed";f[f.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";f[f.enumOGCStartPolygon=
4]="enumOGCStartPolygon";f[f.enumCalcMask=4]="enumCalcMask"})(Y||(Y={}));(function(f){f.KC=function(){function w(){}w.ub=function(l,c,a,b,d,e,g,h,k){var m=[0,0,0],n=[0,0,0],p=[0,0,0],q=[0,0,0,0],r=new f.ha(0),v=new f.ha(0),G=new f.ha(0);if(null!=g||null!=h||null!=k)if(f.s.vi(c))f.$g.ub(l,a,b,d,e,g,h,k);else{d=f.F.ca(d);a=f.F.ca(a);var S=f.F.ca(d-a);if(f.s.$(b,e)&&(f.s.$(a,d)||f.s.$(f.s.R(b),1.570796326794897)))null!=g&&(g.u=0),null!=h&&(h.u=0),null!=k&&(k.u=0);else{if(f.s.$(b,-e)){if(f.s.$(f.s.R(b),
1.570796326794897)){null!=g&&(g.u=2*f.F.Ch(l,c));null!=h&&(h.u=0<b?f.F.ca(3.141592653589793-f.F.ca(d)):f.F.ca(d));null!=k&&(k.u=0<b?f.F.ca(d):f.F.ca(3.141592653589793-f.F.ca(d)));return}f.s.$(f.s.R(S),3.141592653589793)&&(null!=g&&(g.u=2*f.F.Ch(l,c)),null!=h&&(h.u=0),null!=k&&(k.u=0))}else{if(f.s.$(f.s.R(b),1.570796326794897)||f.s.$(f.s.R(e),1.570796326794897)){f.Yk.ub(l,c,a,b,d,e,g,h,k);return}if(f.s.$(a,d)||f.s.$(f.s.R(S),3.141592653589793)){f.Yk.ub(l,c,a,b,d,e,g,h,k);return}if(f.s.Dd(b)){f.Yk.ub(l,
c,a,b,d,e,g,h,k);return}}var X=Math.sqrt(1-c);d=f.F.ca(d-a);a=0;f.F.el(1,c,b,a,0,r,v,G);m[0]=r.u;m[1]=v.u;m[2]=G.u;f.F.el(1,c,e,d,0,r,v,G);n[0]=r.u;n[1]=v.u;n[2]=G.u;p[0]=0;p[1]=0;p[2]=-1*c*f.F.n(1,c,b)*Math.sin(b);0>d?f.F.Yq(p,n,m,q,0):f.F.Yq(p,m,n,q,0);v=[0,0,0];G=[0,0,0];var V=[0,0,0];m=[0,0,0];r=[0,0,0];var Z=Math.acos(q[2]/1),ia=1-c,ja=Math.tan(Z),ma=1+ja*ja/ia,sa=2*p[2]*ja/ia;ja=Math.sqrt(sa*sa-4*ma*(p[2]*p[2]/ia-1));ma*=2;ia=(-sa+ja)/ma;sa=(-sa-ja)/ma;ja=Math.tan(Z);ma=ja*ia+p[2];Z=(ia+sa)/
2;p=(ma+(ja*sa+p[2]))/2;ja=f.F.hp(ia-Z,ma-p);ia=p/X*1.570796326794897;for(sa=0;100>sa;sa++){ma=f.F.w(c,ia);ma=ma*ma/Math.cos(ia)*(Math.sin(ia)-p*ma/(1-c));if(f.s.Dd(ma))break;ia-=ma}p=f.F.n(1,c,ia)*Math.cos(ia);p=Math.sqrt((p-Z)*(p+Z));ja=1-ja/p;ja*=2-ja;ma=f.F.qn(v);Z=f.F.qn(G);ia=f.F.qn(V);var va=f.F.Ut(V,v);sa=f.F.Ut(V,G);f.F.yx(V,v,m);f.F.yx(V,G,r);v=Math.acos(va/(ia*ma));G=Math.acos(sa/(ia*Z));G*=f.s.Mb(1,f.F.Ut(m,r));if(1.570796326794897<=f.s.R(v)&&1.570796326794897<=f.s.R(G)||3.141592653589793<
f.s.R(v-G))v=(3.141592653589793-f.s.R(v))*f.s.Mb(1,v),G=(3.141592653589793-f.s.R(G))*f.s.Mb(1,G);m=f.F.Sj(ja,G);r=f.F.q(p,ja,f.F.Sj(ja,v));m=f.F.q(p,ja,m);m=f.s.R(m-r)*l;v=new f.ha(0);G=new f.ha(0);V=q[1]/1;V*=-f.s.Mb(1,S);r=Math.acos(V)*f.s.Mb(1,S);w.sf(l,c,a,b,m,r,v,G);f.s.$(d,v.u)&&f.s.$(e,G.u)||(ja=f.F.hp(f.F.ca(d-v.u),e-G.u),w.sf(l,c,a,b,m,f.F.ca(r+3.141592653589793),v,G),ma=f.F.hp(f.F.ca(d-v.u),e-G.u),ma<ja&&(r=f.F.ca(r+3.141592653589793)));v=[0,0,0,0];G=[0,0,0,0];p=[0,0,0];ja=[0,0,0];l=[0,
0,0];a=[0,0,0];b=[0,0,0];V=[0,0,0];p[0]=0;p[1]=0;p[2]=X;ja[0]=0;ja[1]=0;ja[2]=0;f.F.Yq(ja,p,n,v,0);f.s.Dd(e)?(l[0]=n[0],l[1]=n[1],l[2]=1,a[0]=1*Math.cos(d)-1*Math.sin(d),a[1]=1*Math.sin(d)+1*Math.cos(d)):(c=f.F.n(1,c,e)*Math.cos(e),l[0]=0,l[1]=0,n[2]+=Math.tan(1.570796326794897-f.s.R(e))*c*f.s.Mb(1,e),a[0]=c*Math.cos(d)-c*Math.sin(d),a[1]=c*Math.sin(d)+c*Math.cos(d));a[2]=n[2];f.F.Yq(n,a,l,G,1);f.F.yx(G,v,b);f.F.yx(G,q,V);V=f.F.Ut(b,V)/(f.F.qn(b)*f.F.qn(V));V*=f.s.Mb(1,S);d=Math.acos(V)*-f.s.Mb(1,
S);0<r&&0<d?d=f.F.ca(d+3.141592653589793):0>r&&0>d&&(d=f.F.ca(d+3.141592653589793));null!=g&&(g.u=m);null!=h&&(h.u=r);null!=k&&(k.u=d)}}};w.sf=function(l,c,a,b,d,e,g,h){var k=[0,0,0],m=[0,0,0],n=[0,0,0],p=[0,0,0],q=[0,0,0],r=[0,0,0],v=[0,0,0],G=[0,0,0,0],S=new f.ha(0),X=new f.ha(0),V=new f.ha(0),Z=new f.ha(0),ia=new f.ha(0),ja=new f.ha(0);if(null!=g&&null!=h)if(f.s.vi(c))f.$g.sf(l,a,b,d,e,g,h);else if(f.s.Dd(d))null!=g&&(g.u=a),null!=h&&(h.u=b);else if(e=f.F.ca(e),0>d&&(d=f.s.R(d),e=f.F.ca(e+3.141592653589793)),
a=f.F.ca(a),b=f.F.ca(b),1.570796326794897<f.s.R(b)&&(a=f.F.ca(a+3.141592653589793),b=f.s.Mb(3.141592653589793,b)-b),f.s.$(f.s.R(b),1.570796326794897)||f.s.Dd(b)||f.s.Dd(e)||f.s.$(f.s.R(e),3.141592653589793))f.Yk.sf(l,c,a,b,d,e,g,h);else{var ma=Math.sqrt(1-c);l=d/l;f.F.el(1,c,b,0,0,Z,ia,ja);k[0]=Z.u;k[1]=ia.u;k[2]=ia.u;v[0]=0;v[1]=0;v[2]=-1*c*f.F.n(1,c,b)*Math.sin(b);Z=f.F.n(1,c,b);ia=f.F.ca(1.570796326794897-e);ja=Math.sin(ia);d=Math.cos(b);b=Math.sin(b);q[0]=Z*d-b*ja;q[1]=Math.cos(ia);q[2]=(1-c)*
Z*b+d*ja;0>e?f.F.Yq(v,q,k,G,0):f.F.Yq(v,k,q,G,0);k=Math.acos(G[2]/1);G=Math.atan2(-G[1],-G[0]);b=1-c;q=Math.tan(k);ia=1+q*q/b;Z=2*v[2]*q/b;q=Math.sqrt(Z*Z-4*ia*(v[2]*v[2]/b-1));ia*=2;b=(-Z+q)/ia;Z=(-Z-q)/ia;q=Math.tan(k);ia=q*b+v[2];k=(b+Z)/2;v=(ia+(q*Z+v[2]))/2;q=f.F.hp(b-k,ia-v);ma=v/ma*1.570796326794897;for(b=0;100>b;b++){Z=f.F.w(c,ma);Z=Z*Z/Math.cos(ma)*(Math.sin(ma)-v*Z/(1-c));if(f.s.Dd(Z))break;ma-=Z}ma=f.F.n(1,c,ma)*Math.cos(ma);ma=Math.sqrt((ma-k)*(ma+k));v=1-q/ma;v*=2-v;r=Math.acos(f.F.Ut(r,
m)/(f.F.qn(r)*f.F.qn(m)));r*=f.s.Mb(1,m[0]);e=(f.F.q(ma,v,f.F.Sj(v,r))+l*f.s.Mb(1,e))/f.F.Ch(ma,v);e=f.F.ca(1.570796326794897*e);e=f.F.Tq(v,e);f.F.n(ma,v,e);q=f.F.ca(G+a);a=Math.cos(q);e=Math.sin(q);n[0]=p[0]*a+p[1]*-e;n[1]=p[0]*e+p[1]*a;n[2]=p[2];f.F.dO(c,n[0],n[1],n[2],V,X,S);null!=g&&(g.u=X.u);null!=h&&(h.u=V.u)}};return w}()})(Y||(Y={}));(function(f){var w=function(){function d(e){this.Za=null;this.xt=new f.h;this.yt=new f.h;this.g=e}d.prototype.compare=function(e,g,h){this.g.Hc(g,this.xt);this.g.Hc(e.ka(h),
this.yt);return this.xt.compare(this.yt)};return d}(),l=function(){function d(e){this.Cf=new f.h;this.Ek=new f.h;this.g=e}d.prototype.Fh=function(e){this.Cf.N(e)};d.prototype.compare=function(e,g){this.g.Hc(e.ka(g),this.Ek);return this.Cf.compare(this.Ek)};return d}(),c=function(d){function e(g){var h=d.call(this,g.g,g.ra,!1)||this;h.ib=g;return h}Ea(e,d);e.prototype.compare=function(g,h,k){if(this.rg)return-1;var m=this.ib.Rd.Kn(this.ib.Th(h));g=g.ka(k);var n=this.ib.Rd.Kn(this.ib.Th(g));this.Fm=
k;return this.LE(h,m,g,n)};return e}(f.OC),a=function(d){function e(g){var h=d.call(this,g.g,g.ra)||this;h.ib=g;return h}Ea(e,d);e.prototype.compare=function(g,h){if(this.rg)return-1;g=this.ib.Rd.Kn(this.ib.Th(g.ka(h)));this.Fm=h;return this.ME(h,g)};return e}(f.VL),b=function(){function d(){this.Nc=this.df=this.ko=this.Rd=this.nh=this.Ad=this.hb=this.g=null;this.Pg=!1;this.xh=this.Pm=this.ie=this.Hk=this.ph=this.Bk=this.Gf=this.ae=null;this.zh=this.Lq=this.OA=this.ra=0;this.Zv=this.Xn=!1;this.zo=
new f.h;this.Ri=new f.h;this.hb=new f.ad(8);this.Ad=new f.ad(5);this.nh=new f.cu;this.Rd=new f.cu;this.Pg=!1;this.xh=new f.h;this.xh.na(0,0);this.ra=0;this.zh=-1;this.Xn=!1;this.g=null;this.df=new f.Zj;this.Nc=new f.Zj;this.ph=new f.ja(0);this.Hk=new f.NC;this.Gf=new f.ja(0);this.Bk=new f.ja(0);this.ko=new f.Ta}d.prototype.HX=function(e,g){var h=new f.Ed;h.UB();e.Pc(h);this.gr(e);this.Xn=!1;this.ra=g;this.OA=g*g;g=this.dC();e.Pc(h);g||(this.kQ(),g||this.dC());-1!=this.zh&&(this.g.Ud(this.zh),this.zh=
-1);this.g=null;return this.Xn};d.prototype.LX=function(e,g){this.gr(e);this.Xn=!1;this.ra=g;this.OA=g*g;this.Pg=!1;this.dC();this.Pg||(this.Pg=1==e.Ip(g,!0,!1));-1!=this.zh&&(this.g.Ud(this.zh),this.zh=-1);this.g=null};d.prototype.pg=function(e,g){return this.hb.U(e,0+g)};d.prototype.FB=function(e,g,h){this.hb.T(e,0+g,h)};d.prototype.Th=function(e){return this.hb.U(e,2)};d.prototype.QW=function(e,g){this.hb.T(e,2,g)};d.prototype.LF=function(e,g){return this.hb.U(e,3+g)};d.prototype.Rp=function(e){return this.hb.U(e,
7)};d.prototype.Rl=function(e,g){this.hb.T(e,7,g)};d.prototype.Tp=function(e,g){return this.hb.U(e,3+this.Qp(e,g))};d.prototype.hr=function(e,g,h){this.hb.T(e,3+this.Qp(e,g),h)};d.prototype.GR=function(e,g){return this.hb.U(e,5+this.Qp(e,g))};d.prototype.jr=function(e,g,h){this.hb.T(e,5+this.Qp(e,g),h)};d.prototype.Ur=function(e){return this.Ad.U(e,0)};d.prototype.MW=function(e,g){this.Ad.T(e,0,g)};d.prototype.$y=function(e){return this.Ad.U(e,4)};d.prototype.er=function(e,g){this.Ad.T(e,4,g)};d.prototype.kl=
function(e){return this.Ad.U(e,1)};d.prototype.nn=function(e,g){this.Ad.T(e,1,g)};d.prototype.Zy=function(e){return this.Ad.U(e,3)};d.prototype.Ft=function(e,g){this.Ad.T(e,3,g)};d.prototype.$m=function(e){var g=this.Ad.De(),h=this.nh.Rh();this.MW(g,h);-1!=e?(this.nh.addElement(h,e),this.g.Sa(e,this.zh,g),this.er(g,this.g.Va(e))):this.er(g,-1);return g};d.prototype.BP=function(e){this.Ad.kd(e)};d.prototype.ED=function(e,g){this.nh.addElement(this.Ur(e),g);this.g.Sa(g,this.zh,e)};d.prototype.ot=function(e){var g=
this.hb.De(),h=this.Rd.Rh();this.QW(g,h);-1!=e&&this.Rd.addElement(h,e);return g};d.prototype.FD=function(e,g){this.Rd.addElement(this.Th(e),g)};d.prototype.Wu=function(e){this.hb.kd(e);e=this.ph.fF(e);0<=e&&this.ph.KV(e)};d.prototype.jj=function(e,g){if(-1==this.pg(e,0))this.FB(e,0,g);else if(-1==this.pg(e,1))this.FB(e,1,g);else throw f.i.Ra();this.gy(e,g)};d.prototype.gy=function(e,g){var h=this.kl(g);if(-1!=h){var k=this.Tp(h,g);this.jr(k,g,e);this.hr(e,g,k);this.hr(h,g,e);this.jr(e,g,h)}else this.jr(e,
g,e),this.hr(e,g,e),this.nn(g,e)};d.prototype.Qp=function(e,g){return this.pg(e,0)==g?0:1};d.prototype.Zm=function(e,g){var h=this.Zy(g);-1!=h&&(this.df.wd(h,-1),this.Ft(g,-1));var k;h=this.kl(g);if(-1!=h){var m=k=h;do{var n=!1,p=this.Qp(k,g),q=this.LF(k,p);if(this.pg(k,p+1&1)==e){this.Zu(k);this.Rd.eh(this.Th(k));this.Wu(k);if(k==q){h=-1;break}h==k&&(h=this.kl(g),m=q,n=!0)}k=q}while(k!=m||n);if(-1!=h){do p=this.Qp(k,g),q=this.LF(k,p),this.FB(k,p,e),k=q;while(k!=m);k=this.kl(e);-1!=k?(m=this.Tp(k,
e),n=this.Tp(h,e),m==k?(this.nn(e,h),this.gy(k,e),this.nn(e,k)):n==h&&this.gy(h,e),this.hr(h,e,m),this.jr(m,e,h),this.hr(k,e,n),this.jr(n,e,k)):this.nn(e,h)}}h=this.Ur(e);k=this.Ur(g);for(m=this.nh.sc(k);-1!=m;m=this.nh.lb(m))this.g.Sa(this.nh.ka(m),this.zh,e);this.nh.Cy(h,k);this.BP(g)};d.prototype.MT=function(e,g){var h=this.pg(e,0),k=this.pg(e,1),m=this.pg(g,0),n=this.pg(g,1);this.Rd.Cy(this.Th(e),this.Th(g));g==this.kl(h)&&this.nn(h,e);g==this.kl(k)&&this.nn(k,e);this.Zu(g);this.Wu(g);h==m&&k==
n||k==m&&h==n||(this.In(h,this.zo),this.In(m,this.Ri),this.zo.rb(this.Ri)?(h!=m&&this.Zm(h,m),k!=n&&this.Zm(k,n)):(k!=m&&this.Zm(k,m),h!=n&&this.Zm(h,n)))};d.prototype.Zu=function(e){var g=this.pg(e,1);this.YE(e,this.pg(e,0));this.YE(e,g)};d.prototype.YE=function(e,g){var h=this.Tp(e,g),k=this.GR(e,g),m=this.kl(g);h!=e?(this.hr(k,g,h),this.jr(h,g,k),m==e&&this.nn(g,h)):this.nn(g,-1)};d.prototype.QD=function(e,g,h){var k=this.Rd.sc(e),m=this.Rd.ka(k);e=this.Ie(m);var n=this.Ie(this.g.V(m));this.g.lr(m,
g,h,!0);for(k=this.Rd.lb(k);-1!=k;k=this.Rd.lb(k)){m=this.Rd.ka(k);var p=this.Ie(m)==e;this.g.lr(m,g,h,p)}k=g.Xp(h,0).ac();g=g.Xp(h,g.ql(h)-1).xc();this.vK(e,k);this.vK(n,g)};d.prototype.TE=function(e,g,h){var k=this.Th(e),m=this.pg(e,0),n=this.pg(e,1),p=this.ot(-1);this.ph.add(p);this.Rl(p,-3);this.Gf.add(p);this.jj(p,m);e=1;for(g=g.ql(h);e<g;e++)h=this.$m(-1),this.Bk.add(h),this.Gf.add(h),this.jj(p,h),p=this.ot(-1),this.ph.add(p),this.Rl(p,-3),this.Gf.add(p),this.jj(p,h);this.jj(p,n);for(k=this.Rd.sc(k);-1!=
k;k=this.Rd.lb(k))if(n=this.Rd.ka(k),this.Ie(n)==m){e=0;do 0<e&&(p=this.Gf.get(e-1),this.ED(p,n),-1==this.$y(p)&&this.er(p,this.g.Va(n))),p=this.Gf.get(e),e+=2,this.FD(p,n),n=this.g.V(n);while(e<this.Gf.size)}else{e=this.Gf.size-1;do e<this.Gf.size-2&&(p=this.Gf.get(e+1),this.ED(p,n),0>this.$y(p)&&this.er(p,this.g.Va(n))),p=this.Gf.get(e),e-=2,this.FD(p,n),n=this.g.V(n);while(0<=e)}this.Gf.clear(!1)};d.prototype.Ie=function(e){return this.g.Qa(e,this.zh)};d.prototype.MI=function(e,g,h){var k=this.pg(g,
0),m=new f.h;this.In(k,m);var n=new f.h,p=this.pg(g,1);this.In(p,n);var q=h.ql(e),r=h.Xp(e,0),v=new f.h;r.$p(v);if(!m.rb(v)){if(!this.Pg){var G=m.compare(this.xh);v=v.compare(this.xh);0>G*v&&(this.Pg=!0)}this.pF(k,this.Gf);this.Bk.add(k)}!this.Pg&&1<q&&(G=m.compare(n),r=r.xc(),m.compare(r)!=G||r.compare(n)!=G?this.Pg=!0:0>r.compare(this.xh)&&(this.Pg=!0));r=h.Xp(e,q-1);e=r.xc();n.rb(e)||(this.Pg||(G=n.compare(this.xh),v=e.compare(this.xh),0>G*v&&(this.Pg=!0)),this.pF(p,this.Gf),this.Bk.add(p));this.Gf.add(g);
n=0;for(p=this.Gf.size;n<p;n++)e=this.Gf.get(n),h=this.Rp(e),f.ad.FG(h)&&(this.Nc.wd(h,-1),this.Rl(e,-1)),e!=g&&-3!=this.Rp(e)&&(this.ph.add(e),this.Rl(e,-3));this.Gf.clear(!1)};d.prototype.fO=function(e,g){this.ae.compare(this.Nc,this.Nc.ka(e),g);this.ae.rg&&(this.ae.Mr(),this.iF(e,g))};d.prototype.iF=function(e,g){this.Xn=!0;e=this.Nc.ka(e);g=this.Nc.ka(g);var h=this.Rd.Kn(this.Th(e)),k=this.Rd.Kn(this.Th(g)),m=this.g.cc(h);null==m&&(null==this.ie&&(this.ie=new f.zb),this.g.fd(h,this.ie),m=this.ie);
h=this.g.cc(k);null==h&&(null==this.Pm&&(this.Pm=new f.zb),this.g.fd(k,this.Pm),h=this.Pm);this.Hk.Po(m);this.Hk.Po(h);this.Hk.Fa(this.ra,!0)&&(this.Pg=!0);this.bK(e,g,-1,this.Hk);this.Hk.clear()};d.prototype.AQ=function(e,g){this.Xn=!0;g=this.Nc.ka(g);var h=this.Rd.Kn(this.Th(g)),k=this.g.cc(h);null==k&&(null==this.ie&&(this.ie=new f.zb),this.g.fd(h,this.ie),k=this.ie);h=this.vF(e);this.Hk.Po(k);this.g.Xi(h,this.ko);this.Hk.Fz(this.ra,this.ko,!0);this.bK(g,-1,e,this.Hk);this.Hk.clear()};d.prototype.qS=
function(){if(0!=this.ph.size)for(;0!=this.ph.size;){if(this.ph.size>Math.max(100,this.g.gd)){this.ph.clear(!1);this.Pg=!0;break}var e=this.ph.Gc();this.ph.Jf();this.Rl(e,-1);-1!=this.OS(e)&&this.pS(e);this.Wn=!1}};d.prototype.pS=function(e){if(this.Wn){var g=this.Nc.Bu(this.GH,this.AH,e,!0);this.Wn=!1}else g=this.Nc.DD(e);-1==g?this.MT(this.Nc.ka(this.Nc.zF()),e):(this.Rl(e,g),this.ae.rg&&(this.ae.Mr(),this.iF(this.ae.Fm,g)))};d.prototype.OS=function(e){var g=this.pg(e,0);e=this.pg(e,1);this.In(g,
this.zo);this.In(e,this.Ri);if(f.h.zc(this.zo,this.Ri)<=this.OA)return this.Pg=!0,-1;var h=this.zo.compare(this.xh),k=this.Ri.compare(this.xh);return 0>=h&&0<k?e:0>=k&&0<h?g:-1};d.prototype.iQ=function(){var e=new f.ja(0);e.Jb(this.g.gd);for(var g=this.g.$q(),h=g.next();-1!=h;h=g.next())-1!=this.g.Qa(h,this.zh)&&e.add(h);this.g.nx(e,e.size);this.jQ(e)};d.prototype.jQ=function(e){this.df.clear();this.df.Ee(e.size);this.df.Wo(new w(this.g));var g=new f.h;g.Sc();for(var h=-1,k=new f.h,m=0,n=e.size;m<
n;m++){var p=e.get(m);this.g.Hc(p,k);k.rb(g)?(p=this.g.Qa(p,this.zh),this.Zm(h,p)):(h=this.Ie(p),this.g.Hc(p,g),p=this.df.yn(p),this.Ft(h,p))}};d.prototype.kQ=function(){var e=new f.ja(0);e.Jb(this.g.gd);for(var g=this.df.sc(-1);-1!=g;g=this.df.lb(g))e.add(this.df.ka(g));this.df.clear();this.g.nx(e,e.size);g=0;for(var h=e.size;g<h;g++){var k=e.get(g),m=this.Ie(k);k=this.df.yn(k);this.Ft(m,k)}};d.prototype.pF=function(e,g){var h=this.kl(e);if(-1!=h){var k=h;do f.ad.FG(this.Rp(k))&&g.add(k),k=this.Tp(k,
e);while(k!=h)}};d.prototype.vK=function(e,g){for(e=this.nh.sc(this.Ur(e));-1!=e;e=this.nh.lb(e))this.g.mf(this.nh.ka(e),g)};d.prototype.bK=function(e,g,h,k){this.Zu(e);-1!=g&&this.Zu(g);this.MI(0,e,k);-1!=g&&this.MI(1,g,k);-1!=h&&(k.Cf.D(this.zo),this.In(h,this.Ri),this.Ri.rb(this.zo)||this.Bk.add(h));h=0;for(var m=this.Bk.size;h<m;h++){var n=this.Bk.get(h),p=this.Zy(n);-1!=p&&(this.df.wd(p,-1),this.Ft(n,-1))}h=this.Th(e);m=-1!=g?this.Th(g):-1;this.QD(h,k,0);-1!=g&&this.QD(m,k,1);this.TE(e,k,0);
-1!=g&&this.TE(g,k,1);this.Rd.eh(h);this.Wu(e);-1!=g&&(this.Rd.eh(m),this.Wu(g));h=0;for(m=this.Bk.size;h<m;h++)n=this.Bk.get(h),n==this.Lq&&(this.Zv=!0),p=this.Zy(n),-1==p&&(p=this.df.DD(this.vF(n)),-1==p?(e=this.Ie(this.df.ka(this.df.zF())),this.Zm(e,n)):this.Ft(n,p));this.Bk.clear(!1)};d.prototype.In=function(e,g){this.g.YF(this.$y(e),g)};d.prototype.vF=function(e){return this.nh.Kn(this.Ur(e))};d.prototype.dC=function(){this.Zv=!1;this.Lq=-1;null==this.ae&&(this.Nc.Tv=!1,this.ae=new c(this),this.Nc.$n=
this.ae);var e=new f.ja(0),g=null,h=null;this.AH=this.GH=-1;this.Wn=!1;for(var k=this.df.sc(-1);-1!=k;){this.Wn=!1;var m=this.df.ka(k);this.Lq=this.Ie(m);this.g.Hc(m,this.xh);this.ae.UJ(this.xh.y,this.xh.x);var n=this.kl(this.Lq),p=-1==n;if(!p){m=n;do{var q=this.Rp(m);-1==q?(this.ph.add(m),this.Rl(m,-3)):-3!=q&&e.add(q);m=this.Tp(m,this.Lq)}while(m!=n)}if(0<e.size){this.Wn=1==e.size&&1==this.ph.size;p=0;for(n=e.size;p<n;p++)m=this.Nc.ka(e.get(p)),this.Rl(m,-2);var r=-2,v=-2;p=0;for(n=e.size;p<n;p++){q=
e.get(p);if(-2==r){var G=this.Nc.xe(q);-1!=G?(m=this.Nc.ka(G),m=this.Rp(m),-2!=m&&(r=G)):r=-1}-2==v&&(q=this.Nc.lb(q),-1!=q?(m=this.Nc.ka(q),m=this.Rp(m),-2!=m&&(v=q)):v=-1);if(-2!=r&&-2!=v)break}p=0;for(n=e.size;p<n;p++)q=e.get(p),m=this.Nc.ka(q),this.Nc.wd(q,-1),this.Rl(m,-1);e.clear(!1);this.GH=-1!=r?r:-1;this.AH=-1!=v?v:-1;-1!=r&&-1!=v?this.Wn||this.fO(r,v):-1==r&&-1==v&&(this.Wn=!1)}else p&&(null==g&&(g=new a(this)),g.Fh(this.xh),this.Nc.oJ(g),g.rg&&(g.Mr(),this.AQ(this.Lq,g.Fm)));this.qS();
this.Zv?(this.Zv=!1,null==h&&(h=new l(this.g)),h.Fh(this.xh),k=this.df.oJ(h)):k=this.df.lb(k)}return this.Xn};d.prototype.gr=function(e){this.g=e;this.zh=this.g.Hd();this.hb.Ee(e.gd+32);this.Ad.Ee(e.gd);this.nh.Bt(e.gd);this.nh.hn(e.gd);this.Rd.Bt(e.gd+32);this.Rd.hn(e.gd+32);for(e=this.g.ld;-1!=e;e=this.g.ve(e))if(f.ba.Ic(this.g.jc(e)))for(q=this.g.Ob(e);-1!=q;q=this.g.Sb(q)){var g=this.g.Ka(q),h=this.g.Ya(q),k=this.$m(h),m=this.ot(h);this.jj(m,k);r=this.g.V(h);h=0;for(g-=2;h<g;h++){var n=this.g.V(r),
p=this.$m(r);this.jj(m,p);m=this.ot(r);this.jj(m,p);r=n}this.g.ec(q)?(p=this.$m(r),this.jj(m,p),m=this.ot(r),this.jj(m,p),this.jj(m,k)):(p=this.$m(r),this.jj(m,p))}else for(var q=this.g.Ob(e);-1!=q;q=this.g.Sb(q)){var r=this.g.Ya(q);k=0;for(g=this.g.Ka(q);k<g;k++)this.$m(r),r=this.g.V(r)}this.iQ()};return d}();f.LC=b})(Y||(Y={}));(function(f){var w=function(l){function c(a,b,d){var e=l.call(this)||this;if(void 0!==a)if(void 0!==d){e.description=f.ee.og();var g=new f.Od;g.L(a,b,d);e.YB(g)}else if(void 0!==
b)e.description=f.ee.og(),e.Db(a,b);else if(a instanceof f.ua)e.description=a;else if(a instanceof f.h)e.description=f.ee.og(),e.Db(a);else if(a instanceof c)e.description=a.description,e.Db(a.Ng(),a.kh()),null!==a.la&&(e.la=a.la.slice(0));else throw f.i.O();else e.description=f.ee.og();return e}Ea(c,l);c.prototype.D=function(a){if(void 0!==a){if(this.Bc())throw f.i.ga("This operation should not be performed on an empty geometry.");a.na(this.la[0],this.la[1])}else{if(this.Bc())throw f.i.ga("This operation should not be performed on an empty geometry.");
a=new f.h;a.na(this.la[0],this.la[1]);return a}};c.prototype.Db=function(a,b){"number"===typeof a?(this.wc(),null==this.la&&this.up(),this.la[0]=a,this.la[1]=b):(this.wc(),this.Db(a.x,a.y))};c.prototype.xz=function(){if(this.Bc())throw f.i.ga("This operation should not be performed on an empty geometry.");var a=new f.Od;a.x=this.la[0];a.y=this.la[1];a.z=this.description.cG()?this.la[2]:f.ua.te(1);return a};c.prototype.YB=function(a){this.wc();var b=this.hasAttribute(1);b||f.ua.xG(1,a.z)||(this.se(1),
b=!0);null==this.la&&this.up();this.la[0]=a.x;this.la[1]=a.y;b&&(this.la[2]=a.z)};c.prototype.Ng=function(){if(this.Bc())throw f.i.ga("This operation should not be performed on an empty geometry.");return this.la[0]};c.prototype.XB=function(a){this.setAttribute(0,0,a)};c.prototype.kh=function(){if(this.Bc())throw f.i.ga("This operation should not be performed on an empty geometry.");return this.la[1]};c.prototype.VJ=function(a){this.setAttribute(0,1,a)};c.prototype.VR=function(){return this.Vc(1,
0)};c.prototype.oX=function(a){this.setAttribute(1,0,a)};c.prototype.tR=function(){return this.Vc(2,0)};c.prototype.ZW=function(a){this.setAttribute(2,0,a)};c.prototype.Fc=function(){return this.sF(3,0)};c.prototype.FJ=function(a){this.setAttribute(3,0,a)};c.prototype.Vc=function(a,b){var d=this.description.Qf(a);return 0<=d?this.la[this.description.ak(d)+b]:f.ua.te(a)};c.prototype.sF=function(a,b){var d=this.description.Qf(a);return 0<=d?this.la[this.description.ak(d)+b]:f.ua.te(a)};c.prototype.setAttribute=
function(a,b,d){this.wc();var e=this.description.Qf(a);0>e&&(this.se(a),e=this.description.Qf(a));null==this.la&&this.up();this.la[this.description.ak(e)+b]=d};c.prototype.K=function(){return 33};c.prototype.Eb=function(){return 0};c.prototype.Pa=function(){this.wc();null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)};c.prototype.un=function(a){if(null!=this.la){for(var b=f.ee.Kw(a,this.description),d=[],e=0,g=0,h=a.Ba;g<h;g++){var k=a.qd(g),m=f.ua.Wa(k);if(-1==b[g]){var n=f.ua.te(k);for(k=0;k<m;k++)d[e]=
n,e++}else for(n=this.description.ak(b[g]),k=0;k<m;k++)d[e]=this.la[n],e++,n++}this.la=d}this.description=a};c.prototype.up=function(){this.fJ(this.description.Be.length);c.XD(this.description.Be,this.la,this.description.Be.length);this.la[0]=NaN;this.la[1]=NaN};c.prototype.Pc=function(a){if(a instanceof f.Ed){if(!this.Bc()){var b=this.D();a.Gh(b,b);this.Db(b)}}else this.Bc()||(this.se(1),b=this.xz(),this.YB(a.gp(b)))};c.prototype.copyTo=function(a){if(33!=a.K())throw f.i.O();a.wc();null==this.la?
(a.Pa(),a.la=null,a.kg(this.description)):(a.kg(this.description),a.fJ(this.description.Be.length),c.XD(this.la,a.la,this.description.Be.length))};c.prototype.Ja=function(){return new c(this.description)};c.prototype.B=function(){return this.Bc()};c.prototype.Bc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])};c.prototype.dn=function(a){a.Pa();this.description!=a.description&&a.kg(this.description);a.$b(this)};c.prototype.A=function(a){this.Bc()?a.Pa():(a.v=this.la[0],a.G=this.la[1],
a.C=this.la[0],a.H=this.la[1])};c.prototype.Ro=function(a){if(this.Bc())a.Pa();else{var b=this.xz();a.v=b.x;a.G=b.y;a.Xe=b.z;a.C=b.x;a.H=b.y;a.Dg=b.z}};c.prototype.Vg=function(a,b){var d=new f.Oc;if(this.Bc())return d.Pa(),d;a=this.Vc(a,b);d.pa=a;d.wa=a;return d};c.prototype.fJ=function(a){if(null==this.la)this.la=f.P.lg(a);else if(this.la.length<a){for(var b=this.la.slice(0),d=this.la.length;d<a;d++)b[d]=0;this.la=b}};c.XD=function(a,b,d){if(0<d)for(d=0;d<a.length;d++)b[d]=a[d]};c.prototype.Nb=function(a){if(a==
this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.Bc())return a.Bc()?!0:!1;for(var b=0,d=this.description.Be.length;b<d;b++)if(this.la[b]!=a.la[b])return!1;return!0};c.prototype.dc=function(){var a=this.description.dc();if(!this.Bc())for(var b=0,d=this.description.Be.length;b<d;b++){var e=this.la[b];e=f.P.truncate(e^e>>>32);a=f.P.Vh(e,a)}return a};c.prototype.mg=function(){return null};return c}(f.ba);f.Ta=w})(Y||(Y={}));(function(f){var w=function(){function l(c,
a,b){void 0!==c&&(this.x=c,this.y=a,this.z=b)}l.construct=function(c,a,b){var d=new l;d.x=c;d.y=a;d.z=b;return d};l.prototype.L=function(c,a,b){this.x=c;this.y=a;this.z=b};l.prototype.lx=function(){this.z=this.y=this.x=0};l.prototype.normalize=function(){var c=this.length();0==c&&(this.x/=c,this.y/=c,this.z/=c)};l.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};l.prototype.sub=function(c){return new l(this.x-c.x,this.y-c.y,this.z-c.z)};l.prototype.Ag=function(c){new l(this.x*
c,this.y*c,this.z*c)};l.prototype.Sh=function(c){return this.x*c.x+this.y*c.y+this.z*c.z};return l}();f.Od=w})(Y||(Y={}));(function(f){var w=function(){function l(c,a,b){this.Iw=this.xA=null;this.Yf=a;this.xT=a.y-b;this.wT=a.y+b;this.Gw=0;this.Zz=c;this.ra=b;this.JT=b*b;this.$z=0!=b;this.Nv=!1}l.prototype.result=function(){return 0!=this.Gw?1:0};l.prototype.TM=function(c){c=c.ic(c.fe(this.Yf,!1));return f.h.zc(c,this.Yf)<=this.JT?!0:!1};l.prototype.$E=function(c){if(!this.$z&&(this.Zz&&this.Yf.rb(c.ac())||
this.Yf.rb(c.xc())))this.Nv=!0;else if(c.oa==this.Yf.y&&c.oa==c.ma){if(this.Zz&&!this.$z){var a=Math.max(c.sa,c.qa);this.Yf.x>Math.min(c.sa,c.qa)&&this.Yf.x<a&&(this.Nv=!0)}}else{var b=!1;a=Math.max(c.sa,c.qa);this.Yf.x>a?b=!0:this.Yf.x>=Math.min(c.sa,c.qa)&&(b=0<c.fq(!0,this.Yf.y,this.Iw,null)&&this.Iw[0]<=this.Yf.x);if(b){if(this.Yf.y==c.ac().y){if(this.Yf.y<c.xc().y)return}else if(this.Yf.y==c.xc().y&&this.Yf.y<c.ac().y)return;this.Gw=this.Zz?this.Gw^1:this.Gw+(c.ac().y>c.xc().y?1:-1)}}};l.prototype.LI=
function(c){var a=c.Vg(0,1);if(a.pa>this.wT||a.wa<this.xT)return!1;if(this.$z&&this.TM(c))return!0;if(a.pa>this.Yf.y||a.wa<this.Yf.y)return!1;null==this.xA&&(this.xA=[null,null,null,null,null]);null==this.Iw&&(this.Iw=[0,0,0]);a=c.ZF();if(0<a)for(c=0;c<a;c++){var b=this.xA[c].get();this.$E(b);if(this.Nv)return!0}else if(this.$E(c),this.Nv)return!0;return!1};l.JM=function(c,a,b){a=new l(0==c.Jn(),a,b);for(c=c.Ha();c.ab();)for(;c.Ia();)if(b=c.ia(),a.LI(b))return-1;return a.result()};l.KM=function(c,
a,b,d){var e=new f.l;c.yc(e);e.X(d,d);var g=new l(0==c.Jn(),b,d);c=c.Ha();var h=new f.l;h.L(e);h.C=b.x+d;h.G=b.y-d;h.H=b.y+d;b=a.GF(h,d);for(d=b.next();-1!=d;d=b.next())if(c.Wb(a.ka(d)),c.Ia()&&(d=c.ia(),g.LI(d)))return-1;return g.result()};l.ym=function(c,a,b){if(c.B())return 0;var d=new f.l;c.yc(d);d.X(b,b);if(!d.contains(a))return 0;d=c.Cb;if(null!=d){var e=d.Gk;if(null!=e){e=e.To(a.x,a.y);if(1==e)return 1;if(0==e)return 0}d=d.Gb;if(null!=d)return l.KM(c,d,a,b)}return l.JM(c,a,b)};l.US=function(c,
a,b){return a.B()?0:l.ym(c,a.D(),b)};l.Ol=function(c,a){c=c.I();return 16>c?!1:2*c+Math.log(c)/Math.log(2)*a<1*c*a};return l}();f.Fg=w})(Y||(Y={}));(function(f){var w=function(l){function c(a){return l.call(this,!0,a)||this}Ea(c,l);c.prototype.Ja=function(){return new c(this.description)};c.prototype.Eb=function(){return 2};c.prototype.K=function(){return 1736};c.prototype.rG=function(a,b,d){this.CS(a,b,d)};c.prototype.jR=function(){this.zR()};return c}(f.Wk);f.Ea=w})(Y||(Y={}));(function(f){(function(w){w[w.PiPOutside=
0]="PiPOutside";w[w.PiPInside=1]="PiPInside";w[w.PiPBoundary=2]="PiPBoundary"})(f.LL||(f.LL={}));f.jd=function(){function w(){}w.EG=function(l,c,a){l=f.Fg.US(l,c,a);return 0==l?0:1==l?1:2};w.Zd=function(l,c,a){l=f.Fg.ym(l,c,a);return 0==l?0:1==l?1:2};w.OX=function(l,c,a,b,d){if(c.length<a||d.length<a)throw f.i.O();for(var e=0;e<a;e++)d[e]=w.Zd(l,c[e],b)};w.mK=function(l,c,a,b,d){if(1736==l.K())w.OX(l,c,a,b,d);else if(197==l.K()){var e=new f.l;l.A(e);w.UM(e,c,a,b,d)}else throw f.i.ga("invalid_call");
};w.UM=function(l,c,a,b,d){if(c.length<a||d.length<a)throw f.i.O();if(l.B())for(b=0;b<a;b++)d[b]=0;else for(l.X(.5*-b,.5*-b),l.X(.5*b,.5*b),b=0;b<a;b++)l.contains(c[b])?d[b]=1:l.contains(c[b])?d[b]=2:d[b]=0};w.QX=function(l,c,a,b,d){for(var e=0;e<a;e++)d[e]=l.ss(c[e],b)?2:0};w.PX=function(l,c,a,b,d){var e=l.Cb,g=null;null!=e&&(g=e.Gk);e=a;for(var h=0;h<a;h++)if(d[h]=1,null!=g){var k=c[h];0==g.To(k.x,k.y)&&(d[h]=0,e--)}if(0!=e)for(l=l.Ha();l.ab()&&0!=e;)for(;l.Ia()&&0!=e;)for(g=l.ia(),h=0;h<a&&0!=
e;h++)1==d[h]&&g.ss(c[h],b)&&(d[h]=2,e--);for(h=0;h<a;h++)1==d[h]&&(d[h]=0)};w.nK=function(l,c,a,b,d){var e=l.K();if(1607==e)w.PX(l,c,a,b,d);else if(f.ba.zd(e))w.QX(l,c,a,b,d);else throw f.i.ga("Invalid call.");};return w}()})(Y||(Y={}));(function(f){var w=function(l){function c(a,b){if(2==arguments.length){var d=l.call(this,!1,a.description)||this;d.nf(a);d.lineTo(b)}else d=l.call(this,!1,a)||this;return d}Ea(c,l);c.prototype.Ja=function(){return new c(this.description)};c.prototype.Eb=function(){return 1};
c.prototype.K=function(){return 1607};c.prototype.rG=function(a,b,d){this.DS(a,b,d)};return c}(f.Wk);f.Ua=w})(Y||(Y={}));(function(f){var w=function(){function l(){}l.prototype.progress=function(){return!0};l.Bp=function(c){if(null!=c&&!c.progress(-1,-1))throw f.i.QC();};return l}();f.np=w})(Y||(Y={}));(function(f){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(f.JK||(f.JK={}));var w=function(){function a(){this.Mg=3;this.Xu=
this.Lr=NaN}a.prototype.HW=function(b){this.KB(1,b)};a.prototype.IW=function(b){this.KB(2,b)};a.prototype.aS=function(){return this.ks(1)};a.prototype.bS=function(){return this.ks(2)};a.prototype.KB=function(b,d){this.Mg=d?this.Mg|b:this.Mg&~b};a.prototype.ks=function(b){return 0!=(this.Mg&b)};a.prototype.Pf=function(){var b=new a;b.Lr=this.Lr;b.Xu=this.Xu;b.Mg=this.Mg;return b};return a}();f.sC=w;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=
1073741824]="Dont_Adjust_At_Poles"})(f.KK||(f.KK={}));var l=function(){function a(){this.Mg=0}a.prototype.KB=function(b,d){this.Mg=d?this.Mg|b:this.Mg&~b};a.prototype.ks=function(b){return 0!=(this.Mg&b)};a.ig=function(b){var d=new a;d.Mg=b.Mg;return d};a.prototype.gM=function(b){this.Mg=b.Mg};return a}();f.sY=l;var c=function(){function a(b,d,e){this.ef=b;this.Zf=d;this.Vf=new f.l;this.Vf.L(e);this.sT=b.dc()+d.dc()+this.Vf.dc().toString()}a.prototype.dc=function(){return this.sT};a.prototype.Nb=
function(b){return this==b||this.ef.Nb(b.ef)&&this.Zf.Nb(b.Zf)&&this.Vf.Nb(b.Vf)};return a}();f.xY=c;c=function(){function a(){this.Zf=this.ef=null;this.lH=new w;this.mH=new l;this.yw=this.Xf=null;this.ow=this.Un=!0}a.Pr=function(b,d,e,g){var h;void 0===g&&(g=null);void 0===h&&(h=null);var k=new a;k.rp(b,d,e,g,h);return k};a.prototype.rp=function(b,d,e,g,h){if(null==b||null==d)throw f.i.ga("invalidArgument");this.ef=b;this.Zf=d;this.ow=this.Un=!1;null!=g&&(this.lH=g.Pf());null!=h&&this.mH.gM(h);h=
!1;1==d.Tb()&&null!=g&&(g=g.Lr,isNaN(g)||0==g||(h=!0));if(b==d)this.Un=!h,this.ow=!0;else{g=b.Tb();var k=d.Tb();if(0==g||0==k){if(null!=e)throw f.i.O();null!=b.Id()&&null!=d.Id()&&(this.Un=b.Id().Nb(d.Id()))}else 3==g||3==k?this.Un=b.Nb(d):this.ef.dS(this.Zf)?this.Un=!h:this.Un=!1,this.Xf=e,null!=this.Xf&&this.Xf.ix(),this.ow=(null==this.Xf||0==this.Xf.count())&&this.ef.tc().Nb(this.Zf.tc())}this.gY()};a.prototype.isIdentity=function(){return this.Un};a.prototype.hR=function(){return this.lH.Pf()};
a.prototype.Nb=function(b){return b==this?!0:b instanceof a&&this.ef.Nb(b.ef)&&this.Zf.Nb(b.Zf)?this.Xf==b.Xf?!0:null!=this.Xf&&null!=b.Xf&&this.Xf.Nb(b.Xf)?!0:!1:!1};a.prototype.gY=function(){this.yw=new f.du(this)};return a}();f.xr=c})(Y||(Y={}));(function(f){var w=function(){function l(){}l.Ep=function(c){return c*l.gW};l.mx=function(c,a){return l.aP(a-c)};l.bP=function(c){if(-360<=c&&720>c)return 0>c?c+=360:360<=c&&(c-=360),c;c=f.mc.LK(c);0>c&&(c+=360);return c};l.aP=function(c){c=l.bP(c);180<
c&&(c-=360);return c};l.gW=57.29577951308232;return l}();f.sr=w;f.Jh=function(){function l(){}l.nj=function(c,a){var b=new f.l;c.A(b);var d=f.cb.ih(a),e=new f.l;e.L(d);e.v=b.v;e.C=b.C;e.X(.01*e.da(),0);a=f.ta.Xd(a,b,!1);return e.contains(b)?c:f.Vd.clip(c,e,a,0)};l.ms=function(c,a,b,d,e){if(!f.cb.Xc(a))throw f.i.O();var g=f.ta.mj(a,c,!1),h=f.cb.ih(a),k=f.cb.tc(a),m=k.Id().ci,n=f.cb.xv(k);k=f.cb.gv(k);n*=2-n;var p=new f.Oc;h.en(p);var q=[[0,0],[0,0]];2==f.Gg.Tb(a)?d?(q[0][0]=l.an(e,p),q[0][1]=h.Lp(),
f.cb.wt(),h=q[0][0]*m):(q[0][0]=h.hk(),q[0][1]=e,f.cb.wt(),h=q[0][1]*m):h=e*m;if(!d&&0!=h)throw f.i.O();var r=new f.ha,v=new f.hd;c=v.Ib(c);for(var G=[0],S=new f.h,X=new f.h,V=new f.h,Z=new f.h,ia=new f.h,ja=new f.h,ma=v.Ob(c);-1!=ma;ma=v.Sb(ma)){var sa=v.Ya(ma);v.D(sa,V);for(var va=!1,Aa=sa=v.V(sa);-1!=Aa;Aa=v.V(Aa)){if(Aa==sa){if(va)break;va=!0}v.D(Aa,Z);if(d&&g<e-V.x&&Z.x-e>g||g<e-Z.x&&V.x-e>g||!d&&g<-V.y&&Z.y>g||g<-Z.y&&V.y>g){do if(!(Math.abs(V.x-Z.x)>=.5*p.S())){2==f.Gg.Tb(a)?(q[0][0]=l.an(V.x,
p),q[0][1]=V.y,q[1][0]=l.an(Z.x,p),q[1][1]=Z.y,f.cb.WV(),ia.x=q[0][0]*m,ia.y=q[0][1]*m,ja.x=q[1][0]*m,ja.y=q[1][1]*m):(ia.x=V.x*m,ia.y=V.y*m,ja.x=Z.x*m,ja.y=Z.y*m);ja.x=6.283185307179586*(Z.x-V.x)/p.S()+ia.x;if(d){if(X.x=h,X.y=l.Iz(k,n,ia,ja,h,b),isNaN(X.y))break}else{X.x=l.Gz(k,n,ia,ja,b);if(isNaN(X.x))break;X.y=0}f.kb.xd(k,n,ia.x,ia.y,ja.x,ja.y,r,null,null,b);var za=r.u;f.kb.xd(k,n,ia.x,ia.y,X.x,X.y,r,null,null,b);var Oa=r.u;2==f.Gg.Tb(a)?(q[0][0]=X.x/m,q[0][1]=X.y/m,f.cb.WQ(),d?(S.y=q[0][1],S.x=
e):(S.x=l.qs(q[0][0],V.x,Z.x,p),S.y=e)):d?(S.x=e,S.y=X.y/m):(S.x=l.qs(X.x/m,V.x,Z.x,p),S.y=e);G[0]=0<za?f.P.Sk(Oa/za,0,1):.5;0!=G[0]&&1!=G[0]&&(za=v.Na(Aa),v.Wl(za,G,1),v.Db(v.V(za),S.x,S.y))}while(0)}V.N(Z)}}return v.Ke(c)};l.Gn=function(c,a,b,d,e){if(c.B())return c;var g=f.cb.bf(a);return l.Jp(c,b-180*g,360*g,a,d,e,!0)};l.Iz=function(c,a,b,d,e,g){if(3.141592653589793<=Math.abs(b.x-d.x)||!l.Tn(b.x,d.x,e))return NaN;if(b.x>d.x)var h=d;else h=b,b=d;d=new f.ha(0);var k=new f.ha(0),m=new f.ha(0);f.kb.xd(c,
a,h.x,h.y,b.x,b.y,k,d,null,g);var n=k.u,p=0,q=1,r=new f.h;for(r.N(h);n*(q-p)>1E-12*c;){var v=.5*(p+q);f.kb.qj(c,a,h.x,h.y,n*v,d.u,k,m,g);r.x=k.u;r.y=m.u;if(r.x==e)break;if(l.Tn(h.x,r.x,e))q=v;else if(l.Tn(b.x,r.x,e))p=v;else return NaN}return r.y};l.Tn=function(c,a,b){c=w.Ep(c);a=w.mx(c,w.Ep(a));b=w.mx(c,w.Ep(b));return 0==b||0<a&&0<b&&b<=a||0>a&&0>b&&b>=a?!0:!1};l.an=function(c,a){var b=a.wa-a.pa;return a.Kt(c-Math.floor((c-a.pa)/b)*b)};l.qs=function(c,a,b,d){var e=new f.Oc;e.L(a,b);b=d.S();c=Math.floor((c-
a)/b)*b+c;for(e=e.tf();Math.abs(c-e)>Math.abs(c+b-e);)c+=b;return c};l.Gz=function(c,a,b,d,e){if(b.y>d.y)var g=d;else g=b,b=d;d=new f.Oc;d.L(g.y,b.y);if(!d.contains(0)||3.141592653589793<=Math.abs(g.x-b.x))return NaN;if(g.x==b.x)return g.x;var h=new f.ha(0),k=new f.ha(0),m=new f.ha(0);f.kb.xd(c,a,g.x,g.y,b.x,b.y,k,h,null,e);var n=k.u,p=0,q=1,r=new f.h;for(r.N(g);n*(q-p)>1E-12*c;){var v=.5*(p+q);f.kb.qj(c,a,g.x,g.y,n*v,h.u,k,m,e);r.x=k.u;r.y=m.u;d.L(g.y,r.y);if(0==r.y)break;if(d.contains(0))q=v;else if(d.L(b.y,
r.y),d.contains(0))p=v;else return NaN}return r.x};l.Jp=function(c,a,b,d,e,g,h){var k=new f.l;c.A(k);if(k.B())return c;var m=new f.Oc;k.en(m);var n=new f.Oc;n.L(a,a+b);if(n.contains(m)&&n.wa!=m.wa)return c;var p=new f.l;p.L(k);var q=c.K();if(33==q){p=e?c:c.Pf();k=p.Ng();if(k<n.pa||k>=n.wa||h&&k==n.wa)k+=Math.ceil((n.pa-k)/b)*b,k=n.Kt(k),p.XB(k);return p}if(550==q){p=e?c:c.Pf();d=p.vb(0);q=2*p.I();c=!1;for(e=0;e<q;e+=2)if(k=d.read(e),k<n.pa||k>=n.wa||h&&k==n.wa)c=!0,k+=Math.ceil((n.pa-k)/b)*b,k=n.Kt(k),
d.write(e,k);c&&p.Qc(1993);return p}if(n.contains(m))return c;if(197==q)return b=e?c:c.Pf(),k.Fa(p),b.Yo(k),b;var r=.1*Math.max(k.da(),k.S());p.X(0,r);h=c;n=d.Yd(0);c=f.Ih.local();e=new f.Ed;for(var v=0;;){var G=Math.floor((m.pa-a)/b),S=Math.ceil((m.wa-a)/b);if(3<S-G){G=Math.floor(.5*(S+G));p.v=k.v-r;p.C=a+b*G;var X=f.Vd.clip(h,p,n,g);p.v=p.C;p.C=k.C+r;var V=f.Vd.clip(h,p,n,g);e.gg((G-S)*b,0);V.Pc(e);1736==q?h=c.W(X,V,d,null):(h=X,h.add(V,!1));h.A(k);k.en(m);v++}else break}p.v=a;p.C=a+b;a=new f.l;
a.L(p);a.X(n,0);a=Math.floor((k.v-p.v)/b)*b;0!=a?(p.move(a,0),e.gg(-a,0)):e.LB();a=1607==q?new f.Ua(h.description):new f.Ea(h.description);g=new f.l;for(m=new f.l;k.C>p.v;){r=f.Vd.clip(h,p,n,0);r.A(m);if(1607==q?!r.B()&&(m.S()>n||m.da()>n):!r.B()&&(1736!=q||m.S()>n))r.Pc(e),r.A(m),a.A(g),g.X(n,n),g.isIntersecting(m)&&1736==q?a=c.W(a,r,d,null):a.add(r,!1);p.move(b,0);e.shift(-b,0)}return a};l.QI=function(c,a,b,d){var e=new f.de(b.description);e.Gd(b,0,-1);e=f.cb.Bh(e,c,a);var g=b.I();d.Pa();if(!f.cb.Xc(c)||
g!=e.I())return!1;var h=new f.l;b.A(h);var k=new f.l;e.A(k);h=h.S();k=k.S();if(0!=h&&0!=k){if(k/=h,c=f.cb.ih(a).S()/f.cb.ih(c).S(),1E-10<Math.abs(k/c-1))return!1}else if(0!=h||0!=k)return!1;d.add(b,!1);for(b=0;b<g;b++)c=e.Oa(b),d.Db(b,c);return!0};l.Jz=function(){throw f.i.Fe();};return l}()})(Y||(Y={}));(function(f){var w;(function(c){c[c.Clip=0]="Clip";c[c.DontClip=1]="DontClip";c[c.PannableFold=2]="PannableFold"})(w=f.ui||(f.ui={}));var l;(function(c){c[c.Geodesic=0]="Geodesic";c[c.Loxodrome=1]=
"Loxodrome";c[c.GreatElliptic=2]="GreatElliptic";c[c.NormalSection=3]="NormalSection";c[c.ShapePreserving=4]="ShapePreserving"})(l=f.QK||(f.QK={}));f.Ab=function(){function c(){}c.zv=function(a,b,d){if(d||0<b){a=a.toString(f.Tc.PE_STR_NAME_CANON|f.Tc.PE_STR_AUTH_NONE);b=[];for(d=0;d<a.length;d++)b[d]="a"<=a[d]&&"z">=a[d]?b[d]=a[d].toUpperCase():a[d];return b.join()}return a.toString(f.Tc.PE_STR_AUTH_TOP)};c.wr=function(a,b,d,e){var g=e.length,h=d.I();if(0!=h){var k=d.vb(0),m=Math.min(h,g),n=0,p=a.gh();
isNaN(b)&&(b=0);var q=a.Xc();a=q?a.tc().Le().S():0;for(var r=179*a/360;0<h;){k.oB(n<<1,m,e);f.gj.projToGeogCenter(p,m,e,b);if(q)for(var v=0;v<m;v++){var G=e[v][0]-b,S=f.mc.sign(G),X=k.read(2*(n+v));0>S*f.mc.sign(X)&&Math.abs(G)>r&&(e[v][0]+=-S*a)}k.oC(n<<1,m,e);n+=m;h-=m;m=Math.min(h,g)}d.Qc(1993)}};c.CL=function(a,b,d,e){var g=0,h=a.gh();isNaN(g)&&(g=0);var k=a.Xc(),m=a.bf();a=360*m;m*=179;for(var n=e.length,p=0;p<d;){for(var q=p;q<d&&b[q].isNaN();++q)p++;var r=Math.min(n,d-p);if(0<r){q=1;for(var v=
p+1;q<r;++q,++v)if(b[v].isNaN()){r=q;break}f.ta.Ey(e,b,p,r);f.gj.projToGeogCenter(h,r,e,g);if(k)for(q=0,v=p;q<r;++q,++v){var G=b[v].x,S=e[q][0]-g,X=f.mc.sign(S);0>X*f.mc.sign(G)&&Math.abs(S)>m&&(e[q][0]-=X*a)}f.ta.Dy(b,p,e,r);p+=r}}};c.Kx=function(a,b,d){var e=d.length,g=b.I();if(!(1>g)){var h=b.vb(0),k=Math.min(g,e),m=0,n=a.gh(),p=a.Xc(),q=p?a.Le().S():0,r=179*q/360,v=0;for(p&&(v=a.Bi());0<g;){h.oB(m<<1,k,d);f.gj.geogToProj(n,k,d);if(p)for(a=0;a<k;a++){var G=d[a][0],S=f.mc.sign(G),X=h.read(2*(m+
a))-v;0>S*f.mc.sign(X)&&Math.abs(G)>r&&(d[a][0]+=-S*q)}h.oC(m<<1,k,d);m+=k;g-=k;k=Math.min(g,e)}b.Qc(1993)}};c.BL=function(a,b,d,e){if(0!=d){var g=a.gh(),h=a.Xc(),k=h?a.Le().S():0,m=179*k/360,n=0;h&&(n=a.Bi());for(a=0;a<d;){for(var p=a;p<d&&b[p].isNaN();++p)a++;var q=Math.min(e.length,d-a);if(0<q){p=1;for(var r=a+1;p<q;++p,++r)if(b[r].isNaN()){q=p;break}f.ta.Ey(e,b,a,q);f.gj.geogToProj(g,q,e);if(h)for(p=0,r=a;p<q;p++){var v=e[p][0],G=f.mc.sign(v);0>G*f.mc.sign(b[r].x-n)&&Math.abs(v)>m&&(e[p][0]-=
G*k)}f.ta.Dy(b,a,e,q);a+=q}}}};c.vr=function(a,b,d,e){var g=b.I();if(0!=g){var h=b.vb(0),k=a.ef,m=a.Zf,n=k.tc().Sp(),p=m.tc().Sp(),q=k.bf(),r=m.bf();a=a.Xf;if(null==a||0==a.count()){d=n/p;e=(k.Wp()-m.Wp())*r;p=-90*q;a=90*q;n=!1;r=1;for(k=2*g;r<k;)q=h.get(r),m=f.P.Sk(q,p,a),m!=q&&(h.set(r,m),n=!0),r+=2;if(0!=e||1!=d)for(n=!0,p=new f.h,r=0;r<g;r++)h.uc(2*r,p),p.x*=d,p.x+=e,p.y*=d,h.Vt(2*r,p);n&&b.Qc(1993)}else{k=e.length;m=Math.min(g,k);var v=f.P.lg(m),G=null,S=0,X=NaN,V=NaN,Z=360*r,ia=r/q;d&&(V=90*
r,X=89.9*q,G=f.P.lg(m));for(var ja=!0,ma=0;0!=g;){q=!1;h.oB(S<<1,m,e);for(r=0;r<m;r++)v[r]=e[r][0];if(d)for(r=0;r<m;r++){var sa=Math.abs(e[r][1])-X;0<sa&&(q=e[r][1],e[r][1]=f.mc.Dn(X,q),G[r]=f.mc.Dn(sa,q),q=!0)}r=e[0][0];a.transform(e,m,n,p);ja&&(ma=e[0][0]-ia*r,ja=!1);for(r=0;r<m;r++)sa=e[r][0]-v[r]*ia-ma,200<Math.abs(sa)&&(e[r][0]=0<sa?e[r][0]-Z:e[r][0]+Z);if(q){for(r=0;r<m;r++)0!=G[r]&&(e[r][1]+=ia*G[r],e[r][1]>V?e[r][1]=V:e[r][1]<-V&&(e[r][1]=-V));for(q=0;q<m;q++)G[q]=0}h.oC(S<<1,m,e);S+=m;g-=
m;m=Math.min(g,k)}b.Qc(1993)}}};c.AL=function(a,b,d,e){if(a.ow)e=90*a.ef.bf(),f.ta.YJ(b,d,-e,e);else{var g=a.Xf,h=a.ef,k=a.Zf;a=h.Zr();var m=k.Zr(),n=h.bf(),p=90*n,q=k.bf();if(null==g||0==g.count()){if(e=a/m,g=(h.Wp()-k.Wp())*q,f.ta.YJ(b,d,-p,p),0!=g||1!=e)for(q=0;q<d;q++)b[q].x*=e,b[q].x+=g,b[q].y*=e}else{h=Math.min(d,e.length);p=f.P.lg(h);k=360*q;n=q/n;for(var r=!0,v=0,G=0;0!=d;){for(q=0;q<h;q++)p[q]=b[q+G].x;q=b[0].x;f.ta.Ey(e,b,G,h);g.transform(e,h,a,m);f.ta.Dy(b,G,e,h);r&&(v=b[0].x-n*q,r=!1);
for(q=0;q<h;q++){var S=b[G+q].x-p[q]*n-v;200<Math.abs(S)&&(b[G+q].x=0<S?b[G+q].x-k:b[G+q].x+k)}G+=h;d-=h;h=Math.min(d,e.length)}}}};c.fv=function(a,b){a=a.ih();isNaN(b)||a.Lu(b,0);return a};c.OQ=function(a,b,d,e,g,h,k,m){for(var n=c.fv(e,g),p=n.S(),q=p/360,r=c.jE*q,v=a.vb(0),G=b.Xc(),S=G?p/b.Le().S():0,X=!1,V=new f.Ea(d.description),Z=0,ia=d.ea();Z<ia;++Z){var ja=G,ma=new f.Ua(d.description);ma.addPath(d,Z,!0);if(0!=k){var sa=c.JD(!0,ma,n.H-m,n.H,k);(X=X||sa)&&(ja=!1)}var va=-1;ja&&(va=a.Ca(Z));var Aa=
ma.vb(0),za=ma.I(),Oa=0,Ma=Aa.read(0),Sa=0;sa=3*e.Yd(0);var Ta=!1,Ya=new f.h;Ya.Sc();var ab=new f.h;ab.Sc();for(var fb=!1,db=1;db<za;++db){var Xa=f.h.construct(Aa.Bg(2*db),Aa.Bg(2*db+1)),Za=Xa.x,Wa=Za+Oa,eb=Wa-Ma;Xa.x=Wa;if(Math.abs(eb)>r){if(ja){var cb=va+(db+1<za?db:0),hb=v.read(2*(va+db-1));cb=(v.read(2*cb)-hb)*S;Math.abs(eb-cb)>1*q&&(ja=!1)}ja||(Oa-=f.mc.Dn(p,Wa-Ma),Wa=Za+Oa,++Sa,fb=0!=Oa,Xa.x=Wa)}else Ta||f.ta.uG(ab,Ya,Xa,sa)&&(Ta=!0);fb&&Aa.write(2*db,Wa);Ma=Wa;ab.N(Ya);Ya.N(Xa)}0<Sa&&ma.Qc(1993);
ja=ma.Oa(0);za=ma.Oa(za-1);ma=f.h.ub(ja,za)<sa?c.oQ(ma,e,g,h,Ta):c.pQ(a,Z,ma,e,g);V.add(ma,!1)}g=e.Yd(0);d=n.S()/180;c.Lt(V,n,.1*g,!1);g=f.ti.clip(V,n,g,d,h);V=V!=g;a=a.He();m=g.He();k=0;0<m&&0>a?k=1:0>=m&&0<a&&(0==m?(m=NaN,2==b.Tb()?m=b.ol().He():1==b.Tb()&&(m=b.Le().qF()),a>.99*m&&(k=-1)):k=-1);0!=k&&(b=new f.Ea(g.description),b.vp(n),b=f.Zl.local().W(b,d,h),b.add(g,!1),V=!0,g=b);V&&(g=f.$l.local().W(g,e,!1,h));return g};c.pQ=function(a,b,d,e,g){var h=d.I(),k=d.Oa(0),m=d.Oa(h-1);e=c.fv(e,g);g=e.S();
k=f.mc.sign(m.x-k.x);var n=new f.l;d.yc(n);var p=e.hk();m=p-g;p+=g;if(0<=k){var q=Math.ceil((m-n.v)/g);for(q*=g;m>n.v+q;)q+=g;for(;m<n.C+q;)q-=g;var r=q;720<n.S()&&(p=m+360*Math.ceil(n.S()/360))}else{q=Math.ceil((p-n.C)/g);for(q*=g;p<n.C+q;)q-=g;for(;p>n.v+q;)q+=g;r=q;720<n.S()&&(m=p-360*Math.ceil(n.S()/360))}q=k*g;var v=f.l.construct(n.v,n.G,n.C,n.H);v.move(r,0);var G=new f.Ed;G.gg(r,0);d.Pc(G);n=new f.Ua(d.description);n.add(d,!1);r=d.Oa(h-1);g=0;for(var S=n.Oa(0).x,X=0;0<k?v.C<p:v.v>m;)1024<=X&&
(X=0),v.move(q,0),G.Lb=q,d.Pc(G),S+=q,e.v<=S&&e.C>=S&&(g=n.I()-1),d.Db(0,r),r=d.Oa(h-1),n.Fr(d,0,0,h-1,!1);d=new f.Ea(n.description);h=0<a.Kr(b);d.add(n,!1);a=n.Oa(0);m=n.Oa(n.I()-1);b=d.ea()-1;(0>k?h:!h)?(k=f.h.construct(m.x,e.H),d.Ei(k),k=f.h.construct(e.hk(),e.H),d.Ei(k),e=f.h.construct(a.x,e.H)):(k=f.h.construct(m.x,e.G),d.Ei(k),k=f.h.construct(e.hk(),e.G),d.Ei(k),e=f.h.construct(a.x,e.G));d.Ei(e);d.rG(0,b,0);d.eO(g);return d};c.oQ=function(a,b,d,e,g){var h=new f.Ea(a.description);h.add(a,!1);
h.xB(0,h.I()-1);var k=new f.l;h.yc(k);d=c.fv(b,d);var m=d.S(),n=Math.ceil((d.v-k.v)/m);for(n*=m;d.v>k.v+n;)n+=m;for(;d.v<k.C+n;)n-=m;n+=m;if(0!=n){k.move(n,0);var p=new f.Ed;p.gg(n,0);h.Pc(p)}if(d.v<=k.v&&d.C>k.C)return g&&(g=h.He(),h=f.$l.local().W(h,b,!0,e),b=h.He(),(b=f.mc.sign(g)!=f.mc.sign(b))&&h.iJ()),h;a=new f.Ea(a.description);a.add(h,!1);for(g=g||k.S()>m-b.Yd(0);k.v<d.C;)k.move(m,0),p=new f.Ed,p.gg(m,0),h.Pc(p),a.add(h,!1);g&&(g=a.He(),a.Zo(1),a=f.$l.local().W(a,b,!0,e),b=a.He(),(b=f.mc.sign(g)!=
f.mc.sign(b))&&a.iJ());return a};c.JD=function(a,b,d,e,g){for(var h=b.vb(0),k=b.I(),m=!1,n=0;n<k;n++){var p=f.h.construct(h.Bg(2*n),h.Bg(2*n+1));if(0!=(g&1)&&p.y>=d){m=!0;break}if(0!=(g&2)&&p.y<=-d){m=!0;break}}if(!m)return!1;h=!1;a&&(h=b.On(0));a=new f.hd;k=a.Ib(b);m=a.Ob(k);var q=-1,r=!0,v=new f.h;v.Sc();n=new f.Ta;for(var G=-1,S=a.Ya(m);-1!=S;S=a.V(S)){p=a.Oa(S);var X=0!=(g&1)&&90<=p.y?1:0;X|=0!=(g&2)&&p.y<=-d?2:0;if(0<q&&q!=X){if(v.x!=p.x){v.x=p.x;a.Xi(a.Na(S),n);var V=a.yj(m,S,n);a.mf(V,v)}if(h)for(G=
-1!=G?a.V(G):a.Ya(m),V=a.Na(S);G!=V;)G=a.pd(G,!1);G=-1}0<X&&(p.y=f.mc.Dn(e,p.y),a.mf(S,p),r||q==X||(p.x!=v.x?(a.Xi(S,n),V=a.yj(m,S,n),a.Db(V,v.x,p.y),G=V):G=S));q=X;v=p;r=!1}if(h){if(-1!=G)for(G=a.V(G);-1!=G;)G=a.pd(G,!1);d=a.Ya(m);a.hq(d,a.tj(m))||(a.Xi(d,n),a.yj(m,-1,n))}a.Ke(k).copyTo(b);return!0};c.Hz=function(a,b,d,e){var g=a;if(g.B()||d==w.DontClip)return g;var h=g.K();if(33==h)return e=g,g=[e.D()],c.sG(g,1,b,d),g[0].isNaN()?e.Pa():e.Db(g[0]),a;a=b.tc();var k=a.bf(),m=90*k,n=180*k,p=360*k,q=
b.Bi(),r=.5*k,v=new f.l;g.A(v);var G=b.Xr(),S=b.JQ(),X=197==G.K();b=new f.l;G.A(b);d==w.PannableFold&&(d=a.Le().S(),b.v=q-.5*d,b.C=b.v+d);if(v.G<-m||v.H>m){(new f.l).L(v.v-k,-m,v.C+k,m);g=f.ti.Pu(g,b,a,NaN,0,e);if(g.B())return g;g.A(v)}if(S&&(b.H<v.G||b.G>v.H))return g.Ja();v.S()>p&&(g=c.Jp(g,q-n,p,a,!0,0,!0,e),g.A(v));m=c.ZN(v.v,v.C,b.v,b.C,p);0!=m&&v.move(m,0);if(v.C>b.C||v.v<b.v){if(v.C>b.C)for(;v.v>=b.C;)v.move(-p,0),m-=p;for(;v.v<b.C-p;)v.move(p,0),m+=p}d=f.ta.Ju(a,G);0!=m&&(k=new f.Ed,k.gg(m,
0),g.Pc(k));if(S){if(X&&b.contains(v))return g;S=[null,null];for(m=0;2>m;m++){X?k=f.ba.Ic(h)?f.ti.clip(g,b,d,r,e):f.ti.clip(g,b,d,0,e):(k=f.Xk.local().W(g,G,a,e),k==G&&(k=f.ba.ig(k)));if(b.v<=v.v&&b.C>=v.C||b.v>=v.v&&b.C<=v.C)return k;S[m]=k;0==m&&(v.move(-p,0),k=new f.Ed,k.gg(-p,0),g.Pc(k))}if(550==h)S[0].Gd(S[1],0,-1);else if(f.ba.Ic(h))S[0].add(S[1],!1);else if(33==h)S[0].B()&&(S[0]=S[1]);else throw f.i.ga("intersect_with_GCS_horizon: unexpected geometry type");return S[0]}if(b.H<v.G||b.G>v.H)return g;
for(h=0;!g.B()&&v.C>b.v;)0!=h&&(k=new f.Ed,k.gg(h,0),g.Pc(k)),f.fj.local().W(4,g,G,a,e)||(g=f.lp.local().W(g,G,a,e),G==g&&(g=f.ba.ig(g))),0!=h&&(r=new f.Ed,r.gg(-h,0),g.Pc(r)),h-=p,v.move(-p,0);return g};c.sG=function(a,b,d,e){if(0!=b&&e!=w.DontClip)if(e==w.PannableFold){e=d.BR();for(var g=b,h=0;h<b;h++)if(a[h].y>e.H||a[h].y<e.G)a[h].Sc(),g--;0!=g&&c.cv(a,b,e.v,e.S())}else{e=d.bf();var k=90*e,m=180*e;e*=360;g=b;for(h=0;h<b;h++)if(a[h].y>k||a[h].y<-k)a[h].Sc(),g--;if(0!=g){g=new f.l;g.bx(a,b);k=d.Xr();
var n=d.kv();h=197==k.K();var p=new f.l;k.A(p);if(!n||!(p.H<g.G||p.G>g.H))if(n)if(c.cv(a,b,p.hk()-m,e),g=b,h)for(h=0;h<b;h++)p.contains(a[h])||(a[h].Sc(),g--);else for(d=f.ta.Ju(d.tc(),k),h=0;h<b;h++)(m=0!=f.jd.Zd(k,a[h],d))||(a[h].Sc(),g--);else for(c.cv(a,b,-m,e),g=b,d=f.ta.Ju(d.tc(),k),h=0;h<b;h++)if(m=a[h],m.isNaN()&&g--,n=c.nE(m.x,p.v,p.C,e),m.x+=n,m=0!=f.jd.Zd(k,m,d))a[h].Sc(),g--}}};c.Jp=function(a,b,d,e,g,h,k,m){var n=a.K(),p=b+d;if(33===n){e=g?a:a.Pf();var q=e.Ng();if(q<b||q>=p||k&&q==p)q+=
Math.ceil((b-q)/d)*d,q=f.P.Sk(q,b,p),e.XB(q);return e}if(a.B())return a;q=new f.l;a.A(q);if(q.B())return a;var r=new f.Oc;q.en(r);var v=new f.Oc;v.L(b,p);if(v.contains(r))return a;p=new f.l;p.L(q);if(550===n){e=g?a:a.Pf();m=e.vb(0);n=2*e.I();p=!1;for(b=0;b<n;b+=2)if(q=m.read(b),q<v.pa||q>=v.wa||k&&q==v.wa)p=!0,q+=Math.ceil((v.pa-q)/d)*d,q=v.Kt(q),m.write(b,q);p&&e.Qc(1993);return e}if(197==n)return d=g?a:a.Pf(),q.Fa(p),d.Yo(q),d;var G=.1*Math.max(q.da(),q.S());p.X(0,G);k=a;v=e.Yd(0);a=f.Ih.local();
for(g=new f.Ed;;){var S=Math.floor((r.pa-b)/d),X=Math.ceil((r.wa-b)/d);if(3<X-S){S=Math.floor(.5*(X+S));p.v=q.v-G;p.C=b+d*S;var V=f.ti.clip(k,p,v,h,m);p.v=p.C;p.C=q.C+G;var Z=f.ti.clip(k,p,v,h,m);g.gg((S-X)*d,0);Z.Pc(g);1736==n?k=a.W(V,Z,e,null):(k=V,k.add(Z,!1));k.A(q);q.en(r)}else break}p.v=b;p.C=b+d;b=new f.l;b.L(p);b.X(v,0);b=Math.floor((q.v-p.v)/d)*d;0!=b?(p.move(b,0),g.gg(-b,0)):g.LB();b=1607==n?new f.Ua(k.description):new f.Ea(k.description);h=new f.l;for(r=new f.l;q.C>p.v;){G=f.ti.clip(k,
p,v,0,m);G.A(r);if(1607==n?!G.B()&&(r.S()>v||r.da()>v):!G.B()&&(1736!=n||r.S()>v))G.Pc(g),G.A(r),b.A(h),h.X(v,v),h.isIntersecting(r)&&1736==n?b=a.W(b,G,e,null):b.add(G,!1);p.move(d,0);g.shift(-d,0)}return b};c.cv=function(a,b,d,e){for(var g=d+e,h=0;h<b;h++){var k=a[h].x;d<=k&&k<g||!(k<d||k>g||k==g)||(k+=Math.ceil((d-k)/e)*e,k=f.P.Sk(k,d,g),a[h].x=k)}};c.Gn=function(a,b,d,e,g,h){if(!b.Xc())throw f.i.ga("fold_into_360_degree_range");if(a.B())return a;if(2==b.Tb()){d=b.rv();var k=b.qv()-d}else{var m=
b.bf();k=360*m;d-=180*m}return c.Jp(a,d,k,b,e,g,!0,h)};c.kF=function(a,b,d,e){if(2==d.Tb())e=d.rv(),d=d.qv()-e;else{var g=d.bf();d=360*g;e-=180*g}c.cv(a,b,e,d)};c.nj=function(a,b){var d=b.Le();if(33==a.K()){var e=a.kh();return d.G<=e&&e<=d.H?a:a.Ja()}e=new f.l;a.A(e);var g=new f.l;g.L(d);g.v=e.v;g.C=e.C;g.X(.01*g.da(),0);d=f.ta.py(b,e);return g.contains(e)?a:f.ti.clip(a,g,d,0,null)};c.kr=function(a,b,d){return a>b.C&&a-b.C<d?b.C:a<b.v&&b.v-a<d?b.v:a};c.xX=function(a,b,d,e){e.x=c.kr(a.x,b,d);e.y=a.y};
c.wX=function(a,b,d,e){for(var g=0;g<b;g++)a[g].y<d.G||a[g].y>d.H?a[g].Sc():a[g].x=c.kr(a[g].x,d,e)};c.Lt=function(a,b,d,e){if(!a.B()){var g=a.K();if(!e||1736!=g)if(f.ba.zj(g)){e=a.vb(0);g=0;for(var h=a.I();g<h;g++){var k=e.read(2*g),m=c.kr(k,b,d);m!=k&&e.write(2*g,m)}a.Qc(1993)}else if(197==g)e=new f.l,a.A(e),e.v=c.kr(e.v,b,d),e.C=c.kr(e.C,b,d),a.Yo(e);else if(33==g)a.XB(c.kr(a.Ng(),b,d));else throw f.i.ga("internal error");}};c.nS=function(a,b,d,e){var g=new f.hd,h=g.Ib(a);a=f.ta.Ju(b,a);c.ms(g,
h,b,a,d,!0,e);return g.Ke(h)};c.ms=function(a,b,d,e,g,h,k){if(!d.Xc())throw f.i.O("invalid call");var m=d.Le(),n=d.tc(),p=n.gh().getDatum().getSpheroid();n=n.Id().ci;var q=p.getFlattening();p=p.getAxis();q*=2-q;var r=new f.Oc;m.en(r);var v=null,G=[[0,0],[0,0]];2==d.Tb()?(v=d.gh(),h?(G[0][0]=c.an(k,r),G[0][1]=m.Lp(),f.gj.projToGeog(v,1,G),m=G[0][0]*n):(G[0][0]=m.hk(),G[0][1]=k,f.gj.projToGeog(v,1,G),m=G[0][1]*n)):m=k*n;if(!h&&0!=m&&g!=l.GreatElliptic)throw f.i.ga("invalid argument");var S=new f.ha,
X=[0],V=new f.h,Z=new f.h,ia=new f.h,ja=[null,null],ma=new f.h,sa=new f.h,va=new f.h,Aa=new f.h;for(b=a.Ob(b);-1!=b;b=a.Sb(b)){var za=a.Ya(b);a.D(za,ma);for(var Oa=!1,Ma=za=a.V(za);-1!=Ma;Ma=a.V(Ma)){if(Ma==za){if(Oa)break;Oa=!0}a.D(Ma,sa);if(h&&(e<k-ma.x&&sa.x-k>e||e<k-sa.x&&ma.x-k>e)||!h&&(0!=k||e<-ma.y&&sa.y>e||e<-sa.y&&ma.y>e)){do if(!(Math.abs(ma.x-sa.x)>=.5*r.S())){2==d.Tb()?(G[0][0]=c.an(ma.x,r),G[0][1]=ma.y,G[1][0]=c.an(sa.x,r),G[1][1]=sa.y,f.gj.projToGeogCenter(v,2,G,0),va.x=G[0][0]*n,va.y=
G[0][1]*n,Aa.y=G[1][1]*n):(va.x=ma.x*n,va.y=ma.y*n,Aa.y=sa.y*n);Aa.x=2*(sa.x-ma.x)*Math.PI/r.S()+va.x;if(h){Z.x=m;Z.y=c.Iz(p,q,va,Aa,m,g);if(isNaN(Z.y))break;ja[0]=Z;var Sa=1}else if(g==l.GreatElliptic){var Ta=[0,0];Sa=f.Nx.Jz(q,va,Aa,m,Ta);if(0==Sa)break;Z.x=Ta[0];Z.y=m;ja[0]=Z;2==Sa&&(ia.x=Ta[1],ia.y=m,ja[1]=ia)}else{Z.x=c.Gz(p,q,va,Aa,g);if(isNaN(Z.x))break;Z.y=0;ja[0]=Z;Sa=1}var Ya=-1;for(Ta=0;Ta<Sa;Ta++){f.kb.xd(p,q,va.x,va.y,Aa.x,Aa.y,S,null,null,g);var ab=S.u;f.kb.xd(p,q,va.x,va.y,ja[Ta].x,
ja[Ta].y,S,null,null,g);var fb=S.u;2==d.Tb()?(G[0][0]=ja[Ta].x/n,G[0][1]=ja[Ta].y/n,f.gj.geogToProj(v,1,G),h?(V.y=G[0][1],V.x=k):(V.x=c.qs(G[0][0],ma.x,sa.x,r),V.y=k)):h?(V.x=k,V.y=ja[Ta].y/n):(V.x=c.qs(ja[Ta].x/n,ma.x,sa.x,r),V.y=k);X[0]=0<ab?f.P.Sk(fb/ab,0,1):.5;if(0==X[0]||1==X[0])break;Ya>X[0]||(Ya=a.Na(Ma),a.Wl(Ya,X,1),a.Db(a.V(Ya),V.x,V.y),Ya=X[0])}}while(0)}ma.N(sa)}}};c.an=function(a,b){var d=b.wa-b.pa;return b.Kt(a-Math.floor((a-b.pa)/d)*d)};c.qs=function(a,b,d,e){var g=new f.Oc;g.L(b,d);
d=e.S();a=Math.floor((a-b)/d)*d+a;for(g=g.tf();Math.abs(a-g)>Math.abs(a+d-g);)a+=d;return a};c.Tn=function(a,b,d){a=f.sr.Ep(a);b=f.sr.mx(a,f.sr.Ep(b));d=f.sr.mx(a,f.sr.Ep(d));return 0==d||0<b&&0<d&&d<=b||0>b&&0>d&&d>=b?!0:!1};c.Iz=function(a,b,d,e,g,h){if(h==l.GreatElliptic)return f.Nx.KS(b,d,e,g);if(Math.abs(d.x-e.x)>=Math.PI||!c.Tn(d.x,e.x,g))return NaN;if(d.x>e.x)var k=e;else k=d,d=e;e=new f.ha;var m=new f.ha,n=new f.ha;f.kb.xd(a,b,k.x,k.y,d.x,d.y,m,e,null,h);var p=m.u,q=0,r=1,v=new f.h;for(v.N(k);p*
(r-q)>1E-12*a;){var G=.5*(q+r);f.kb.qj(a,b,k.x,k.y,p*G,e.u,m,n,h);v.x=m.u;v.y=n.u;if(v.x==g)break;if(c.Tn(k.x,v.x,g))r=G;else if(c.Tn(d.x,v.x,g))q=G;else return NaN}return v.y};c.Gz=function(a,b,d,e,g){if(g==l.GreatElliptic)return a=[0,0],f.Nx.Jz(b,d,e,0,a),a[0];if(d.y>e.y)var h=e;else h=d,d=e;e=new f.Oc;e.L(h.y,d.y);if(!e.contains(0)||Math.abs(h.x-d.x)>=Math.PI)return NaN;if(h.x==d.x)return h.x;var k=new f.ha,m=new f.ha,n=new f.ha;f.kb.xd(a,b,h.x,h.y,d.x,d.y,m,k,null,g);var p=m.u,q=0,r=1,v=new f.h;
for(v.N(h);p*(r-q)>1E-12*a;){var G=.5*(q+r);f.kb.qj(a,b,h.x,h.y,p*G,k.u,m,n,g);v.x=m.u;v.y=n.u;e.L(h.y,v.y);if(0==v.y)break;if(e.contains(0))r=G;else if(e.L(d.y,v.y),e.contains(0))q=G;else return NaN}return v.x};c.QI=function(a,b,d,e){if(!a.ef.Xc())return!1;var g=new f.de(b.description);g.Gd(b,0,-1);e=f.Gx.local().W(g,a,e);g=b.I();d.Pa();if(g!=e.I())return!1;var h=new f.l;b.A(h);var k=new f.l;e.A(k);h=h.S();k=k.S();if(0!=h&&0!=k){if(k/=h,a=a.Zf.ih().S()/a.ef.ih().S(),1E-10<Math.abs(k/a-1))return!1}else if(0!=
h||0!=k)return!1;d.add(b,!1);b=new f.h;for(a=0;a<g;a++)e.D(a,b),d.Db(a,b);return!0};c.kN=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};c.NI=function(a,b,d,e){if(d==w.Clip){var g=b.ol();197==g.K()?(d=new f.l,g.A(d),g=f.ta.py(b,d),a=f.ti.clip(a,d,g,5E4*b.rm(),e)):f.fj.local().W(1,g,a,b,e)||(a=f.Xk.local().W(a,g,b,e),a==g&&(a=f.Wk.ig(a)))}else b.Xc()&&(e=new f.l,a.yc(e),b.Le().contains(e)||(c.Lt(a,b.Le(),b.Yd(0),!0),d==w.PannableFold&&(a=c.nj(a,b)),a=c.Gn(a,b,0,!0,1E5*b.rm(),null)));return a};
c.RD=function(a,b,d){var e=b.Yr();if(null==e)return a;b=b.tc();var g=b.Le().S(),h=new f.l;a.yc(h);var k=new f.Oc;h.en(k);h=e.Ha();e=null;for(var m=new f.Ed;h.ab();)for(;h.Ia();){var n=h.ia(),p=n.Vg(0,0),q=new f.Oc;q.L(p.pa,p.wa);for(p=0;q.wa>k.pa;)q.move(-g),--p;for(;q.pa<=k.wa;){if(q.isIntersecting(k)){null==e&&(e=new f.Ua);var r=f.zb.XO(n.ac(),n.xc());0!=p&&(m.gg(p*g,0),r.Pc(m));e.oc(r,!0)}q.move(g);++p}}return null!=e?(b=f.ta.aO(b,e),b=f.ta.Gr(b),f.bu.fP(a,e,b,d)):a};c.ZN=function(a,b,d,e,g){return a>=
d&&b<=e?0:c.nE(.5*(b+a),d,e,g)};c.nE=function(a,b,d,e){return f.mc.round((.5*(d+b)-a)/e)*e};c.PQ=function(a,b,d,e,g,h,k,m){var n=c.fv(e,g),p=n.S(),q=p/360,r=c.jE*q,v=a.vb(0),G=b.Xc(),S=G?p/b.Le().S():0;b=a.Ja();for(var X=0,V=d.ea();X<V;++X){var Z=G,ia=new f.Ua(d.description);ia.addPath(d,X,!0);var ja=d.ec(X);0!=k&&(ja=c.JD(ja,ia,n.H-m,n.H,k))&&(Z=!1);var ma=-1;ja=ia.I();var sa=!1;Z&&(ma=a.Ca(X),sa=a.ec(X));var va=ia.vb(0),Aa=0,za=va.read(0),Oa=0,Ma=3*e.Yd(0),Sa=!1,Ta=new f.h;Ta.Sc();var Ya=new f.h;
Ya.Sc();for(var ab=!1,fb=1;fb<ja;++fb){var db=f.h.construct(va.Bg(2*fb),va.Bg(2*fb+1)),Xa=db.x,Za=Xa+Aa,Wa=Za-za;db.x=Za;if(Math.abs(Wa)>r){if(Z){var eb=ma+fb-1,cb=ma;if(!sa||fb+1<ja)cb+=fb;eb=v.read(2*eb);cb=(v.read(2*cb)-eb)*S;Math.abs(Wa-cb)>1*q&&(G=!1)}Z||(Aa-=f.mc.Dn(p,Za-za),Za=Xa+Aa,++Oa,ab=0!=Aa,db.x=Za)}else Sa||f.ta.uG(Ta,Ya,db,Ma)&&(Sa=!0);ab&&va.write(2*fb,Za);za=Za;Ta.N(Ya);Ya.N(db)}0!=Oa&&ia.Qc(1993);Z=ia.Oa(0);ja=ia.Oa(ja-1);f.h.ub(Z,ja);ia=c.qQ(ia,e,isNaN(g)?0:g,h);b.add(ia,!1)}a=
e.Yd(0);d=n.S()/180;c.Lt(b,n,.1*a,!1);return f.ti.clip(b,n,a,d,h)};c.qQ=function(a,b,d,e){return c.Gn(a,b,d,!0,0,e)};c.HS=function(a,b,d,e){var g=a.K();if(1736==g)for(b=null!=b?b.Yd(0):0,g=0;g<e;g++)1!=f.jd.Zd(a,d[g],b)&&d[g].Sc();else if(197==g)for(g=0;g<e;g++)a.YO(d[g])||d[g].Sc();else throw f.i.O();};c.bl=function(a,b,d,e){if(32>d)for(var g=new f.Ta,h=0;h<d;h++)g.Db(b[h]),a.bl(g,e).D(b[h]);else{var k=new f.de;k.se(3);k.BD(b,d);g=k.vb(3);for(h=0;h<d;h++)g.write(h,h);h=a.bl(k,e);a=h.vb(0);g=h.vb(3);
e=f.h.construct(NaN,NaN);for(k=0;k<d;k++)b[k]=e;d=h.I();for(h=0;h<d;h++)e=g.read(h),a.uc(2*h,b[e])}};c.al=function(a,b,d,e){if(32>d)for(var g=new f.Ta,h=0;h<d;h++)g.Db(b[h]),a.al(g,e).D(b[h]);else{var k=new f.de;k.se(3);k.BD(b,d);g=k.vb(3);for(h=0;h<d;h++)g.write(h,h);h=a.al(k,e);a=h.vb(0);g=h.vb(3);e=f.h.construct(NaN,NaN);for(k=0;k<d;k++)b[k]=e;d=h.I();for(h=0;h<d;h++)e=g.read(h),a.uc(2*h,b[e])}};c.jE=210;return c}()})(Y||(Y={}));(function(f){(function(l){l[l.rightSide=1]="rightSide"})(f.OL||(f.OL=
{}));var w=function(){function l(c,a,b){this.Ds=new f.h;void 0===c?this.Jo=-1:(this.Ds.N(c),this.Jo=a,this.La=b,this.pw=0)}l.prototype.QJ=function(c){this.pw=c?this.pw|1:this.pw&-2};l.prototype.B=function(){return 0>this.Jo};l.prototype.az=function(){if(this.B())throw f.i.ga("invalid call");return new f.Ta(this.Ds.x,this.Ds.y)};l.prototype.Va=function(){if(this.B())throw f.i.ga("invalid call");return this.Jo};l.prototype.cz=function(){if(this.B())throw f.i.ga("invalid call");return this.La};l.prototype.Nz=
function(){return 0!=(this.pw&1)};l.prototype.by=function(c,a,b,d){this.Ds.x=c;this.Ds.y=a;this.Jo=b;this.La=d};return l}();f.bm=w})(Y||(Y={}));(function(f){var w=function(){function c(){}c.prototype.Vo=function(a,b){this.vh.resize(0);this.Ki.length=0;this.uk=-1;a.yc(this.Fk);this.Fk.X(b,b);this.Fk.isIntersecting(this.Gb.Da)?((this.xs=f.ba.zd(a.K()))?(this.NH=a.ac(),this.MH=a.xc(),this.ra=b):this.ra=NaN,this.vh.add(this.Gb.kf),this.Ki.push(this.Gb.Da),this.Ss=this.Gb.Wr(this.Gb.kf)):this.Ss=-1};c.prototype.Zi=
function(a,b){this.vh.resize(0);this.Ki.length=0;this.uk=-1;this.Fk.L(a);this.Fk.X(b,b);this.ra=NaN;this.Fk.isIntersecting(this.Gb.Da)?(this.vh.add(this.Gb.kf),this.Ki.push(this.Gb.Da),this.Ss=this.Gb.Wr(this.Gb.kf),this.xs=!1):this.Ss=-1};c.prototype.next=function(){if(0==this.vh.size)return-1;this.uk=this.Ss;var a=null,b=null,d=null,e=null;this.xs&&(a=new f.h,b=new f.h,d=new f.l);for(var g=!1;!g;){for(;-1!=this.uk;){var h=this.Gb.Xy(this.Gb.hv(this.uk));if(h.isIntersecting(this.Fk))if(this.xs){if(a.N(this.NH),
b.N(this.MH),d.L(h),d.X(this.ra,this.ra),0<d.uy(a,b)){g=!0;break}}else{g=!0;break}this.uk=this.Gb.pv(this.uk)}if(-1==this.uk){h=this.vh.Gc();var k=this.Ki[this.Ki.length-1];null==e&&(e=[],e[0]=new f.l,e[1]=new f.l,e[2]=new f.l,e[3]=new f.l);l.yJ(k,e);this.vh.Jf();--this.Ki.length;for(k=0;4>k;k++){var m=this.Gb.Np(h,k);if(-1!=m&&0<this.Gb.PR(m)&&e[k].isIntersecting(this.Fk))if(this.xs){if(a.N(this.NH),b.N(this.MH),d.L(e[k]),d.X(this.ra,this.ra),0<d.uy(a,b)){var n=new f.l;n.L(e[k]);this.vh.add(m);this.Ki.push(n)}}else n=
new f.l,n.L(e[k]),this.vh.add(m),this.Ki.push(n)}if(0==this.vh.size)return-1;this.uk=this.Gb.Wr(this.vh.get(this.vh.size-1))}}this.Ss=this.Gb.pv(this.uk);return this.uk};c.WO=function(a,b,d){var e=new c;e.Gb=a;e.Fk=new f.l;e.vh=new f.ja(0);e.Ki=[];e.Vo(b,d);return e};c.VO=function(a,b,d){var e=new c;e.Gb=a;e.Fk=new f.l;e.vh=new f.ja(0);e.Ki=[];e.Zi(b,d);return e};c.UO=function(a){var b=new c;b.Gb=a;b.Fk=new f.l;b.vh=new f.ja(0);b.Ki=[];return b};return c}();f.yY=w;var l=function(){function c(a,b){this.jf=
new f.ad(11);this.ai=new f.ad(5);this.ys=[];this.iw=new f.ja(0);this.Da=new f.l;this.Ok(a,b)}c.prototype.reset=function(a,b){this.jf.oj(!1);this.ai.oj(!1);this.ys.length=0;this.iw.clear(!1);this.Ok(a,b)};c.prototype.xj=function(a,b){return this.Bv(a,b,0,this.Da,this.kf,!1,-1)};c.prototype.Ez=function(a,b,d){d=-1==d?this.kf:this.QF(d);var e=this.da(d),g=this.iR(d);return this.Bv(a,b,e,g,d,!1,-1)};c.prototype.ka=function(a){return this.dR(a)};c.prototype.AF=function(a){return this.Xy(this.hv(a))};c.prototype.da=
function(a){return this.lv(a)};c.prototype.iR=function(a){var b=new f.l;b.L(this.Da);var d=this.lv(a);a=this.KF(a);for(var e=0;e<2*d;e+=2){var g=f.P.truncate(3&a>>e);0==g?(b.v=.5*(b.v+b.C),b.G=.5*(b.G+b.H)):1==g?(b.C=.5*(b.v+b.C),b.G=.5*(b.G+b.H)):(2==g?b.C=.5*(b.v+b.C):b.v=.5*(b.v+b.C),b.H=.5*(b.G+b.H))}return b};c.prototype.PR=function(a){return this.vz(a)};c.prototype.oR=function(a,b){return w.WO(this,a,b)};c.prototype.GF=function(a,b){return w.VO(this,a,b)};c.prototype.getIterator=function(){return w.UO(this)};
c.prototype.Ok=function(a,b){if(0>b||32<2*b)throw f.i.O("invalid height");this.tT=b;this.Da.L(a);this.kf=this.jf.De();this.jx(this.kf,0);this.dx(this.kf,0);this.HJ(this.kf,0);this.EJ(this.kf,0)};c.prototype.Bv=function(a,b,d,e,g,h,k){if(!e.contains(b))return 0==d?-1:this.Bv(a,b,0,this.Da,this.kf,h,k);if(!h)for(var m=g;-1!=m;m=this.CR(m))this.jx(m,this.vz(m)+1);m=new f.l;m.L(e);e=g;var n=[];n[0]=new f.l;n[1]=new f.l;n[2]=new f.l;for(n[3]=new f.l;d<this.tT&&this.cO(e);d++){c.yJ(m,n);for(var p=!1,q=
0;4>q;q++)if(n[q].contains(b)){p=!0;var r=this.Np(e,q);-1==r&&(r=this.lP(e,q));this.jx(r,this.vz(r)+1);e=r;m.L(n[q]);break}if(!p)break}return this.lS(a,b,d,m,e,h,g,k)};c.prototype.lS=function(a,b,d,e,g,h,k,m){var n=this.HF(g);if(h){if(g==k)return m;this.MP(m);h=m}else h=this.nP(),this.HB(h,a),this.BW(this.hv(h),b);this.dX(h,g);-1!=n?(this.hx(h,n),this.ex(n,h)):this.AJ(g,h);this.MB(g,h);this.dx(g,this.nv(g)+1);this.bO(g)&&this.GQ(d,e,g);return h};c.prototype.MP=function(a){var b=this.QF(a),d=this.HF(b),
e=this.HR(a),g=this.pv(a);this.Wr(b)==a?(-1!=g?this.hx(g,-1):this.MB(b,-1),this.AJ(b,g)):d==a?(this.ex(e,-1),this.MB(b,e)):(this.hx(g,e),this.ex(e,g));this.hx(a,-1);this.ex(a,-1);this.dx(b,this.nv(b)-1)};c.yJ=function(a,b){var d=.5*(a.v+a.C),e=.5*(a.G+a.H);b[0].L(d,e,a.C,a.H);b[1].L(a.v,e,d,a.H);b[2].L(a.v,a.G,d,e);b[3].L(d,a.G,a.C,e)};c.prototype.bO=function(a){return 8==this.nv(a)&&!this.aG(a)};c.prototype.GQ=function(a,b,d){var e=this.Wr(d);do{var g=this.hv(e),h=this.ai.U(e,0);g=this.Xy(g);this.Bv(h,
g,a,b,d,!0,e);e=h=this.pv(e)}while(-1!=e)};c.prototype.cO=function(a){return 8<=this.nv(a)||this.aG(a)};c.prototype.aG=function(a){return-1!=this.Np(a,0)||-1!=this.Np(a,1)||-1!=this.Np(a,2)||-1!=this.Np(a,3)};c.prototype.lP=function(a,b){var d=this.jf.De();this.GW(a,b,d);this.jx(d,0);this.dx(d,0);this.Qk(d,a);this.EJ(d,this.lv(a)+1);this.HJ(d,b<<2*this.lv(a)|this.KF(a));return d};c.prototype.nP=function(){var a=this.ai.De();if(0<this.iw.size){var b=this.iw.Gc();this.iw.Jf()}else b=this.ys.length,
this.ys.push(new f.l);this.DW(a,b);return a};c.prototype.Np=function(a,b){return this.jf.U(a,b)};c.prototype.GW=function(a,b,d){this.jf.T(a,b,d)};c.prototype.Wr=function(a){return this.jf.U(a,4)};c.prototype.AJ=function(a,b){this.jf.T(a,4,b)};c.prototype.HF=function(a){return this.jf.U(a,5)};c.prototype.MB=function(a,b){this.jf.T(a,5,b)};c.prototype.KF=function(a){return this.jf.U(a,6)};c.prototype.HJ=function(a,b){this.jf.T(a,6,b)};c.prototype.nv=function(a){return this.jf.U(a,7)};c.prototype.vz=
function(a){return this.jf.U(a,8)};c.prototype.dx=function(a,b){this.jf.T(a,7,b)};c.prototype.jx=function(a,b){this.jf.T(a,8,b)};c.prototype.CR=function(a){return this.jf.U(a,9)};c.prototype.Qk=function(a,b){this.jf.T(a,9,b)};c.prototype.lv=function(a){return this.jf.U(a,10)};c.prototype.EJ=function(a,b){this.jf.T(a,10,b)};c.prototype.dR=function(a){return this.ai.U(a,0)};c.prototype.HB=function(a,b){this.ai.T(a,0,b)};c.prototype.HR=function(a){return this.ai.U(a,1)};c.prototype.pv=function(a){return this.ai.U(a,
2)};c.prototype.hx=function(a,b){this.ai.T(a,1,b)};c.prototype.ex=function(a,b){this.ai.T(a,2,b)};c.prototype.QF=function(a){return this.ai.U(a,3)};c.prototype.dX=function(a,b){this.ai.T(a,3,b)};c.prototype.hv=function(a){return this.ai.U(a,4)};c.prototype.DW=function(a,b){this.ai.T(a,4,b)};c.prototype.Xy=function(a){return this.ys[a]};c.prototype.BW=function(a,b){this.ys[a].L(b)};return c}();f.fu=l})(Y||(Y={}));(function(f){(function(c){c[c.Outside=0]="Outside";c[c.Inside=1]="Inside";c[c.Border=
2]="Border"})(f.VK||(f.VK={}));var w=function(){function c(a,b){this.HT=b;this.Xh=a}c.prototype.ax=function(a,b){this.cH!=b&&a.flush();this.cH=b};c.prototype.aF=function(a,b){for(var d=0;d<b;)for(var e=a[d++],g=a[d++],h=a[d++]*this.HT;e<g;e++)this.Xh[h+(e>>4)]|=this.cH<<2*(e&15)};return c}();f.zY=w;var l=function(){function c(a,b,d){this.Xh=null;this.MA=this.Jk=this.XH=this.VH=this.Gs=this.kH=this.Hf=this.Wm=0;this.Ti=this.Kk=this.xl=null;this.Az(a,b,d)}c.create=function(a,b,d){if(!c.tE(a))throw f.i.O();
return c.qP(a,b,d)};c.hW=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw f.i.ga("Internal Error");}return a};c.tE=function(a){return a.B()||1607!=a.K()&&1736!=a.K()?!1:!0};c.prototype.lQ=function(a,b){b=b.Ha();for(var d=new f.h,e=new f.h;b.ab();)for(;b.Ia();){var g=b.ia();if(322!=g.K())throw f.i.ga("Internal Error");a.Gh(g.ac(),d);a.Gh(g.xc(),e);this.Ti.fy(d.x,d.y,e.x,e.y)}this.Ti.cJ(f.Ox.Bx)};c.prototype.mQ=function(){throw f.i.ga("Internal Error");
};c.prototype.My=function(a,b){for(var d=1;4>d;d++)a.fy(b[d-1].x,b[d-1].y,b[d].x,b[d].y);a.fy(b[3].x,b[3].y,b[0].x,b[0].y);this.Ti.cJ(f.Ox.Bx)};c.prototype.lK=function(a,b,d){for(var e=[null,null,null,null],g=0;g<e.length;g++)e[g]=new f.h;b=b.Ha();d=this.Kk.WX(d)+1.5;g=new f.h;for(var h=new f.h,k=new f.h,m=new f.h,n=new f.h,p=new f.l,q=new f.h;b.ab();){var r=!1,v=!0;for(q.na(0,0);b.Ia();){var G=b.ia();m.x=G.sa;m.y=G.oa;n.x=G.qa;n.y=G.ma;p.Pa();p.$b(m.x,m.y);p.Mk(n.x,n.y);if(this.xl.BG(p)){this.Kk.Gh(n,
n);v?(this.Kk.Gh(m,m),q.N(m),v=!1):m.N(q);g.vc(n,m);G=g.length();var S=.5>G;0==G?g.na(1,0):(S||q.N(n),g.scale(d/G),h.na(-g.y,g.x),k.na(g.y,-g.x),m.sub(g),n.add(g),e[0].add(m,h),e[1].add(m,k),e[2].add(n,k),e[3].add(n,h),S?r=!0:this.My(a,e))}else r&&(this.My(a,e),r=!1),v=!0}r&&this.My(a,e)}};c.prototype.mC=function(a){return f.P.truncate(a*this.kH+this.VH)};c.prototype.nC=function(a){return f.P.truncate(a*this.Gs+this.XH)};c.qP=function(a,b,d){return new c(a,b,d)};c.prototype.Az=function(a,b,d){this.Hf=
Math.max(f.P.truncate(2*Math.sqrt(d)+.5),64);this.Wm=f.P.truncate((2*this.Hf+31)/32);this.xl=new f.l;this.Jk=b;d=0;for(var e=this.Hf,g=this.Wm;8<=e;)d+=e*g,e=f.P.truncate(e/2),g=f.P.truncate((2*e+31)/32);this.Xh=f.P.lg(d,0);this.Ti=new f.Ox;d=new w(this.Xh,this.Wm,this);this.Ti.sX(this.Hf,this.Hf,d);a.A(this.xl);this.xl.X(b,b);e=new f.l;g=f.l.construct(1,1,this.Hf-2,this.Hf-2);var h=b*g.S();b*=g.da();e.L(this.xl.tf(),Math.max(h,this.xl.S()),Math.max(b,this.xl.da()));this.MA=this.Jk;this.Kk=new f.Ed;
this.Kk.iS(e,g);new f.Ed;switch(a.K()){case 550:d.ax(this.Ti,2);this.mQ();break;case 1607:d.ax(this.Ti,2);this.lK(this.Ti,a,this.MA);break;case 1736:d.ax(this.Ti,1),this.lQ(this.Kk,a),d.ax(this.Ti,2),this.lK(this.Ti,a,this.MA)}this.kH=this.Kk.eb;this.Gs=this.Kk.bb;this.VH=this.Kk.Lb;this.XH=this.Kk.Qb;this.RN()};c.prototype.RN=function(){this.Ti.flush();for(var a=0,b=this.Hf*this.Wm,d=this.Hf,e=f.P.truncate(this.Hf/2),g=this.Wm,h=f.P.truncate((2*e+31)/32);8<d;){for(d=0;d<e;d++)for(var k=2*d,m=2*d+
1,n=0;n<e;n++){var p=2*n,q=2*n+1,r=p>>4;p=2*(p&15);var v=q>>4;q=2*(q&15);var G=this.Xh[a+g*k+r]>>p&3;G|=this.Xh[a+g*k+v]>>q&3;G|=this.Xh[a+g*m+r]>>p&3;G|=this.Xh[a+g*m+v]>>q&3;this.Xh[b+h*d+(n>>4)]|=G<<2*(n&15)}d=e;g=h;a=b;e=f.P.truncate(d/2);h=f.P.truncate((2*e+31)/32);b=a+g*d}};c.prototype.To=function(a,b){if(!this.xl.contains(a,b))return 0;a=this.mC(a);b=this.nC(b);if(0>a||a>=this.Hf||0>b||b>=this.Hf)return 0;b=this.Xh[this.Wm*b+(a>>4)]>>2*(a&15)&3;return 0==b?0:1==b?1:2};c.prototype.So=function(a){if(!a.Fa(this.xl))return 0;
var b=this.mC(a.v),d=this.mC(a.C),e=this.nC(a.G);a=this.nC(a.H);0>b&&(b=0);0>e&&(e=0);d>=this.Hf&&(d=this.Hf-1);a>=this.Hf&&(a=this.Hf-1);if(b>d||e>a)return 0;for(var g=Math.max(d-b,1)*Math.max(a-e,1),h=0,k=this.Wm,m=this.Hf,n=0;;){if(32>g||16>m){for(g=e;g<=a;g++)for(var p=b;p<=d;p++)if(n=this.Xh[h+k*g+(p>>4)]>>2*(p&15)&3,1<n)return 2;if(0==n)return 0;if(1==n)return 1}h+=k*m;m=f.P.truncate(m/2);k=f.P.truncate((2*m+31)/32);b=f.P.truncate(b/2);e=f.P.truncate(e/2);d=f.P.truncate(d/2);a=f.P.truncate(a/
2);g=Math.max(d-b,1)*Math.max(a-e,1)}};c.prototype.KR=function(){return this.Hf*this.Wm};return c}();f.Mx=l})(Y||(Y={}));(function(f){(function(c){c[c.contains=1]="contains";c[c.within=2]="within";c[c.equals=3]="equals";c[c.disjoint=4]="disjoint";c[c.touches=8]="touches";c[c.crosses=16]="crosses";c[c.overlaps=32]="overlaps";c[c.unknown=0]="unknown";c[c.intersects=1073741824]="intersects"})(f.PL||(f.PL={}));var w=function(){function c(){}c.construct=function(a,b,d,e,g,h,k,m){var n=new c;n.rw=a;n.Om=
b;n.Mj=d;n.Ui=e;n.vH=g;n.KY=h;n.LY=k;n.MY=m;return n};return c}();f.Xt=function(){function c(){}c.wD=function(a,b,d){if(c.ry(a)){var e=f.ta.mj(b,a,!1);b=!1;f.Vk.wE(a)&&(b=b||a.nu(e,d));e=a.K();1736!=e&&1607!=e||!f.Vk.uE(a)||0==d||(b=b||a.hj(d));1736!=e&&1607!=e||!f.Vk.vE(a)||0==d||b||a.bM()}};c.ry=function(a){return f.Vk.wE(a)||f.Vk.uE(a)||f.Vk.vE(a)};return c}();var l=function(){function c(){this.th=[]}c.tB=function(a,b,d,e,g){var h=a.K(),k=b.K();if(197==h){if(197==k)return c.lW(a,b,d,e);if(33==
k)return 2==e?e=1:1==e&&(e=2),c.bJ(b,a,d,e)}else if(33==h){if(197==k)return c.bJ(a,b,d,e);if(33==k)return c.nW(a,b,d,e)}if(a.B()||b.B())return 4==e?!0:!1;var m=new f.l;a.A(m);var n=new f.l;b.A(n);var p=new f.l;p.L(m);p.$b(n);d=f.ta.Xd(d,p,!1);if(c.ek(m,n,d))return 4==e?!0:!1;m=!1;f.Wk.zd(h)&&(h=new f.Ua(a.description),h.oc(a,!0),a=h,h=1607);f.Wk.zd(k)&&(k=new f.Ua(b.description),k.oc(b,!0),b=k,k=1607);if(197!=h&&197!=k){if(a.Eb()<b.Eb()||33==h&&550==k)2==e?e=1:1==e&&(e=2)}else 1736!=h&&197!=k&&(2==
e?e=1:1==e&&(e=2));switch(h){case 1736:switch(k){case 1736:m=c.st(a,b,d,e,g);break;case 1607:m=c.bn(a,b,d,e,g);break;case 33:m=c.rt(a,b,d,e);break;case 550:m=c.qt(a,b,d,e,g);break;case 197:m=c.AI(a,b,d,e,g)}break;case 1607:switch(k){case 1736:m=c.bn(b,a,d,e,g);break;case 1607:m=c.aB(a,b,d,e,g);break;case 33:m=c.ut(a,b,d,e,g);break;case 550:m=c.tt(a,b,d,e,g);break;case 197:m=c.GI(a,b,d,e)}break;case 33:switch(k){case 1736:m=c.rt(b,a,d,e);break;case 1607:m=c.ut(b,a,d,e,g);break;case 550:m=c.mt(b,a,
d,e)}break;case 550:switch(k){case 1736:m=c.qt(b,a,d,e,g);break;case 1607:m=c.tt(b,a,d,e,g);break;case 550:m=c.TA(a,b,d,e,g);break;case 33:m=c.mt(a,b,d,e);break;case 197:m=c.bI(a,b,d,e)}break;case 197:switch(k){case 1736:m=c.AI(b,a,d,e,g);break;case 1607:m=c.GI(b,a,d,e);break;case 550:m=c.bI(b,a,d,e)}}return m};c.lW=function(a,b,d,e){if(a.B()||b.B())return 4==e?!0:!1;var g=new f.l,h=new f.l,k=new f.l;a.A(g);b.A(h);k.L(g);k.$b(h);a=f.ta.Xd(d,k,!1);switch(e){case 4:return c.ek(g,h,a);case 2:return c.dF(h,
g,a);case 1:return c.dF(g,h,a);case 3:return c.fk(g,h,a);case 8:return c.XP(g,h,a);case 32:return c.WP(g,h,a);case 16:return c.VP(g,h,a)}return!1};c.bJ=function(a,b,d,e){if(a.B()||b.B())return 4==e?!0:!1;a=a.D();var g=new f.l,h=new f.l;b.A(g);h.L(a);h.$b(g);b=f.ta.Xd(d,h,!1);switch(e){case 4:return c.Tw(a,g,b);case 2:return c.ZA(a,g,b);case 1:return c.JU(a,g,b);case 3:return c.pI(a,g,b);case 8:return c.YA(a,g,b)}return!1};c.nW=function(a,b,d,e){if(a.B()||b.B())return 4==e?!0:!1;a=a.D();b=b.D();var g=
new f.l;g.L(a);g.$b(b);d=f.ta.Xd(d,g,!1);switch(e){case 4:return c.KU(a,b,d);case 2:return c.oI(b,a,d);case 1:return c.oI(a,b,d);case 3:return c.qI(a,b,d)}return!1};c.st=function(a,b,d,e,g){switch(e){case 4:return c.cV(a,b,d);case 2:return c.Uw(b,a,d,g);case 1:return c.Uw(a,b,d,g);case 3:return c.fV(a,b,d);case 8:return c.nV(a,b,d);case 32:return c.iV(a,b,d,g)}return!1};c.bn=function(a,b,d,e,g){switch(e){case 4:return c.dV(a,b,d);case 1:return c.$A(a,b,d,g);case 8:return c.oV(a,b,d,g);case 16:return c.ZU(a,
b,d)}return!1};c.rt=function(a,b,d,e){switch(e){case 4:return c.bV(a,b,d);case 1:return c.WU(a,b,d);case 8:return c.mV(a,b,d)}return!1};c.qt=function(a,b,d,e){switch(e){case 4:return c.aV(a,b,d);case 1:return c.VU(a,b,d);case 8:return c.lV(a,b,d);case 16:return c.YU(a,b,d)}return!1};c.AI=function(a,b,d,e,g){if(c.$U(a,b,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return c.pV(a,b,d);case 1:return c.UU(a,b,d);case 3:return c.eV(a,b,d);case 8:return c.kV(a,b,d,g);case 32:return c.hV(a,b,d,
g);case 16:return c.XU(a,b,d,g)}return!1};c.aB=function(a,b,d,e){switch(e){case 4:return c.yV(a,b,d);case 2:return c.EI(b,a,d);case 1:return c.EI(a,b,d);case 3:return c.AV(a,b,d);case 8:return c.HI(a,b,d);case 32:return c.EV(a,b,d);case 16:return c.FI(a,b,d)}return!1};c.ut=function(a,b,d,e){switch(e){case 4:return c.xV(a,b,d);case 1:return c.sV(a,b,d);case 8:return c.IV(a,b,d)}return!1};c.tt=function(a,b,d,e){switch(e){case 4:return c.wV(a,b,d);case 1:return c.rV(a,b,d);case 8:return c.HV(a,b,d);
case 16:return c.uV(a,b,d)}return!1};c.GI=function(a,b,d,e){if(c.vV(a,b,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return c.JV(a,b,d);case 1:return c.qV(a,b,d);case 3:return c.zV(a,b,d);case 8:return c.GV(a,b,d);case 32:return c.DV(a,b,d);case 16:return c.tV(a,b,d)}return!1};c.TA=function(a,b,d,e){switch(e){case 4:return c.ZT(a,b,d);case 2:return c.ZH(b,a,d);case 1:return c.ZH(a,b,d);case 3:return c.aU(a,b,d);case 32:return c.gU(a,b,d)}return!1};c.mt=function(a,b,d,e){switch(e){case 4:return c.$H(a,
b,d);case 2:return c.kU(a,b,d);case 1:return c.WT(a,b,d);case 3:return c.Pw(a,b,d)}return!1};c.bI=function(a,b,d,e){switch(e){case 4:return c.YT(a,b,d);case 2:return c.jU(a,b,d);case 1:return c.VT(a,b,d);case 3:return c.$T(a,b,d);case 8:return c.iU(a,b,d);case 16:return c.XT(a,b,d)}return!1};c.fV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(!c.fk(e,g,d))return!1;e=c.qc(a,b,!1);if(4==e||1==e||2==e)return!1;if(c.YH(a,b,d))return!0;e=a.Rb();g=b.Rb();return Math.abs(e-g)>4*Math.max(a.I(),
b.I())*d?!1:c.Rz(a,b,d,!0)};c.cV=function(a,b,d){var e=c.qc(a,b,!0);return 4==e?!0:1==e||2==e||1073741824==e?!1:c.yI(a,b,d)};c.nV=function(a,b,d){var e=c.qc(a,b,!1);return 4==e||1==e||2==e?!1:c.CI(a,b,d,null)};c.iV=function(a,b,d,e){var g=c.qc(a,b,!1);return 4==g||1==g||2==g?!1:c.zI(a,b,d,e)};c.Uw=function(a,b,d,e){var g=new f.l,h=new f.l;a.A(g);b.A(h);if(!c.Ac(g,h,d))return!1;g=c.qc(a,b,!1);return 4==g||2==g?!1:1==g?!0:c.vI(a,b,d,e)};c.dV=function(a,b,d){var e=c.qc(a,b,!0);return 4==e?!0:1==e||1073741824==
e?!1:c.yI(a,b,d)};c.oV=function(a,b,d,e){var g=c.qc(a,b,!1);return 4==g||1==g?!1:c.DI(a,b,d,e)};c.ZU=function(a,b,d){var e=c.qc(a,b,!1);return 4==e||1==e?!1:c.xI(a,b,d,null)};c.$A=function(a,b,d,e){var g=new f.l,h=new f.l;a.A(g);b.A(h);if(!c.Ac(g,h,d))return!1;g=c.qc(a,b,!1);return 4==g?!1:1==g?!0:c.wI(a,b,d,e)};c.bV=function(a,b,d){return 0==f.jd.EG(a,b,d)?!0:!1};c.mV=function(a,b,d){b=b.D();return c.BI(a,b,d)};c.WU=function(a,b,d){b=b.D();return c.uI(a,b,d)};c.aV=function(a,b,d){var e=c.qc(a,b,
!1);if(4==e)return!0;if(1==e)return!1;e=new f.l;a.A(e);e.X(d,d);for(var g=new f.h,h=0;h<b.I();h++)if(b.D(h,g),e.contains(g)){var k=f.jd.Zd(a,g,d);if(1==k||2==k)return!1}return!0};c.lV=function(a,b,d){var e=this.qc(a,b,!1);if(4==e||1==e)return!1;e=new f.l;a.A(e);e.X(d,d);for(var g=!1,h=a,k=!1,m=0;m<b.I();m++){var n=b.Oa(m);if(e.contains(n))if(n=f.jd.Zd(h,n,d),2==n)g=!0;else if(1==n)return!1;k||(!f.Fg.Ol(a,b.I()-1)||null!=a.Cb&&null!=a.Cb.Gb?h=a:(h=new f.Ea,a.copyTo(h),h.hj(1)),k=!0)}return g?!0:!1};
c.YU=function(a,b,d){var e=this.qc(a,b,!1);if(4==e||1==e)return!1;var g=new f.l;e=new f.l;var h=new f.l;a.A(g);b.A(h);e.L(g);e.X(d,d);h=g=!1;for(var k=a,m=!1,n=0;n<b.I();n++){var p=b.Oa(n);e.contains(p)?(p=f.jd.Zd(k,p,d),0==p?h=!0:1==p&&(g=!0)):h=!0;if(g&&h)return!0;m||(!f.Fg.Ol(a,b.I()-1)||null!=a.Cb&&null!=a.Cb.Gb?k=a:(k=new f.Ea,a.copyTo(k),k.hj(1)),m=!0)}return!1};c.VU=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(!this.Ac(e,g,d))return!1;g=this.qc(a,b,!1);if(4==g)return!1;if(1==g)return!0;
g=!1;for(var h=a,k=!1,m=0;m<b.I();m++){var n=b.Oa(m);if(!e.contains(n))return!1;n=f.jd.Zd(h,n,d);if(1==n)g=!0;else if(0==n)return!1;k||(!f.Fg.Ol(a,b.I()-1)||null!=a.Cb&&null!=a.Cb.Gb?h=a:(h=new f.Ea,a.copyTo(h),h.hj(1)),k=!0)}return g};c.eV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(!c.fk(e,g,d))return!1;e=new f.Ea;e.bd(b,!1);return c.Rz(a,e,d,!0)};c.$U=function(a,b,d){var e=c.qc(a,b,!1);if(4==e)return!0;if(1==e||2==e)return!1;var g=new f.l;e=new f.l;a.A(g);b.A(e);if(c.Ac(e,g,d))return!1;
g=new f.h;e.fn(g);b=f.jd.Zd(a,g,d);if(0!=b)return!1;e.UI(g);b=f.jd.Zd(a,g,d);if(0!=b)return!1;e.gn(g);b=f.jd.Zd(a,g,d);if(0!=b)return!1;e.XI(g);b=f.jd.Zd(a,g,d);if(0!=b)return!1;b=a.vb(0);g=new f.l;g.L(e);g.X(d,d);for(var h=0,k=a.I();h<k;h++){var m=b.read(2*h),n=b.read(2*h+1);if(g.contains(m,n))return!1}return!c.MG(a,e,d)};c.kV=function(a,b,d,e){var g=c.qc(a,b,!1);if(4==g||1==g||2==g)return!1;g=new f.l;var h=new f.l;a.A(g);b.A(h);if(c.Ac(h,g,d))return!1;if(h.S()<=d&&h.da()<=d)return b=b.Kp(),c.BI(a,
b,d);if(h.S()<=d||h.da()<=d)return g=new f.Ua,h=new f.Ta,b.If(0,h),g.nf(h),b.If(2,h),g.lineTo(h),c.DI(a,g,d,e);g=new f.Ea;g.bd(b,!1);return c.CI(a,g,d,e)};c.hV=function(a,b,d,e){var g=c.qc(a,b,!1);if(4==g||1==g||2==g)return!1;g=new f.l;var h=new f.l;a.A(g);b.A(h);if(c.Ac(h,g,d)||h.S()<=d||h.da()<=d)return!1;g=new f.Ea;g.bd(b,!1);return c.zI(a,g,d,e)};c.pV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return c.Ac(g,e,d)};c.UU=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(!c.Ac(e,
g,d))return!1;e=c.qc(a,b,!1);if(4==e||2==e)return!1;if(1==e)return!0;if(g.S()<=d&&g.da()<=d)return b=b.Kp(),c.uI(a,b,d);if(g.S()<=d||g.da()<=d)return g=new f.Ua,e=new f.Ta,b.If(0,e),g.nf(e),b.If(2,e),g.lineTo(e),c.wI(a,g,d,null);g=new f.Ea;g.bd(b,!1);return c.vI(a,g,d,null)};c.XU=function(a,b,d,e){var g=new f.l,h=new f.l;a.A(g);b.A(h);if(c.Ac(h,g,d)||h.da()>d&&h.S()>d||h.da()<=d&&h.S()<=d)return!1;g=new f.Ua;h=new f.Ta;b.If(0,h);g.nf(h);b.If(2,h);g.lineTo(h);return c.xI(a,g,d,e)};c.AV=function(a,
b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return c.fk(e,g,d)&&4!=c.qc(a,b,!1)?c.YH(a,b,d)?!0:c.Rz(a,b,d,!1):!1};c.yV=function(a,b,d){return 4==this.qc(a,b,!1)?!0:(new f.am(a,b,d,!0)).next()?!this.NG(a,b,d):!1};c.HI=function(a,b,d){if(4==c.qc(a,b,!1))return!1;var e=new f.ce(0);if(0!=c.Sz(a,b,d,e))return!1;for(var g=new f.de,h=0;h<e.size;h+=2){var k=e.read(h),m=e.read(h+1);g.Du(k,m)}a=a.mg();b=b.mg();a.Gd(b,0,b.I());return c.Ow(a,g,d)};c.FI=function(a,b,d){if(4==c.qc(a,b,!1))return!1;var e=new f.ce(0);
if(0!=c.Sz(a,b,d,e))return!1;for(var g=new f.de,h=0;h<e.size;h+=2){var k=e.read(h),m=e.read(h+1);g.Du(k,m)}a=a.mg();b=b.mg();a.Gd(b,0,b.I());return!c.Ow(a,g,d)};c.EV=function(a,b,d){return 4==c.qc(a,b,!1)?!1:c.PG(a,b,d)};c.EI=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return c.Ac(e,g,d)&&4!=c.qc(a,b,!1)?c.Am(b,a,d,!1):!1};c.xV=function(a,b,d){if(4==c.qc(a,b,!1))return!0;b=b.D();return!c.Tz(a,b,d)};c.IV=function(a,b,d){if(4==c.qc(a,b,!1))return!1;b=b.D();return c.Uz(a,b,d)};c.sV=function(a,
b,d){if(4==c.qc(a,b,!1))return!1;b=b.D();return c.LG(a,b,d)};c.wV=function(a,b,d){return 4==c.qc(a,b,!1)?!0:!c.OG(a,b,d,!1)};c.HV=function(a,b,d){if(4==this.qc(a,b,!1))return!1;var e=a.Ha(),g=new f.l,h=new f.l,k=new f.l;a.A(g);b.A(h);g.X(d,d);h.X(d,d);k.L(g);k.Fa(h);g=null;var m=a.Cb;if(null!=m){var n=m.Gb;g=m.Ao;null==n&&(n=m=f.ta.lj(a,k))}else n=m=f.ta.lj(a,k);var p=n.getIterator(),q=null;null!=g&&(q=g.getIterator());var r=new f.h,v=new f.h,G=!1,S=d*d;g=new f.rn(b.I());for(m=0;m<b.I();m++)g.write(m,
0);for(m=0;m<b.I();m++)if(b.D(m,r),k.contains(r))if(h.L(r.x,r.y,r.x,r.y),null==q||(q.Zi(h,d),-1!=q.next())){p.Zi(h,d);for(var X=p.next();-1!=X;X=p.next())if(e.Wb(n.ka(X)),X=e.ia(),X.ic(X.fe(r,!1),v),f.h.zc(r,v)<=S){g.write(m,1);G=!0;break}}if(!G)return!1;a=a.mg();e=new f.de;h=new f.h;for(m=0;m<b.I();m++)0!=g.read(m)&&(b.D(m,h),e.Du(h.x,h.y));return this.Ow(a,e,d)};c.uV=function(a,b,d){if(4==this.qc(a,b,!1))return!1;var e=a.Ha(),g=new f.l,h=new f.l,k=new f.l;a.A(g);b.A(h);g.X(d,d);h.X(d,d);k.L(g);
k.Fa(h);g=null;var m=a.Cb;if(null!=m){var n=m.Gb;g=m.Ao;null==n&&(n=m=f.ta.lj(a,k))}else n=m=f.ta.lj(a,k);var p=n.getIterator(),q=null;null!=g&&(q=g.getIterator());var r=new f.h,v=new f.h,G=!1,S=!1,X=d*d;g=new f.rn(b.I());for(m=0;m<b.I();m++)g.write(m,0);for(m=0;m<b.I();m++)if(b.D(m,r),k.contains(r))if(h.L(r.x,r.y,r.x,r.y),null!=q&&(q.Zi(h,d),-1==q.next()))S=!0;else{p.Zi(h,d);for(var V=!1,Z=p.next();-1!=Z;Z=p.next())if(e.Wb(n.ka(Z)),Z=e.ia(),Z.ic(Z.fe(r,!1),v),f.h.zc(r,v)<=X){g.write(m,1);V=G=!0;
break}V||(S=!0)}else S=!0;if(!G||!S)return!1;a=a.mg();e=new f.de;h=new f.h;for(m=0;m<b.I();m++)0!=g.read(m)&&(b.D(m,h),e.Du(h.x,h.y));return!this.Ow(a,e,d)};c.rV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(!c.Ac(e,g,d)||4==c.qc(a,b,!1)||!c.OG(a,b,d,!0))return!1;a=a.mg();return!c.aI(a,b,d)};c.zV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return g.da()>d&&g.S()>d?!1:c.fk(e,g,d)};c.vV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return c.Ac(g,e,d)?!1:!c.MG(a,g,d)};c.GV=
function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(g.da()<=d&&g.S()<=d)return g=b.Kp(),c.Uz(a,g,d);if(g.da()<=d||g.S()<=d)return g=new f.Ua,e=new f.Ta,b.If(0,e),g.nf(e),b.If(2,e),g.lineTo(e),c.HI(a,g,d);a=a.Ha();b=new f.l;e=new f.l;b.L(g);e.L(g);b.X(-d,-d);e.X(d,d);g=!1;for(var h=new f.l,k=new f.l;a.ab();)for(;a.Ia();){a.ia().A(h);k.L(b);k.Fa(h);if(!k.B()&&(k.da()>d||k.S()>d))return!1;k.L(e);k.Fa(h);k.B()||(g=!0)}return g};c.DV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(c.Ac(e,
g,d)||c.Ac(g,e,d)||c.Ac(g,e,d)||g.da()>d&&g.S()>d||g.da()<=d&&g.S()<=d)return!1;e=new f.Ua;g=new f.Ta;b.If(0,g);e.nf(g);b.If(2,g);e.lineTo(g);return c.PG(a,e,d)};c.JV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(!c.Ac(g,e,d)||g.da()<=d&&g.S()<=d)return!1;if(g.da()<=d||g.S()<=d)return c.Ac(g,e,d);a=a.Ha();b=new f.l;b.L(g);b.X(-d,-d);g=!1;e=new f.l;for(var h=new f.l;a.ab();)for(;a.Ia();)a.ia().A(e),b.jm(e)?g=!0:(h.L(b),h.Fa(e),!h.B()&&(h.da()>d||h.S()>d)&&(g=!0));return g};c.qV=function(a,
b,d){var e=new f.l,g=new f.l;b.A(g);a.A(e);if(!c.Ac(e,g,d)||g.da()>d&&g.S()>d)return!1;if(g.da()<=d&&g.S()<=d)return b=b.Kp(),c.LG(a,b,d);e=new f.Ua;g=new f.Ta;b.If(0,g);e.nf(g);b.If(2,g);e.lineTo(g);return c.Am(e,a,d,!1)};c.tV=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(c.Ac(g,e,d)||g.da()<=d&&g.S()<=d)return!1;if(g.da()<=d||g.S()<=d)return e=new f.Ua,g=new f.Ta,b.If(0,g),e.nf(g),b.If(2,g),e.lineTo(g),c.FI(a,e,d);a=a.Ha();b=new f.l;e=new f.l;e.L(g);b.L(g);e.X(-d,-d);b.X(d,d);for(var h=
g=!1,k=new f.l,m=new f.l;a.ab();)for(;a.Ia();)if(a.ia().A(k),h||b.contains(k)||(h=!0),g||(m.L(e),m.Fa(k),!m.B()&&(m.da()>d||m.S()>d)&&(g=!0)),g&&h)return!0;return!1};c.aU=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return c.fk(e,g,d)?c.bU(a,b,d)?!0:c.SA(a,b,d,!1,!0,!1):!1};c.ZT=function(a,b,d){return!c.aI(a,b,d)};c.gU=function(a,b,d){return c.SA(a,b,d,!1,!1,!0)};c.ZH=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return c.Ac(e,g,d)?c.SA(b,a,d,!0,!1,!1):!1};c.Ow=function(a,b,d){d*=
d;for(var e=new f.h,g=new f.h,h=0;h<b.I();h++){b.D(h,g);for(var k=!1,m=0;m<a.I();m++)if(a.D(m,e),f.h.zc(e,g)<=d){k=!0;break}if(!k)return!1}return!0};c.Pw=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return c.fk(e,g,d)};c.$H=function(a,b,d){b=b.D();return c.lt(a,b,d)};c.kU=function(a,b,d){return c.Pw(a,b,d)};c.WT=function(a,b,d){return!c.$H(a,b,d)};c.$T=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);return g.da()>d||g.S()>d?!1:c.fk(e,g,d)};c.YT=function(a,b,d){var e=new f.l,g=new f.l;
a.A(e);b.A(g);if(c.Ac(g,e,d))return!1;b=new f.l;b.L(g);b.X(d,d);d=new f.h;for(g=0;g<a.I();g++)if(a.D(g,d),b.contains(d))return!1;return!0};c.iU=function(a,b,d){var e=new f.l,g=new f.l,h=new f.l;b.A(e);if(e.da()<=d&&e.S()<=d)return!1;if(e.da()<=d||e.S()<=d){b=new f.h;var k=!1;g.L(e);h.L(e);g.X(d,d);e.da()>d?h.X(0,-d):h.X(-d,0);for(var m=0;m<a.I();m++)if(a.D(m,b),g.contains(b)){if(e.da()>d){if(b.y>h.G&&b.y<h.H)return!1}else if(b.x>h.v&&b.x<h.C)return!1;k=!0}return k}g.L(e);h.L(e);g.X(d,d);h.X(-d,-d);
b=new f.h;k=!1;for(m=0;m<a.I();m++)if(a.D(m,b),g.contains(b)){if(h.jm(b))return!1;k=!0}return k};c.jU=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(!c.Ac(g,e,d))return!1;if(g.da()<=d&&g.S()<=d)return c.fk(e,g,d);if(g.da()<=d||g.S()<=d){b=!1;e=new f.l;var h=new f.l;e.L(g);h.L(g);g.da()>d?e.X(0,-d):e.X(-d,0);h.X(d,d);for(var k=new f.h,m=0;m<a.I();m++){a.D(m,k);if(!h.contains(k))return!1;g.da()>d?k.y>e.G&&k.y<e.H&&(b=!0):k.x>e.v&&k.x<e.C&&(b=!0)}return b}b=!1;e=new f.l;h=new f.l;e.L(g);h.L(g);
e.X(-d,-d);h.X(d,d);k=new f.h;for(m=0;m<a.I();m++){a.D(m,k);if(!h.contains(k))return!1;e.jm(k)&&(b=!0)}return b};c.VT=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(!c.Ac(e,g,d)||g.da()>d||g.S()>d)return!1;b=b.Kp();return!c.lt(a,b,d)};c.XT=function(a,b,d){var e=new f.l,g=new f.l;a.A(e);b.A(g);if(c.Ac(g,e,d)||g.da()<=d&&g.S()<=d)return!1;if(g.da()<=d||g.S()<=d){b=new f.l;e=new f.l;b.L(g);g.da()>d?b.X(0,-d):b.X(-d,0);e.L(g);e.X(d,d);for(var h=new f.h,k=!1,m=!1,n=0;n<a.I();n++)if(a.D(n,h),
k||(g.da()>d?h.y>b.G&&h.y<b.H&&(k=!0):h.x>b.v&&h.x<b.C&&(k=!0)),m||e.contains(h)||(m=!0),k&&m)return!0;return!1}b=new f.l;e=new f.l;b.L(g);b.X(-d,-d);e.L(g);e.X(d,d);h=new f.h;m=k=!1;for(n=0;n<a.I();n++)if(a.D(n,h),!k&&b.jm(h)&&(k=!0),m||e.contains(h)||(m=!0),k&&m)return!0;return!1};c.qI=function(a,b,d){return f.h.zc(a,b)<=d*d?!0:!1};c.KU=function(a,b,d){return f.h.zc(a,b)>d*d?!0:!1};c.oI=function(a,b,d){return c.qI(a,b,d)};c.pI=function(a,b,d){var e=new f.l;e.L(a);return c.fk(e,b,d)};c.Tw=function(a,
b,d){var e=new f.l;e.L(b);e.X(d,d);return!e.contains(a)};c.YA=function(a,b,d){if(b.da()<=d&&b.S()<=d)return!1;var e=new f.l,g=new f.l;e.L(b);e.X(d,d);if(!e.contains(a))return!1;if(b.da()<=d||b.S()<=d){g.L(b);b.da()>d?g.X(0,-d):g.X(-d,0);if(b.da()>d){if(a.y>g.G&&a.y<g.H)return!1}else if(a.x>g.v&&a.x<g.C)return!1;return!0}g.L(b);g.X(-d,-d);return g.jm(a)?!1:!0};c.ZA=function(a,b,d){if(b.da()<=d&&b.S()<=d)return!0;if(b.da()<=d||b.S()<=d){var e=new f.l;e.L(b);b.da()>d?e.X(0,-d):e.X(-d,0);var g=!1;b.da()>
d?a.y>e.G&&a.y<e.H&&(g=!0):a.x>e.v&&a.x<e.C&&(g=!0);return g}e=new f.l;e.L(b);e.X(-d,-d);return e.jm(a)};c.JU=function(a,b,d){return c.pI(a,b,d)};c.fk=function(a,b,d){return c.Ac(a,b,d)&&c.Ac(b,a,d)};c.ek=function(a,b,d){var e=new f.l;e.L(b);e.X(d,d);return!a.isIntersecting(e)};c.XP=function(a,b,d){if(a.da()<=d&&a.S()<=d){var e=a.tf();return c.YA(e,b,d)}if(b.da()<=d&&b.S()<=d)return e=b.tf(),c.YA(e,a,d);a.da()>d&&a.S()>d&&(b.da()<=d||b.S()<=d)?e=b:(e=a,a=b);if(e.da()<=d||e.S()<=d){if(a.da()<=d||a.S()<=
d){b=new f.zb;var g=new f.zb,h=[0,0],k=[0,0],m=new f.h;e.fn(m);b.Ec(m);e.gn(m);b.Rc(m);a.fn(m);g.Ec(m);a.gn(m);g.Rc(m);b.Fa(g,null,h,k,d);return 1!=b.Fa(g,null,null,null,d)?!1:0==h[0]||1==h[1]||0==k[0]||1==k[1]}b=new f.l;g=new f.l;b.L(a);b.X(-d,-d);g.L(b);g.Fa(e);return!g.B()&&(g.da()>d||g.S()>d)?!1:!0}a.X(d,d);g=new f.l;g.L(e);g.Fa(a);return g.B()||!g.B()&&g.da()>d&&g.S()>d?!1:!0};c.WP=function(a,b,d){if(c.Ac(a,b,d)||c.Ac(b,a,d)||a.da()<=d&&a.S()<=d||b.da()<=d&&b.S()<=d)return!1;if(a.da()<=d||a.S()<=
d){if(b.da()>d&&b.S()>d)return!1;var e=new f.zb,g=new f.zb,h=[0,0],k=[0,0],m=new f.h;a.fn(m);e.Ec(m);a.gn(m);e.Rc(m);b.fn(m);g.Ec(m);b.gn(m);g.Rc(m);e.Fa(g,null,h,k,d);return 2!=e.Fa(g,null,null,null,d)?!1:(0<h[0]||1>h[1])&&(0<k[0]||1>k[1])}if(b.da()<=d||b.S()<=d)return!1;e=new f.l;e.L(a);e.Fa(b);return e.B()||e.da()<=d||e.S()<=d?!1:!0};c.dF=function(a,b,d){if(!c.Ac(a,b,d))return!1;if(a.da()<=d&&a.S()<=d)return a=a.tf(),c.ZA(a,b,d);if(b.da()<=d&&b.S()<=d)return b=b.tf(),c.ZA(b,a,d);if(a.da()<=d||
a.S()<=d)return c.Ac(a,b,d);if(b.da()<=d||b.S()<=d){var e=new f.l;e.L(a);e.X(-d,-d);if(e.jm(b))return!0;a=new f.l;a.L(e);a.Fa(b);return a.B()||a.da()<=d&&a.S()<=d?!1:!0}return c.Ac(a,b,d)};c.VP=function(a,b,d){if(c.Ac(a,b,d)||c.Ac(b,a,d)||a.da()<=d&&a.S()<=d||b.da()<=d&&b.S()<=d||b.da()>d&&b.S()>d&&a.da()>d&&a.S()>d)return!1;if(a.da()>d&&a.S()>d)var e=b;else e=a,a=b;if(a.da()>d&&a.S()>d){b=new f.l;var g=new f.l;g.L(a);g.X(-d,-d);b.L(g);b.Fa(e);return b.B()||b.da()<=d&&b.S()<=d?!1:!0}b=new f.zb;g=
new f.zb;var h=[0,0],k=[0,0],m=new f.h;e.fn(m);b.Ec(m);e.gn(m);b.Rc(m);a.fn(m);g.Ec(m);a.gn(m);g.Rc(m);b.Fa(g,null,h,k,d);return 1!=b.Fa(g,null,null,null,d)?!1:0<h[0]&&1>h[1]&&0<k[0]&&1>k[1]};c.yI=function(a,b,d){var e=new f.l,g=new f.l,h=new f.am(a,b,d,!0);if(!h.next())return!0;if(this.NG(a,b,d))return!1;var k=a,m=null;1736==b.K()&&(m=b);var n=!1,p=!1;do{var q=h.pl(),r=h.jl();r=b.Oa(b.Ca(r));e.L(h.oz());e.X(d,d);if(e.contains(r)&&(r=f.jd.Zd(k,r,0),0!=r)||1736==b.K()&&(q=a.Oa(a.Ca(q)),g.L(h.Wy()),
g.X(d,d),g.contains(q)&&(r=f.jd.Zd(m,q,0),0!=r)))return!1;n||(!f.Fg.Ol(a,b.ea()-1)||null!=a.Cb&&null!=a.Cb.Gb?k=a:(k=new f.Ea,a.copyTo(k),k.hj(1)),n=!0);1736!=b.K()||p||(p=b,!f.Fg.Ol(p,a.ea()-1)||null!=b.Cb&&null!=b.Cb.Gb?m=b:(m=new f.Ea,p.copyTo(m),m.hj(1)),p=!0)}while(h.next());return!0};c.Ac=function(a,b,d){var e=new f.l;e.L(a);e.X(d,d);return e.contains(b)};c.ns=function(a,b,d){var e=new f.l;e.L(b);e.X(d,d);b=new f.h;a.fn(b);if(!e.contains(b))return!0;a.UI(b);if(!e.contains(b))return!0;a.XI(b);
if(!e.contains(b))return!0;a.gn(b);return e.contains(b)?!1:!0};c.YH=function(a,b,d){if(a.ea()!=b.ea()||a.I()!=b.I())return!1;var e=new f.h,g=new f.h,h=!0;d*=d;for(var k=0;k<a.ea();k++){if(a.Wc(k)!=b.Wc(k)){h=!1;break}for(var m=a.Ca(k);m<b.Wc(k);m++)if(a.D(m,e),b.D(m,g),f.h.zc(e,g)>d){h=!1;break}if(!h)break}return h?!0:!1};c.bU=function(a,b,d){if(a.I()!=b.I())return!1;var e=new f.h,g=new f.h,h=!0;d*=d;for(var k=0;k<a.I();k++)if(a.D(k,e),b.D(k,g),f.h.zc(e,g)>d){h=!1;break}return h?!0:!1};c.SA=function(a,
b,d,e,g,h){var k=!1;if(a.I()>b.I()){e&&(e=!1,k=!0);var m=b}else m=a,a=b;b=null;if(g||h||k){b=new f.rn(a.I());for(var n=0;n<a.I();n++)b.write(n,0)}n=new f.l;var p=new f.l,q=new f.l;m.A(n);a.A(p);n.X(d,d);p.X(d,d);q.L(n);q.Fa(p);p=new f.h;for(var r=new f.h,v=!0,G=f.ta.iE(a,q),S=G.getIterator(),X=d*d,V=0;V<m.I();V++)if(m.D(V,p),q.contains(p)){var Z=!1;n.L(p.x,p.y,p.x,p.y);S.Zi(n,d);for(var ia=S.next();-1!=ia&&!(ia=G.ka(ia),a.D(ia,r),f.h.zc(p,r)<=X&&((g||h||k)&&b.write(ia,1),Z=!0,e));ia=S.next());if(!Z&&
(v=!1,g||e))return!1}else{if(g||e)return!1;v=!1}if(h&&v)return!1;if(e)return!0;for(n=0;n<a.I();n++)if(1==b.read(n)){if(h)return!0}else if(g||k)return!1;return h?!1:!0};c.aI=function(a,b,d){if(a.I()>b.I())var e=b;else e=a,a=b;b=new f.l;var g=new f.l,h=new f.l;e.A(b);a.A(g);b.X(d,d);g.X(d,d);h.L(b);h.Fa(g);g=new f.h;for(var k=new f.h,m=d*d,n=f.ta.iE(a,h),p=n.getIterator(),q=0;q<e.I();q++)if(e.D(q,g),h.contains(g)){b.L(g.x,g.y,g.x,g.y);p.Zi(b,d);for(var r=p.next();-1!=r;r=p.next())if(a.D(n.ka(r),k),
f.h.zc(g,k)<=m)return!0}return!1};c.Rz=function(a,b,d,e){return c.Am(a,b,d,e)&&c.Am(b,a,d,e)};c.Am=function(a,b,d,e){function g(Oa,Ma){return q.KE(Oa,Ma)}var h=!0,k=[0,0],m=[0,0],n=0,p=new f.ja(0),q=new c,r,v=new f.l,G=new f.l,S=new f.l;a.A(v);b.A(G);v.X(d,d);G.X(d,d);S.L(v);S.Fa(G);a=a.Ha();G=b.Ha();var X=null,V=X=null,Z=b.Cb;null!=Z?(X=Z.Gb,V=Z.Ao,null==X&&(X=f.ta.lj(b,S))):X=f.ta.lj(b,S);b=X.getIterator();Z=null;for(null!=V&&(Z=V.getIterator());a.ab();)for(;a.Ia();){var ia=!1,ja=a.ia();ja.A(v);
if(!v.isIntersecting(S))return!1;if(null!=Z&&(Z.Zi(v,d),-1==Z.next()))return h=!1;V=ja.Rb();b.Vo(ja,d);for(r=b.next();-1!=r;r=b.next()){G.Wb(X.ka(r));r=G.ia();var ma=ja.Fa(r,null,k,m,d);if(2==ma&&(!e||m[0]<=m[1])){ma=k[0];var sa=k[1],va=m[0],Aa=m[1];if(ma*V<=d&&(1-sa)*V<=d){ia=!0;n=0;p.resize(0);q.th.length=0;var za=a.xb();for(va=!0;va;){if(a.Ia()){ja=a.ia();V=ja.Rb();ma=ja.Fa(r,null,k,m,d);if(2==ma&&(!e||m[0]<=m[1])&&(ma=k[0],sa=k[1],ma*V<=d&&(1-sa)*V<=d)){za=a.xb();continue}if(G.Ia()&&(r=G.ia(),
ma=ja.Fa(r,null,k,m,d),2==ma&&(!e||m[0]<=m[1])&&(ma=k[0],sa=k[1],ma*V<=d&&(1-sa)*V<=d))){za=a.xb();continue}}va=!1}za!=a.xb()&&(a.Wb(za),a.ia());break}else za=a.xb(),r=w.construct(za,a.gb,ma,sa,G.xb(),G.gb,va,Aa),q.th.push(r),p.add(p.size)}}if(!ia){if(n==q.th.length)return!1;1<p.size-n&&p.Wd(n,p.size,g);for(ia=0;n<q.th.length;n++)if(r=q.th[p.get(n)],!(r.Mj<ia&&r.Ui<ia)){if(V*(r.Mj-ia)>d)return!1;ia=r.Ui;if(V*(1-ia)<=d||1==ia)break}if(V*(1-ia)>d)return!1;n=0;p.resize(0);q.th.length=0}}return h};c.PG=
function(a,b,d){if(1>c.Sz(a,b,d,null))return!1;var e=new f.l,g=new f.l;a.A(e);b.A(g);var h=c.ns(e,g,d);e=c.ns(g,e,d);return h&&e?!0:h&&!e?!c.Am(b,a,d,!1):e&&!h?!c.Am(a,b,d,!1):!c.Am(a,b,d,!1)&&!c.Am(b,a,d,!1)};c.Sz=function(a,b,d,e){function g(Ya,ab){return v.KE(Ya,ab)}if(a.sz()>b.sz())var h=b,k=a;else h=a,k=b;a=h.Ha();b=k.Ha();var m=[0,0],n=[0,0],p=-1,q=0,r=new f.ja(0),v=new c,G=new f.l,S=new f.l,X=new f.l;h.A(G);k.A(S);G.X(d,d);S.X(d,d);X.L(G);X.Fa(S);h=null;null!=e&&(h=new f.h);var V=S=S=null,
Z=k.Cb;null!=Z?(S=Z.Gb,V=Z.Ao,null==S&&(S=f.ta.lj(k,X))):S=f.ta.lj(k,X);k=S.getIterator();Z=null;for(null!=V&&(Z=V.getIterator());a.ab();)for(V=0;a.Ia();){var ia=a.ia();ia.A(G);if(G.isIntersecting(X)&&(null==Z||(Z.Zi(G,d),-1!=Z.next()))){var ja=ia.Rb();k.Vo(ia,d);for(var ma=k.next();-1!=ma;ma=k.next()){var sa=S.ka(ma);b.Wb(sa);var va=b.ia(),Aa=va.Rb(),za=ia.Fa(va,null,m,n,d);if(0<za){ma=m[0];p=n[0];var Oa=2==za?m[1]:NaN,Ma=2==za?n[1]:NaN;if(2==za){if(ja*(Oa-ma)>d)return p=1;var Sa=ja*(Oa-ma);if(b.Ia()){va=
b.ia();za=ia.Fa(va,null,m,null,d);if(2==za){za=m[0];var Ta=m[1];za=ja*(Ta-za);if(Sa+za>d)return p=1}b.Wb(sa);b.ia()}if(!b.xm()){b.ni();va=b.ni();za=ia.Fa(va,null,m,null,d);if(2==za&&(za=m[0],Ta=m[1],za=ja*(Ta-za),Sa+za>d))return p=1;b.Wb(sa);b.ia()}if(a.Ia()){sa=a.xb();ia=a.ia();za=ia.Fa(va,null,m,null,d);if(2==za&&(za=m[0],Ta=m[1],za=ja*(Ta-za),Sa+za>d))return p=1;a.Wb(sa);a.ia()}if(!a.xm()){sa=a.xb();a.ni();ia=a.ni();za=ia.Fa(va,null,m,null,d);if(2==za&&(za=m[0],Ta=m[1],za=Aa*(Ta-za),Sa+za>d))return p=
1;a.Wb(sa);a.ia()}va=w.construct(a.xb(),a.gb,ma,Oa,b.xb(),b.gb,p,Ma);v.th.push(va);r.add(r.size)}p=0;null!=e&&(ia.ic(ma,h),e.add(h.x),e.add(h.y))}}if(q<v.th.length){r.Wd(q,r.size,g);ia=0;for(ma=v.th[r.get(q)].Om;q<v.th.length;q++)if(va=v.th[r.get(q)],!(va.Mj<ia&&va.Ui<ia))if(ja*(va.Mj-ia)>d)V=ja*(va.Ui-va.Mj),ia=va.Ui,ma=va.Om;else{va.Om!=ma?(V=ja*(va.Ui-va.Mj),ma=va.Om):V+=ja*(va.Ui-va.Mj);if(V>d)return p=1;ia=va.Ui;if(1==ia)break}ja*(1-ia)>d&&(V=0);q=0;r.resize(0);v.th.length=0}}}return p};c.NG=
function(a,b,d){var e=a.Ha(),g=b.Ha();for(a=new f.am(a,b,d,!1);a.next();){b=a.pl();var h=a.jl();e.Wb(b);g.Wb(h);b=e.ia();if(0<g.ia().Fa(b,null,null,null,d))return!0}return!1};c.OG=function(a,b,d,e){var g=a.Ha(),h=new f.l,k=new f.l,m=new f.l;a.A(h);b.A(k);h.X(d,d);h.contains(k);k.X(d,d);m.L(h);m.Fa(k);h=a.Cb;null!=h?(h=h.Gb,null==h&&(h=f.ta.lj(a,m))):h=f.ta.lj(a,m);a=h.getIterator();for(var n=new f.h,p=new f.h,q=d*d,r=0;r<b.I();r++)if(b.D(r,n),m.contains(n)){k.L(n.x,n.y,n.x,n.y);a.Zi(k,d);for(var v=
!1,G=a.next();-1!=G;G=a.next())if(g.Wb(h.ka(G)),G=g.ia(),G.ic(G.fe(n,!1),p),f.h.zc(p,n)<=q){v=!0;break}if(e){if(!v)return!1}else if(v)return!0}return e?!0:!1};c.Tz=function(a,b,d){var e=new f.h,g=d*d,h=a.Ha();a=a.Cb;if(null!=a&&(a=a.Gb,null!=a)){var k=new f.l;k.L(b);d=a.GF(k,d);for(k=d.next();-1!=k;k=d.next())if(h.Wb(a.ka(k)),h.Ia()){k=h.ia();var m=k.fe(b,!1);k.ic(m,e);if(f.h.zc(b,e)<=g)return!0}return!1}for(a=new f.l;h.ab();)for(;h.Ia();)if(k=h.ia(),k.A(a),a.X(d,d),a.contains(b)&&(m=k.fe(b,!1),k.ic(m,
e),f.h.zc(b,e)<=g))return!0;return!1};c.LG=function(a,b,d){return c.Tz(a,b,d)&&!c.Uz(a,b,d)};c.Uz=function(a,b,d){a=a.mg();return!c.lt(a,b,d)};c.MG=function(a,b,d){if(a.vm()){var e=new f.zb(b.v,b.G,b.v,b.H),g=new f.zb(b.v,b.H,b.C,b.H),h=new f.zb(b.C,b.H,b.C,b.G);b=new f.zb(b.C,b.G,b.v,b.G);for(a=a.Ha();a.ab();)for(;a.Ia();){var k=a.ia();if(k.isIntersecting(e,d)||k.isIntersecting(g,d)||k.isIntersecting(h,d)||k.isIntersecting(b,d))return!0}}else{e=new f.l;e.L(b);e.X(d,d);d=a.vb(0);g=new f.h;h=new f.h;
b=new f.h;k=new f.h;for(var m=0,n=a.ea();m<n;m++)for(var p=!0,q=a.Ca(m),r=a.Wc(m);q<r;q++)if(p)d.uc(2*q,h),p=!1;else{d.uc(2*q,g);b.N(h);k.N(g);if(0!=e.uy(b,k))return!0;h.N(g)}}return!1};c.qc=function(a,b,d){var e=a.K(),g=b.K();if(f.ba.zj(e)){var h=a.Cb;if(null!=h&&(h=h.Gk,null!=h))if(33==g){var k=b.D();k=h.To(k.x,k.y);if(1==k)return 1;if(0==k)return 4}else{k=new f.l;b.A(k);k=h.So(k);if(1==k)return 1;if(0==k)return 4;if(d&&f.ba.zj(g)&&c.BE(b,h))return 1073741824}}if(f.ba.zj(g)&&(h=b.Cb,null!=h&&(h=
h.Gk,null!=h)))if(33==e){a=a.D();k=h.To(a.x,a.y);if(1==k)return 2;if(0==k)return 4}else{b=new f.l;a.A(b);k=h.So(b);if(1==k)return 2;if(0==k)return 4;if(d&&f.ba.zj(e)&&c.BE(a,h))return 1073741824}return 0};c.BE=function(a,b){for(var d=a.I(),e=new f.h,g=0;g<d;g++)if(a.D(g,e),1==b.To(e.x,e.y))return!0;return!1};c.CI=function(a,b,d,e){for(var g=1<=a.qm(0)&&1<=b.qm(0),h=a.Ha(),k=b.Ha(),m=[0,0],n=[0,0],p=new f.am(a,b,d,!1),q=!1;p.next();){var r=p.pl(),v=p.jl();h.Wb(r);k.Wb(v);r=h.ia();v=k.ia().Fa(r,null,
n,m,d);if(2==v){q=m[0];v=m[1];r=r.Rb();if(g&&(v-q)*r>d)return!1;q=!0}else if(0!=v){q=m[0];r=n[0];if(0<q&&1>q&&0<r&&1>r)return!1;q=!0}}if(!q)return!1;h=new f.l;k=new f.l;g=new f.l;a.A(h);b.A(k);h.X(1E3*d,1E3*d);k.X(1E3*d,1E3*d);g.L(h);g.Fa(k);return 10<a.I()&&(a=f.Vd.clip(a,g,d,0),a.B())||10<b.I()&&(b=f.Vd.clip(b,g,d,0),b.B())?!1:f.cm.st(a,b,d,"F********",e)};c.zI=function(a,b,d,e){var g=1<=a.qm(0)&&1<=b.qm(0),h=new f.l,k=new f.l,m=new f.l;a.A(h);b.A(k);for(var n=!1,p=c.ns(h,k,d),q=c.ns(k,h,d),r=a.Ha(),
v=b.Ha(),G=[0,0],S=[0,0],X=new f.am(a,b,d,!1);X.next();){var V=X.pl(),Z=X.jl();r.Wb(V);v.Wb(Z);Z=r.ia();V=v.ia().Fa(Z,null,S,G,d);if(2==V){V=G[0];var ia=G[1];Z=Z.Rb();if(g&&(ia-V)*Z>d&&(n=!0,p&&q))return!0}else if(0!=V&&(V=G[0],Z=S[0],0<V&&1>V&&0<Z&&1>Z))return!0}g=new f.l;r=new f.l;g.L(h);g.X(1E3*d,1E3*d);r.L(k);r.X(1E3*d,1E3*d);m.L(g);m.Fa(r);h="";h=n?h+"**":h+"T*";if(p){if(10<b.I()&&(b=f.Vd.clip(b,m,d,0),b.B()))return!1;h+="****"}else h+="T***";if(q){if(10<a.I()&&(a=f.Vd.clip(a,m,d,0),a.B()))return!1;
h+="***"}else h+="T**";return f.cm.st(a,b,d,h.toString(),e)};c.vI=function(a,b,d,e){var g=[!1],h=c.tI(a,b,d,g);if(g[0])return h;g=new f.l;b.A(g);g.X(1E3*d,1E3*d);return 10<a.I()&&(a=f.Vd.clip(a,g,d,0),a.B())?!1:f.cm.Uw(a,b,d,e)};c.tI=function(a,b,d,e){e[0]=!1;for(var g=a.Ha(),h=b.Ha(),k=[0,0],m=[0,0],n=new f.am(a,b,d,!1),p=!1;n.next();){var q=n.pl(),r=n.jl();g.Wb(q,-1);h.Wb(r,-1);q=g.ia();q=h.ia().Fa(q,null,m,k,d);if(0!=q&&(p=!0,1==q&&(q=k[0],r=m[0],0<q&&1>q&&0<r&&1>r)))return e[0]=!0,!1}if(!p){e[0]=
!0;k=new f.l;a.A(k);k.X(d,d);n=a;p=!1;m=new f.l;e=0;for(g=b.ea();e<g;e++)if(0<b.Ka(e)){b.Tj(e,m);if(k.isIntersecting(m)){if(h=b.Oa(b.Ca(e)),h=f.Fg.ym(n,h,0),0==h)return!1}else return!1;p||(!f.Fg.Ol(a,b.ea()-1)||null!=a.Cb&&null!=a.Cb.Gb?n=a:(h=new f.Ea,a.copyTo(h),h.hj(1),n=h),p=!0)}if(1==a.ea()||1607==b.K())return!0;k=new f.l;b.A(k);k.X(d,d);m=b;n=!1;d=new f.l;e=0;for(g=a.ea();e<g;e++)if(0<a.Ka(e)){a.Tj(e,d);if(k.isIntersecting(d)&&(h=a.Oa(a.Ca(e)),h=f.Fg.ym(m,h,0),1==h))return!1;n||(!f.Fg.Ol(b,
a.ea()-1)||null!=b.Cb&&null!=b.Cb.Gb?m=b:(h=new f.Ea,b.copyTo(h),h.hj(1),m=h),n=!0)}return!0}return!1};c.DI=function(a,b,d,e){for(var g=a.Ha(),h=b.Ha(),k=[0,0],m=[0,0],n=new f.am(a,b,d,!1),p=!1;n.next();){var q=n.pl(),r=n.jl();g.Wb(q);h.Wb(r);q=g.ia();q=h.ia().Fa(q,null,m,k,d);if(2==q)p=!0;else if(0!=q){p=k[0];q=m[0];if(0<p&&1>p&&0<q&&1>q)return!1;p=!0}}if(!p)return!1;h=new f.l;k=new f.l;g=new f.l;a.A(h);b.A(k);h.X(1E3*d,1E3*d);k.X(1E3*d,1E3*d);g.L(h);g.Fa(k);return 10<a.I()&&(a=f.Vd.clip(a,g,d,0),
a.B())||10<b.I()&&(b=f.Vd.clip(b,g,d,0),b.B())?!1:f.cm.bn(a,b,d,"F********",e)};c.xI=function(a,b,d,e){for(var g=a.Ha(),h=b.Ha(),k=[0,0],m=[0,0],n=new f.am(a,b,d,!1),p=!1;n.next();){var q=n.pl(),r=n.jl();g.Wb(q);h.Wb(r);q=g.ia();q=h.ia().Fa(q,null,m,k,d);if(2==q)p=!0;else if(0!=q){p=k[0];q=m[0];if(0<p&&1>p&&0<q&&1>q)return!0;p=!0}}if(!p)return!1;h=new f.l;k=new f.l;m=new f.l;n=new f.l;g=new f.l;a.A(h);b.A(k);return c.ns(k,h,d)?(m.L(h),m.X(1E3*d,1E3*d),n.L(k),n.X(1E3*d,1E3*d),g.L(m),g.Fa(n),10<a.I()&&
(a=f.Vd.clip(a,g,d,0),a.B())||10<b.I()&&(b=f.Vd.clip(b,g,d,0),b.B())?!1:d=f.cm.bn(a,b,d,"T********",e)):d=f.cm.bn(a,b,d,"T*****T**",e)};c.wI=function(a,b,d,e){var g=[!1],h=c.tI(a,b,d,g);if(g[0])return h;g=new f.l;b.A(g);g.X(1E3*d,1E3*d);return 10<a.I()&&(a=f.Vd.clip(a,g,d,0),a.B())?!1:f.cm.$A(a,b,d,e)};c.uI=function(a,b,d){return 1==f.jd.Zd(a,b,d)?!0:!1};c.BI=function(a,b,d){return 2==f.jd.Zd(a,b,d)?!0:!1};c.lt=function(a,b,d){var e=new f.h;d*=d;for(var g=0;g<a.I();g++)if(a.D(g,e),f.h.zc(e,b)<=d)return!1;
return!0};c.prototype.KE=function(a,b){a=this.th[a];b=this.th[b];return a.Om<b.Om||a.Om==b.Om&&(a.rw<b.rw||a.rw==b.rw&&(a.Mj<b.Mj||a.Mj==b.Mj&&(a.Ui<b.Ui||a.Ui==b.Ui&&a.vH<b.vH)))?-1:1};return c}();f.vd=l})(Y||(Y={}));(function(f){var w;(function(c){c[c.InteriorInterior=0]="InteriorInterior";c[c.InteriorBoundary=1]="InteriorBoundary";c[c.InteriorExterior=2]="InteriorExterior";c[c.BoundaryInterior=3]="BoundaryInterior";c[c.BoundaryBoundary=4]="BoundaryBoundary";c[c.BoundaryExterior=5]="BoundaryExterior";
c[c.ExteriorInterior=6]="ExteriorInterior";c[c.ExteriorBoundary=7]="ExteriorBoundary";c[c.ExteriorExterior=8]="ExteriorExterior"})(w||(w={}));var l;(function(c){c[c.AreaAreaPredicates=0]="AreaAreaPredicates";c[c.AreaLinePredicates=1]="AreaLinePredicates";c[c.LineLinePredicates=2]="LineLinePredicates";c[c.AreaPointPredicates=3]="AreaPointPredicates";c[c.LinePointPredicates=4]="LinePointPredicates";c[c.PointPointPredicates=5]="PointPointPredicates"})(l||(l={}));w=function(){function c(){this.le=0;this.j=
new f.ku;this.J=[0,0,0,0,0,0,0,0,0];this.$a=[0,0,0,0,0,0,0,0,0];this.fa=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Um=this.xw=-1}c.sB=function(a,b,d,e,g){if(9!=e.length)throw f.i.ga("relation string length has to be 9 characters");for(var h=0;9>h;h++){var k=e.charAt(h);if("*"!=k&&"T"!=k&&"F"!=k&&"0"!=k&&"1"!=k&&"2"!=k)throw f.i.ga("relation string");}h=this.FR(e,a.Eb(),b.Eb());if(0!=h)return f.vd.tB(a,b,d,h,g);h=new f.l;a.A(h);k=new f.l;b.A(k);var m=new f.l;m.L(h);m.$b(k);d=f.ta.Xd(d,m,!1);a=this.QE(a,d);
b=this.QE(b,d);if(a.B()||b.B())return this.mW(a,b,e);h=b.K();k=!1;switch(a.K()){case 1736:switch(h){case 1736:k=this.st(a,b,d,e,g);break;case 1607:k=this.bn(a,b,d,e,g);break;case 33:k=this.rt(a,b,d,e);break;case 550:k=this.qt(a,b,d,e,g)}break;case 1607:switch(h){case 1736:k=this.bn(b,a,d,this.aq(e),g);break;case 1607:k=this.aB(a,b,d,e,g);break;case 33:k=this.ut(a,b,d,e,g);break;case 550:k=this.tt(a,b,d,e,g)}break;case 33:switch(h){case 1736:k=this.rt(b,a,d,this.aq(e));break;case 1607:k=this.ut(b,
a,d,this.aq(e),g);break;case 33:k=this.SU(a,b,d,e);break;case 550:k=this.mt(b,a,d,this.aq(e))}break;case 550:switch(h){case 1736:k=this.qt(b,a,d,this.aq(e),g);break;case 1607:k=this.tt(b,a,d,this.aq(e),g);break;case 550:k=this.TA(a,b,d,e,g);break;case 33:k=this.mt(a,b,d,e)}break;default:k=!1}return k};c.st=function(a,b,d,e,g){var h=new c;h.$i();h.dj(e);h.rJ();var k=new f.l,m=new f.l;a.A(k);b.A(m);e=!1;f.vd.ek(k,m,d)&&(h.Eu(a,b),e=!0);e||(k=f.vd.qc(a,b,!1),4==k?(h.Eu(a,b),e=!0):1==k?(h.hy(b),e=!0):
2==k&&(h.TD(a),e=!0));e||(e=new f.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,g),h.Dp(a,b),h.j.Wg());return c.fg(h.J,h.Yc)};c.Uw=function(a,b,d,e){var g=new c;g.$i();g.dj("T*****F**");g.rJ();var h=new f.l,k=new f.l;a.A(h);b.A(k);var m=!1;f.vd.ek(h,k,d)&&(g.Eu(a,b),m=!0);m||(h=f.vd.qc(a,b,!1),4==h?(g.Eu(a,b),m=!0):1==h?(g.hy(b),m=!0):2==h&&(g.TD(a),m=!0));if(m)return h=this.fg(g.J,g.Yc);m=new f.hd;a=m.Ib(a);h=m.Ib(b);f.Uk.W(m,d,e,!1);d=m.Ke(h).mg();m.Ip(0,!0,!0);f.tn.W(m,a,-1,!1,e);if(0==m.I(a))return!1;f.tn.W(m,
h,-1,!1,e);g.gr(m,e);b=0==m.I(h);if(!b&&(g.Dp(a,h),g.j.Wg(),h=this.fg(g.J,g.Yc),!h))return h;a=m.Ke(a);m=new f.hd;a=m.Ib(a);h=m.Ib(d);g.gr(m,e);g.le=0;g.$i();g.dj(b?"T*****F**":"******F**");g.CB();g.Dp(a,h);g.j.Wg();return h=this.fg(g.J,g.Yc)};c.bn=function(a,b,d,e,g){var h=new c;h.$i();h.dj(e);h.CB();var k=new f.l,m=new f.l;a.A(k);b.A(m);e=!1;f.vd.ek(k,m,d)&&(h.Fu(a,b),e=!0);e||(k=f.vd.qc(a,b,!1),4==k?(h.Fu(a,b),e=!0):1==k&&(h.UD(b),e=!0));e||(e=new f.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,g),h.mh=h.j.Fp(),
c.Lw(b,h.j,h.mh),h.Dp(a,b),h.j.Gp(h.mh),h.j.Wg());return c.fg(h.J,h.Yc)};c.$A=function(a,b,d,e){var g=new c;g.$i();g.dj("T*****F**");g.CB();var h=new f.l,k=new f.l;a.A(h);b.A(k);var m=!1;f.vd.ek(h,k,d)&&(g.Fu(a,b),m=!0);m||(h=f.vd.qc(a,b,!1),4==h?(g.Fu(a,b),m=!0):1==h&&(g.UD(b),m=!0));if(m)return d=this.fg(g.J,g.Yc);m=new f.hd;a=m.Ib(a);b=m.Ib(b);g.Xo(m,d,e);if(0==m.I(a))return!1;g.Dp(a,b);g.j.Wg();return d=this.fg(g.J,g.Yc)};c.qt=function(a,b,d,e,g){var h=new c;h.$i();h.dj(e);h.sJ();var k=new f.l,
m=new f.l;a.A(k);b.A(m);e=!1;f.vd.ek(k,m,d)&&(h.Gu(a),e=!0);e||(k=f.vd.qc(a,b,!1),4==k?(h.Gu(a),e=!0):1==k&&(h.tN(),e=!0));e||(e=new f.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,g),h.By(a,b),h.j.Wg());return c.fg(h.J,h.Yc)};c.aB=function(a,b,d,e,g){var h=new c;h.$i();h.dj(e);h.WW();e=new f.l;var k=new f.l;a.A(e);b.A(k);var m=!1;f.vd.ek(e,k,d)&&(h.JG(a,b),m=!0);m||4!=f.vd.qc(a,b,!1)||(h.JG(a,b),m=!0);m||(e=new f.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,g),h.$h=h.j.Fp(),h.mh=h.j.Fp(),c.Lw(a,h.j,h.$h),c.Lw(b,h.j,h.mh),
h.Dp(a,b),h.j.Gp(h.$h),h.j.Gp(h.mh),h.j.Wg());return c.fg(h.J,h.Yc)};c.tt=function(a,b,d,e,g){var h=new c;h.$i();h.dj(e);h.GJ();e=new f.l;var k=new f.l;a.A(e);b.A(k);var m=!1;f.vd.ek(e,k,d)&&(h.Qz(a),m=!0);m||4!=f.vd.qc(a,b,!1)||(h.Qz(a),m=!0);m||(e=new f.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,g),h.$h=h.j.Fp(),c.Lw(a,h.j,h.$h),h.By(a,b),h.j.Gp(h.$h),h.j.Wg());return c.fg(h.J,h.Yc)};c.TA=function(a,b,d,e,g){var h=new c;h.$i();h.dj(e);h.LJ();e=new f.l;var k=new f.l;a.A(e);b.A(k);var m=!1;f.vd.ek(e,k,d)&&(h.sI(),
m=!0);m||(e=new f.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,g),h.By(a,b),h.j.Wg());return c.fg(h.J,h.Yc)};c.rt=function(a,b,d,e){var g=new c;g.$i();g.dj(e);g.sJ();var h=new f.l;a.A(h);b=b.D();var k=!1;f.vd.Tw(b,h,d)&&(g.Gu(a),k=!0);k||(d=f.jd.Zd(a,b,d),1==d?(g.J[0]=0,g.J[2]=2,g.J[3]=-1,g.J[5]=1,g.J[6]=-1):2==d?(g.J[6]=-1,0!=a.He()?(g.J[0]=-1,g.J[3]=0,g.J[2]=2,g.J[5]=1):(g.J[0]=0,g.J[3]=-1,g.J[5]=-1,d=new f.l,a.A(d),g.J[2]=0==d.da()&&0==d.S()?-1:1)):g.Gu(a));return this.fg(g.J,e)};c.ut=function(a,b,d,e,g){var h=
new c;h.$i();h.dj(e);h.GJ();var k=new f.l;a.A(k);e=b.D();var m=!1;f.vd.Tw(e,k,d)&&(h.Qz(a),m=!0);if(!m){k=null;var n=m=!1;if(h.fa[0]||h.fa[6])f.vd.Tz(a,e,d)?(h.fa[0]&&(k=f.si.im(a,g),n=!f.vd.lt(k,e,d),m=!0,h.J[0]=n?-1:0),h.J[6]=-1):(h.J[0]=-1,h.J[6]=0);h.fa[3]&&(null!=k&&k.B()?h.J[3]=-1:(m||(null==k&&(k=f.si.im(a,g)),n=!f.vd.lt(k,e,d),m=!0),h.J[3]=n?0:-1));h.fa[5]&&(null!=k&&k.B()?h.J[5]=-1:m&&!n?h.J[5]=0:(null==k&&(k=f.si.im(a,g)),g=f.vd.Pw(k,b,d),h.J[5]=g?-1:0));h.fa[2]&&(0!=a.Rb()?h.J[2]=1:(g=
new f.de(a.description),g.Gd(a,0,a.I()),a=f.vd.Pw(g,b,d),h.J[2]=a?-1:0))}return this.fg(h.J,h.Yc)};c.mt=function(a,b,d,e){var g=new c;g.$i();g.dj(e);g.LJ();var h=new f.l;a.A(h);b=b.D();var k=!1;f.vd.Tw(b,h,d)&&(g.sI(),k=!0);if(!k){h=!1;k=!0;d*=d;for(var m=0;m<a.I();m++){var n=a.Oa(m);f.h.zc(n,b)<=d?h=!0:k=!1;if(h&&!k)break}h?(g.J[0]=0,g.J[2]=k?-1:0,g.J[6]=-1):(g.J[0]=-1,g.J[2]=0,g.J[6]=0)}return c.fg(g.J,e)};c.SU=function(a,b,d,e){a=a.D();b=b.D();for(var g=[],h=0;9>h;h++)g[h]=-1;f.h.zc(a,b)<=d*d?
g[0]=0:(g[2]=0,g[6]=0);g[8]=2;return c.fg(g,e)};c.fg=function(a,b){for(var d=0;9>d;d++)switch(b.charAt(d)){case "T":if(-1==a[d])return!1;break;case "F":if(-1!=a[d])return!1;break;case "0":if(0!=a[d])return!1;break;case "1":if(1!=a[d])return!1;break;case "2":if(2!=a[d])return!1}return!0};c.mW=function(a,b,d){var e=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.B()&&b.B()){for(var g=0;9>g;g++)e[g]=-1;return this.fg(e,d)}g=!1;a.B()&&(a=b,g=!0);e[0]=-1;e[1]=-1;e[3]=-1;e[4]=-1;e[6]=-1;e[7]=-1;e[8]=2;b=a.K();f.ba.Ic(b)?
1736==b?0!=a.He()?(e[2]=2,e[5]=1):(e[5]=-1,b=new f.l,a.A(b),e[2]=0==b.da()&&0==b.S()?0:1):(b=0!=a.Rb(),e[2]=b?1:0,e[5]=f.si.cq(a)?0:-1):(e[2]=0,e[5]=-1);g&&this.pK(e);return this.fg(e,d)};c.FR=function(a,b,d){return c.YP(a)?3:c.OP(a)?4:c.VX(a,b,d)?8:c.wP(a,b,d)?16:c.ZO(a)?1:c.wU(a,b,d)?32:0};c.YP=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.OP=function(a){return"F"==
a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.VX=function(a,b,d){if(0==b&&0==d)return!1;if(2!=b||2!=d)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||1==b&&1==d&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&
"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=d&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.wP=function(a,b,d){return b>d?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==d&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&
"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.ZO=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.wU=function(a,b,d){if(b==d){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?
!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};c.Lw=function(a,b,d){a=b.Ma(a);for(var e=b.Oe;-1!=e;e=b.Sf(e))if(0!=(b.yd(e)&a)){var g=b.Je(e);if(-1==g)b.pn(e,d,0);else{var h=g,k=0;do 0!=(b.fh(h)&a)&&k++,h=b.kc(b.ya(h));while(h!=g);b.pn(e,d,k)}}};c.aq=function(a){var b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);
b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};c.prototype.$i=function(){for(var a=0;9>a;a++)this.J[a]=-2,this.$a[a]=-2};c.pK=function(a){var b=a[1],d=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=d;a[7]=e};c.prototype.dj=function(a){this.Yc=a;for(a=0;9>a;a++)"*"!=this.Yc.charAt(a)?(this.fa[a]=!0,this.le++):this.fa[a]=!1};c.prototype.OJ=function(){for(var a=0;9>a;a++)this.fa[a]&&-2==this.J[a]&&(this.J[a]=-1,this.fa[a]=!1)};c.prototype.pc=function(a){if(-2==this.J[a])return!1;if(-1==
this.J[a])return this.fa[a]=!1,this.le--,!0;if("T"!=this.Yc.charAt(a)&&"F"!=this.Yc.charAt(a)){if(this.J[a]<this.$a[a])return!1;this.fa[a]=!1;this.le--;return!0}this.fa[a]=!1;this.le--;return!0};c.prototype.rJ=function(){this.xw=0;this.$a[0]=2;this.$a[1]=1;this.$a[2]=2;this.$a[3]=1;this.$a[4]=1;this.$a[5]=1;this.$a[6]=2;this.$a[7]=1;this.$a[8]=2;this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.CB=function(){this.xw=1;this.Um=3;this.$a[0]=1;this.$a[1]=0;this.$a[2]=2;this.$a[3]=1;this.$a[4]=
0;this.$a[5]=1;this.$a[6]=1;this.$a[7]=0;this.$a[8]=2;this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.WW=function(){this.xw=2;this.Um=4;this.$a[0]=1;this.$a[1]=0;this.$a[2]=1;this.$a[3]=0;this.$a[4]=0;this.$a[5]=0;this.$a[6]=1;this.$a[7]=0;this.$a[8]=2;this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.sJ=function(){this.Um=3;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=2;this.$a[3]=0;this.$a[4]=-1;this.$a[5]=1;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=2;this.fa[1]&&(this.J[1]=-1,
this.fa[1]=!1,this.le--);this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--);this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--);this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.GJ=function(){this.Um=4;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=1;this.$a[3]=0;this.$a[4]=-1;this.$a[5]=0;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=2;this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--);this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--);this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--);this.fa[8]&&(this.J[8]=
2,this.fa[8]=!1,this.le--)};c.prototype.LJ=function(){this.Um=5;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=0;this.$a[3]=-1;this.$a[4]=-1;this.$a[5]=-1;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=2;this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--);this.fa[3]&&(this.J[3]=-1,this.fa[3]=!1,this.le--);this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--);this.fa[5]&&(this.J[5]=-1,this.fa[5]=!1,this.le--);this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--);this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.rN=
function(a,b,d){var e=!0;this.fa[0]&&(this.vS(a,b,d),e=e&&this.pc(0));this.fa[1]&&(this.mG(a,b,1),e=e&&this.pc(1));this.fa[2]&&(this.nG(a,b,d,2),e=e&&this.pc(2));this.fa[3]&&(this.mG(a,d,3),e=e&&this.pc(3));this.fa[4]&&(this.vN(a,b,d),e=e&&this.pc(4));this.fa[5]&&(this.ZD(a,d,5),e=e&&this.pc(5));this.fa[6]&&(this.nG(a,d,b,6),e=e&&this.pc(6));this.fa[7]&&(this.ZD(a,b,7),e=e&&this.pc(7));return e};c.prototype.Eu=function(a,b){this.J[0]=-1;this.J[1]=-1;this.J[3]=-1;this.J[4]=-1;this.Hr(a,this.fa[2]?
2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5));this.Hr(b,this.fa[6]?6:-1,this.Yc.charAt(6),this.fa[7]?7:-1,this.Yc.charAt(7))};c.prototype.Hr=function(a,b,d,e,g){if(-1!=b||-1!=e)("T"!=d&&"F"!=d&&-1!=b||"T"!=g&&"F"!=g&&-1!=e?0!=a.He():1)?(-1!=b&&(this.J[b]=2),-1!=e&&(this.J[e]=1)):(-1!=e&&(this.J[e]=-1),-1!=b&&(d=new f.l,a.A(d),this.J[b]=0==d.da()&&0==d.S()?0:1))};c.prototype.hy=function(a){this.J[2]=2;this.J[3]=-1;this.J[4]=-1;this.J[5]=1;this.J[6]=-1;this.J[7]=-1;this.Hr(a,this.fa[0]?
0:-1,this.Yc.charAt(0),this.fa[1]?1:-1,this.Yc.charAt(1))};c.prototype.TD=function(a){this.hy(a);c.pK(this.J)};c.prototype.Fu=function(a,b){this.J[0]=-1;this.J[1]=-1;this.J[3]=-1;this.J[4]=-1;if(this.fa[6]){var d=this.Yc.charAt(6);d="T"!=d&&"F"!=d?0!=b.Rb():!0;this.J[6]=d?1:0}this.fa[7]&&(b=f.si.cq(b),this.J[7]=b?0:-1);this.Hr(a,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))};c.prototype.UD=function(a){if(this.fa[0]){var b=this.Yc.charAt(0);b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.J[0]=
b?1:0}this.fa[1]&&(a=f.si.cq(a),this.J[1]=a?0:-1);this.J[2]=2;this.J[3]=-1;this.J[4]=-1;this.J[5]=1;this.J[6]=-1;this.J[7]=-1};c.prototype.Gu=function(a){this.J[0]=-1;this.J[3]=-1;this.J[6]=0;this.Hr(a,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))};c.prototype.tN=function(){this.J[0]=0;this.J[2]=2;this.J[3]=-1;this.J[5]=1;this.J[6]=-1};c.prototype.JG=function(a,b){this.J[0]=-1;this.J[1]=-1;this.J[3]=-1;this.J[4]=-1;if(this.fa[2]){var d=this.Yc.charAt(2);d="T"!=d&&"F"!=d?0!=
a.Rb():!0;this.J[2]=d?1:0}this.fa[5]&&(a=f.si.cq(a),this.J[5]=a?0:-1);this.fa[6]&&(d=this.Yc.charAt(6),d="T"!=d&&"F"!=d?0!=b.Rb():!0,this.J[6]=d?1:0);this.fa[7]&&(b=f.si.cq(b),this.J[7]=b?0:-1)};c.prototype.Qz=function(a){this.J[0]=-1;this.J[3]=-1;if(this.fa[2]){var b=this.Yc.charAt(2);b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.J[2]=b?1:0}this.fa[5]&&(a=f.si.cq(a),this.J[5]=a?0:-1);this.J[6]=0};c.prototype.sI=function(){this.J[0]=-1;this.J[2]=0;this.J[6]=0};c.prototype.sN=function(a,b,d){var e=!0;this.fa[0]&&
(this.wS(a,b),e=e&&this.pc(0));this.fa[1]&&(this.sS(a,b,d,this.mh),e=e&&this.pc(1));this.fa[2]&&(this.tS(a,b),e=e&&this.pc(2));this.fa[3]&&(this.zN(a,b,d,this.mh),e=e&&this.pc(3));this.fa[4]&&(this.wN(a,b,d,this.mh),e=e&&this.pc(4));this.fa[5]&&(this.xN(a,b,d),e=e&&this.pc(5));this.fa[6]&&(this.fQ(a,b),e=e&&this.pc(6));this.fa[7]&&(this.eQ(a,b,d,this.mh),e=e&&this.pc(7));return e};c.prototype.eT=function(a,b,d){var e=!0;this.fa[0]&&(this.zS(a,b,d,this.$h,this.mh),e=e&&this.pc(0));this.fa[1]&&(this.oG(a,
b,d,this.$h,this.mh,1),e=e&&this.pc(1));this.fa[2]&&(this.pG(a,b,d,2),e=e&&this.pc(2));this.fa[3]&&(this.oG(a,d,b,this.mh,this.$h,3),e=e&&this.pc(3));this.fa[4]&&(this.BN(a,b,d,this.$h,this.mh),e=e&&this.pc(4));this.fa[5]&&(this.$D(a,d,this.$h,5),e=e&&this.pc(5));this.fa[6]&&(this.pG(a,d,b,6),e=e&&this.pc(6));this.fa[7]&&(this.$D(a,b,this.mh,7),e=e&&this.pc(7));return e};c.prototype.VD=function(a,b,d){var e=!0;this.fa[0]&&(this.xS(a,b),e=e&&this.pc(0));this.fa[2]&&(this.uS(a,b),e=e&&this.pc(2));this.fa[3]&&
(this.AN(a,b,d),e=e&&this.pc(3));this.fa[5]&&(this.yN(a,b),e=e&&this.pc(5));this.fa[6]&&(this.gQ(a,b),e=e&&this.pc(6));return e};c.prototype.KG=function(a,b,d){var e=!0;this.fa[0]&&(this.AS(a,b,d,this.$h),e=e&&this.pc(0));this.fa[2]&&(this.yS(a,d),e=e&&this.pc(2));this.fa[3]&&(this.DN(a,b,d,this.$h),e=e&&this.pc(3));this.fa[5]&&(this.CN(a,b,d,this.$h),e=e&&this.pc(5));this.fa[6]&&(this.hQ(a,b,d),e=e&&this.pc(6));return e};c.prototype.RU=function(a,b,d){var e=!0;this.fa[0]&&(this.BS(a,b,d),e=e&&this.pc(0));
this.fa[2]&&(this.qG(a,b,d,2),e=e&&this.pc(2));this.fa[6]&&(this.qG(a,d,b,6),e=e&&this.pc(6));return e};c.prototype.vS=function(a,b,d){2!=this.J[0]&&(a=this.j.af(a),0!=(a&b)&&0!=(a&d)&&(this.J[0]=2))};c.prototype.mG=function(a,b,d){if(1!=this.J[d]){var e=this.j.af(this.j.ya(a));0!=(this.j.af(a)&b)&&0!=(e&b)&&(this.J[d]=1)}};c.prototype.nG=function(a,b,d,e){2!=this.J[e]&&(a=this.j.af(a),0!=(a&b)&&0==(a&d)&&(this.J[e]=2))};c.prototype.vN=function(a,b,d){if(1!=this.J[4]){var e=this.j.fh(a);0!=(e&b)&&
0!=(e&d)?this.J[4]=1:0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Wi)&&(a=this.j.yd(this.j.vf(a)),0!=(a&b)&&0!=(a&d)&&(this.J[4]=0))}};c.prototype.ZD=function(a,b,d){if(1!=this.J[d]){var e=this.j.af(this.j.ya(a));0==(this.j.af(a)&b)&&0==(e&b)&&(this.J[d]=1)}};c.prototype.wS=function(a,b){if(1!=this.J[0]){var d=this.j.af(this.j.ya(a));0!=(this.j.af(a)&b)&&0!=(d&b)&&(this.J[0]=1)}};c.prototype.sS=function(a,b,d,e){if(0!=this.J[1]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Wi)){var g=this.j.vf(a),
h=this.j.yd(g);0==(h&b)&&0!=(this.j.af(a)&b)&&(a=this.j.ng(g,e),0!=(h&d)&&0!=a%2&&(this.J[1]=0))}};c.prototype.tS=function(a,b){2!=this.J[2]&&0!=(this.j.fh(a)&b)&&(this.J[2]=2)};c.prototype.zN=function(a,b,d,e){if(1!=this.J[3]){var g=this.j.fh(a);0!=(g&b)&&0!=(g&d)?this.J[3]=1:0!=this.J[3]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Wi)&&(g=this.j.vf(a),a=this.j.yd(g),0!=(a&b)&&(b=this.j.ng(g,e),0!=(a&d)&&0==b%2&&(this.J[3]=0)))}};c.prototype.wN=function(a,b,d,e){if(0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),
this.Wi)){var g=this.j.vf(a);a=this.j.yd(g);0!=(a&b)&&(b=this.j.ng(g,e),0!=(a&d)&&0!=b%2&&(this.J[4]=0))}};c.prototype.xN=function(a,b,d){1!=this.J[5]&&(a=this.j.fh(a),0!=(a&b)&&0==(a&d)&&(this.J[5]=1))};c.prototype.fQ=function(a,b){if(1!=this.J[6]){var d=this.j.af(this.j.ya(a));0==(this.j.af(a)&b)&&0==(d&b)&&(this.J[6]=1)}};c.prototype.eQ=function(a,b,d,e){if(0!=this.J[7]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Wi)){var g=this.j.vf(a),h=this.j.yd(g);0==(h&b)&&0==(this.j.af(a)&b)&&(a=this.j.ng(g,
e),0!=(h&d)&&0!=a%2&&(this.J[7]=0))}};c.prototype.zS=function(a,b,d,e,g){if(1!=this.J[0]){var h=this.j.fh(a);0!=(h&b)&&0!=(h&d)?this.J[0]=1:0!=this.J[0]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Wi)&&(a=this.j.vf(a),h=this.j.yd(a),0!=(h&b)&&0!=(h&d)&&(b=this.j.ng(a,e),g=this.j.ng(a,g),0==b%2&&0==g%2&&(this.J[0]=0)))}};c.prototype.oG=function(a,b,d,e,g,h){if(0!=this.J[h]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Wi)){a=this.j.vf(a);var k=this.j.yd(a);0!=(k&b)&&0!=(k&d)&&(b=this.j.ng(a,e),g=this.j.ng(a,
g),0==b%2&&0!=g%2&&(this.J[h]=0))}};c.prototype.pG=function(a,b,d,e){1!=this.J[e]&&(a=this.j.fh(a),0!=(a&b)&&0==(a&d)&&(this.J[e]=1))};c.prototype.BN=function(a,b,d,e,g){if(0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Wi)){a=this.j.vf(a);var h=this.j.yd(a);0!=(h&b)&&0!=(h&d)&&(b=this.j.ng(a,e),g=this.j.ng(a,g),0!=b%2&&0!=g%2&&(this.J[4]=0))}};c.prototype.$D=function(a,b,d,e){0!=this.J[e]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Wi)&&(a=this.j.vf(a),0==(this.j.yd(a)&b)&&0!=this.j.ng(a,
d)%2&&(this.J[e]=0))};c.prototype.xS=function(a,b){0!=this.J[0]&&0==(this.j.yd(a)&b)&&0!=(this.j.ik(this.j.Yy(a))&b)&&(this.J[0]=0)};c.prototype.uS=function(a,b){2!=this.J[2]&&0!=(this.j.yd(a)&b)&&(this.J[2]=2)};c.prototype.AN=function(a,b,d){0!=this.J[3]&&(a=this.j.yd(a),0!=(a&b)&&0!=(a&d)&&(this.J[3]=0))};c.prototype.yN=function(a,b){1!=this.J[5]&&0!=(this.j.yd(a)&b)&&(this.J[5]=1)};c.prototype.gQ=function(a,b){0!=this.J[6]&&0==(this.j.yd(a)&b)&&0==(this.j.ik(this.j.Yy(a))&b)&&(this.J[6]=0)};c.prototype.AS=
function(a,b,d,e){if(0!=this.J[0]){var g=this.j.yd(a);0!=(g&b)&&0!=(g&d)&&0==this.j.ng(a,e)%2&&(this.J[0]=0)}};c.prototype.yS=function(a,b){1!=this.J[2]&&(-1!=this.j.Je(a)?this.J[2]=1:0!=this.J[2]&&0==(this.j.yd(a)&b)&&(this.J[2]=0))};c.prototype.DN=function(a,b,d,e){if(0!=this.J[3]){var g=this.j.yd(a);0!=(g&b)&&0!=(g&d)&&0!=this.j.ng(a,e)%2&&(this.J[3]=0)}};c.prototype.CN=function(a,b,d,e){if(0!=this.J[5]){var g=this.j.yd(a);0!=(g&b)&&0==(g&d)&&0!=this.j.ng(a,e)%2&&(this.J[5]=0)}};c.prototype.hQ=
function(a,b,d){0!=this.J[6]&&(a=this.j.yd(a),0==(a&b)&&0!=(a&d)&&(this.J[6]=0))};c.prototype.BS=function(a,b,d){0!=this.J[0]&&(a=this.j.yd(a),0!=(a&b)&&0!=(a&d)&&(this.J[0]=0))};c.prototype.qG=function(a,b,d,e){0!=this.J[e]&&(a=this.j.yd(a),0!=(a&b)&&0==(a&d)&&(this.J[e]=0))};c.prototype.Dp=function(a,b){var d=!1;a=this.j.Ma(a);b=this.j.Ma(b);this.Wi=this.j.bh();for(var e=this.j.Oe;-1!=e;e=this.j.Sf(e)){var g=this.j.Je(e);if(-1==g){if(-1!=this.Um)switch(this.Um){case 3:d=this.VD(e,a,b);break;case 4:d=
this.KG(e,a,b);break;default:throw f.i.ga("internal error");}}else{var h=g;do{var k=h;if(1!=this.j.Bb(k,this.Wi)){do{switch(this.xw){case 0:d=this.rN(k,a,b);break;case 1:d=this.sN(k,a,b);break;case 2:d=this.eT(k,a,b);break;default:throw f.i.ga("internal error");}if(d)break;this.j.Kb(k,this.Wi,1);k=this.j.kc(k)}while(k!=h&&!d)}if(d)break;h=this.j.kc(this.j.ya(k))}while(h!=g);if(d)break}}d||this.OJ();this.j.Lg(this.Wi)};c.prototype.By=function(a,b){var d=!1;a=this.j.Ma(a);b=this.j.Ma(b);for(var e=this.j.Oe;-1!=
e;e=this.j.Sf(e)){switch(this.Um){case 3:d=this.VD(e,a,b);break;case 4:d=this.KG(e,a,b);break;case 5:d=this.RU(e,a,b);break;default:throw f.i.Ra();}if(d)break}d||this.OJ()};c.prototype.gr=function(a,b){this.j.fr(a,b)};c.prototype.Xo=function(a,b,d){this.SP(a,b,d);this.gr(a,d)};c.prototype.SP=function(a,b,d){f.Uk.W(a,b,d,!1);a.Ip(0,!0,!0);for(b=a.ld;-1!=b;b=a.ve(b))1736==a.jc(b)&&f.tn.W(a,b,-1,!1,d)};c.QE=function(a,b){var d=a.K();if(f.ba.zd(d))return b=new f.Ua(a.description),b.oc(a,!0),b;if(197==
d){d=new f.l;a.A(d);if(d.da()<=b&&d.S()<=b)return b=new f.Ta(a.description),a.tf(b),b;if(d.da()<=b||d.S()<=b)return b=new f.Ua(a.description),d=new f.Ta,a.If(0,d),b.nf(d),a.If(2,d),b.lineTo(d),b;b=new f.Ea(a.description);b.bd(a,!1);return b}return a};return c}();f.cm=w})(Y||(Y={}));(function(f){var w=function(){function a(b){this.Gm=new f.ja(0);this.fw=new f.ja(0);this.xt=new f.h;this.yt=new f.h;this.g=b;this.Js=-1}a.prototype.cc=function(b){return this.g.cc(this.uz(b))};a.prototype.Dv=function(b){var d=
this.dz(b);b=this.BF(b);if(this.g.Na(d)==b){var e=d;d=b;b=e}this.g.Hc(d,this.xt);this.g.Hc(b,this.yt);return this.xt.y<this.yt.y};a.prototype.uz=function(b){var d=this.dz(b);b=this.BF(b);return this.g.V(d)==b?d:b};a.prototype.dz=function(b){return this.Gm.get(b)};a.prototype.BF=function(b){return this.fw.get(b)};a.prototype.lF=function(b){this.Gm.set(b,this.Js);this.Js=b};a.prototype.hI=function(b){if(-1!=this.Js){var d=this.Js;this.Js=this.Gm.get(d);this.Gm.set(d,b);this.fw.set(d,this.g.V(b));return d}null==
this.Gm&&(this.Gm=new f.ja(0),this.fw=new f.ja(0));d=this.Gm.size;this.Gm.add(b);this.fw.add(this.g.V(b));return d};a.prototype.mz=function(b){return this.g.cd(this.dz(b))};return a}();f.qY=w;var l=function(){function a(b){this.Ce=b;this.ie=new f.zb;this.Pm=new f.zb;this.wH=0;this.Bo=null;this.sA=-1}a.prototype.compare=function(b,d,e){e=b.ka(e);var g=this.Ce.hb;if(this.sA==d)var h=this.wH;else this.Bo=g.cc(d),null==this.Bo?(b=g.g,b.fd(g.uz(d),this.ie),this.Bo=this.ie,h=this.ie.Me(this.Ce.Ah,0)):h=
this.Bo.Me(this.Ce.Ah,0),this.wH=h,this.sA=d;b=g.cc(e);if(null==b){b=g.g;b.fd(g.uz(e),this.Pm);b=this.Pm;var k=this.Pm.Me(this.Ce.Ah,0)}else k=b.Me(this.Ce.Ah,0);h==k&&(d=g.Dv(d),e=g.Dv(e),e=Math.min(d?this.Bo.ma:this.Bo.oa,e?b.ma:b.oa),d=.5*(e+this.Ce.Ah),d==this.Ce.Ah&&(d=e),h=this.Bo.Me(d,0),k=b.Me(d,0));return h<k?-1:h>k?1:0};a.prototype.reset=function(){this.sA=-1};return a}(),c=function(){function a(){this.Ym=this.Il=null;this.fb=new f.Zj;this.fb.LP();this.ae=new l(this);this.fb.Wo(this.ae)}
a.prototype.BQ=function(){var b=!1;this.hw&&(b=this.CQ());if(1==this.g.ea(this.Y)){var d=this.g.Ob(this.Y);b=this.g.qz(d);this.g.JB(d,!0);return 0>b?(b=this.g.Ya(d),this.g.jJ(b),this.g.Yg(d,this.g.Na(b)),!0):!1}this.Gl=this.g.Fy();this.xo=this.g.Fy();for(d=this.g.Ob(this.Y);-1!=d;d=this.g.Sb(d))this.g.ir(d,this.Gl,0),this.g.ir(d,this.xo,-1);d=new f.ja(0);this.Ah=NaN;var e=new f.h;this.ft=this.g.ea(this.Y);this.so=this.g.Hd();this.Ts=this.g.Hd();for(var g=this.Il.sc(this.Il.je);-1!=g;g=this.Il.lb(g)){var h=
this.Il.getData(g);this.g.Hc(h,e);e.y!=this.Ah&&0!=d.size&&(b=this.vt(d)||b,this.ae.reset(),d.clear(!1));d.add(h);this.Ah=e.y;if(0==this.ft)break}0<this.ft&&(b=this.vt(d)||b,d.clear(!1));this.g.Ud(this.so);this.g.Ud(this.Ts);for(d=this.g.Ob(this.Y);-1!=d;)if(3==this.g.uj(d,this.Gl)){this.g.JB(d,!0);e=d;for(d=this.g.uj(d,this.xo);-1!=d;)g=this.g.uj(d,this.xo),this.g.RT(this.Y,this.g.Sb(e),d),e=d,d=g;d=this.g.Sb(e)}else this.g.JB(d,!1),d=this.g.Sb(d);this.g.wB(this.Gl);this.g.wB(this.xo);return b};
a.prototype.vt=function(b){return this.SV(b)};a.prototype.SV=function(b){var d=!1;null==this.hb&&(this.hb=new w(this.g));null==this.Ym?(this.Ym=new f.ja(0),this.Ym.Jb(16)):this.Ym.clear(!1);this.RV(b);for(var e=0,g=b.size;e<g;e++){var h=b.get(e);-1!=h&&this.iG(h,-1)}for(e=0;e<this.Ym.size&&0<this.ft;e++)if(b=this.Ym.get(e),h=this.hb.mz(this.fb.ka(b)),g=-1,0==this.g.uj(h,this.Gl)){h=this.fb.xe(b);for(var k=b,m;-1!=h;){var n=this.fb.ka(h),p=this.hb.mz(n),q=this.g.uj(p,this.Gl);if(0!=q){g=p;break}k=
h;h=this.fb.xe(h)}-1==h?(m=!0,h=k):(n=this.fb.ka(h),m=this.hb.Dv(n),h=this.fb.lb(h),m=!m);do{n=this.fb.ka(h);p=this.hb.mz(n);q=this.g.uj(p,this.Gl);if(0==q&&(m!=this.hb.Dv(n)&&(d=this.g.Ya(p),this.g.jJ(d),this.g.Yg(p,this.g.Na(d)),d=!0),this.g.ir(p,this.Gl,m?3:2),m||(k=this.g.uj(g,this.xo),this.g.ir(g,this.xo,p),this.g.ir(p,this.xo,k)),this.ft--,0==this.ft))return d;g=p;k=h;h=this.fb.lb(h);m=!m}while(k!=b)}return d};a.prototype.RV=function(b){for(var d=0,e=b.size;d<e;d++){var g=b.get(d),h=this.g.Qa(g,
this.so),k=this.g.Qa(g,this.Ts);if(-1!=h){var m=this.fb.ka(h);this.hb.lF(m);this.g.Sa(g,this.so,-1)}-1!=k&&(m=this.fb.ka(k),this.hb.lF(m),this.g.Sa(g,this.Ts,-1));m=-1;-1!=h&&-1!=k?(this.fb.wd(h,-1),this.fb.wd(k,-1),b.set(d,-1)):m=-1!=h?h:k;-1!=m&&(this.iG(g,m)||this.fb.wd(m,-1),b.set(d,-1))}};a.prototype.iG=function(b,d){var e=new f.h,g=new f.h;this.g.Hc(b,e);var h=this.g.V(b);this.g.Hc(h,g);var k=!1;if(e.y<g.y){k=!0;var m=this.hb.hI(b);if(-1==d)var n=this.fb.addElement(m,-1);else n=d,this.fb.Uj(n,
m);m=this.g.Qa(h,this.so);-1==m?this.g.Sa(h,this.so,n):this.g.Sa(h,this.Ts,n);h=this.g.cd(b);0==this.g.uj(h,this.Gl)&&this.Ym.add(n)}h=this.g.Na(b);this.g.Hc(h,g);e.y<g.y&&(k=!0,m=this.hb.hI(h),-1==d?n=this.fb.addElement(m,-1):(n=d,this.fb.Uj(n,m)),m=this.g.Qa(h,this.so),-1==m?this.g.Sa(h,this.so,n):this.g.Sa(h,this.Ts,n),h=this.g.cd(b),0==this.g.uj(h,this.Gl)&&this.Ym.add(n));return k};a.W=function(b,d,e,g){var h=new a;h.g=b;h.Y=d;h.Il=e;h.hw=g;return h.BQ()};a.prototype.CQ=function(){var b=new f.ja(0),
d=new f.ja(0),e=-1,g=-1,h=new f.h;h.Sc();for(var k=-1,m=-1,n=-1,p=new f.h,q=this.Il.sc(this.Il.je);-1!=q;q=this.Il.lb(q)){var r=this.Il.getData(q);this.g.Hc(r,p);var v=this.g.cd(r);h.rb(p)&&m==v?(-1==g&&(e=this.g.Fy(),g=this.g.Hd()),-1==n&&(n=d.size,this.g.Sa(k,g,n),d.add(1),-1==this.g.uj(v,e)&&(this.g.ir(v,e,k),b.add(v))),this.g.Sa(r,g,n),d.TW(d.Gc()+1)):(n=-1,h.N(p));k=r;m=v}if(0==b.size)return!1;h=new f.ja(0);k=new f.ja(0);m=0;for(n=b.size;m<n;m++){v=b.get(m);var G=this.g.uj(v,e);r=this.g.Qa(G,
g);h.clear(!1);k.clear(!1);h.add(G);k.add(r);for(r=this.g.V(G);r!=G;r=this.g.V(r)){var S=r;p=this.g.Qa(S,g);if(-1!=p)if(0==k.size)k.add(p),h.add(S);else if(k.Gc()==p){q=h.Gc();var X=this.g.V(q);G=this.g.V(S);this.g.Cc(q,G);this.g.Dc(G,q);this.g.Cc(S,X);this.g.Dc(X,S);S=[!1];X=this.g.hG(this.Y,X,this.g.Ya(v),S);this.g.Sa(r,g,-1);S[0]&&this.g.Kf(v,G);r=this.g.Ka(v);G=this.g.Ka(X);r-=G;this.g.Xj(v,r);d.set(p,d.get(p)-1);1==d.get(p)&&(d.set(p,0),k.Jf(),h.Jf());r=G=q}else h.add(r),k.add(p)}}this.g.wB(e);
this.g.Ud(g);return!0};return a}();f.QL=c})(Y||(Y={}));(function(f){var w=function(){function l(){}l.prototype.hg=function(){this.JA=this.tb=null};l.prototype.get=function(){return this.JA};l.prototype.set=function(c){this.JA=c;if(null!=c)throw 322==c.K()&&(this.tb=c),f.i.Ra();};l.prototype.create=function(c){if(322==c)this.Qr();else throw f.i.ga("Not Implemented");};l.prototype.Qr=function(){null==this.tb&&(this.tb=new f.zb);this.JA=this.tb};return l}();f.hg=w})(Y||(Y={}));(function(f){f=f.RL||(f.RL=
{});f[f.enumLineSeg=1]="enumLineSeg";f[f.enumBezierSeg=2]="enumBezierSeg";f[f.enumArcSeg=4]="enumArcSeg";f[f.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";f[f.enumSegmentMask=7]="enumSegmentMask";f[f.enumDensified=8]="enumDensified"})(Y||(Y={}));(function(f){var w=function(){return function(c){this.bj=c;this.kC=this.lC=1;this.mB=this.lB=this.nB=0}}(),l=function(){function c(){this.Hq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Ck=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Cf=new f.Ta;this.ra=this.Ew=
0;this.no=[];this.bt=[];this.Aw=[];this.Kq=[];this.GA=[]}c.prototype.qB=function(a){if(null!=a){for(var b=0,d=a.length;b<d;b++)this.jW(a[b]);a.length=0}};c.prototype.jW=function(a){a.bj=null;this.Kq.push(a)};c.prototype.Qw=function(a){if(0===this.Kq.length)var b=new w(a);else b=this.Kq[this.Kq.length-1],b.bj=a,--this.Kq.length;return b};c.prototype.LR=function(a,b){return 0==a?this.bt[b]:this.Aw[b]};c.prototype.VA=function(){this.Ew>=this.GA.length&&this.GA.push(new f.hg);var a=this.GA[this.Ew];this.Ew++;
return a};c.prototype.clear=function(){this.qB(this.no);this.qB(this.bt);this.qB(this.Aw);this.Ew=0};c.prototype.Po=function(a){this.no.push(this.Qw(a))};c.prototype.ql=function(a){return 0==a?this.bt.length:this.Aw.length};c.prototype.Xp=function(a,b){return this.LR(a,b).bj};c.prototype.Fa=function(a,b){if(2!=this.no.length)throw f.i.Ra();this.ra=a;var d=f.mc.ox(.01*a),e=!1,g=this.no[0],h=this.no[1];if(b||0!=(g.bj.Br(h.bj,a,!0)&5)){if(322==g.bj.K()){var k=g.bj;if(322==h.bj.K()){b=h.bj;var m=f.zb.Yx(k,
b,null,this.Hq,this.Ck,a);if(0==m)throw f.zb.Yx(k,b,null,this.Hq,this.Ck,a),f.i.Ra();a=Array(9);f.P.bv(a,null);for(var n=0;n<m;n++){var p=this.Hq[n],q=this.Ck[n],r=g.mB,v=1;0==p?(r=g.nB,v=g.lC):1==p&&(r=g.lB,v=g.kC);var G=h.mB,S=1;0==q?(G=h.nB,S=h.lC):1==q&&(G=h.lB,S=h.kC);var X=new f.h;r==G?(r=new f.h,k.ic(p,r),p=new f.h,b.ic(q,p),q=v+S,S/=q,f.mc.IG(r,p,S,X),f.h.zc(X,r)+f.h.zc(X,p)>d&&(e=!0)):r>G?(k.ic(p,X),p=new f.h,b.ic(q,p),f.h.zc(X,p)>d&&(e=!0)):(b.ic(q,X),r=new f.h,k.ic(p,r),f.h.zc(X,r)>d&&
(e=!0));a[n]=X}g=0;h=-1;for(n=0;n<=m;n++)S=n<m?this.Hq[n]:1,S!=g&&(d=this.VA(),k.dh(g,S,d),-1!=h&&d.get().Ec(a[h]),n!=m&&d.get().Rc(a[n]),g=S,this.bt.push(this.Qw(d.get()))),h=n;k=[0,0,0,0,0,0,0,0,0];for(n=0;n<m;n++)k[n]=n;1<m&&this.Ck[0]>this.Ck[1]&&(S=this.Ck[0],this.Ck[0]=this.Ck[1],this.Ck[1]=S,n=k[0],k[0]=k[1],k[1]=n);g=0;h=-1;for(n=0;n<=m;n++)S=n<m?this.Ck[n]:1,S!=g&&(d=this.VA(),b.dh(g,S,d),-1!=h&&(g=k[h],d.get().Ec(a[g])),n!=m&&(g=k[n],d.get().Rc(a[g])),g=S,this.Aw.push(this.Qw(d.get()))),
h=n;return e}}throw f.i.Ra();}return!1};c.prototype.Fz=function(a,b,d){b.copyTo(this.Cf);if(1!=this.no.length)throw f.i.Ra();this.ra=a;var e=this.no[0];if(d||e.bj.tu(b.D(),a,!0))if(322==e.bj.K()){a=e.bj;var g=a.fe(b.D(),!1);this.Hq[0]=g;var h=e.mB;d=1;0==g?(h=e.nB,d=e.lC):1==g&&(h=e.lB,d=e.kC);e=new f.h;0==h?(h=new f.h,a.ic(g,h),b=b.D(),f.mc.IG(h,b,1/(d+1),e)):0<h?(e=new f.h,a.ic(g,e)):e=b.D();d=0;g=-1;for(h=0;1>=h;h++){b=1>h?this.Hq[h]:1;if(b!=d){var k=this.VA();a.dh(d,b,k);-1!=g&&k.get().Ec(e);
1!=h&&k.get().Rc(e);d=b;this.bt.push(this.Qw(k.get()))}g=h}this.Cf.Db(e)}else throw f.i.Ra();};return c}();f.NC=l})(Y||(Y={}));(function(f){var w=function(){function l(c){this.Fs=this.sk=this.tb=null;this.bg=0;this.Bm=!1;this.Af=-1;this.El=this.Kd=0;this.gb=-1;this.ib=c;this.bg=this.Vx(this.El);this.Bm=!1;this.sk=null;this.Fs=new f.h}l.prototype.tW=function(c){if(this.ib!=c.ib)throw f.i.Hb();this.Af=c.Af;this.Kd=c.Kd;this.gb=c.gb;this.El=c.El;this.bg=c.bg;this.Bm=c.Bm;this.sk=null};l.prototype.ia=
function(){this.Af!=this.Kd&&this.vD();if(this.Bm)this.Kd=(this.Kd+1)%this.bg;else{if(this.Kd==this.bg)throw f.i.re();this.Kd++}return this.sk};l.prototype.ni=function(){if(this.Bm)this.Kd=(this.bg+this.Kd-1)%this.bg;else{if(0==this.Kd)throw f.i.re();this.Kd--}this.Kd!=this.Af&&this.vD();return this.sk};l.prototype.uW=function(){this.Af=-1;this.Kd=0};l.prototype.vW=function(){this.Kd=this.bg;this.Af=-1};l.prototype.Wb=function(c,a){void 0===a&&(a=-1);if(0<=this.gb&&this.gb<this.ib.ea()){var b=this.CM();
if(c>=b&&c<this.ib.Wc(this.gb)){this.Af=-1;this.Kd=c-b;return}}a=0<=a&&a<this.ib.ea()&&c>=this.ib.Ca(a)&&c<this.ib.Wc(a)?a:this.ib.nz(c);this.El=a+1;this.gb=a;this.Af=-1;this.Kd=c-this.ib.Ca(a);this.bg=this.Vx(a);this.ib.Ca(this.gb);this.ib.ec(this.gb)};l.prototype.ab=function(){this.gb=this.El;if(this.gb>=this.ib.ea())return!1;this.Af=-1;this.Kd=0;this.bg=this.Vx(this.gb);this.ib.Ca(this.gb);this.ib.ec(this.gb);this.El++;return!0};l.prototype.aj=function(){this.bg=this.Kd=this.Af=-1;this.El=0;this.gb=
-1};l.prototype.Vx=function(c){if(this.ib.Bc())return 0;var a=1;this.ib.ec(c)&&(a=0);return this.ib.Ka(c)-a};l.prototype.Pn=function(){return this.Af==this.bg-1&&this.ib.ec(this.gb)};l.prototype.DB=function(){this.Bm=!0};l.prototype.xb=function(){return this.ib.nb.o[this.gb]+this.Af};l.prototype.CM=function(){return this.ib.Ca(this.gb)};l.prototype.jk=function(){return this.Pn()?this.ib.Ca(this.gb):this.xb()+1};l.prototype.xm=function(){return 0==this.Af};l.prototype.Rn=function(){return this.Af==
this.bg-1};l.prototype.Ia=function(){return this.Kd<this.bg};l.prototype.zz=function(){return 0<this.Kd};l.prototype.Pf=function(){var c=new l(this.ib);c.Af=this.Af;c.Kd=this.Kd;c.bg=this.bg;c.gb=this.gb;c.El=this.El;c.ib=this.ib;c.Bm=this.Bm;return c};l.prototype.vD=function(){if(0>this.Kd||this.Kd>=this.bg)throw f.i.re();this.Af=this.Kd;var c=this.xb();this.ib.rc();var a=this.ib.Se,b=1;null!=a&&(b=a.read(c)&7);a=this.ib.description;switch(b){case 1:null==this.tb&&(this.tb=new f.zb);this.sk=this.tb;
break;case 2:throw f.i.ga("internal error");case 4:throw f.i.Ra();default:throw f.i.Ra();}this.sk.kg(a);b=this.jk();this.ib.Hc(c,this.Fs);this.sk.Ec(this.Fs);this.ib.Hc(b,this.Fs);this.sk.Rc(this.Fs);for(var d=1,e=a.Ba;d<e;d++)for(var g=a.qd(d),h=f.ua.Wa(g),k=0;k<h;k++){var m=this.ib.Vc(g,c,k);this.sk.SB(g,k,m);m=this.ib.Vc(g,b,k);this.sk.IB(g,k,m)}};l.prototype.SS=function(){return this.gb==this.ib.ea()-1};l.prototype.Qn=function(){var c=this.ib.OR();return null!=c?1!=(c.read(this.Af)&7):!1};return l}();
f.SL=w})(Y||(Y={}));(function(f){var w=function(){function l(c){c instanceof f.ba?(this.rH=c,this.za=-1,this.Gi=1):(this.mT=c.slice(0),this.za=-1,this.Gi=c.length)}l.prototype.Ma=function(){return this.za};l.prototype.next=function(){return this.za<this.Gi-1?(this.za++,null!=this.rH?this.rH:this.mT[this.za]):null};l.prototype.qe=function(){};return l}();f.$c=w})(Y||(Y={}));(function(f){var w=function(){return function(){this.next=null}}(),l=function(){function c(){this.Vq=this.Mw=this.Nw=0;this.eF=
!1;this.aK=0;this.jn=this.Lf=this.Yl=this.Lh=null;this.Ql=0;this.qy=null;this.rl=this.ri=-1}c.prototype.sX=function(a,b,d){this.ri=a;this.rl=b;this.Lh=this.Yl=null;this.Vq=0;this.qy=d;null==this.jn&&(this.jn=f.P.lg(384,0));this.hK()};c.prototype.S=function(){return this.ri};c.prototype.da=function(){return this.rl};c.prototype.flush=function(){0<this.Ql&&(this.qy.aF(this.jn,this.Ql),this.Ql=0)};c.prototype.hK=function(){if(0<this.Vq){for(var a=0;a<this.rl;a++){for(var b=this.Yl[a];null!=b;){var d=
b;b=b.next;d.next=null}this.Yl[a]=null}this.Lh=null}this.Nw=this.rl;this.Mw=-1;this.Vq=0};c.prototype.cJ=function(a){this.eF=a==c.Bx;for(a=this.Nw;a<=this.Mw;a++)this.mN(),this.fN(a),this.TP();this.hK()};c.prototype.fy=function(a,b,d,e){if(b!=e){var g=1;b>e&&(g=a,a=d,d=g,g=b,b=e,e=g,g=-1);if(!(0>e||b>=this.rl)){0>a&&0>d?d=a=-1:a>=this.ri&&d>=this.ri&&(d=a=this.ri);var h=(d-a)/(e-b);e>this.rl&&(e=this.rl,d=h*(e-b)+a);0>b&&(a=h*(0-b)+a,b=0);var k=Math.max(this.ri+1,8388607);-8388607>a?(b=(0-a)/h+b,
a=0):a>k&&(b=(this.ri-a)/h+b,a=this.ri);-8388607>d?e=(0-a)/h+b:d>k&&(e=(this.ri-a)/h+b);b=f.P.truncate(b);e=f.P.truncate(e);b!=e&&(d=new w,d.x=f.P.truncate(4294967296*a),d.y=b,d.H=e,d.QP=f.P.truncate(4294967296*h),d.dir=g,null==this.Yl&&(this.Yl=f.P.lg(this.rl,null)),d.next=this.Yl[d.y],this.Yl[d.y]=d,d.y<this.Nw&&(this.Nw=d.y),d.H>this.Mw&&(this.Mw=d.H),this.Vq++)}}};c.prototype.mN=function(){if(null!=this.Lh){for(var a=!1,b=null,d=this.Lh;null!=d;)if(d.y++,d.y==d.H){var e=d;d=d.next;null!=b?b.next=
d:this.Lh=d;e.next=null}else d.x+=d.QP,null!=b&&b.x>d.x&&(a=!0),b=d,d=d.next;a&&(this.Lh=this.$J(this.Lh))}};c.prototype.fN=function(a){if(!(a>=this.rl)){var b=this.Yl[a];if(null!=b){this.Yl[a]=null;b=this.$J(b);this.Vq-=this.aK;a=this.Lh;for(var d=!0,e=b,g=null;null!=a&&null!=e;)a.x>e.x?(d&&(this.Lh=e),d=e.next,e.next=a,null!=g&&(g.next=e),g=e,e=d):(d=a.next,a.next=e,null!=g&&(g.next=a),g=a,a=d),d=!1;null==this.Lh&&(this.Lh=b)}}};c.ZJ=function(a,b){return 0>a?0:a>b?b:a};c.prototype.TP=function(){if(null!=
this.Lh)for(var a=0,b=this.Lh,d=f.P.truncate(f.P.QG(b.x)),e=b.next;null!=e;e=e.next)if(a=this.eF?a^1:a+e.dir,e.x>b.x){var g=f.P.truncate(f.P.QG(e.x));0!=a&&(b=c.ZJ(d,this.ri),d=c.ZJ(g,this.ri),d>b&&b<this.ri&&(this.jn[this.Ql++]=b,this.jn[this.Ql++]=d,this.jn[this.Ql++]=e.y,this.Ql==this.jn.length&&(this.qy.aF(this.jn,this.Ql),this.Ql=0)));b=e;d=g}};c.prototype.$J=function(a){for(var b=0,d=a;null!=d;d=d.next)b++;this.aK=b;if(1==b)return a;null==this.Lf?this.Lf=f.P.lg(Math.max(b,16),null):this.Lf.length<
b&&(this.Lf=f.P.lg(Math.max(b,2*this.Lf.length),null));var e=0;for(d=a;null!=d;d=d.next)this.Lf[e++]=d;2==b?this.Lf[0].x>this.Lf[1].x&&(a=this.Lf[0],this.Lf[0]=this.Lf[1],this.Lf[1]=a):c.uN(this.Lf,b,function(g,h){return g==h?0:g.x<h.x?-1:g.x>h.x?1:0});a=this.Lf[0];this.Lf[0]=null;d=a;for(e=1;e<b;e++)d.next=this.Lf[e],d=this.Lf[e],this.Lf[e]=null;d.next=null;return a};c.uN=function(a,b,d){if(b==a.length)a.sort(d);else{var e=a.slice(0,0),g=a.slice(b);b=a.slice(0,b).sort(d);a.length=0;a.push.apply(a,
e.concat(b).concat(g))}};c.Bx=0;return c}();f.Ox=l})(Y||(Y={}));(function(f){var w=function(){function l(){}l.prototype.wi=function(c,a){var b=this.g.Qa(c,this.Rq);this.Fl==b&&(this.Fl=this.oe.lb(this.Fl));this.io==b&&(this.io=this.oe.lb(this.io));this.oe.kd(this.LA,b);this.ck(c);if(a&&(a=this.g.cd(c),-1!=a&&this.g.Ya(a)==c)){var d=this.g.V(c);if(d!=c){b=this.g.cd(d);if(b==a){this.g.Kf(a,d);return}d=this.g.Na(c);if(d!=c&&(b=this.g.cd(d),b==a)){this.g.Kf(a,d);return}}this.g.Kf(a,-1);this.g.Yg(a,-1)}};
l.prototype.jD=function(){for(var c=!1,a=0,b=new f.h;;){a++;null==this.Yh?(this.Yh=new f.ja(0),this.Bs=new f.ja(0),this.ye=new f.ja(0)):(this.Yh.clear(!1),this.Bs.clear(!1),this.ye.clear(!1));for(var d=this.io,e=0,g=!0;d!=this.Fl;){var h=this.oe.getData(d),k=new f.h;this.g.Hc(h,k);g&&(this.g.Hc(h,b),g=!1);k=this.g.Na(h);var m=this.g.V(h);-559038737!=this.g.Qa(k,this.zg)&&(this.Yh.add(k),this.g.Sa(k,this.zg,-559038737),this.Bs.add(h),this.ye.add(e++));-559038737!=this.g.Qa(m,this.zg)&&(this.Yh.add(m),
this.g.Sa(m,this.zg,-559038737),this.Bs.add(h),this.ye.add(e++));d=this.oe.lb(d)}if(2>this.Yh.size)break;var n=this;this.ye.Wd(0,this.ye.size,function(p,q){return n.jM(p,q)});d=0;for(e=this.ye.size;d<e;d++)g=this.ye.get(d),g=this.Yh.get(g),this.g.Sa(g,this.zg,d),k=new f.h,this.g.Hc(g,k);k=this.NM(b);d=0;for(e=this.ye.size;d<e;d++)g=this.ye.get(d),-1!=g&&(g=this.Yh.get(g),this.g.Sa(g,this.zg,-1));if(k)c=!0;else break}return c};l.prototype.NM=function(c){for(var a=!1,b=!0;b;){b=!1;var d=0;-1==this.ye.get(d)&&
(d=this.em(d));for(var e=this.em(d),g=0,h=this.ye.size;g<h&&-1!=d&&-1!=e&&d!=e;g++){var k=this.ye.get(d);e=this.ye.get(e);k=this.Yh.get(k);e=this.Yh.get(e);var m=this.g.V(k);this.g.Fv(m,c)||(m=this.g.Na(k));var n=this.g.V(e);this.g.Fv(n,c)||(n=this.g.Na(e));var p=this.ru(m,k),q=this.ru(n,e),r=p?this.g.Na(m):this.g.V(m),v=q?this.g.Na(n):this.g.V(n),G=!1;this.tp(m)?G=!0:this.tp(n)?G=!0:this.tp(k)?G=!0:this.tp(e)?G=!0:this.tp(r)?G=!0:this.tp(v)&&(G=!0);!G&&this.g.hq(k,e)&&(G=!0,this.nD(p,q,m,k,n,e));
!G&&this.g.hq(r,v)&&(G=!0,this.nD(!p,!q,m,r,n,v));G&&(a=!0);b=b||G;d=this.em(d);e=this.em(d)}}if(!a)for(d=0,-1==this.ye.get(d)&&(d=this.em(d)),e=this.em(d),g=0,h=this.ye.size;g<h&&-1!=d&&-1!=e&&d!=e;g++)k=this.ye.get(d),e=this.ye.get(e),k=this.Yh.get(k),e=this.Yh.get(e),m=this.g.V(k),this.g.Fv(m,c)||(m=this.g.Na(k)),n=this.g.V(e),this.g.Fv(n,c)||(n=this.g.Na(e)),p=this.ru(m,k),q=this.ru(n,e),r=p?this.g.Na(m):this.g.V(m),v=q?this.g.Na(n):this.g.V(n),this.xM(p,q,k,m,r,e,n,v)&&(a=!0),d=this.em(d),e=
this.em(d);return a};l.prototype.RM=function(){1736==this.g.jc(this.Y)&&1==this.g.Jn(this.Y)&&(new f.Hg).EU(this.hw,this.g,this.Y,this.nd);var c=!1,a=!0;this.zg=this.Rq=-1;var b=this.g.I(this.Y),d=new f.ja(0);d.Jb(b);for(var e=this.g.Ob(this.Y);-1!=e;e=this.g.Sb(e))for(var g=this.g.Ya(e),h=0,k=this.g.Ka(e);h<k;h++)d.add(g),g=this.g.V(g);var m=this.g.ud.o,n=this.g.ud.Mf;this.g.wb.rc();var p=this.g.wb.Aa[0].o;d.Wd(0,b,function(r,v){var G=m[n*r],S=m[n*v],X=p[2*G];G=p[2*G+1];var V=p[2*S];S=p[2*S+1];X=
G<S?-1:G>S?1:X<V?-1:X>V?1:0;0==X&&(r=m[n*r+3],v=m[n*v+3],X=r<v?-1:r==v?0:1);return X});this.Rq=this.g.Hd();this.oe=new f.kp;this.LA=this.oe.Rh(0);this.oe.hn(b);for(e=0;e<b;e++)g=d.get(e),h=this.oe.addElement(this.LA,g),this.g.Sa(g,this.Rq,h);this.zg=this.g.Hd();this.Fl=-1;for(this.XC()&&(c=!0);a;){a=!1;b=0;d=!1;do{d=!1;this.io=-1;k=0;e=new f.h;h=new f.h;for(var q=this.oe.sc(this.LA);-1!=q;)g=this.oe.getData(q),-1!=this.io?(this.g.Hc(g,h),e.rb(h))?k++:(e.N(h),this.Fl=q,0<k&&(g=this.jD())&&(d=!0,-1!=
this.Fl&&(g=this.oe.getData(this.Fl),this.g.Hc(g,e))),this.io=q=this.Fl,k=0):(this.io=q,this.g.Hc(this.oe.getData(q),e),k=0),-1!=q&&(q=this.oe.lb(q));this.Fl=-1;0<k&&(g=this.jD())&&(d=!0);if(10<b++)throw f.i.Ra();d&&this.AM();this.XC()&&(d=!0);a=a||d&&!1;c=c||d}while(d)}this.g.Ud(this.Rq);this.g.Ud(this.zg);return c=f.QL.W(this.g,this.Y,this.oe,this.hw)||c};l.prototype.ru=function(c,a){return this.g.V(a)==c?!1:!0};l.prototype.xM=function(c,a,b,d,e,g,h,k){if(d==h)return this.ck(b),this.ck(g),!1;var m=
this.g.Qa(b,this.zg),n=this.g.Qa(e,this.zg),p=this.g.Qa(g,this.zg),q=this.g.Qa(k,this.zg);b=[0,0,0,0,0,0,0,0];var r=[0,0,0,0];b[0]=0;r[0]=m;b[1]=0;r[1]=n;b[2]=1;r[2]=p;b[3]=1;r[3]=q;for(m=1;4>m;m++){n=r[m];p=b[m];for(q=m-1;0<=q&&r[q]>n;)r[q+1]=r[q],b[q+1]=b[q],q--;r[q+1]=n;b[q+1]=p}r=0;0!=b[0]&&(r|=1);0!=b[1]&&(r|=2);0!=b[2]&&(r|=4);0!=b[3]&&(r|=8);if(5!=r&&10!=r)return!1;c==a?c?(this.g.Cc(k,d),this.g.Dc(d,k),this.g.Cc(e,h),this.g.Dc(h,e)):(this.g.Dc(k,d),this.g.Cc(d,k),this.g.Dc(e,h),this.g.Cc(h,
e)):c?(this.g.Dc(d,g),this.g.Cc(g,d),this.g.Dc(h,e),this.g.Cc(e,h)):(this.g.Cc(d,g),this.g.Dc(g,d),this.g.Cc(h,e),this.g.Dc(e,h));return!0};l.prototype.nD=function(c,a,b,d,e,g){this.EY?this.PM():this.OM(c,a,b,d,e,g)};l.prototype.PM=function(){throw f.i.ga("not implemented.");};l.prototype.OM=function(c,a,b,d,e,g){if(c!=a)c?(this.g.Cc(b,e),this.g.Dc(e,b),this.g.Cc(g,d),this.g.Dc(d,g),this.wn(e,b),this.wi(e,!0),this.g.oi(e,!0),this.ck(b),this.wn(g,d),this.wi(g,!0),this.g.oi(g,!1)):(this.g.Cc(e,b),this.g.Dc(b,
e),this.g.Cc(d,g),this.g.Dc(g,d),this.wn(e,b),this.wi(e,!0),this.g.oi(e,!1),this.ck(b),this.wn(g,d),this.wi(g,!0),this.g.oi(g,!0)),this.ck(d);else{var h=c?b:d,k=a?e:g;c=c?d:b;a=a?g:e;e=!1;this.g.Cc(h,k);this.g.Cc(k,h);this.g.Dc(c,a);this.g.Dc(a,c);for(g=a;g!=k;)b=this.g.Na(g),d=this.g.V(g),this.g.Dc(g,d),this.g.Cc(g,b),e=e||g==h,g=d;e||(b=this.g.Na(k),d=this.g.V(k),this.g.Dc(k,d),this.g.Cc(k,b));this.wn(k,h);this.wi(k,!0);this.g.oi(k,!1);this.ck(h);this.wn(a,c);this.wi(a,!0);this.g.oi(a,!1);this.ck(c)}};
l.prototype.XC=function(){for(var c=!1,a=this.g.Ob(this.Y);-1!=a;){for(var b=this.g.Ya(a),d=0,e=this.g.Ka(a);d<e&&1<e;){var g=this.g.Na(b),h=this.g.V(b);this.g.hq(g,h)?(c=!0,this.wi(b,!1),this.g.pd(b,!0),this.wi(h,!1),this.g.pd(h,!0),b=g,d=0,e=this.g.Ka(a)):(b=h,d++)}if(2>this.g.Ka(a)){c=this.g.Ya(a);d=0;for(e=this.g.Ka(a);d<e;d++)this.wi(c,!1),c=this.g.V(c);a=this.g.ar(a);c=!0}else a=this.g.Sb(a)}return c};l.prototype.tp=function(c){for(var a=!1;;){var b=this.g.V(c),d=this.g.Na(c);if(b==c)return this.wi(c,
!0),this.g.oi(c,!1),!0;if(!this.g.hq(b,d))break;a=!0;this.ck(d);this.ck(b);this.wi(c,!0);this.g.oi(c,!1);this.wn(b,d);this.wi(b,!0);this.g.oi(b,!0);if(b==d)break;c=d}return a};l.prototype.AM=function(){for(var c=0,a=this.oe.sc(this.oe.je);-1!=a;a=this.oe.lb(a)){var b=this.oe.getData(a);this.g.cj(b,-1)}for(var d=0,e=this.g.Ob(this.Y);-1!=e;)if(a=this.g.Ya(e),-1==a||-1!=this.g.cd(a))b=e,e=this.g.Sb(e),this.g.br(b);else{this.g.cj(a,e);var g=1;for(b=this.g.V(a);b!=a;b=this.g.V(b))this.g.cj(b,e),g++;this.g.ep(e,
!1);this.g.Xj(e,g);this.g.Yg(e,this.g.Na(a));d+=g;c++;e=this.g.Sb(e)}for(a=this.oe.sc(this.oe.je);-1!=a;a=this.oe.lb(a))b=this.oe.getData(a),-1==this.g.cd(b)&&(e=this.g.hG(this.Y,b,b,null),d+=this.g.Ka(e),c++);this.g.Tl(this.Y,c);this.g.Vj(this.Y,d);c=0;for(d=this.g.ld;-1!=d;d=this.g.ve(d))c+=this.g.I(d);this.g.WB(c)};l.prototype.em=function(c){for(var a=0,b=this.ye.size-1;a<b;a++)if(c=(c+1)%this.ye.size,-1!=this.ye.get(c))return c;return-1};l.prototype.wn=function(c,a){var b=this.g.Qa(a,this.Rq),
d=this.g.Qa(a,this.zg);this.g.fC(c,a);this.g.Sa(a,this.Rq,b);this.g.Sa(a,this.zg,d)};l.prototype.ck=function(c){var a=this.g.Qa(c,this.zg);-1!=a&&(this.ye.set(a,-1),this.g.Sa(c,this.zg,-1))};l.W=function(c,a,b,d,e){var g=new l;g.g=c;g.Y=a;g.rA=b;g.hw=d;g.nd=e;return g.RM()};l.prototype.jM=function(c,a){var b=this.Yh.get(c),d=new f.h;this.g.Hc(b,d);b=new f.h;var e=this.Yh.get(a);this.g.Hc(e,b);if(d.rb(b))return 0;e=this.Bs.get(c);c=new f.h;this.g.Hc(e,c);e=this.Bs.get(a);a=new f.h;this.g.Hc(e,a);e=
new f.h;e.vc(d,c);d=new f.h;d.vc(b,a);return f.h.pu(e,d)};return l}();f.tn=w})(Y||(Y={}));(function(f){(function(l){l[l.Local=0]="Local";l[l.Geographic=1]="Geographic";l[l.Projected=2]="Projected";l[l.Image=3]="Image";l[l.Unknown=4]="Unknown"})(f.UL||(f.UL={}));(function(l){l[l.Integer32=0]="Integer32";l[l.Integer64=1]="Integer64";l[l.FloatingPoint=2]="FloatingPoint"})(f.NL||(f.NL={}));var w=function(){function l(){this.qp="";this.uu=null;this.eg=0;this.TH=this.Io=-1;this.yh=null}l.prototype.Fc=function(){return this.eg};
l.prototype.PF=function(){return 1};l.prototype.Yd=function(){var c=.001;0!=this.eg?c=f.yr.wQ(this.eg):null!=this.yh&&(c=f.RC.xQ(this.yh));return c};l.prototype.wz=function(){return this.yh};l.prototype.Id=function(){if(0!=this.eg)return f.Uc.ah(f.yr.Ny(this.eg));if(null!=this.yh)return f.RC.yQ(this.yh)};l.Tb=function(c){if(0!=c.eg){if(!0===f.yr.RS(c.eg))return 1;if(!0===f.yr.TS(c.eg))return 2}return 4};l.prototype.cs=function(){var c=this.Fc();if(-1!=this.Io)return this.Io;this.Io=f.yr.zK(c);return-1!=
this.Io?this.Io:c};l.create=function(c){if(0>=c)throw f.i.O("Invalid or unsupported wkid: "+c);var a=new l;a.eg=c;return a};l.kP=function(c){if(null==c||0==c.length)throw f.i.O("Cannot create SpatialReference from null or empty text.");var a=new l;a.yh=c;return a};l.prototype.Nb=function(c){return this==c?!0:null==c||this.constructor!=c.constructor||this.eg!=c.eg||0==this.eg&&this.yh!==c.yh?!1:!0};l.prototype.toString=function(){return"[ tol: "+this.Ln()+"; wkid: "+this.Fc()+"; wkt: "+this.wz()+"]"};
l.prototype.dc=function(){if(""!==this.qp)return this.qp;var c=this.toString();if(Array.prototype.reduce)return this.qp="S"+c.split("").reduce(function(d,e){d=(d<<5)-d+e.charCodeAt(0);return d&d},0);var a=0;if(0===c.length)return"";for(var b=0;b<c.length;b++)a=(a<<5)-a+c.charCodeAt(b),a&=a;return this.qp="S"+a};l.prototype.Ln=function(){return this.Yd(0)};l.prototype.hh=function(){return null!==this.uu?this.uu:this.uu=f.iu.sP(this)};l.TN=2147483645;l.UN=9007199254740990;return l}();f.Gg=w})(Y||(Y=
{}));(function(f){var w=function(l){function c(){var a=null!==l&&l.apply(this,arguments)||this;a.Li=null;a.KT=null;a.Jq=new f.TL;a.Fo=null;a.lw=null;return a}Ea(c,l);c.sP=function(a){var b=new c;b.eg=a.eg;b.Io=a.Io;b.TH=a.TH;b.yh=a.yh;if(""!==b.yh&&null!==b.yh){a=c.eM(b.yh);var d=c.cM(b.yh);b.Jq.Wx(a,d,f.ju.Integer64);b.ay(a);b.cy(d);b.eg=a.cs()}else a=c.dM(b.eg),b.ay(a),b.cy(null),b.Jq.Wx(a,null,f.ju.Integer64);return b};c.prototype.Yd=function(a){return this.Jq.Ln(a)};c.cM=function(a){if(0>=a.length)throw f.i.O();
var b=null;try{b=f.HC.fromString(a)}catch(d){b=null}return null==b?null:c.WC(b,!0)};c.prototype.ay=function(a){this.Ld=a;this.Fo=this.Ld.Id()};c.prototype.cy=function(a){this.EH=a;this.KT=null!=this.EH?this.EH.Fo:null};c.prototype.Xc=function(){return 0==this.Tb()||3==this.Tb()?!1:this.Ld.Xc()};c.prototype.CG=function(){return 0==this.Tb()?!1:3==this.Tb()?this.Li.gk().Xc():this.Ld.Xc()};c.prototype.gh=function(){return null!=this.Ld?this.Ld.Re:null};c.prototype.rm=function(){return this.Ld.rm()};
c.prototype.bf=function(){return this.Ld.bf()};c.prototype.jh=function(){return null!=this.Ld?this.Ld.uw:NaN};c.prototype.Wp=function(){return this.Ld.Wp()};c.prototype.Yr=function(){return this.Ld.Yr()};c.prototype.lk=function(){return this.Ld.lk()};c.prototype.dS=function(a){return f.IC.Ky(this.Ld,a.Ld)};c.prototype.ol=function(){return this.Ld.ol()};c.prototype.Xr=function(){return this.Ld.Xr()};c.prototype.Bi=function(){return 3==this.Tb()?this.Li.gk().Bi():this.Ld.Bi()};c.prototype.ih=function(){if(!this.Xc())throw f.i.O("!isPannable()");
var a=new f.l;this.Ld.ih(a);return a};c.prototype.Le=function(){if(!this.Xc())throw f.i.O("!isPannable()");return this.Ld.to};c.prototype.BR=function(){if(!this.Xc())throw f.i.O("!isPannable()");var a=new f.l;this.Ld.AR(a);return a};c.prototype.rv=function(){if(!this.Xc())throw f.i.O("!isPannable()");return this.Ld.rv()};c.prototype.qv=function(){if(!this.Xc())throw f.i.O("!isPannable()");return this.Ld.qv()};c.prototype.Zr=function(){return null!=this.Li?this.Li.gk().Zr():this.Ld.Zr()};c.prototype.JQ=
function(){return this.Ld.kv()};c.prototype.Sp=function(){return this.Fo.getUnitFactor()};c.prototype.pz=function(a){return this.Jq.pz(a)};c.prototype.tc=function(){var a=this.Tb();if(1==a)return this;if(3==a)return this.Li.gk().tc();if(0==a)throw f.i.ga("invalid call");if(4===a)throw f.i.ga("invalid call");if(null!==this.lw)return this.lw;a=this.gh().getGeogcs();if(null==a)throw f.i.Ra();return this.lw=c.WE(a,this.Jq.PF())};c.WE=function(a,b){if(null==a)throw f.i.O("null pointer.");var d=new c;a=
c.ou(a,!0);d.Jq.Wx(a,null,b);d.ay(a);d.cy(null);d.eg=a.cs();return d};c.prototype.Tb=function(){var a=this.gh();if(null!=a)switch(a.getType()){case f.Tc.PE_TYPE_GEOGCS:return 1;case f.Tc.PE_TYPE_PROJCS:return 2}return 4};c.prototype.kv=function(){return this.Ld.kv()};c.ou=function(a,b){var d=a.getCode();if(0>=d&&(d=f.qf.getCode(a),0<d)){a=f.qf.coordsys(d);if(null==a)throw f.i.O("Text to wkid mapping had failed: "+d);return c.ou(a,b)}if(b&&0<d&&(b=c.qx[d]))return b;b=f.Ab.zv(a,d,!1);var e=c.fK[b];
if(e)return e;a=0>=d?a:f.qf.coordsys(d);a=new f.IC(a);c.fK[b]=a;0<d&&(c.qx[d]=a);return a};c.dM=function(a){if(0>=a)throw f.i.O("Invalid or unsupported wkid: "+a);var b=c.qx[a];if(null!=b)return b;b=f.qf.coordsys(a);if(null==b)throw f.i.O("Invalid or unsupported wkid: "+a);b=c.ou(b,!1);b.cs()!=a&&(c.qx[a]=b);return b};c.eM=function(a){if(null==a||void 0===a||0==a.length)throw f.i.O("Cannot create SpatialReference from null or empty text.");var b=null;try{b=f.qf.fromString(f.Tc.PE_TYPE_COORDSYS,a)}catch(d){throw f.i.O("Cannot create SpatialReference from text. "+
d.message);}if(null===b)throw f.i.O("Cannot create SpatialReference from text. ");return c.ou(b,!0)};c.WC=function(a,b){var d=a.getCode();if(0>=d&&(d=f.qf.getCode(a),0<d)){d=f.qf.vertcs(d);if(null===d)throw f.i.O();return c.WC(d,b)}if(b&&0<d&&(b=c.eK[d]))return b;a=f.Ab.zv(a,d,!1);if(b=c.gK[a])return b;var e;0>=d||(e=f.qf.vertcs(d));if(null===e)throw f.i.O();e=new f.JL(e);c.gK[a]=e;0<d&&(c.eK[d]=e);return e};c.mI=function(a,b){if(null===b||b.B())return null;var d=new f.l;if(null!==b&&1!=a.Tb()){var e=
a.tc(),g=e.gh();a=f.xr.Pr(a,e,null,null);b=f.Gx.local().W(b,a,null)}else g=a.gh();b.A(d);b=g.getPrimem().getLongitude();g=g.getUnit().getUnitFactor();return new f.FC(d.v,d.G,d.C,d.H,b,g)};c.fD=function(a){var b={name:"",steps:[],_pt:null,_entry:null},d=0;for(a=a.getEntries();d<a.length;d++){var e=a[d],g={DY:!1,RY:"",QY:-1,geogtran:null};0===e.getDirection()?g.isInverse=!1:g.isInverse=!0;var h=e.getGeogtran().getCode();-1<h?g.wkid=h:g.wkt=e.getGeogtran().toString();b.steps.push(g)}return b};c.QR=function(a,
b,d,e){void 0===d&&(d=null);d=c.mI(e,d);a=f.mp.getGTlist(a.gh(),b.gh(),2,f.mp.PE_GTLIST_OPTS_COMMON,d,1);b=null;a&&0<a.length&&(b=this.fD(a[0]),f.Lx.destroy(a));null!==d&&d.destroy();return b};c.RR=function(a,b,d,e){var g;void 0===d&&(d=null);void 0===e&&(e=null);void 0===g&&(g=30);d=c.mI(e,d);a=f.mp.getGTlist(a.gh(),b.gh(),2,f.mp.PE_GTLIST_OPTS_COMMON,d,g);b=[];if(a&&0<a.length){for(g=0;g<a.length;g++)b.push(this.fD(a[g]));f.Lx.destroy(a)}null!==d&&d.destroy();return b};c.qx={};c.fK={};c.eK={};c.gK=
{};return c}(f.Gg);f.iu=w})(Y||(Y={}));(function(f){var w;(function(c){c[c.Integer32=0]="Integer32";c[c.Integer64=1]="Integer64";c[c.FloatingPoint=2]="FloatingPoint"})(w=f.ju||(f.ju={}));var l=function(){function c(){this.rp()}c.prototype.assign=function(a){this.Hm=a.Hm;this.Im=a.Im;this.Rj=a.Rj;this.mA=a.mA;this.Go=a.Go;this.lA=a.lA;this.Jk=a.Jk;this.Oq=a.Oq;this.Nq=a.Nq;this.Tm=a.Tm};c.prototype.PF=function(){return this.Tm};c.prototype.rp=function(){this.Im=this.Hm=0;this.Rj=1;this.mA=0;this.Go=
1;this.lA=0;this.Nq=this.Oq=this.Jk=2.220446049250313E-14;this.Tm=w.FloatingPoint};c.prototype.Wx=function(a,b,d){this.rp();this.Tm=d;if(d!=w.FloatingPoint){var e=new f.l;a.bR(e);this.Hm=e.v;this.Im=e.G}else this.Im=this.Hm=-1.7976931348623157E308;e=a.Re.getType();e==f.Tc.PE_TYPE_GEOGCS?(e=(d==w.Integer64?1E-9:1/18E5)*a.bf(),this.Rj=1/e):e==f.Tc.PE_TYPE_PROJCS&&(e=(d==w.Integer64?1E-4:.001)*a.rm(),this.Rj=1/e);null!=b?(e=(d==w.Integer32?.001:1E-4)*b.CH,this.Go=1/e):this.Go=1E4;this.SM();this.Jk=a.uw;
this.Oq=null!=b?.001*b.CH:.001;this.Nq=2.220446049250313E-14};c.prototype.SM=function(){if(this.Tm!=w.FloatingPoint){var a=this.Tm==w.Integer64?f.Gg.UN:f.Gg.TN,b=a/this.Rj,d=this.Hm+b,e=f.P.truncate((d-this.Hm)*this.Rj);e>a&&(this.Rj=a/(d-this.Hm));b=this.Im+b;e=f.P.truncate((b-this.Im)*this.Rj);e>a&&(this.Rj=a/(b-this.Im))}};c.prototype.VB=function(a){switch(a){case 0:this.Jk=void 0;case 1:this.Oq=void 0;case 2:this.Nq=void 0}};c.prototype.Ln=function(a){switch(a){case 0:return this.Jk;case 1:return this.Oq;
case 2:return this.Nq}return 0};c.prototype.pz=function(a){if(this.Tm==w.FloatingPoint)return 0;switch(a){case 0:return 1/this.Rj;case 1:return 1/this.Go;case 2:return 1/this.Go;default:return 0}};c.prototype.toString=function(){var a="SRPD [m_toleranceXY: "+this.Jk.toString();a=a+";m_falseX: "+this.Hm.toString();a=a+";m_falseY: "+this.Im.toString();a=a+";m_unitsXY: "+this.Rj.toString();a=a+";m_falseZ: "+this.mA.toString();a=a+";m_unitsZ: "+this.Go.toString();a=a+";m_falseM: "+this.lA.toString();
a=a+";m_toleranceZ: "+this.Oq.toString();a=a+";m_toleranceM: "+this.Nq.toString();a=a+";m_precision: "+this.Tm.toString();return a+"] "};return c}();f.TL=l})(Y||(Y={}));(function(f){function w(e,g){89.99999<g?g=89.99999:-89.99999>g&&(g=-89.99999);g*=.017453292519943;return[111319.49079327169*e,3189068.5*Math.log((1+Math.sin(g))/(1-Math.sin(g)))]}function l(e,g,h){e=e/6378137*57.29577951308232;return h?[e,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*g/6378137)))]:[e-360*Math.floor((e+
180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*g/6378137)))]}function c(e,g,h){var k=e.Pf();if(33===e.K())g=g(k.Ng(),k.kh()),k.Db(g[0],g[1]);else if(197===e.K()){var m=g(e.gs(),e.js(),h);g=g(e.fs(),e.hs(),h);k.L(m[0],m[1],g[0],g[1])}else for(m=new f.h,e=0;e<k.I();e++){k.D(e,m);var n=g(m.x,m.y,h);m.na(n[0],n[1]);k.Db(e,m)}return k}function a(e){return c(e,l,!0)}function b(e){return c(e,w,!0)}var d=Math.PI/180;f.OK=function(){function e(){}e.xu=function(g){var h=Math.sqrt(.006694379990197414),
k=Math.sin(g.y*d);return f.h.construct(6378137*g.x*d,3167719.6636462314*(k/(1-.006694379990197414*k*k)-1/(2*h)*Math.log((1-h*k)/(1+h*k))))};e.Ux=function(g,h,k,m){var n=1/298.257223563,p=Math.sin(k);k=Math.cos(k);var q=(1-n)*Math.tan(g);g=1/Math.sqrt(1+q*q);var r=q*g,v=Math.atan2(q,k);q=g*p;var G=q*q,S=1-G,X=2.7233160610754688E11*S/4.040829998466145E13,V=1+X/16384*(4096+X*(-768+X*(320-175*X))),Z=X/1024*(256+X*(-128+X*(74-47*X)));X=m/(6356752.31424518*V);for(var ia=2*Math.PI,ja,ma,sa,va;1E-12<Math.abs(X-
ia);)sa=Math.cos(2*v+X),ja=Math.sin(X),ma=Math.cos(X),va=Z*ja*(sa+Z/4*(ma*(-1+2*sa*sa)-Z/6*sa*(-3+4*ja*ja)*(-3+4*sa*sa))),ia=X,X=m/(6356752.31424518*V)+va;m=r*ja-g*ma*k;S=n/16*S*(4+n*(4-3*S));return f.h.construct((h+(Math.atan2(ja*p,g*ma-r*ja*k)-(1-S)*n*q*(X+S*ja*(sa+S*ma*(-1+2*sa*sa)))))/d,Math.atan2(r*ma+g*ja*k,(1-n)*Math.sqrt(G+m*m))/d)};e.GM=function(g,h,k,m){var n=1/298.257223563,p=m-h,q=Math.atan((1-n)*Math.tan(g)),r=Math.atan((1-n)*Math.tan(k)),v=Math.sin(q);q=Math.cos(q);var G=Math.sin(r);
r=Math.cos(r);var S=p,X=1E3;do{var V=Math.sin(S),Z=Math.cos(S),ia=Math.sqrt(r*V*r*V+(q*G-v*r*Z)*(q*G-v*r*Z));if(0===ia)return 0;Z=v*G+q*r*Z;var ja=Math.atan2(ia,Z),ma=q*r*V/ia,sa=1-ma*ma;V=Z-2*v*G/sa;isNaN(V)&&(V=0);var va=n/16*sa*(4+n*(4-3*sa)),Aa=S;S=p+(1-va)*n*ma*(ja+va*ia*(V+va*Z*(-1+2*V*V)))}while(1E-12<Math.abs(S-Aa)&&0<--X);if(0===X)return v=m-h,{azimuth:Math.atan2(Math.sin(v)*Math.cos(k),Math.cos(g)*Math.sin(k)-Math.sin(g)*Math.cos(k)*Math.cos(v)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(g)*
Math.sin(k)+Math.cos(g)*Math.cos(k)*Math.cos(m-h))};g=2.7233160610754688E11*sa/4.040829998466145E13;h=g/1024*(256+g*(-128+g*(74-47*g)));return{azimuth:Math.atan2(r*Math.sin(S),q*G-v*r*Math.cos(S)),SQ:6356752.31424518*(1+g/16384*(4096+g*(-768+g*(320-175*g))))*(ja-h*ia*(V+h/4*(Z*(-1+2*V*V)-h/6*V*(-3+4*ia*ia)*(-3+4*V*V)))),PY:Math.atan2(q*Math.sin(S),q*G*Math.cos(S)-v*r)}};e.dQ=function(g){var h=g.hasAttribute(1),k=g.hasAttribute(2),m=[],n=g.ea(),p=null,q=null;h&&(p=g.vb(1));k&&(q=g.vb(2));for(var r=
new f.h,v=0;v<n;v++){for(var G=g.Ca(v),S=g.Ka(v),X=0,V=0,Z=NaN,ia=NaN,ja=NaN,ma=NaN,sa=g.ec(v),va=[],Aa=G;Aa<G+S;Aa++){g.D(Aa,r);ma=ja=NaN;var za=[r.x,r.y];h&&(ja=p.get(Aa),za.push(ja));k&&(n=q.get(Aa),za.push(ma));Aa==G&&sa&&(X=r.x,V=r.y,Z=ja,ia=ma);va.push(za)}!sa||X==r.x&&V==r.y&&(!h||isNaN(Z)&&isNaN(ja)||Z==ja)&&(!k||isNaN(ia)&&isNaN(ma)||ia==ma)||va.push(va[0].slice(0));m.push(va)}return m};e.Ry=function(g,h){g=e.dQ(g);637.100877141506>h&&(h=637.100877141506);for(var k=[],m,n=0;n<g.length;n++){var p=
g[n];k.push(m=[]);m.push([p[0][0],p[0][1]]);var q,r,v=p[0][0]*d,G=p[0][1]*d;for(q=0;q<p.length-1;q++){var S=p[q+1][0]*d,X=p[q+1][1]*d;if(v!==S||G!==X){X=e.GM(G,v,X,S);S=X.azimuth;X=X.SQ;var V=X/h;if(1<V){for(r=1;r<=V-1;r++){var Z=e.Ux(G,v,S,r*h);m.push([Z.x,Z.y])}r=e.Ux(G,v,S,(X+Math.floor(V-1)*h)/2);m.push([r.x,r.y])}G=e.Ux(G,v,S,X);m.push([G.x,G.y]);v=G.x*d;G=G.y*d}}}return{kJ:k}};e.RQ=function(g){for(var h=[],k=0;k<g.length;k++){var m=g[k];m=e.Ry(m,1E4);h.push(m)}g=[];for(var n=0;n<h.length;n++){m=
h[n];var p=0;for(k=0;k<m.kJ.length;k++){var q=m.kJ[k],r=e.xu(f.h.construct(q[0][0],q[0][1])),v=e.xu(f.h.construct(q[q.length-1][0],q[q.length-1][1])),G=v.x*r.y-r.x*v.y,S;for(S=0;S<q.length-1;S++)r=e.xu(f.h.construct(q[S+1][0],q[S+1][1])),v=e.xu(f.h.construct(q[S][0],q[S][1])),G+=v.x*r.y-r.x*v.y;p+=G}p/=1;g.push(p/-2)}return g};return e}();f.cb=function(){function e(){}e.rB=function(g,h,k,m,n,p,q){e.aD[g.dc()]=h;0==isNaN(k)&&(e.gD[g.dc()]=k);0==isNaN(m)&&(e.tD[g.dc()]=m);0==isNaN(n)&&(e.VC[g.dc()]=
n);e.hD[g.dc()]=p;null!==q&&(e.iD[g.dc()]=q)};e.Yw=function(g,h,k){e.mD[g.dc()+"-"+h.dc()]=k};e.tc=function(g){g=e.aD[g.dc()];if(void 0==g)throw f.i.Fe();return g};e.bf=function(g){g=e.gD[g.dc()];if(void 0==g)throw f.i.Fe();return g};e.xv=function(g){g=e.tD[g.dc()];if(void 0==g)throw f.i.Fe();return g};e.gv=function(g){g=e.VC[g.dc()];if(void 0==g)throw f.i.Fe();return g};e.ih=function(g){g=e.iD[g.dc()];if(void 0==g)throw f.i.Fe();return f.l.construct(g[0],g[1],g[2],g[3])};e.Xc=function(g){g=e.hD[g.dc()];
if(void 0==g)throw f.i.Fe();return g};e.Bh=function(g,h,k){if(h.Nb(k))return g;var m=e.mD[h.dc()+"-"+k.dc()];if(void 0!==m)return m(g,h,k);throw f.i.Fe();};e.wt=function(){throw f.i.Fe();};e.WQ=function(){throw f.i.Fe();};e.WV=function(){throw f.i.Fe();};e.ol=function(){throw f.i.Fe();};e.kW=function(){var g=f.Gg.create(102100),h=f.Gg.create(3857),k=f.Gg.create(4326);f.cb.rB(g,k,NaN,NaN,NaN,!1,null);f.cb.rB(k,k,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);f.cb.rB(h,k,NaN,NaN,NaN,!1,null);
f.cb.Yw(g,k,a);f.cb.Yw(k,g,b);f.cb.Yw(h,k,a);f.cb.Yw(k,h,b)};e.aD=[];e.gD=[];e.tD=[];e.VC=[];e.hD=[];e.iD=[];e.mD=[];return e}()})(Y||(Y={}));Y.cb.kW();(function(f){var w=function(){function l(c){this.o=new Int32Array(0);this.jo=-1;this.Jg=this.size=this.Dl=0;this.Mf=c}l.prototype.kd=function(c){c<this.Dl?(this.o[c*this.Mf]=this.jo,this.jo=c):this.Dl--;this.size--};l.prototype.U=function(c,a){return this.o[c*this.Mf+a]};l.prototype.T=function(c,a,b){this.o[c*this.Mf+a]=b};l.prototype.De=function(){var c=
this.jo;if(-1==c){if(this.Dl==this.Jg){c=0!=this.Jg?f.P.truncate(3*(this.Jg+1)/2):1;2147483647<c&&(c=2147483647);if(c==this.Jg)throw f.i.re();this.yz(c)}c=this.Dl;this.Dl++}else this.jo=this.o[c*this.Mf];this.size++;for(var a=c*this.Mf;a<c*this.Mf+this.Mf;a++)this.o[a]=-1;return c};l.prototype.Nl=function(c){var a=this.jo;if(-1==a){if(this.Dl==this.Jg){a=0!=this.Jg?f.P.truncate(3*(this.Jg+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.Jg)throw f.i.re();this.yz(a)}a=this.Dl;this.Dl++}else this.jo=
this.o[a*this.Mf];this.size++;for(var b=a*this.Mf,d=0;d<c.length;d++)this.o[b+d]=c[d];return a};l.prototype.oj=function(c){this.jo=-1;this.size=this.Dl=0;c&&(this.o=null,this.Jg=0)};l.prototype.Ee=function(c){c>this.Jg&&this.yz(c)};l.prototype.sx=function(c,a){c*=this.Mf;a*=this.Mf;for(var b=0;b<this.Mf;b++){var d=this.o[a+b];this.o[a+b]=this.o[c+b];this.o[c+b]=d}};l.prototype.aC=function(c,a,b){var d=this.o[this.Mf*a+b];this.o[this.Mf*a+b]=this.o[this.Mf*c+b];this.o[this.Mf*c+b]=d};l.FG=function(c){return 0<=
c};l.prototype.yz=function(c){null==this.o&&(this.o=new Int32Array(0));var a=new Int32Array(this.Mf*c);a.set(this.o,0);this.o=a;this.Jg=c};return l}();f.ad=w})(Y||(Y={}));(function(f){var w;(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(w||(w={}));var l=function(){function a(b){this.Ce=
b;this.Ah=NaN;this.ZG=new f.hg;this.$G=new f.hg;this.os=new f.Oc;this.ps=new f.Oc}a.prototype.compare=function(b,d,e){b=b.ka(e);this.Ce.jB(d,this.ZG);this.Ce.jB(b,this.$G);d=this.ZG.get();b=this.$G.get();this.os.L(d.sa,d.qa);this.ps.L(b.sa,b.qa);if(this.os.wa<this.ps.pa)return-1;if(this.os.pa>this.ps.wa)return 1;e=d.oa==d.ma;var g=b.oa==b.ma;if(e||g){if(e&&g)return 0;if(d.oa==b.oa&&d.sa==b.sa)return e?1:-1;if(d.ma==b.ma&&d.qa==b.qa)return e?-1:1}e=d.Me(this.Ah,this.os.pa);g=b.Me(this.Ah,this.ps.pa);
e==g&&(e=Math.min(d.ma,b.ma),g=.5*(e+this.Ah),g==this.Ah&&(g=e),e=d.Me(g,this.os.pa),g=b.Me(g,this.ps.pa));return e<g?-1:e>g?1:0};a.prototype.VJ=function(b){this.Ah=b};return a}(),c=function(){function a(b){this.ib=b;this.QH=new f.hg;this.Cf=new f.h;this.qA=new f.Oc}a.prototype.bX=function(b){this.Cf.N(b)};a.prototype.compare=function(b,d){this.ib.jB(b.ka(d),this.QH);b=this.QH.get();this.qA.L(b.sa,b.qa);if(this.Cf.x<this.qA.pa)return-1;if(this.Cf.x>this.qA.wa)return 1;b=b.Me(this.Cf.y,this.Cf.x);
return this.Cf.x<b?-1:this.Cf.x>b?1:0};return a}();w=function(){function a(){this.bH=this.Fi=this.Ii=this.fA=this.Zn=this.ze=this.Lc=this.lh=this.ge=null;this.Ho=this.xg=-1;this.aH=!0;this.jA=!1;this.gA=NaN;this.Pi=new f.Nd;this.WN=2147483647;this.VN=f.P.truncate(-2147483648);this.dg=this.be=this.Jl=this.Eq=this.Em=this.Dq=this.Qs=this.Oe=-1;this.xa=0}a.prototype.ty=function(b){this.gA=b};a.prototype.$m=function(){null==this.ge&&(this.ge=new f.ad(8));var b=this.ge.De();this.ge.T(b,1,0);return b};
a.prototype.nU=function(){null==this.Lc&&(this.Lc=new f.ad(8));var b=this.Lc.De();this.Lc.T(b,2,0);this.Lc.T(b,3,0);var d=this.Lc.De();this.Lc.T(d,2,0);this.Lc.T(d,3,0);this.DJ(b,d);this.DJ(d,b);return b};a.prototype.gI=function(){null==this.ze&&(this.ze=new f.ad(8));var b=this.ze.De();this.ze.T(b,2,0);return b};a.prototype.LW=function(b,d){this.ge.T(b,7,d)};a.prototype.on=function(b,d){this.ge.T(b,2,d)};a.prototype.KW=function(b,d){this.ge.T(b,1,d)};a.prototype.cX=function(b,d){this.ge.T(b,3,d)};
a.prototype.$W=function(b,d){this.ge.T(b,4,d)};a.prototype.er=function(b,d){this.ge.T(b,5,d)};a.prototype.ZQ=function(b){return this.ge.U(b,5)};a.prototype.JW=function(b,d){this.ge.T(b,6,d)};a.prototype.XM=function(b,d){this.JW(d,b)};a.prototype.CJ=function(b,d){this.Lc.T(b,1,d)};a.prototype.DJ=function(b,d){this.Lc.T(b,4,d)};a.prototype.Vl=function(b,d){this.Lc.T(b,5,d)};a.prototype.Ul=function(b,d){this.Lc.T(b,6,d)};a.prototype.RW=function(b,d){this.Lc.T(b,2,d)};a.prototype.cx=function(b,d){this.Lc.T(b,
3,d)};a.prototype.FF=function(b){return this.Lc.U(b,3)};a.prototype.Ht=function(b,d){this.Lc.T(b,7,d)};a.prototype.yK=function(b,d){if(-1!=this.om(b))for(d=d?-1:b,b=this.om(b);-1!=b;b=this.ls(b))this.g.Sa(this.vj(b),this.Eq,d)};a.prototype.xx=function(b,d){-1!=b&&(this.yK(b,d),this.yK(this.ya(b),d))};a.prototype.Et=function(b,d){this.ze.T(b,1,d)};a.prototype.Xg=function(b,d){this.ze.T(b,2,d)};a.prototype.ln=function(b,d){this.ze.T(b,3,d);this.FW(b,this.YQ(d));this.EW(d,b)};a.prototype.EW=function(b,
d){this.ze.T(b,4,d)};a.prototype.FW=function(b,d){this.ze.T(b,5,d)};a.prototype.xJ=function(b,d){this.ze.T(b,6,d)};a.prototype.vJ=function(b,d){this.ze.T(b,7,d)};a.prototype.uJ=function(b,d){this.Zn.write(b,d)};a.prototype.wJ=function(b,d){this.fA.write(b,d)};a.prototype.cY=function(b){var d=0,e=0,g=this.uF(b),h=new f.h,k=new f.h,m=new f.h;this.$r(g,h);k.N(h);var n=g;do this.nm(n,m),e+=f.h.ub(k,m),this.$e(this.ya(n))!=b&&(d+=(m.x-h.x-(k.x-h.x))*(m.y-h.y+(k.y-h.y))*.5),k.N(m),n=this.kc(n);while(n!=
g);this.Zn.write(b,d);this.fA.write(b,e)};a.prototype.HU=function(b,d){var e=new l(this),g=new f.Zj;g.Ee(f.P.truncate(this.xa/2));g.Wo(e);for(var h=new f.ja(0),k=this.bh(),m=null,n=0,p=new f.h,q=this.Oe;-1!=q;q=this.Sf(q)){n++;if(0==(n&255)&&null!=d&&!d.progress(-1,-1))throw f.i.QC();var r=this.Je(q);if(-1!=r){h.Dh(0);if(!this.ZX(g,k,h,r)){this.D(q,p);e.VJ(p.y);var v=r;do{var G=this.Bb(v,k);-1!=G&&(g.wd(G,-1),this.Kb(v,k,-2));v=this.kc(this.ya(v))}while(r!=v);v=r;do G=this.Bb(v,k),-1==G&&(G=g.addElement(v,
-1),h.add(G)),v=this.kc(this.ya(v));while(r!=v)}for(r=h.size-1;0<=r;r--)G=h.get(r),v=g.ka(G),this.Kb(this.ya(v),k,G),this.GU(g,G,b)}else-1==this.Yy(q)&&(null==m&&(m=new c(this)),this.D(q,p),m.bX(p),v=g.zW(m),r=this.Jl,-1!=v&&(G=g.ka(v),this.$e(G)==this.$e(this.ya(G))&&(G=this.IF(g,v)),-1!=G&&(r=this.$e(G))),this.XM(r,q))}this.Lg(k)};a.prototype.GU=function(b,d,e){var g=b.ka(d),h=this.$e(g);if(-1==this.Hn(h)){var k=this.IF(b,d),m=this.ya(g),n=this.$e(m);this.Mp(h);this.Mp(n);var p=this.Hn(h),q=this.Hn(n);
-1==k&&-1==p&&(n==h?(this.ln(n,this.Jl),p=q=this.Jl):(-1==q&&(this.ln(n,this.Jl),q=this.Jl),this.ln(h,n),p=n));if(-1!=k){var r=this.$e(k);-1==q&&(0>=this.Mp(r)?(q=this.Hn(r),this.ln(n,q)):(this.ln(n,r),q=r),n==h&&(p=q))}-1==p&&this.$X(h,n);0==e?this.bW(b,d,g,k,h,n):5==e?this.cW(b,d,g,m,h,n):4==e&&this.aW(g,k,h,n)}};a.prototype.bW=function(b,d,e,g,h,k){var m=this.ik(h);if(-1!=g){var n=this.ik(k),p=this.ik(this.$e(g));g=m&n&p;p^=p&this.fh(e);p|=g;0!=p&&(this.Xg(k,n|p),this.Xg(h,p|m),m=m||p)}for(d=b.lb(d);-1!=
d;d=b.lb(d)){g=b.ka(d);e=this.$e(this.ya(g));h=this.ik(e);k=this.fh(g);n=this.$e(g);p=this.ik(n);g=h&p&m;m^=m&k;m|=g;if(0==m)break;this.Xg(e,h|m);this.Xg(n,p|m)}};a.prototype.cW=function(b,d,e,g,h,k){if(h!=k){e=this.Bb(e,this.dg);e+=this.Bb(g,this.dg);g=0;var m=new f.ja(0),n=new f.ja(0);n.add(0);for(var p=b.sc(-1);p!=d;p=b.lb(p)){var q=b.ka(p),r=this.ya(q),v=this.$e(q),G=this.$e(r);if(v!=G){q=this.Bb(q,this.dg);q+=this.Bb(r,this.dg);g+=q;r=!1;0!=m.size&&m.Gc()==G&&(n.Jf(),m.Jf(),r=!0);if(-1==this.Hn(G))throw f.i.Ra();
r&&this.Hn(G)==v||(n.add(g),m.add(v))}}g+=e;0!=m.size&&m.Gc()==k&&(n.Jf(),m.Jf());0!=g?0==n.Gc()&&(b=this.g.ld,b=this.Ma(b),this.Xg(h,b)):0!=n.Gc()&&(b=this.g.ld,b=this.Ma(b),this.Xg(h,b))}};a.prototype.aW=function(b,d,e,g){var h=this.Ma(this.g.ld);if(-1==d)this.Xg(g,this.Ho),b=this.Bb(b,this.xg),0!=(b&1)?this.Xg(e,h):this.Xg(e,this.Ho);else{var k=this.ik(g);0==k?(k=this.ik(this.$e(d)),this.Xg(g,k),b=this.Bb(b,this.xg),0!=(b&1)?this.Xg(e,k==h?this.Ho:h):this.Xg(e,k)):(b=this.Bb(b,this.xg),0!=(b&1)?
this.Xg(e,k==h?this.Ho:h):this.Xg(e,k))}};a.prototype.ZX=function(b,d,e,g){var h=g,k=-1,m=-1,n=0;do{if(2==n)return!1;var p=this.Bb(h,d);if(-1!=p){if(-1!=k)return!1;k=p}else{if(-1!=m)return!1;m=h}n++;h=this.kc(this.ya(h))}while(g!=h);if(-1==m||-1==k)return!1;this.Kb(b.ka(k),d,-2);b.Uj(k,m);e.add(k);return!0};a.prototype.$X=function(b,d){var e=this.Mp(b);if(0!=e){var g=this.Mp(d);0<e&&0>g?this.ln(b,d):0>e&&0<g?this.ln(b,d):(d=this.Hn(d),-1!=d&&this.ln(b,d))}};a.prototype.pP=function(b,d){this.Eq=this.g.Hd();
for(var e=0,g=d.size;e<g;e++){var h=d.get(e),k=this.g.Qa(h,this.Em),m=this.g.Rf(this.g.cd(h)),n=this.g.jc(m);if(f.ba.Ic(n)){var p=this.g.V(h);if(-1!=p){var q=this.g.Qa(p,this.Em);if(k!=q){var r=this.nU(),v=this.ya(r),G=this.lh.De();this.lh.T(G,0,h);this.lh.T(G,1,-1);this.Ht(r,G);this.CJ(r,k);G=this.Je(k);-1==G?(this.on(k,r),this.Vl(r,v),this.Ul(v,r)):(k=this.ue(G),this.Vl(G,v),this.Ul(v,G),this.Ul(k,r),this.Vl(r,k));this.CJ(v,q);k=this.Je(q);-1==k?(this.on(q,v),this.Ul(r,v),this.Vl(v,r)):(q=this.ue(k),
this.Vl(k,r),this.Ul(r,k),this.Ul(q,v),this.Vl(v,q));m=this.Ma(m);0==b?(this.Kb(v,this.be,0),this.Kb(r,this.be,1736==n?m:0)):5==b?(q=new f.h,this.g.D(h,q),h=new f.h,this.g.D(p,h),k=p=0,0>q.compare(h)?p=1:k=-1,this.Kb(v,this.be,0),this.Kb(r,this.be,0),this.Kb(r,this.dg,p),this.Kb(v,this.dg,k)):7==b?(this.Kb(v,this.be,this.Ho),this.Kb(r,this.be,1736==n?m:0)):4==b&&(this.Kb(v,this.be,0),this.Kb(r,this.be,0),this.Kb(r,this.xg,1),this.Kb(v,this.xg,1));n=1736==n?this.VN:0;this.cx(r,m|n);this.cx(v,m|n)}}}}};
a.prototype.NT=function(b,d){var e=this.om(d);if(-1!=e){var g=this.om(b);this.lh.T(e,1,g);this.Ht(b,e);this.Ht(d,-1)}b=this.ya(b);d=this.ya(d);e=this.om(d);-1!=e&&(g=this.om(b),this.lh.T(e,1,g),this.Ht(b,e),this.Ht(d,-1))};a.prototype.AX=function(b){function d(ia,ja){return g.BO(ia,ja)}var e=new f.ja(0);e.Jb(10);for(var g=this,h=this.Oe;-1!=h;h=this.Sf(h)){e.clear(!1);var k=this.Je(h);if(-1!=k){var m=k;do e.add(m),m=this.kc(this.ya(m));while(m!=k);if(1<e.size){m=!0;if(2<e.size)e.Wd(0,e.size,d),e.add(e.get(0));
else if(0<this.AO(e.get(0),e.get(1))){var n=e.get(0);e.set(0,e.get(1));e.set(1,n)}else m=!1;for(var p=n=e.get(0),q=this.vf(p),r=this.ya(p),v=-1,G=1,S=e.size;G<S;G++){var X=e.get(G),V=this.ya(X),Z=this.kk(V);if(Z==q&&X!=p){if(0==b)v=this.FF(p)|this.FF(X),this.cx(p,v),this.cx(r,v),this.Kb(p,this.be,this.Bb(p,this.be)|this.Bb(X,this.be)),this.Kb(r,this.be,this.Bb(r,this.be)|this.Bb(V,this.be));else if(-1!=this.dg)v=this.Bb(p,this.dg)+this.Bb(X,this.dg),V=this.Bb(r,this.dg)+this.Bb(V,this.dg),this.Kb(p,
this.dg,v),this.Kb(r,this.dg,V);else{if(7==b){this.Pi=new f.Nd(5,h,-1);return}-1!=this.xg&&(v=this.Bb(p,this.xg)+this.Bb(X,this.xg),V=this.Bb(r,this.xg)+this.Bb(V,this.xg),this.Kb(p,this.xg,v),this.Kb(r,this.xg,V))}this.NT(p,X);this.Gy(X);v=p;e.set(G,-1);X==n&&(e.set(0,-1),n=-1)}else this.xx(v,!1),v=-1,p=X,q=Z,r=V}this.xx(v,!1);v=-1;if(m){n=-1;G=0;for(S=e.size;G<S;G++)if(X=e.get(G),-1!=X)if(-1==n)p=n=X,q=this.vf(p),r=this.ya(p);else if(X!=p&&(V=this.ya(X),Z=this.kk(V),this.Ul(r,X),this.Vl(X,r),p=
X,q=Z,r=V,7==b&&(this.Bb(X,this.be)|this.Bb(this.ue(X),this.be))==(this.Ho|1))){this.Pi=new f.Nd(5,h,-1);return}this.on(h,n)}else{n=-1;G=0;for(S=e.size;G<S;G++)if(X=e.get(G),-1!=X){n=X;break}k!=n&&this.on(h,n)}}}}};a.prototype.QN=function(){for(var b=-1,d=this.bh(),e=this.Oe;-1!=e;e=this.Sf(e)){var g=this.Je(e);if(-1!=g){var h=g;do{if(1!=this.Bb(h,d)){var k=this.gI();this.Et(k,h);this.vJ(k,b);-1!=b&&this.xJ(b,k);b=k;var m=0,n=h;do m|=this.Bb(n,this.be),this.RW(n,k),this.Kb(n,d,1),n=this.kc(n);while(n!=
h);this.Xg(k,m)}h=this.kc(this.ya(h))}while(h!=g)}}k=this.gI();this.Et(k,-1);this.vJ(k,b);-1!=b&&this.xJ(b,k);this.Jl=k;this.Zn=f.ce.rf(this.ze.size,NaN);this.fA=f.ce.rf(this.ze.size,NaN);this.uJ(this.Jl,Infinity);this.wJ(this.Jl,Infinity);this.Lg(d)};a.prototype.lR=function(b,d,e){d=-1!=d?d:this.Je(b);if(-1==d)return-1;for(b=d;;){if(1!=this.Bb(d,e))return d;d=this.kc(this.ya(d));if(d==b)return-1}};a.prototype.qW=function(){for(var b=this.bh(),d=this.Oe;-1!=d;d=this.Sf(d))for(var e=-1;;){var g=this.lR(d,
e,b);if(-1==g)break;e=this.kc(this.ya(g));for(var h=g;;){var k=this.kc(h),m=this.ue(h),n=this.ya(h);if(m==n){this.CP(h);if(e==h||e==n)e=-1;if(h==g||m==g){g=k;if(h==g||m==g)break;h=k;continue}}else this.Kb(h,b,1);h=k;if(h==g)break}}this.Lg(b)};a.prototype.GB=function(b,d,e,g,h){this.Wg();this.aH=h;this.g=b;this.Dq=this.g.VE();b=new f.ja(0);b.Jb(null!=e?this.g.I(e.get(0)):this.g.gd);var k=0,m=1,n=null!=e?e.get(0):this.g.ld;for(h=1;-1!=n;){this.g.BJ(n,this.Dq,m);m<<=1;for(var p=this.g.Ob(n);-1!=p;p=
this.g.Sb(p))for(var q=this.g.Ya(p),r=0,v=this.g.Ka(p);r<v;r++)b.add(q),q=this.g.V(q);f.ba.Sn(this.g.jc(n))||(k+=this.g.ea(n));null!=e?(n=h<e.size?e.get(h):-1,h++):n=this.g.ve(n)}this.Ho=m;this.xa=b.size;this.g.nx(b,this.xa);null==this.lh&&(this.lh=new f.ad(2),this.ge=new f.ad(8),this.Lc=new f.ad(8),this.ze=new f.ad(8));this.lh.Ee(this.xa);f.np.Bp(g);this.ge.Ee(this.xa+10);this.Lc.Ee(2*this.xa+32);this.ze.Ee(Math.max(32,k));this.Em=this.g.Hd();e=new f.h;h=0;k=new f.h;e.Sc();for(m=0;m<=this.xa;m++)if(m<
this.xa?(q=b.get(m),this.g.D(q,k)):k.Sc(),!e.rb(k)){if(h<m){q=this.$m();for(v=r=-1;h<m;h++)v=b.get(h),this.g.Sa(v,this.Em,q),n=this.lh.De(),this.lh.T(n,0,v),this.lh.T(n,1,r),r=n,p=this.g.cd(v),n=this.g.Rf(p),n=this.Ma(n),this.KW(q,this.yd(q)|n);this.LW(q,r);this.er(q,this.g.Va(v));-1!=this.Qs&&this.$W(this.Qs,q);this.cX(q,this.Qs);this.Qs=q;-1==this.Oe&&(this.Oe=q)}h=m;e.N(k)}f.np.Bp(g);this.be=this.bh();5==d&&(this.dg=this.bh());4==d&&(this.xg=this.bh());this.pP(d,b);0==this.Pi.Lj&&(this.AX(d),0==
this.Pi.Lj&&(isNaN(this.gA)||this.rO()?(this.QN(),0==this.Pi.Lj&&(this.Lg(this.be),this.be=-1,this.aH&&this.HU(d,g))):this.jA=!0))};a.prototype.Gy=function(b){var d=this.kc(b),e=this.ue(b),g=this.ya(b),h=this.kc(g),k=this.ue(g);d!=g&&(this.Ul(k,d),this.Vl(d,k));e!=g&&(this.Ul(e,h),this.Vl(h,e));e=this.kk(b);this.Je(e)==b&&(h!=b?this.on(e,h):this.on(e,-1));h=this.kk(g);this.Je(h)==g&&(d!=g?this.on(h,d):this.on(h,-1));this.Lc.kd(b);this.Lc.kd(g)};a.prototype.IF=function(b,d){for(;;)if(d=b.xe(d),-1!=
d){var e=b.ka(d);if(this.$e(e)!=this.$e(this.ya(e)))return e}else return-1};a.prototype.fr=function(b,d){var e;void 0===e&&(e=!0);this.GB(b,0,null,d,e)};a.prototype.pJ=function(b,d,e){var g=new f.ja(0);g.add(d);this.GB(b,4,g,e,1736==b.jc(d))};a.prototype.qJ=function(b,d,e){var g=new f.ja(0);g.add(d);this.GB(b,5,g,e,!0)};a.prototype.Wg=function(){null!=this.g&&(-1!=this.Dq&&(this.g.pW(this.Dq),this.Dq=-1),-1!=this.Em&&(this.g.Ud(this.Em),this.Em=-1),-1!=this.Eq&&(this.g.Ud(this.Eq),this.Eq=-1),-1!=
this.be&&(this.Lg(this.be),this.be=-1),-1!=this.dg&&(this.Lg(this.dg),this.dg=-1),-1!=this.xg&&(this.Lg(this.xg),this.xg=-1),this.g=null,this.ge.oj(!0),this.lh.oj(!0),this.Qs=this.Oe=-1,null!=this.Lc&&this.Lc.oj(!0),null!=this.Ii&&(this.Ii.length=0),null!=this.Fi&&(this.Fi.length=0),null!=this.bH&&(this.bH.length=0),null!=this.ze&&this.ze.oj(!0),this.Jl=-1,this.Zn=null)};a.prototype.Je=function(b){return this.ge.U(b,2)};a.prototype.D=function(b,d){this.g.YF(this.ZQ(b),d)};a.prototype.yd=function(b){return this.ge.U(b,
1)};a.prototype.Sf=function(b){return this.ge.U(b,4)};a.prototype.Yy=function(b){return this.ge.U(b,6)};a.prototype.mm=function(b){return this.ge.U(b,7)};a.prototype.ls=function(b){return this.lh.U(b,1)};a.prototype.vj=function(b){return this.lh.U(b,0)};a.prototype.ng=function(b,d){d=this.Fi[d];return d.size<=b?-1:d.read(b)};a.prototype.pn=function(b,d,e){d=this.Fi[d];d.size<=b&&d.resize(this.ge.size,-1);d.write(b,e)};a.prototype.Fp=function(){null==this.Fi&&(this.Fi=[]);for(var b=f.ja.rf(this.ge.Jg,
-1),d=0,e=this.Fi.length;d<e;d++)if(null==this.Fi[d])return this.Fi[d]=b,d;this.Fi.push(b);return this.Fi.length-1};a.prototype.Gp=function(b){this.Fi[b]=null};a.prototype.kk=function(b){return this.Lc.U(b,1)};a.prototype.vf=function(b){return this.kk(this.ya(b))};a.prototype.ya=function(b){return this.Lc.U(b,4)};a.prototype.ue=function(b){return this.Lc.U(b,5)};a.prototype.kc=function(b){return this.Lc.U(b,6)};a.prototype.$e=function(b){return this.Lc.U(b,2)};a.prototype.af=function(b){return this.ik(this.Lc.U(b,
2))};a.prototype.om=function(b){return this.Lc.U(b,7)};a.prototype.$r=function(b,d){this.D(this.kk(b),d)};a.prototype.nm=function(b,d){this.D(this.vf(b),d)};a.prototype.fh=function(b){return this.Lc.U(b,3)&this.WN};a.prototype.Bb=function(b,d){d=this.Ii[d];return d.size<=b?-1:d.read(b)};a.prototype.Kb=function(b,d,e){d=this.Ii[d];d.size<=b&&d.resize(this.Lc.size,-1);d.write(b,e)};a.prototype.bh=function(){null==this.Ii&&(this.Ii=[]);for(var b=f.ja.rf(this.Lc.Jg,-1),d=0,e=this.Ii.length;d<e;d++)if(null==
this.Ii[d])return this.Ii[d]=b,d;this.Ii.push(b);return this.Ii.length-1};a.prototype.Lg=function(b){this.Ii[b]=null};a.prototype.CP=function(b){var d=this.$e(b),e=this.ya(b),g=this.kc(b);g==e&&(g=this.kc(g),g==b&&(g=-1));var h=this.uF(d);h!==b&&h!=e||this.Et(d,g);e=this.Zn.read(d);isNaN(e)||(this.uJ(d,NaN),this.wJ(d,NaN));this.xx(b,!0);this.Gy(b)};a.prototype.DP=function(b){for(var d=0,e=b.size;d<e;d++){var g=b.get(d),h=this.$e(this.ya(g));this.Et(this.$e(g),-1);this.Et(h,-1);this.xx(g,!0);this.Gy(g)}};
a.prototype.uF=function(b){return this.ze.U(b,1)};a.prototype.ik=function(b){return this.ze.U(b,2)};a.prototype.Hn=function(b){return this.ze.U(b,3)};a.prototype.YQ=function(b){return this.ze.U(b,4)};a.prototype.Mp=function(b){var d=this.Zn.read(b);isNaN(d)&&(this.cY(b),d=this.Zn.read(b));return d};a.prototype.Ma=function(b){return this.g.EF(b,this.Dq)};a.prototype.Ie=function(b){return this.g.Qa(b,this.Em)};a.prototype.nR=function(b){return this.g.Qa(b,this.Eq)};a.prototype.mR=function(b,d){var e=
this.Je(b);if(-1==e)return-1;var g=e,h=-1,k=-1;do{if(this.vf(g)==d)return g;if(-1==h){h=this.Je(d);if(-1==h)break;k=h}if(this.vf(k)==b)return g=this.ya(k);g=this.kc(this.ya(g));k=this.kc(this.ya(k))}while(g!=e&&k!=h);return-1};a.prototype.jB=function(b,d){d.Qr();d=d.get();var e=new f.h;this.$r(b,e);d.Ec(e);this.nm(b,e);d.Rc(e)};a.prototype.BO=function(b,d){if(b==d)return 0;var e=new f.h;this.nm(b,e);var g=new f.h;this.nm(d,g);if(e.rb(g))return 0;d=new f.h;this.$r(b,d);b=new f.h;b.vc(e,d);e=new f.h;
e.vc(g,d);return f.h.pu(b,e)};a.prototype.AO=function(b,d){if(b==d)return 0;var e=new f.h;this.nm(b,e);var g=new f.h;this.nm(d,g);if(e.rb(g))return 0;d=new f.h;this.$r(b,d);b=new f.h;b.vc(e,d);e=new f.h;e.vc(g,d);return 0<=e.y&&0<b.y?f.h.pu(b,e):0};a.prototype.rO=function(){for(var b=f.mc.ox(this.gA),d=new f.h,e=new f.h,g=new f.h,h=new f.h,k=new f.h,m=this.Oe;-1!=m;m=this.Sf(m)){var n=this.Je(m);if(-1!=n){var p=n;this.$r(p,d);this.nm(p,e);k.vc(e,d);var q=k.Tk();do{var r=p;p=this.kc(this.ya(p));if(p!=
r){this.nm(p,g);h.vc(g,d);r=h.Tk();var v=h.yi(k);if(v*v/(r*q)*Math.min(r,q)<=b)return!1;k.N(h);q=r;e.N(g)}}while(p!=n)}}return!0};return a}();f.ku=w})(Y||(Y={}));(function(f){var w=function(){function l(){this.j=null;this.iH=new f.h;this.jH=new f.h;this.Ij=null;this.Ov=!1;this.vl=-1}l.prototype.cf=function(c){return c<this.Ij.length?this.Ij[c]:!1};l.prototype.fl=function(c,a,b,d){var e=f.ba.uf(this.j.g.jc(b));if(2==f.ba.uf(this.j.g.jc(a))&&1==e)this.zP(c,a,b,d);else throw f.i.Ra();};l.prototype.fr=
function(c,a){null==this.j&&(this.j=new f.ku);this.j.fr(c,a)};l.prototype.Gt=function(c,a,b){f.Uk.W(c,a,b,!0);for(a=c.ld;-1!=a;a=c.ve(a))1736==c.jc(a)&&f.tn.W(c,a,-1,this.Ov,b);this.fr(c,b)};l.prototype.GE=function(c,a,b,d,e){var g=this.j.g;if(1736==g.jc(c))for(c=g.Ob(c);-1!=c;c=g.Sb(c)){var h=g.Ya(c);this.j.Ie(h);this.j.Ie(g.V(h));var k=this.j.nR(h);if(-1!=k){var m=this.j.Bb(k,b);if(1!=m&&2!=m)if(this.cf(this.j.af(k))){this.j.Kb(k,b,1);m=g.wf(a,-1);var n=k,p=this.j.Ie(h),q=1;do{var r=this.um(h,e);
g.kj(m,r);-1!=d&&this.j.pn(p,d,1);this.j.Kb(n,b,1);n=this.j.kc(n);do{r=1==q?g.V(h):g.Na(h);var v=-1!=r?this.j.Ie(r):-1}while(v==p);var G=this.j.kk(n);if(G!=v){do r=1==q?g.Na(h):g.V(h),v=-1!=r?this.j.Ie(r):-1;while(v==p);G!=v?(v=G,r=this.j.vj(this.j.mm(v))):q=-q}p=v;h=r}while(n!=k);g.mn(m,!0)}else this.j.Kb(k,b,2)}}};l.prototype.ZE=function(){for(var c=this.j.bh(),a=new f.ja(0),b=this.j.Oe;-1!=b;b=this.j.Sf(b)){var d=this.j.Je(b),e=d;if(-1!=d){do{if(1!=this.j.Bb(e,c)){var g=this.j.ya(e);this.j.Kb(g,
c,1);this.j.Kb(e,c,1);this.cf(this.j.af(e))&&this.cf(this.j.af(g))&&a.add(e)}e=this.j.kc(this.j.ya(e))}while(e!=d)}}this.j.Lg(c);this.j.DP(a)};l.prototype.um=function(c,a){return-1==a?c:this.UR(c,a)};l.prototype.UR=function(c,a){var b=this.j.g,d=this.j.mm(this.j.Ie(c));do{var e=this.j.vj(d);if(b.Rf(b.cd(e))==a)return e;d=this.j.ls(d)}while(-1!=d);return c};l.prototype.Qt=function(c,a,b){this.ZE();var d=this.j.g,e=d.Kg(1736),g=this.j.bh();this.oK(c,a,e,b,g,-1);this.j.Lg(g);f.tn.W(d,e,1,this.Ov,null);
return e};l.prototype.oK=function(c,a,b,d,e,g){this.GE(c,b,e,g,d);-1!=a&&this.GE(a,b,e,g,d);c=this.j.g;for(a=this.j.Oe;-1!=a;a=this.j.Sf(a)){var h=this.j.Je(a);if(-1!=h){var k=h;do{var m=this.j.Bb(k,e);if(1!=m&&2!=m)if(this.cf(this.j.af(k))){m=c.wf(b,-1);var n=k;do{var p=this.j.om(n);-1!=p?p=this.j.vj(p):(p=this.j.vj(this.j.om(this.j.ya(n))),p=this.j.g.V(p));p=this.um(p,d);c.kj(m,p);this.j.Kb(n,e,1);-1!=g&&(p=this.j.Ie(p),this.j.pn(p,g,1));n=this.j.kc(n)}while(n!=k);c.mn(m,!0)}else this.j.Kb(k,e,
2);k=this.j.kc(this.j.ya(k))}while(k!=h)}}};l.prototype.TX=function(c,a,b){var d=this.j.g,e=d.Kg(1736),g=d.Kg(1607),h=d.Kg(550);this.ZE();var k=-1,m=this.j.bh(),n=this.j.Fp();this.oK(c,a,e,b,m,n);for(c=this.j.Oe;-1!=c;c=this.j.Sf(c))if(a=this.j.Je(c),-1!=a){var p=a;do{var q=this.j.Bb(p,m),r=this.j.Bb(this.j.ya(p),m);q|=r;if(2==q)if(q=this.j.fh(p),this.cf(q)){var v=d.wf(g,-1),G=p;q=this.$w(c,d);q=this.um(q,b);d.kj(v,q);this.j.pn(c,n,1);do{q=this.j.vf(G);r=this.$w(q,d);r=this.um(r,b);d.kj(v,r);this.j.Kb(G,
m,1);this.j.Kb(this.j.ya(G),m,1);this.j.pn(q,n,1);G=this.j.kc(G);q=this.j.Bb(G,m);r=this.j.Bb(this.j.ya(G),m);q|=r;if(2!=q)break;q=this.j.fh(G);if(!this.cf(q)){this.j.Kb(G,m,1);this.j.Kb(this.j.ya(G),m,1);break}}while(G!=p)}else this.j.Kb(p,m,1),this.j.Kb(this.j.ya(p),m,1);p=this.j.kc(this.j.ya(p))}while(p!=a)}for(c=this.j.Oe;-1!=c;c=this.j.Sf(c))q=this.j.ng(c,n),1!=q&&(q=this.j.yd(c),this.cf(q)&&(-1==k&&(k=d.wf(h,-1)),a=this.j.mm(c),-1!=a&&(a=this.j.vj(a),q=this.um(a,b),d.kj(k,q))));this.j.Gp(n);
this.j.Lg(m);f.tn.W(d,e,1,this.Ov,null);b=[];b[0]=h;b[1]=g;b[2]=e;return b};l.prototype.$w=function(c,a){var b=-1;for(c=this.j.mm(c);-1!=c;c=this.j.ls(c)){var d=this.j.vj(c);-1==b&&(b=d);var e=this.j.Ma(a.Rf(a.cd(d)));if(this.cf(e)){b=d;break}}return b};l.prototype.fB=function(c,a){for(var b=this.ll(a),d=this.j.kk(a),e=this.j.vf(a),g=0,h=0,k=this.j.mm(d);-1!=k;k=this.j.ls(k)){var m=this.j.vj(k),n=c.cd(m),p=this.j.Ma(c.Rf(n));n=c.Ya(n);(p=0!=(p&b))&&n==m&&(this.vl=a);var q=c.V(m);-1!=q&&this.j.Ie(q)==
e?(g++,p&&(-1===this.vl&&n==q&&(m=this.j.kc(a),this.cf(this.ll(m))&&(this.vl=m)),h++)):(m=c.Na(m),-1!=m&&this.j.Ie(m)==e&&(g--,p&&(-1===this.vl&&n===m&&(m=this.j.kc(a),this.cf(this.ll(m))&&(this.vl=m)),h--)))}this.j.D(d,this.iH);this.j.D(e,this.jH);c=f.h.ub(this.iH,this.jH);return(0!=h?h:g)*c};l.prototype.ll=function(c){return this.j.fh(c)|this.j.af(c)|this.j.af(this.j.ya(c))};l.prototype.rK=function(c){for(var a=this.j.ya(this.j.ue(c)),b=-1;a!=c;){if(this.cf(this.ll(a))){if(-1!=b)return-1;b=a}a=
this.j.ya(this.j.ue(a))}return-1!=b?this.j.ya(b):-1};l.prototype.sK=function(c){for(var a=this.j.ya(this.j.kc(c)),b=-1;a!=c;){if(this.cf(this.ll(a))){if(-1!=b)return-1;b=a}a=this.j.ya(this.j.kc(a))}return-1!=b?this.j.ya(b):-1};l.prototype.gJ=function(c,a,b,d,e){var g=this.j.g,h=c,k=this.j.ya(h);this.j.Kb(h,b,1);this.j.Kb(k,b,1);this.vl=-1;for(var m=this.fB(g,h),n=h,p=-1,q=!1,r=1;;){var v=this.j.ue(h);if(v==k)break;k=this.j.kc(k);if(this.j.ya(v)!=k)if(h=this.rK(h),-1==h){q=!0;break}else k=this.j.ya(h);
else h=v;if(h==c){p=c;break}v=this.ll(h);if(!this.cf(v))break;this.j.Kb(h,b,1);this.j.Kb(k,b,1);n=h;m+=this.fB(g,h);r++}if(-1==p)for(h=c,k=this.j.ya(h),p=h;;){c=this.j.kc(h);if(c==k)break;k=this.j.ue(k);if(this.j.ya(c)!=k)if(h=this.sK(h),-1==h){q=!0;break}else k=this.j.ya(h);else h=c;v=this.ll(h);if(!this.cf(v))break;this.j.Kb(h,b,1);this.j.Kb(k,b,1);p=h;m+=this.fB(g,h);r++}else if(-1!=this.vl&&(n=this.vl,p=this.j.ue(this.vl),this.j.ya(p)!=this.j.kc(this.j.ya(n))&&(p=this.rK(n),-1==p)))throw f.i.Ra();
0<=m||(h=p,p=this.j.ya(n),n=this.j.ya(h));b=g.wf(a,-1);h=n;n=this.j.kk(n);q=this.j.vf(p)==n&&q;m=this.$w(n,g);m=this.um(m,e);g.kj(b,m);-1!=d&&this.j.pn(n,d,1);n=0;for(r=q?f.P.truncate((r+1)/2):-1;;){c=this.j.vf(h);m=this.$w(c,g);m=this.um(m,e);g.kj(b,m);n++;-1!=d&&this.j.pn(c,d,1);q&&n==r&&(b=g.wf(a,-1),g.kj(b,m));if(h==p)break;c=this.j.kc(h);if(this.j.ue(this.j.ya(h))!=this.j.ya(c)){if(h=this.sK(h),-1==h)throw f.i.Ra();}else h=c}};l.prototype.Rt=function(c){for(var a=this.j.g.Kg(1607),b=this.j.bh(),
d=this.j.Oe;-1!=d;d=this.j.Sf(d)){var e=this.j.Je(d),g=e;do 1!=this.j.Bb(g,b)&&this.cf(this.ll(g))&&this.gJ(g,a,b,-1,c),g=this.j.kc(this.j.ya(g));while(g!=e)}this.j.Lg(b);return a};l.prototype.UX=function(c){for(var a=this.j.g,b=a.Kg(1607),d=a.Kg(550),e=this.j.bh(),g=this.j.Fp(),h=-1,k=this.j.Oe;-1!=k;k=this.j.Sf(k)){var m=this.j.Je(k),n=m;do{var p=this.j.Bb(n,e);1!=p&&(p=this.ll(n),this.cf(p)&&this.gJ(n,b,e,g,c));n=this.j.kc(this.j.ya(n))}while(n!=m)}for(k=this.j.Oe;-1!=k;k=this.j.Sf(k))p=this.j.ng(k,
g),1!=p&&(p=this.j.yd(k),this.cf(p)&&(-1==h&&(h=a.wf(d,-1)),m=this.j.mm(k),-1!=m&&(m=this.j.vj(m),m=this.um(m,c),a.kj(h,m))));this.j.Lg(e);this.j.Gp(g);c=[];c[0]=d;c[1]=b;return c};l.prototype.pr=function(){for(var c=this.j.g,a=c.Kg(550),b=c.wf(a,-1),d=this.j.Oe;-1!=d;d=this.j.Sf(d))if(this.cf(this.j.yd(d))){for(var e=-1,g=this.j.mm(d);-1!=g;g=this.j.ls(g)){var h=this.j.vj(g);-1==e&&(e=h);var k=this.j.Ma(c.Rf(c.cd(h)));if(this.cf(k)){e=h;break}}c.kj(b,e)}return a};l.prototype.eq=function(c){this.Ij=
[];for(var a=0;a<c;a++)this.Ij[a]=!1};l.TV=function(c,a,b){var d=c.Ja(),e=Array(1E3);f.P.bv(e,null);var g=f.P.lg(1E3,0),h=c.I(),k=!0,m=2==a.Eb();if(1!=a.Eb()&&2!=a.Eb())throw f.i.Ra();for(var n=0;n<h;){var p=f.P.truncate(c.dW(e,n)-n);m?f.jd.mK(a,e,p,b,g):f.jd.nK(a,e,p,b,g);for(var q=0,r=0;r<p;r++)0==g[r]&&(k&&(k=!1,d.Gd(c,0,n)),q!=r&&d.Gd(c,n+q,n+r),q=r+1);k||q==p||d.Gd(c,n+q,n+p);n+=p}return k?c:d};l.tG=function(c,a,b){return c instanceof f.de?l.TV(c,a,b):a instanceof f.Ta?c.B()||a.B()?c.Ja():f.Uk.rU(b,
c,a)?f.Uk.wO(c,a):c.Ja():l.UV(c,a,b)};l.Cv=function(c,a,b,d){var e=new f.l;c.A(e);var g=new f.l;a.A(g);var h=new f.l;h.L(e);h.$b(g);b=f.ta.Xd(b,h,!0);h=new f.l;h.L(g);g=f.ta.Gr(b);h.X(g,g);if(!e.isIntersecting(h)){if(c.Eb()<=a.Eb())return l.mi(l.Ue(c.Ja()),c,"\x26");if(c.Eb()>a.Eb())return l.mi(l.Ue(a.Ja()),c,"\x26")}g=new l;e=new f.hd;h=e.Ib(l.Ue(c));a=e.Ib(l.Ue(a));g.Gt(e,b,d);d=g.Cv(h,a);c=l.mi(e.Ke(d),c,"\x26");f.ba.Ic(c.K())&&(c.Eh(2,b),1736==c.K()&&c.hm());return c};l.UV=function(c,a,b){if(c.B()||
a.B())return c.Ja();var d=[null],e=[0],g=2==a.Eb();if(1!=a.Eb()&&2!=a.Eb())throw f.i.Ra();d[0]=c.D();g?f.jd.mK(a,d,1,b,e):f.jd.nK(a,d,1,b,e);return 0==e[0]?c.Ja():c};l.prototype.DU=function(c,a,b,d,e){if(c.B())return c;var g=new f.hd;c=g.Ib(c);return this.Nk(g,c,a,b,d,e)};l.prototype.FU=function(c,a,b,d,e,g){if(e&&550!=c.jc(a)){var h=new f.LC;h.LX(c,b);h.Pg?(f.Uk.W(c,b,g,!0),e=!1):this.j.ty(b)}else f.Uk.W(c,b,g,!0),e=!1;d&&550!=c.jc(a)?this.j.qJ(c,a,g):this.j.pJ(c,a,g);if(this.j.jA)return this.j.Wg(),
this.j=null,this.Nk(c,a,b,d,!1,g);this.j.ty(NaN);g=this.j.Ma(a);this.eq(g+1);this.Ij[g]=!0;if(1736==c.jc(a)||d&&550!=c.jc(a))return c.Zo(a,0),a=this.Qt(a,-1,-1),c=c.Ke(a),c.Zo(0),e?c.Eh(1,0):(c.Eh(2,b),c.hm()),c;if(1607==c.jc(a))return a=this.Rt(-1),c=c.Ke(a),e||c.Eh(2,b),c;if(550==c.jc(a))return a=this.pr(),c=c.Ke(a),e||c.Eh(2,b),c;throw f.i.Ra();};l.prototype.Nk=function(c,a,b,d,e,g){this.j=new f.ku;try{return this.FU(c,a,b,d,e,g)}finally{this.j.Wg()}};l.Nk=function(c,a,b,d,e){return(new l).DU(c,
a,b,d,e)};l.prototype.EU=function(c,a,b,d){this.Ov=c;this.j=new f.ku;c=a.Jn(b);var e=a.jc(b);1!=c||550==e?this.j.pJ(a,b,d):this.j.qJ(a,b,d);if(!this.j.jA)if(this.j.ty(NaN),d=this.j.Ma(b),this.eq(d+1),this.Ij[d]=!0,1736==a.jc(b)||1==c&&550!=a.jc(b))a.Zo(b,0),d=this.Qt(b,-1,-1),a.bC(d,b),a.vB(d);else if(1607==a.jc(b))d=this.Rt(-1),a.bC(d,b),a.vB(d);else if(550==a.jc(b))d=this.pr(),a.bC(d,b),a.vB(d);else throw f.i.ga("internal error");};l.prototype.km=function(c,a){var b=f.ba.uf(this.j.g.jc(c)),d=f.ba.uf(this.j.g.jc(a));
if(b>d)return c;var e=this.j.Ma(c),g=this.j.Ma(a);this.eq((e|g)+1);this.Ij[this.j.Ma(c)]=!0;if(2==b&&2==d)return this.Qt(c,a,-1);if(1==b&&2==d||1==b&&1==d)return this.Rt(-1);if(0==b)return this.pr();throw f.i.Ra();};l.prototype.Cv=function(c,a){var b=f.ba.uf(this.j.g.jc(c)),d=f.ba.uf(this.j.g.jc(a)),e=this.j.Ma(c),g=this.j.Ma(a);this.eq((e|g)+1);this.Ij[this.j.Ma(c)|this.j.Ma(a)]=!0;e=-1;1<this.j.g.it.Ba&&(e=c);if(2==b&&2==d)return this.Qt(c,a,e);if(1==b&&0<d||1==d&&0<b)return this.Rt(e);if(0==b||
0==d)return this.pr();throw f.i.Ra();};l.prototype.Kz=function(c,a){var b=f.ba.uf(this.j.g.jc(c)),d=f.ba.uf(this.j.g.jc(a)),e=this.j.Ma(c),g=this.j.Ma(a);this.eq((e|g)+1);this.Ij[this.j.Ma(c)|this.j.Ma(a)]=!0;e=-1;1<this.j.g.it.Ba&&(e=c);if(2==b&&2==d)return this.TX(c,a,e);if(1==b&&0<d||1==d&&0<b)return this.UX(e);if(0==b||0==d)return c=[],c[0]=this.pr(),c;throw f.i.Ra();};l.prototype.fp=function(c,a){var b=f.ba.uf(this.j.g.jc(c)),d=f.ba.uf(this.j.g.jc(a)),e=this.j.Ma(c),g=this.j.Ma(a);this.eq((e|
g)+1);this.Ij[this.j.Ma(c)]=!0;this.Ij[this.j.Ma(a)]=!0;if(2==b&&2==d)return this.Qt(c,a,-1);if(1==b&&1==d)return this.Rt(-1);if(0==b&&0==d)return this.pr();throw f.i.Ra();};l.Ue=function(c){var a=c.K();return 197==a?(a=new f.Ea(c.description),c.B()||a.bd(c,!1),a):33==a?(a=new f.de(c.description),c.B()||a.add(c),a):322==a?(a=new f.Ua(c.description),c.B()||a.oc(c,!0),a):c};l.mi=function(c,a,b){var d=c.K();return 197==d?(a=new f.Ea(c.description),c.B()||a.bd(c,!1),a):33!=d||"|"!=b&&"^"!=b?322==d?(a=
new f.Ua(c.description),c.B()||a.oc(c,!0),a):33==d&&"-"==b&&33==a.K()||550==d&&"\x26"==b&&33==a.K()?(a=new f.Ta(c.description),c.B()||c.we(0,a),a):c:(a=new f.de(c.description),c.B()||a.add(c),a)};l.km=function(c,a,b,d){if(c.B()||a.B()||c.Eb()>a.Eb())return l.mi(l.Ue(c),c,"-");var e=new f.l;c.A(e);var g=new f.l;a.A(g);if(!e.isIntersecting(g))return l.mi(l.Ue(c),c,"-");var h=new f.l;h.L(e);h.$b(g);b=f.ta.Xd(b,h,!0);g=new l;e=new f.hd;h=e.Ib(l.Ue(c));a=e.Ib(l.Ue(a));g.Gt(e,b,d);d=g.km(h,a);d=e.Ke(d);
c=l.mi(d,c,"-");f.ba.Ic(c.K())&&(c.Eh(2,b),1736==c.K()&&c.hm());return c};l.PP=function(c,a,b){if(2>c.length)throw f.i.O("not enough geometries to dissolve");for(var d=0,e=0,g=c.length;e<g;e++)d=Math.max(c[e].Eb(),d);var h=new f.l;h.Pa();var k=new f.hd,m=-1,n=0,p=-1;e=0;for(g=c.length;e<g;e++)if(c[e].Eb()==d)if(c[e].B())-1==p&&(p=e);else{p=e;-1==m?m=k.Ib(l.Ue(c[e])):k.oN(m,l.Ue(c[e]));var q=new f.l;c[e].yc(q);h.$b(q);n++}if(2>n)return l.Ue(c[p]);c=2==d;a=f.ta.Xd(0==d?a:null,h,!0);return(new l).Nk(k,
m,a,c,!0,b)};l.Kz=function(c,a,b,d){var e=[null,null,null],g=new f.l;c.A(g);var h=new f.l;a.A(h);var k=new f.l;k.L(g);k.$b(h);b=f.ta.Xd(b,k,!0);k=new f.l;k.L(h);h=f.ta.Gr(b);k.X(h,h);if(!g.isIntersecting(k)){if(c.Eb()<=a.Eb())return c=l.mi(l.Ue(c.Ja()),c,"\x26"),e[c.Eb()]=c,e;if(c.Eb()>a.Eb())return c=l.mi(l.Ue(a.Ja()),c,"\x26"),e[c.Eb()]=c,e}h=new l;g=new f.hd;k=g.Ib(l.Ue(c));a=g.Ib(l.Ue(a));h.Gt(g,b,d);d=h.Kz(k,a);for(a=0;a<d.length;a++)h=l.mi(g.Ke(d[a]),c,"\x26"),f.ba.Ic(h.K())&&(h.Eh(2,b),1736==
h.K()&&h.hm()),e[h.Eb()]=h;return e};l.fp=function(c,a,b,d){if(c.Eb()>a.Eb())return l.mi(l.Ue(c),c,"^");if(c.Eb()<a.Eb()||c.B())return l.mi(l.Ue(a),c,"^");if(a.B())return l.mi(l.Ue(c),c,"^");var e=new f.l;c.A(e);var g=new f.l;a.A(g);var h=new f.l;h.L(e);h.$b(g);b=f.ta.Xd(b,h,!0);g=new l;e=new f.hd;h=e.Ib(l.Ue(c));a=e.Ib(l.Ue(a));g.Gt(e,b,d);d=g.fp(h,a);c=l.mi(e.Ke(d),c,"^");f.ba.Ic(c.K())&&(c.Eh(2,b),1736==c.K()&&c.hm());return c};l.prototype.FQ=function(c,a){var b=this.j.g;c=b.wf(c,-1);for(var d=
a.size,e=0;e<d;e++){var g=a.get(e);b.kj(c,g)}b.mn(c,!0)};l.prototype.SW=function(c,a){for(var b=this.j.g,d=b.ld;-1!=d;d=b.ve(d))if(d==a)for(var e=b.Ob(d);-1!=e;e=b.Sb(e)){var g=b.Ya(e);if(-1!=g)for(var h=b.V(g);-1!=h;){g=this.j.Ie(g);var k=this.j.Ie(h);g=this.j.mR(g,k);-1!=g&&(k=this.j.ya(g),this.j.Kb(g,c,1),this.j.Kb(k,c,2));g=h;h=b.V(g)}}};l.prototype.VV=function(c,a,b,d){b=this.j.Ma(b);d=this.j.Ma(d);var e=new f.ja(0);e.Jb(256);for(var g=this.j.g,h=this.j.bh(),k=this.j.Oe;-1!=k;k=this.j.Sf(k)){var m=
this.j.Je(k);if(-1!=m){var n=m;do{if(1!=this.j.Bb(n,h)){var p=n,q=n,r=!1,v=0;do{this.j.Kb(p,h,1);if(!r){var G=this.j.fh(p);0!=(G&d)&&0!=(this.j.af(p)&b)&&(q=p,r=!0)}r&&(e.add(this.j.vj(this.j.mm(this.j.kk(p)))),-1!=c&&(G=this.j.fh(p),0!=(G&d)&&(G=this.j.Bb(p,c),v|=G)));p=this.j.kc(p)}while(p!=q);r&&0<this.j.Mp(this.j.$e(q))&&(p=g.Kg(1736),this.FQ(p,e),-1!=a&&g.BJ(p,a,v));e.clear(!1)}n=this.j.kc(this.j.ya(n))}while(n!=m)}}this.j.Lg(h)};l.prototype.zP=function(c,a,b,d){this.j.qW();var e=-1;-1!=c&&(e=
this.j.bh(),this.SW(e,b));this.VV(e,c,a,b);-1!=e&&(this.j.Lg(e),e=-1);var g=this.j.g;c=0;for(e=g.ld;-1!=e;e=g.ve(e))e!=a&&e!=b&&(d.add(e),c++);d.Wd(0,c,function(h,k){h=g.qz(g.Ob(h));k=g.qz(g.Ob(k));return h<k?-1:h==k?0:1})};l.prototype.Wg=function(){null!=this.j&&(this.j.Wg(),this.j=null)};return l}();f.Hg=w})(Y||(Y={}));(function(f){var w=function(){function l(c){void 0!==c?this.Jt(c):this.LB()}l.prototype.lx=function(){this.Qb=this.Lb=this.qb=this.jb=this.bb=this.eb=0};l.prototype.Nb=function(c){return this==
c?!0:c instanceof l?this.eb==c.eb&&this.jb==c.jb&&this.Lb==c.Lb&&this.qb==c.qb&&this.bb==c.bb&&this.Qb==c.Qb:!1};l.prototype.dc=function(){f.P.wj();f.P.wj();f.P.wj();f.P.wj();f.P.wj();return f.P.wj()};l.prototype.Gh=function(c,a){var b=this.qb*c.x+this.bb*c.y+this.Qb;a.x=this.eb*c.x+this.jb*c.y+this.Lb;a.y=b};l.prototype.XX=function(c,a,b){for(var d=0;d<a;d++){var e=c[d].x,g=c[d].y,h=this.eb*e+this.jb*g+this.Lb;e=this.qb*e+this.bb*g+this.Qb;null!=b[d]?b[d].na(h,e):b[d]=f.h.construct(h,e)}};l.prototype.multiply=
function(c){l.multiply(this,c,this)};l.multiply=function(c,a,b){var d=c.eb*a.eb+c.qb*a.jb,e=c.jb*a.eb+c.bb*a.jb,g=c.Lb*a.eb+c.Qb*a.jb+a.Lb,h=c.eb*a.qb+c.qb*a.bb,k=c.jb*a.qb+c.bb*a.bb;c=c.Lb*a.qb+c.Qb*a.bb+a.Qb;b.eb=d;b.jb=e;b.Lb=g;b.qb=h;b.bb=k;b.Qb=c};l.prototype.Pf=function(){var c=new l;c.eb=this.eb;c.jb=this.jb;c.Lb=this.Lb;c.qb=this.qb;c.bb=this.bb;c.Qb=this.Qb;return c};l.prototype.gC=function(c){if(!c.B()){for(var a=[],b=0;4>b;b++)a[b]=new f.h;c.hB(a);this.YX(a,a);c.bx(a,4)}};l.prototype.YX=
function(c,a){for(var b=0;b<c.length;b++){var d=new f.h,e=c[b];d.x=this.eb*e.x+this.jb*e.y+this.Lb;d.y=this.qb*e.x+this.bb*e.y+this.Qb;a[b]=d}};l.prototype.iS=function(c,a){c.B()||a.B()||0==c.S()||0==c.da()?this.lx():(this.jb=this.qb=0,this.eb=a.S()/c.S(),this.bb=a.da()/c.da(),this.Lb=a.v-c.v*this.eb,this.Qb=a.G-c.G*this.bb)};l.prototype.WX=function(c){var a=new f.h,b=new f.h;a.na(this.eb,this.qb);b.na(this.jb,this.bb);a.sub(a);var d=.5*a.Tk();a.na(this.eb,this.qb);b.na(this.jb,this.bb);a.add(b);
a=.5*a.Tk();return c*(d>a?Math.sqrt(d):Math.sqrt(a))};l.prototype.LB=function(){this.eb=1;this.qb=this.Lb=this.jb=0;this.bb=1;this.Qb=0};l.prototype.isIdentity=function(c){if(void 0!==c){var a=f.h.construct(0,1);this.Gh(a,a);a.sub(f.h.construct(0,1));if(a.Tk()>c*c)return!1;a.na(0,0);this.Gh(a,a);if(a.Tk()>c*c)return!1;a.na(1,0);this.Gh(a,a);a.sub(f.h.construct(1,0));return a.Tk()<=c*c}return 1==this.eb&&1==this.bb&&0==this.jb&&0==this.Lb&&0==this.qb&&0==this.Qb};l.prototype.Di=function(c){return Math.abs(this.eb*
this.bb-this.qb*this.jb)<=2*c*(Math.abs(this.eb*this.bb)+Math.abs(this.qb*this.jb))};l.prototype.gg=function(c,a){this.eb=1;this.jb=0;this.Lb=c;this.qb=0;this.bb=1;this.Qb=a};l.prototype.Jt=function(c,a){void 0!==a?(this.eb=c,this.qb=this.Lb=this.jb=0,this.bb=a,this.Qb=0):this.Jt(c,c)};l.prototype.UB=function(){this.eb=0;this.jb=1;this.Lb=0;this.qb=1;this.Qb=this.bb=0};l.prototype.gX=function(c){this.hX(Math.cos(c),Math.sin(c))};l.prototype.hX=function(c,a){this.eb=c;this.jb=-a;this.Lb=0;this.qb=
a;this.bb=c;this.Qb=0};l.prototype.shift=function(c,a){this.Lb+=c;this.Qb+=a};l.prototype.scale=function(c,a){this.eb*=c;this.jb*=c;this.Lb*=c;this.qb*=a;this.bb*=a;this.Qb*=a};l.prototype.flipX=function(c,a){this.eb=-this.eb;this.jb=-this.jb;this.Lb=c+a-this.Lb};l.prototype.flipY=function(c,a){this.qb=-this.qb;this.bb=-this.bb;this.Qb=c+a-this.Qb};l.prototype.rotate=function(c){var a=new l;a.gX(c);this.multiply(a)};l.prototype.inverse=function(c){if(void 0!==c){var a=this.eb*this.bb-this.jb*this.qb;
0==a?c.lx():(a=1/a,c.Lb=(this.jb*this.Qb-this.Lb*this.bb)*a,c.Qb=(this.Lb*this.qb-this.eb*this.Qb)*a,c.eb=this.bb*a,c.jb=-this.jb*a,c.qb=-this.qb*a,c.bb=this.eb*a)}else this.inverse(this)};return l}();f.Ed=w})(Y||(Y={}));(function(f){var w=function(){function l(){}l.prototype.lx=function(){this.Cg=this.Qb=this.Lb=this.Ze=this.We=this.Ve=this.Ye=this.bb=this.jb=this.pf=this.qb=this.eb=0};l.prototype.Jt=function(c,a){this.eb=c;this.jb=this.pf=this.qb=0;this.bb=a;this.We=this.Ve=this.Ye=0;this.Ze=void 0;
this.Cg=this.Qb=this.Lb=0};l.prototype.translate=function(c,a,b){this.Lb+=c;this.Qb+=a;this.Cg+=b};l.prototype.gC=function(c){if(!c.B()){for(var a=new f.Od[8],b=0;8>b;b++)a[b]=new f.Od;c.hB(a);this.transform(a,8,a);c.bx(a)}};l.prototype.transform=function(c,a,b){for(var d=0;d<a;d++){var e=new f.Od,g=c[d];e.x=this.eb*g.x+this.jb*g.y+this.Ve*g.z+this.Lb;e.y=this.qb*g.x+this.bb*g.y+this.We*g.z+this.Qb;e.z=this.pf*g.x+this.Ye*g.y+this.Ze*g.z+this.Cg;b[d]=e}};l.prototype.gp=function(c){var a=new f.Od;
a.x=this.eb*c.x+this.jb*c.y+this.Ve*c.z+this.Lb;a.y=this.qb*c.x+this.bb*c.y+this.We*c.z+this.Qb;a.z=this.pf*c.x+this.Ye*c.y+this.Ze*c.z+this.Cg;return a};l.prototype.Ag=function(c){l.multiply(this,c,this)};l.multiply=function(c,a,b){var d=c.eb*a.eb+c.qb*a.jb+c.pf*a.Ve,e=c.eb*a.qb+c.qb*a.bb+c.pf*a.We,g=c.eb*a.pf+c.qb*a.Ye+c.pf*a.Ze,h=c.jb*a.eb+c.bb*a.jb+c.Ye*a.Ve,k=c.jb*a.qb+c.bb*a.bb+c.Ye*a.We,m=c.jb*a.pf+c.bb*a.Ye+c.Ye*a.Ze,n=c.Ve*a.eb+c.We*a.jb+c.Ze*a.Ve,p=c.Ve*a.qb+c.We*a.bb+c.Ze*a.We,q=c.Ve*a.pf+
c.We*a.Ye+c.Ze*a.Ze,r=c.Lb*a.eb+c.Qb*a.jb+c.Cg*a.Ve+a.Lb,v=c.Lb*a.qb+c.Qb*a.bb+c.Cg*a.We+a.Qb;c=c.Lb*a.pf+c.Qb*a.Ye+c.Cg*a.Ze+a.Cg;b.eb=d;b.qb=e;b.pf=g;b.jb=h;b.bb=k;b.Ye=m;b.Ve=n;b.We=p;b.Ze=q;b.Lb=r;b.Qb=v;b.Cg=c};l.inverse=function(c,a){var b=c.eb*(c.bb*c.Ze-c.Ye*c.We)-c.qb*(c.jb*c.Ze-c.Ye*c.Ve)+c.pf*(c.jb*c.We-c.bb*c.Ve);if(0!=b){var d=1/b;b=(c.bb*c.Ze-c.Ye*c.We)*d;var e=-(c.jb*c.Ze-c.Ye*c.Ve)*d,g=(c.jb*c.We-c.bb*c.Ve)*d,h=-(c.qb*c.Ze-c.We*c.pf)*d,k=(c.eb*c.Ze-c.pf*c.Ve)*d,m=-(c.eb*c.We-c.qb*
c.Ve)*d,n=(c.qb*c.Ye-c.pf*c.bb)*d,p=-(c.eb*c.Ye-c.pf*c.jb)*d;d*=c.eb*c.bb-c.qb*c.jb;var q=-(c.Lb*b+c.Qb*e+c.Cg*g),r=-(c.Lb*h+c.Qb*k+c.Cg*m);c=-(c.Lb*n+c.Qb*p+c.Cg*d);a.eb=b;a.qb=h;a.pf=n;a.jb=e;a.bb=k;a.Ye=p;a.Ve=g;a.We=m;a.Ze=d;a.Lb=q;a.Qb=r;a.Cg=c}else throw f.i.ga("math singularity");};l.prototype.Pf=function(){var c=new l;c.eb=this.eb;c.qb=this.qb;c.pf=this.pf;c.jb=this.jb;c.bb=this.bb;c.Ye=this.Ye;c.Ve=this.Ve;c.We=this.We;c.Ze=this.Ze;c.Lb=this.Lb;c.Qb=this.Qb;c.Cg=this.Cg;return c};return l}();
f.BY=w})(Y||(Y={}));(function(f){var w=function(c){function a(b){if(void 0!==b)b=c.call(this,b.dc(),b)||this;else{b=c.call(this)||this;b.cg=[];b.cg[0]=0;b.Ba=1;b.wh=[];for(var d=0;10>d;d++)b.wh[d]=-1;b.wh[b.cg[0]]=0}b.lq=!0;return b}Ea(a,c);a.prototype.se=function(b){this.hasAttribute(b)||(this.wh[b]=0,this.dD())};a.prototype.removeAttribute=function(b){if(0==b)throw f.i.O("Position attribue cannot be removed");this.hasAttribute(b)&&(this.wh[b]=-1,this.dD())};a.prototype.reset=function(){this.cg[0]=
0;this.Ba=1;for(var b=0;b<this.wh.length;b++)this.wh[b]=-1;this.wh[this.cg[0]]=0;this.lq=!0};a.prototype.yF=function(){return l.fz().add(this)};a.og=function(){return l.fz().TR()};a.prototype.nM=function(){var b=this.dc();return new f.ua(b,this)};a.prototype.dD=function(){for(var b=this.Ba=0,d=0;10>b;b++)0<=this.wh[b]&&(this.cg[d]=b,this.wh[b]=d,d++,this.Ba++);this.lq=!0};a.prototype.dc=function(){this.lq&&(this.yl=this.Bn(),this.lq=!1);return this.yl};a.prototype.Nb=function(b){if(null==b)return!1;
if(b==this)return!0;if(!(b instanceof a)||b.Ba!=this.Ba)return!1;for(var d=0;d<this.Ba;d++)if(this.cg[d]!=b.cg[d])return!1;return this.lq!=b.lq?!1:!0};a.prototype.AG=function(b){if(b.Ba!=this.Ba)return!1;for(var d=0;d<this.Ba;d++)if(this.cg[d]!=b.cg[d])return!1;return!0};a.Kw=function(b,d){for(var e=[],g=0;g<b.Ba;g++)e[g]=-1;g=0;for(var h=b.Ba;g<h;g++)e[g]=d.Qf(b.qd(g));return e};a.vR=function(b,d){b=new a(b);b.se(d);return b.yF()};a.wR=function(b,d){for(var e=null,g=0;10>g;g++)!b.hasAttribute(g)&&
d.hasAttribute(g)&&(null==e&&(e=new a(b)),e.se(g));return null!=e?e.yF():b};return a}(f.ua);f.ee=w;var l=function(){function c(){this.map=[];var a=new w;this.add(a);a=new w;a.se(1);this.add(a)}c.fz=function(){return c.WK};c.prototype.TR=function(){return c.gt};c.prototype.add=function(a){var b=a.dc();if(null!=c.gt&&c.gt.dc()==b&&a.AG(c.gt))return c.gt;if(null!=c.Fw&&c.Fw.dc()==b&&a.AG(c.Fw))return c.Fw;var d=null;void 0!==this.map[b]&&(d=this.map[b]);null==d&&(d=a.nM(),1==d.Ba?c.gt=d:2==d.Ba&&1==
d.qd(1)?c.Fw=d:this.map[b]=d);return d};c.WK=new c;return c}()})(Y||(Y={}));var Pa={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},qa={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},ha=new (function(){function f(){this.LM=50;this.op=new Map;this.ij=[]}f.prototype.clear=function(){this.ij.length=0;this.op.clear()};f.prototype.delete=function(w){return this.op.delete(w)?
(this.ij.splice(this.ij.indexOf(w),1),!0):!1};f.prototype.get=function(w){var l=this.op.get(w);if(void 0!==l)return this.ij[0]!==w&&(this.ij.splice(this.ij.indexOf(w),1),this.ij.unshift(w)),l};f.prototype.has=function(w){return this.op.has(w)};f.prototype.set=function(w,l){void 0!==this.get(w)&&this.delete(w);this.ij.unshift(w);this.op.set(w,l);this.iM();return this};f.prototype.iM=function(){for(;this.ij.length&&this.ij.length>this.LM;){var w=this.ij.pop();this.op.delete(w)}};return f}()),la=(xa=
{},xa.convertJSONToGeometry=function(f){return Y.bc.$O(f)},xa.hasM=function(f){return f.hasAttribute(Y.Kh.M)},xa.hasZ=function(f){return f.hasAttribute(Y.Kh.Z)},xa.getPointX=function(f){return f.Ng()},xa.getPointY=function(f){return f.kh()},xa.getPointZ=function(f){return f.VR()},xa.getPointM=function(f){return f.tR()},xa.getXMin=function(f){return f.gs()},xa.getYMin=function(f){return f.js()},xa.getXMax=function(f){return f.fs()},xa.getYMax=function(f){return f.hs()},xa.getZExtent=function(f){return f.Vg(Y.Kh.Z,
0)},xa.getMExtent=function(f){return f.Vg(Y.Kh.M,0)},xa.exportPaths=function(f){var w=[],l=f.ea(),c=null,a=null,b=f.hasAttribute(Y.Kh.Z),d=f.hasAttribute(Y.Kh.M);b&&(c=f.vb(Y.Kh.Z));d&&(a=f.vb(Y.Kh.M));for(var e=new Y.h,g=0;g<l;g++){for(var h=f.Ca(g),k=f.Ka(g),m=0,n=0,p=NaN,q=NaN,r=NaN,v=NaN,G=f.ec(g),S=[],X=h;X<h+k;X++){f.D(X,e);v=r=NaN;var V=[e.x,e.y];b&&(r=c.get(X),V.push(r));d&&(v=a.get(X),V.push(v));X==h&&G&&(m=e.x,n=e.y,p=r,q=v);S.push(V)}!G||m==e.x&&n==e.y&&(!b||isNaN(p)&&isNaN(r)||p==r)&&
(!d||isNaN(q)&&isNaN(v)||q==v)||S.push(S[0].slice(0));w.push(S)}return w},xa.exportPathsFlat=function(){},xa.exportPoints=function(f){var w=f.hasAttribute(Y.Kh.Z),l=f.hasAttribute(Y.Kh.M),c=null,a=null;w&&(c=f.vb(Y.Kh.Z));l&&(a=f.vb(Y.Kh.M));for(var b=new Y.h,d=f.I(),e=[],g=0;g<d;g++){f.D(g,b);var h=[b.x,b.y];w&&h.push(c.get(g));l&&h.push(a.get(g));e.push(h)}return e},xa.exportPointsFlat=function(){},xa);return function(){function f(){}f.buffer=fa;f.clip=J;f.contains=L;f.convexHull=aa;f.crosses=R;
f.cut=N;f.densify=Ia;f.difference=ea;f.disjoint=D;f.distance=I;f.equals=x;f.extendedSpatialReferenceInfo=K;f.generalize=Fa;f.geodesicArea=Na;f.geodesicBuffer=ra;f.geodesicDensify=La;f.geodesicLength=Ga;f.intersect=ca;f.intersects=A;f.isSimple=W;f.nearestCoordinate=na;f.nearestVertex=ta;f.nearestVertices=ya;f.offset=oa;f.overlaps=U;f.planarArea=Ba;f.planarLength=Va;f.relate=T;f.simplify=da;f.symmetricDifference=ba;f.touches=z;f.union=ka;f.within=F;f.rotate=Y.Dx.rotate;f.flipHorizontal=Y.Dx.DQ;f.flipVertical=
Y.Dx.EQ;f.ExtendedParams=Y.sC;f._enableProjection=Da;f._project=Ka;f._getTransformation=wa;f._getTransformationBySuitability=Ja;return f}()}();void 0!==H&&(M.exports=H)})(Q);const y=Q.exports;Q=function(M,H){for(var E=0;E<H.length;E++){const C=H[E];if("string"!==typeof C&&!Array.isArray(C))for(const B in C)if("default"!==B&&!(B in M)){const u=Object.getOwnPropertyDescriptor(C,B);u&&Object.defineProperty(M,B,u.get?u:{enumerable:!0,get:()=>C[B]})}}return Object.freeze(Object.defineProperty(M,Symbol.toStringTag,
{value:"Module"}))}({__proto__:null,default:y},[Q.exports]);t.GeometryEngineApi=y;t.geometryEngineBase=Q})},"esri/geometry/geometryAdapters/hydrated":function(){define("exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(t,Q,y,M,H,E){t.hydratedAdapter={convertToGEGeometry:function(C,B){if(null==B)return null;let u="cache"in B?B.cache._geVersion:void 0;null==u&&(u=C.convertJSONToGeometry(B),"cache"in B&&(B.cache._geVersion=u));return u},exportPoint:function(C,B,u){const O=
C.hasZ(B),P=C.hasM(B);u=new M({x:C.getPointX(B),y:C.getPointY(B),spatialReference:u});O&&(u.z=C.getPointZ(B));P&&(u.m=C.getPointM(B));u.cache._geVersion=B;return u},exportPolygon:function(C,B,u){C=new H({rings:C.exportPaths(B),hasZ:C.hasZ(B),hasM:C.hasM(B),spatialReference:u});C.cache._geVersion=B;return C},exportPolyline:function(C,B,u){C=new E({paths:C.exportPaths(B),hasZ:C.hasZ(B),hasM:C.hasM(B),spatialReference:u});C.cache._geVersion=B;return C},exportMultipoint:function(C,B,u){C=new y({hasZ:C.hasZ(B),
hasM:C.hasM(B),points:C.exportPoints(B),spatialReference:u});C.cache._geVersion=B;return C},exportExtent:function(C,B,u){var O=C.hasZ(B);const P=C.hasM(B);u=new Q({xmin:C.getXMin(B),ymin:C.getYMin(B),xmax:C.getXMax(B),ymax:C.getYMax(B),spatialReference:u});O&&(O=C.getZExtent(B),u.zmin=O.vmin,u.zmax=O.vmax);P&&(C=C.getMExtent(B),u.mmin=C.vmin,u.mmax=C.vmax);u.cache._geVersion=B;return u}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/geodesicUtils":function(){define("exports ../../geometry ../../core/Error ../../core/unitUtils ./geodesicConstants ./spatialReferenceUtils ../Polyline ../Polygon ../Point ../SpatialReference".split(" "),
function(t,Q,y,M,H,E,C,B,u,O){function P(A){if(!A)return null;if(E.isGeographic(A)&&A.wkid){var z=H.spheroids[A.wkid];if(z)return z}return A.wkt&&((A=H.WKT_SPHEROID_REGEX.exec(A.wkt))&&2===A.length?(z=A[1].split(","),!z||3>z.length?A=null:(A=parseFloat(z[1]),z=parseFloat(z[2]),A=isNaN(A)||isNaN(z)?null:{a:A,f:0===z?0:1/z})):A=null,A)?A:null}function K(A){A=P(A||O.WGS84);if("b"in A&&"eSq"in A&&"radius"in A)return A;const z=A.a*(1-A.f);return Object.assign(A,{b:z,eSq:1-(z/A.a)**2,radius:(2*A.a+z)/3,
densificationRatio:1E4/((2*A.a+z)/3)})}function J(A){return 0>A?A+360:A}function N(A,z,F){const {a:D,eSq:U}=K(F);F=Math.sqrt(U);const T=Math.sin(z[1]*H.toRadians);z=D*z[0]*H.toRadians;F=0<U?D*(1-U)*(T/(1-U*T*T)-1/(2*F)*Math.log((1-F*T)/(1+F*T)))*.5:D*T;A[0]=z;A[1]=F;return A}function L(A){return null!==P(A)}function R(A,z){if("polyline"!==A.type&&"polygon"!==A.type)throw new y("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const {spatialReference:F}=A;if(!L(F))throw new y("geodesic-densify:invalid-spatial-reference",
"the input geometry spatial reference is not supported");var D="polyline"===A.type?A.paths:A.rings;const U=[],T=[0,0],W={distance:null};for(const ea of D){D=[];U.push(D);D.push([ea[0][0],ea[0][1]]);var da=ea[0][0],aa=ea[0][1];let ba,ca;for(let ka=0;ka<ea.length-1;ka++){ba=ea[ka+1][0];ca=ea[ka+1][1];if(da===ba&&aa===ca)continue;const oa=[da,aa];x(W,[da,aa],[ba,ca],F);const {azimuth:fa,distance:ra}=W;da=ra/z;if(1<da){for(aa=1;aa<=da-1;aa++)I(T,oa,fa,aa*z,F),D.push(T.slice(0));I(T,oa,fa,(ra+Math.floor(da-
1)*z)/2,F);D.push(T.slice(0))}I(T,oa,fa,ra,F);D.push(T.slice(0));da=T[0];aa=T[1]}}return"polyline"===A.type?new C({paths:U,spatialReference:F}):new B({rings:U,spatialReference:F})}function I(A,z,F,D,U){const T=z[0]*H.toRadians;z=z[1]*H.toRadians;F*=H.toRadians;const {a:W,b:da,f:aa}=K(U);U=Math.sin(F);F=Math.cos(F);var ea=(1-aa)*Math.tan(z);z=1/Math.sqrt(1+ea*ea);const ba=ea*z,ca=Math.atan2(ea,F);ea=z*U;const ka=ea*ea;var oa=1-ka,fa=oa*(W*W-da*da)/(da*da);const ra=1+fa/16384*(4096+fa*(-768+fa*(320-
175*fa))),ua=fa/1024*(256+fa*(-128+fa*(74-47*fa)));fa=D/(da*ra);let na=2*Math.PI,ta,ya,Fa,Ia;for(;1E-12<Math.abs(fa-na);)Fa=Math.cos(2*ca+fa),ta=Math.sin(fa),ya=Math.cos(fa),Ia=ua*ta*(Fa+ua/4*(ya*(-1+2*Fa*Fa)-ua/6*Fa*(-3+4*ta*ta)*(-3+4*Fa*Fa))),na=fa,fa=D/(da*ra)+Ia;D=ba*ta-z*ya*F;oa=aa/16*oa*(4+aa*(4-3*oa));D=Math.atan2(ba*ya+z*ta*F,(1-aa)*Math.sqrt(ka+D*D))/H.toRadians;A[0]=(T+(Math.atan2(ta*U,z*ya-ba*ta*F)-(1-oa)*aa*ea*(fa+oa*ta*(Fa+oa*ya*(-1+2*Fa*Fa)))))/H.toRadians;A[1]=D;return A}function x(A,
z,F,D){var U=z[0]*H.toRadians;z=z[1]*H.toRadians;var T=F[0]*H.toRadians;F=F[1]*H.toRadians;const {a:W,b:da,f:aa,radius:ea}=K(D),ba=T-U;var ca=Math.atan((1-aa)*Math.tan(z)),ka=Math.atan((1-aa)*Math.tan(F));D=Math.sin(ca);ca=Math.cos(ca);const oa=Math.sin(ka);ka=Math.cos(ka);let fa=1E3,ra=ba,ua,na,ta;let ya,Fa,Ia;do{var La=Math.sin(ra);var Ba=Math.cos(ra);ta=Math.sqrt(ka*La*ka*La+(ca*oa-D*ka*Ba)*(ca*oa-D*ka*Ba));if(0===ta)return A.distance=0,A.azimuth=void 0,A.reverseAzimuth=void 0,A;Ba=D*oa+ca*ka*
Ba;ya=Math.atan2(ta,Ba);Fa=ca*ka*La/ta;na=1-Fa*Fa;La=Ba-2*D*oa/na;isNaN(La)&&(La=0);Ia=aa/16*na*(4+aa*(4-3*na));ua=ra;ra=ba+(1-Ia)*aa*Fa*(ya+Ia*ta*(La+Ia*Ba*(-1+2*La*La)))}while(1E-12<Math.abs(ra-ua)&&0<--fa);if(0===fa)return D=Math.acos(Math.sin(z)*Math.sin(F)+Math.cos(z)*Math.cos(F)*Math.cos(T-U))*ea,U=T-U,A.azimuth=Math.atan2(Math.sin(U)*Math.cos(F),Math.cos(z)*Math.sin(F)-Math.sin(z)*Math.cos(F)*Math.cos(U))/H.toRadians,A.distance=D,A.reverseAzimuth=void 0,A;U=na*(W*W-da*da)/(da*da);z=U/1024*
(256+U*(-128+U*(74-47*U)));T=Math.atan2(ca*Math.sin(ra),ca*oa*Math.cos(ra)-D*ka);A.azimuth=Math.atan2(ka*Math.sin(ra),ca*oa-D*ka*Math.cos(ra))/H.toRadians;A.distance=da*(1+U/16384*(4096+U*(-768+U*(320-175*U))))*(ya-z*ta*(La+z/4*(Ba*(-1+2*La*La)-z/6*La*(-3+4*ta*ta)*(-3+4*La*La))));A.reverseAzimuth=T/H.toRadians;return A}t.directGeodeticSolver=I;t.geodesicAreas=function(A,z="square-meters"){if(A.some(T=>!L(T.spatialReference)))throw new y("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");
const F=[];for(var D=0;D<A.length;D++){var U=A[D];const {radius:T,densificationRatio:W}=K(U.spatialReference);F.push(R(U,T*W))}A=[];D=[0,0];U=[0,0];for(let T=0;T<F.length;T++){const {rings:W,spatialReference:da}=F[T];let aa=0;for(let ea=0;ea<W.length;ea++){const ba=W[ea];N(D,ba[0],da);N(U,ba[ba.length-1],da);let ca=U[0]*D[1]-D[0]*U[1];for(let ka=0;ka<ba.length-1;ka++)N(D,ba[ka+1],da),N(U,ba[ka],da),ca+=U[0]*D[1]-D[0]*U[1];aa+=ca}aa=M.convertUnit(aa,"square-meters",z);A.push(aa/-2)}return A};t.geodesicDensify=
R;t.geodesicDistance=function(A,z,F="meters"){if(!A||!z)throw new y("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!A.spatialReference||!z.spatialReference)throw new y("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!E.equals(A.spatialReference,z.spatialReference))throw new y("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const {spatialReference:D}=A;if(!L(D))throw new y("geodesic-distance:not-supported",
"input geometry spatial reference is not supported");if(A.x===z.x&&A.y===z.y)return{distance:0,azimuth:0,reverseAzimuth:0};const U={distance:null};x(U,[A.x,A.y],[z.x,z.y],D);U.distance=M.convertUnit(U.distance,"meters",F);U.azimuth=J(U.azimuth);U.reverseAzimuth=J(U.reverseAzimuth);return U};t.geodesicLengths=function(A,z="meters"){if(!A)throw new y("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(A.some(U=>!L(U.spatialReference)))throw new y("geodesic-lengths:invalid-spatial-reference",
"the input geometries spatial reference is not supported");const F=[];for(let U=0;U<A.length;U++){var D=A[U];const {spatialReference:T}=D;D="polyline"===D.type?D.paths:D.rings;let W=0;for(let da=0;da<D.length;da++){const aa=D[da];let ea=0;for(let ba=1;ba<aa.length;ba++){const ca=aa[ba-1][0],ka=aa[ba][0],oa=aa[ba-1][1],fa=aa[ba][1];if(oa!==fa||ca!==ka){const ra={distance:null};x(ra,[ca,oa],[ka,fa],T);ea+=ra.distance}}W+=ea}W=M.convertUnit(W,"meters",z);F.push(W)}return F};t.inverseGeodeticSolver=x;
t.isSupported=L;t.pointFromDistance=function(A,z,F){if(!A||null==z||null==F)throw new y("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(0>F||360<F)throw new y("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");if(!A.spatialReference)throw new y("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");const {spatialReference:D}=A;if(!L(D))throw new y("geodesic-distance:not-supported",
"input geometry spatial reference is not supported");const U=[0,0];I(U,[A.x,A.y],F,z,D);return new u({x:U[0],y:U[1],spatialReference:D})};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/geodesicMeasurementUtils":function(){define(["exports","../../geometry/support/geodesicUtils","../../geometry/support/spatialReferenceUtils"],function(t,Q,y){t.geodesicMeasure=function(M,H,E,C,...B){return y.isGeographic(M)&&Q.isSupported(M)?H.apply(void 0,
B):y.isWebMercator(M)?E.apply(void 0,B):C.apply(void 0,B)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/support/viewUtils":function(){define("exports ../../../core/screenUtils ../../../chunks/vec2 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/Point ../../../support/elevationInfoUtils".split(" "),function(t,Q,y,M,H,E,C){function B(R,I,x){({camera:x}=x.state);x.projectToScreen(R,N);x.projectToScreen(I,L);return y.squaredDistance(N,
L)}function u(R,I,x,A,z=H.create()){R=I.toXYZ(R);R[2]=C.getConvertedElevationFromVector(A,R,I.spatialReference,x)||0;A.renderCoordsHelper.toRenderCoords(R,I.spatialReference,z);return z}const O=new E,P=H.create(),K=Q.createRenderScreenPointArray3(),J=Q.createRenderScreenPointArray3(),N=Q.createScreenPointArray(),L=Q.createScreenPointArray();t.anyMapPointToRender=u;t.anyMapPointToScreenPoint=function(R,I,x,A){if("2d"===A.type)return A.toScreen(I.vectorToPoint(R,O));u(R,I,x,A,P);A.state.camera.projectToScreen(P,
N);return Q.createScreenPoint(N[0],N[1])};t.anyMapPointsToRenderWithEqualRelativeZ=function(R,I,x,A,z,F,D){R=x.toXYZ(R);I=x.toXYZ(I);if("absolute-height"!==A.mode){const U=C.getConvertedElevationFromVector(z,R,x.spatialReference,A);A=C.getConvertedElevationFromVector(z,I,x.spatialReference,A);A=(null==U?A:null==A?U:Math.min(U,A))||0;R[2]=A;I[2]=A}z.renderCoordsHelper.toRenderCoords(R,x.spatialReference,F);z.renderCoordsHelper.toRenderCoords(I,x.spatialReference,D)};t.renderScreenSpaceTangent=function(R,
I,x,A){x.projectToRenderScreen(R,K);x.projectToRenderScreen(I,J);y.subtract(A,J,K);y.normalize(A,A)};t.screenDistance=function(R,I,x){return Math.sqrt(B(R,I,x))};t.screenDistanceSquared=B;t.vectorToRender=function(R,I,x,A,z=H.create()){R=M.copy(P,R);R[2]=C.getConvertedElevationFromVector(A,R,I,x)||0;A.renderCoordsHelper.toRenderCoords(R,I,z);return z};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/SnappingVisualizer3D":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../Color ../../../core/has ../../../core/handleUtils ../../../core/maybe ../../../chunks/vec3 ../../../chunks/vec3f64 ./visualElements/ExtendedLineVisualElement ./visualElements/ParallelLineVisualElement ./visualElements/PointVisualElement ./visualElements/RightAngleQuadVisualElement ../webgl-engine/lib/Material ../../interactive/snapping/Settings ../../interactive/snapping/snappingUtils ../../interactive/snapping/SnappingVisualizer ../../interactive/support/viewUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I){M=function(x){function A(){return x.apply(this,arguments)||this}Q._inheritsLoose(A,x);var z=A.prototype;z.visualizeIntersectionPoint=function(F,D){const {coordinateHelper:U,view:T}=D;return H.destroyHandle(new P.PointVisualElement({view:T,primitive:"circle",geometry:U.vectorToPoint(F.intersectionPoint),elevationInfo:E.unwrapOr(F.elevationInfo,D.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:y.toUnitRGBA(N.defaults.orange),pixelSnappingEnabled:!1}))};
z.visualizePoint=function(F,D){const {coordinateHelper:U,view:T}=D;return H.destroyHandle(new P.PointVisualElement({view:T,primitive:"circle",geometry:U.vectorToPoint(F.point),elevationInfo:E.unwrapOr(F.elevationInfo,D.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:y.toUnitRGBA(N.defaults.orange),pixelSnappingEnabled:!1}))};z.visualizeLine=function(F,D){const {coordinateHelper:U,view:T}=D;return H.destroyHandle(this._createLineSegmentHintFromMap(F.type,F.lineStart,F.lineEnd,U,E.unwrapOr(F.elevationInfo,
D.elevationInfo),T,F.fadeLeft,F.fadeRight))};z.visualizeParallelSign=function(F,D){const {coordinateHelper:U,view:T}=D,W=E.unwrapOr(F.elevationInfo,D.elevationInfo),da=I.anyMapPointToRender(F.lineStart,U,W,D.view);F=I.anyMapPointToRender(F.lineEnd,U,W,D.view);F=C.lerp(F,da,F,.5);D=new O.ParallelLineVisualElement({view:T,attached:!1,offset:N.defaults.parallelLineHintOffset,length:N.defaults.parallelLineHintLength,width:N.defaults.parallelLineHintWidth,color:y.toUnitRGBA(N.defaults.orange),location:F,
renderOccluded:J.RenderOccludedFlag.Opaque});D.setDirectionFromPoints(da,F);D.attached=!0;return H.destroyHandle(D)};z.visualizeRightAngleQuad=function(F,D){const {coordinateHelper:U,view:T}=D;D=E.unwrapOr(F.elevationInfo,D.elevationInfo);return H.destroyHandle(new K.RightAngleQuadVisualElement({view:T,attached:!0,color:y.toUnitRGBA(N.defaults.orange),renderOccluded:J.RenderOccludedFlag.Transparent,outlineRenderOccluded:J.RenderOccludedFlag.Opaque,outlineColor:y.toUnitRGBA(N.defaults.orange),outlineSize:N.defaults.rightAngleHintOutlineSize,
size:N.defaults.rightAngleHintSize,geometry:{previous:I.anyMapPointToRender(F.previousVertex,U,D,T),center:I.anyMapPointToRender(F.centerVertex,U,D,T),next:I.anyMapPointToRender(F.nextVertex,U,D,T)}}))};z._createLineSegmentHintFromMap=function(F,D,U,T,W,da,aa=!0,ea=!0){const ba=B.create(),ca=B.create();I.anyMapPointsToRenderWithEqualRelativeZ(D,U,T,W,da,ba,ca);return this._createLineSegmentHint(F,da,ba,ca,aa,ea)};z._createLineSegmentHint=function(F,D,U,T,W=!0,da=!0){D=new u.ExtendedLineVisualElement({view:D,
extensionType:u.ExtensionType.FADED,start:U,end:T,color:y.toUnitRGBA(N.defaults.orange),renderOccluded:J.RenderOccludedFlag.Opaque});switch(F){case L.LineSegmentHintType.TARGET:D.width=N.defaults.lineHintWidthTarget;D.fadedExtensions={start:0,end:N.defaults.lineHintFadedExtensions};break;case L.LineSegmentHintType.REFERENCE_EXTENSION:D.width=N.defaults.lineHintWidthReference;D.fadedExtensions={start:0,end:0};break;case L.LineSegmentHintType.REFERENCE:D.width=N.defaults.lineHintWidthReference,D.fadedExtensions=
{start:W?N.defaults.lineHintFadedExtensions:0,end:da?N.defaults.lineHintFadedExtensions:0}}D.attached=!0;return D};return A}(R.SnappingVisualizer);t.SnappingVisualizer3D=M;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/ExtendedLineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Handles ../../../../core/maybe ../../../../core/reactiveUtils ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../../../geometry/support/clipRay ../../../../geometry/support/frustum ../../../../geometry/support/lineSegment ../../../../geometry/support/ray ./LaserlineVisualElement ./Object3DVisualElement ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Material ../../webgl-engine/lib/VertexAttribute ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z){y=function(da){function aa(ba){var ca=da.call(this,ba)||this;ca._ray=N.create();ca._externalResources=null;ca._handles=new M;ca._isWorldDown=!1;ca._start=B.create();ca._end=B.fromValues(1,0,0);ca._width=1;ca._color=O.fromValues(1,0,1,1);ca._polygonOffset=!1;ca._writeDepthEnabled=!0;ca._innerWidth=0;ca._innerColor=O.fromValues(1,1,1,1);ca._stipplePattern=null;ca._stippleOffColor=null;ca._stipplePreferContinuous=!0;ca._falloff=0;ca._extensionType=t.ExtensionType.LINE;
ca._laserlineStyle=null;ca._laserlineEnabled=!1;ca._renderOccluded=x.RenderOccludedFlag.OccludeAndTransparent;ca._fadedExtensions=W;ca.applyProps(ba);return ca}Q._inheritsLoose(aa,da);var ea=aa.prototype;ea.createExternalResources=function(){const ba=new z.RibbonLineMaterial(this.materialParameters);this._handles.add(E.watch(()=>this.view.state.camera,()=>{this._updateGeometry()}));const ca=new L.LaserlineVisualElement({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:ba,
laserline:ca}};ea.destroyExternalResources=function(){H.isSome(this._externalResources)&&this._externalResources.laserline.destroy();this._externalResources=null;this._handles.removeAll()};ea.forEachExternalMaterial=function(ba){H.isSome(this._externalResources)&&ba(this._externalResources.material)};ea.createGeometries=function(ba){var ca=[B.create(),B.create()],ka=this.extensionType===t.ExtensionType.FADED;ka&&ca.push(B.create(),B.create());ka=ka?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,
0]):null;ca=I.createPolylineGeometry(ca,null,ka);ba.addGeometry(ca,H.unwrap(this._externalResources).material);this._updateVertices(ba)};ea.updateVisibility=function(ba){da.prototype.updateVisibility.call(this,ba);H.isSome(this._externalResources)&&(this._externalResources.laserline.visible=ba)};ea.setStartEndFromWorldDownAtLocation=function(ba){this._isWorldDown=!0;C.copy(this._start,ba);this.view.renderCoordsHelper.worldUpAtPosition(ba,this._end);C.subtract(this._end,ba,this._end);N.fromPoints(this._start,
this._end,this._ray);this._updateGeometry()};ea._updateMaterial=function(){H.isNone(this._externalResources)||this._externalResources.material.setParameters(this.materialParameters)};ea._updateGeometry=function(){H.isSome(this.object)&&this._updateVertices(this.object)};ea._updateVertices=function(ba){const ca=this._extensionType===t.ExtensionType.FADED?this._updateLineSegmentFinite(T):this._updateLineSegmentInfinite(this._extensionType,T);this._updateVertexAttributes(ba,ca);H.isSome(this._externalResources)&&
(this._externalResources.laserline.intersectsLine=ca)};ea._updateLineSegmentFinite=function(ba){return J.fromPoints(this._start,this._end,ba)};ea._updateLineSegmentInfinite=function(ba,ca){var ka=this.view.state.camera;P.fromRay(this._ray,F);switch(ba){case t.ExtensionType.LINE:F.c0=-Number.MAX_VALUE;break;case t.ExtensionType.RAY:case t.ExtensionType.GROUND_RAY:var oa=this._ray.origin;ba=H.unwrapOr(this.view.elevationProvider.getElevation(oa[0],oa[1],oa[2],this.view.renderCoordsHelper.spatialReference,
"ground"),0);oa=this.view.renderCoordsHelper.getAltitude(oa);this._isWorldDown&&oa<ba&&C.negate(F.ray.direction,F.ray.direction);this._extensionType===t.ExtensionType.GROUND_RAY&&null!=ba&&(F.c1=Math.abs(oa-ba))}if(!K.intersectClipRay(ka.frustum,F))return J.fromPoints(this._start,this._end,ca);ka=P.getStart(F,D);ba=P.getEnd(F,U);return J.fromPoints(ka,ba,ca)};ea._updateVertexAttributes=function(ba,ca){const ka=ba.geometries[0].getMutableAttribute(A.VertexAttribute.POSITION).data;if(this.extensionType===
t.ExtensionType.FADED){var oa=J.pointAt(ca,-this.fadedExtensions.start,D);ka[0]=oa[0];ka[1]=oa[1];ka[2]=oa[2];oa=J.pointAt(ca,0,D);ka[3]=oa[0];ka[4]=oa[1];ka[5]=oa[2];oa=J.pointAt(ca,1,D);ka[6]=oa[0];ka[7]=oa[1];ka[8]=oa[2];ca=J.pointAt(ca,1+this.fadedExtensions.end,D);ka[9]=ca[0];ka[10]=ca[1];ka[11]=ca[2]}else oa=J.pointAt(ca,0,D),ka[0]=oa[0],ka[1]=oa[1],ka[2]=oa[2],ca=J.pointAt(ca,1,D),ka[3]=ca[0],ka[4]=ca[1],ka[5]=ca[2];ba.geometryVertexAttrsUpdated(ba.geometryRecords[0])};Q._createClass(aa,[{key:"start",
get:function(){return this._start},set:function(ba){this._isWorldDown=!1;C.exactEquals(this._start,ba)||(C.copy(this._start,ba),N.fromPoints(this._start,this._end,this._ray),this._updateGeometry())}},{key:"end",get:function(){return this._end},set:function(ba){this._isWorldDown=!1;C.exactEquals(this._end,ba)||(C.copy(this._end,ba),N.fromPoints(this._start,this._end,this._ray),this._updateGeometry())}},{key:"width",get:function(){return this._width},set:function(ba){ba!==this._width&&(this._width=
ba,this._updateMaterial())}},{key:"color",get:function(){return this._color},set:function(ba){u.exactEquals(ba,this._color)||(u.copy(this._color,ba),this._updateMaterial())}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(ba){ba!==this._polygonOffset&&(this._polygonOffset=ba,this._updateMaterial())}},{key:"writeDepthEnabled",get:function(){return this._writeDepthEnabled},set:function(ba){this._writeDepthEnabled!==ba&&(this._writeDepthEnabled=ba,this._updateMaterial())}},
{key:"innerWidth",get:function(){return this._innerWidth},set:function(ba){ba!==this._innerWidth&&(this._innerWidth=ba,this._updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(ba){u.exactEquals(ba,this._innerColor)||(u.copy(this._innerColor,ba),this._updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(ba){const ca=H.isSome(ba)!==H.isSome(this._stipplePattern);this._stipplePattern=ba;ca?this.recreate():this._updateMaterial()}},
{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(ba){if(H.isNone(ba)||H.isNone(this._stippleOffColor)||!u.exactEquals(ba,this._stippleOffColor))this._stippleOffColor=H.isSome(ba)?O.clone(ba):null,this._updateMaterial()}},{key:"stipplePreferContinuous",get:function(){return this._stipplePreferContinuous},set:function(ba){ba!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=ba,this._updateMaterial())}},{key:"falloff",get:function(){return this._falloff},
set:function(ba){ba!==this._falloff&&(this._falloff=ba,this._updateMaterial())}},{key:"extensionType",get:function(){return this._extensionType},set:function(ba){ba!==this._extensionType&&(this._extensionType=ba,this._updateGeometry())}},{key:"_laserlineAttached",get:function(){return this._laserlineEnabled&&H.isSome(this._laserlineStyle)}},{key:"laserlineStyle",get:function(){return this._laserlineStyle},set:function(ba){this._laserlineStyle=ba;H.isSome(this._externalResources)&&(this._externalResources.laserline.attached=
this._laserlineAttached,H.isSome(ba)&&(this._externalResources.laserline.style=ba))}},{key:"laserlineEnabled",get:function(){return this._laserlineEnabled},set:function(ba){this._laserlineEnabled!==ba&&(this._laserlineEnabled=ba,H.isSome(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(ba){ba!==this._renderOccluded&&(this._renderOccluded=ba,this._updateMaterial())}},{key:"fadedExtensions",
get:function(){return this._fadedExtensions},set:function(ba){this._fadedExtensions=H.unwrapOr(ba,W);this.recreateGeometry()}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}}]);
return aa}(R.Object3DVisualElement);const F=P.create(),D=B.create(),U=B.create(),T=J.create();t.ExtensionType=void 0;(function(da){da[da.LINE=0]="LINE";da[da.RAY=1]="RAY";da[da.GROUND_RAY=2]="GROUND_RAY";da[da.FADED=3]="FADED"})(t.ExtensionType||(t.ExtensionType={}));R=1/3;const W={start:R,end:R};t.ExtendedLineVisualElement=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/LaserlineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/lineSegment ./VisualElement ../../support/LaserLineRenderer ../../../../chunks/Laserlines.glsl".split(" "),
function(t,Q,y,M,H,E,C,B,u){C=function(P){function K(N){var L=P.call(this,N.view)||this;L._angleCutoff=u.defaultAngleCutoff;L._style={};L._heightManifoldTarget=H.create();L._heightManifoldEnabled=!1;L._intersectsLine=E.create();L._intersectsLineEnabled=!1;L._intersectsLineInfinite=!1;L._lineVerticalPlaneSegment=null;L._pathVerticalPlaneBuffers=null;L._pointDistanceLine=null;L.applyProps(N);return L}Q._inheritsLoose(K,P);var J=K.prototype;J.createResources=function(){this._ensureRenderer()};J.destroyResources=
function(){this._disposeRenderer()};J.updateVisibility=function(){this._syncRenderer();this._syncHeightManifold();this._syncIntersectsLine();this._syncPathVerticalPlane();this._syncLineVerticalPlane();this._syncPointDistance()};J._syncRenderer=function(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||y.isSome(this._pointDistanceLine)||y.isSome(this._pathVerticalPlaneBuffers))?this._ensureRenderer():this._disposeRenderer()};J._ensureRenderer=function(){y.isSome(this.renderer)||
(this.renderer=new B.LaserLineRenderer(this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))};J._syncStyle=function(){y.isNone(this.renderer)||(this.renderer.setParameters(this._style),
null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))};J._syncAngleCutoff=function(){y.isNone(this.renderer)||this.renderer.setParameters({angleCutoff:this._angleCutoff})};J._syncHeightManifold=function(){y.isNone(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this.renderer.heightManifoldTarget=this._heightManifoldTarget))};J._syncIntersectsLine=function(){y.isNone(this.renderer)||
(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))};J._syncIntersectsLineInfinite=function(){y.isNone(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)};J._syncPathVerticalPlane=function(){y.isNone(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=y.isSome(this._pathVerticalPlaneBuffers)&&this.visible,y.isSome(this._pathVerticalPlaneBuffers)&&
(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))};J._syncLineVerticalPlane=function(){y.isNone(this.renderer)||(this.renderer.lineVerticalPlaneEnabled=y.isSome(this._lineVerticalPlaneSegment)&&this.visible,y.isSome(this._lineVerticalPlaneSegment)&&(this.renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))};J._syncPointDistance=function(){y.isNone(this.renderer)||(this.renderer.pointDistanceEnabled=y.isSome(this._pointDistanceLine)&&this.visible,y.isSome(this._pointDistanceLine)&&
(this.renderer.pointDistanceOrigin=this._pointDistanceLine.origin,this.renderer.pointDistanceTarget=this._pointDistanceLine.target))};J._disposeRenderer=function(){y.isSome(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)};Q._createClass(K,[{key:"testData",get:function(){return this.renderer}},{key:"angleCutoff",get:function(){return this._angleCutoff},set:function(N){this._angleCutoff!==N&&(this._angleCutoff=N,this._syncAngleCutoff())}},{key:"style",
get:function(){return this._style},set:function(N){this._style=N;this._syncStyle()}},{key:"heightManifoldTarget",get:function(){return this._heightManifoldEnabled?this._heightManifoldTarget:null},set:function(N){y.isSome(N)?(M.copy(this._heightManifoldTarget,N),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1;this._syncRenderer();this._syncHeightManifold()}},{key:"intersectsWorldUpAtLocation",set:function(N){if(y.isNone(N))this.intersectsLine=null;else{var L=this.view.renderCoordsHelper.worldUpAtPosition(N,
O);this.intersectsLine=E.fromValues(N,L);this.intersectsLineInfinite=!0}}},{key:"intersectsLine",get:function(){return this._intersectsLineEnabled?this._intersectsLine:null},set:function(N){y.isSome(N)?(E.copy(N,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1;this._syncIntersectsLine();this._syncRenderer()}},{key:"intersectsLineInfinite",get:function(){return this._intersectsLineInfinite},set:function(N){this._intersectsLineInfinite=N;this._syncIntersectsLineInfinite()}},
{key:"lineVerticalPlaneSegment",get:function(){return this._lineVerticalPlaneSegment},set:function(N){this._lineVerticalPlaneSegment=y.isSome(N)?E.copy(N):null;this._syncLineVerticalPlane();this._syncRenderer()}},{key:"pathVerticalPlane",get:function(){return this._pathVerticalPlaneBuffers},set:function(N){this._pathVerticalPlaneBuffers=N;this._syncPathVerticalPlane();this._syncLineVerticalPlane();this._syncPointDistance();this._syncRenderer()}},{key:"pointDistanceLine",get:function(){return this._pointDistanceLine},
set:function(N){this._pointDistanceLine=y.isSome(N)?{origin:H.clone(N.origin),target:H.clone(N.target)}:null;this._syncPointDistance();this._syncRenderer()}}]);return K}(C.VisualElement);const O=H.create();t.LaserlineVisualElement=C;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/VisualElement":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/reactiveUtils"],function(t,
Q,y){let M=function(){function H(C){this._resourcesCreated=this._attached=!1;this._visible=!0;this.view=C;this._handle=y.watch(()=>this.view.ready,B=>{this._resourcesCreated&&(B?this._createResources():this._destroyResources())})}var E=H.prototype;E.applyProps=function(C){let B=!1;for(const u in C)u in this?"attached"===u?B=C[u]:this[u]=C[u]:console.error("Cannot set unknown property",u);this.attached=B};E.destroy=function(){this.attached=!1;this._handle.remove()};E._createResources=function(){this.createResources();
this._resourcesCreated=!0;this.visible||this.updateVisibility(!1)};E._destroyResources=function(){this.destroyResources();this._resourcesCreated=!1};Q._createClass(H,[{key:"attached",get:function(){return this._attached},set:function(C){C!==this._attached&&this.view._stage&&((this._attached=C)&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}},{key:"visible",get:function(){return this._visible},set:function(C){C!==this._visible&&(this._visible=
C,this.attached&&this.updateVisibility(C))}}]);return H}();t.VisualElement=M;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/support/LaserLineRenderer":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/mathUtils ../../../core/maybe ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../chunks/vec4 ../../../chunks/vec4f64 ../../../geometry/support/clipRay ../../../geometry/support/frustum ../../../geometry/support/lineSegment ../../../geometry/support/plane ../../../geometry/support/ray ../../../chunks/sphere ./LaserlinePathData ../webgl-engine/lib/glUtil3D ../webgl-engine/lib/RenderSlot ../webgl-engine/materials/internal/MaterialUtil ../webgl-engine/shaders/LaserlinePathTechnique ../webgl-engine/shaders/LaserlinePathTechniqueConfiguration ../webgl-engine/shaders/LaserlineTechnique ../webgl-engine/shaders/LaserlineTechniqueConfiguration ../../webgl/enums".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U){function T(ka,oa,fa,ra){const ua=W,na=da;H.transformMat4(ua,oa,ra);H.copy(na,fa);na[3]=0;C.transformMat4(na,na,ra);K.fromPositionAndNormal(ua,na,ka)}const W=E.create(),da=B.create(),aa={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:y.deg2rad(6),globalAlphaContrastBoost:2,__tagStrict:"NoParameters"};y=function(){function ka(fa,ra={},ua={contrastControlEnabled:!1}){this._renderCoordsHelper=
fa;this._config=ua;this._technique=null;this._heightManifoldEnabled=!1;this._heightManifoldTarget=E.create();this._pointDistanceEnabled=!1;this._pointDistanceOrigin=E.create();this._pointDistanceTarget=E.create();this._lineVerticalPlaneEnabled=!1;this._lineVerticalPlaneSegment=P.create();this._intersectsLineEnabled=!1;this._intersectsLineSegment=P.create();this._intersectsLineRadius=3;this._pathVerticalPlaneEnabled=this._intersectsLineInfinite=!1;this._pathTechnique=this._pathVerticalPlaneData=null;
this.canRender=!0;this._tempNormal=E.create();this._tempDir=E.create();this._tempUp=E.create();this._tempVec3A=E.create();this._tempVec3B=E.create();this._tempVec4=B.create();this._tempPlane=K.create();this._tempSphere=N.create();this._parameters=x.copyParameters(ra,aa)}var oa=ka.prototype;oa.setParameters=function(fa){x.updateParameters(this._parameters,fa)&&this._requestRender()};oa.initializeRenderContext=function(fa){this._context=fa;this._quadVAO=R.createQuadVAO(fa.renderContext.rctx);this._techniqueRepository=
fa.shaderTechniqueRepository;this._techniqueConfig=new D.LaserlineTechniqueConfiguration;fa=new z.LaserlinePathTechniqueConfiguration;fa.contrastControlEnabled=this._config.contrastControlEnabled;this._pathTechnique=this._techniqueRepository.acquire(A.LaserlinePathTechnique,fa)};oa.uninitializeRenderContext=function(){this._quadVAO=M.disposeMaybe(this._quadVAO);this._technique=M.releaseMaybe(this._technique);this._pathVerticalPlaneData=M.disposeMaybe(this._pathVerticalPlaneData);this._pathTechnique=
M.releaseMaybe(this._pathTechnique)};oa.prepareTechnique=function(){return this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled?(this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=
this._config.contrastControlEnabled,this._technique=this._techniqueRepository.releaseAndAcquire(F.LaserlineTechnique,this._techniqueConfig,this._technique)):this._pathTechnique};oa.render=function(fa,ra){(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(fa,ra);this.pathVerticalPlaneEnabled&&this._renderPath(fa)};oa._renderUnified=function(fa,ra){const ua=fa.rctx;ra=ua.bindTechnique(ra,this._parameters,fa.bindParameters);
this._bindGlobalUniforms(fa,ra);this._bindHeightManifoldUniforms(fa,ra);this._bindPointDistanceUniforms(fa,ra);this._bindLineVerticalPlaneUniforms(fa,ra);this._bindIntersectsLineUniforms(fa,ra);ua.bindVAO(this._quadVAO);ua.drawArrays(U.PrimitiveType.TRIANGLE_STRIP,0,4)};oa._renderPath=function(fa){if(!M.isNone(this._pathVerticalPlaneData)&&!M.isNone(this._pathTechnique)){var ra=fa.rctx.bindTechnique(this._pathTechnique,{...this._parameters,origin:this._pathVerticalPlaneData.origin},fa.bindParameters);
this._bindGlobalUniforms(fa,ra);this._pathVerticalPlaneData.draw(fa.rctx)}};oa._bindHeightManifoldUniforms=function(fa,ra){if(this.heightManifoldEnabled){var ua=this._tempVec3A,na=this._tempPlane;fa=fa.bindParameters.camera;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,ua);T(na,this._heightManifoldTarget,ua,fa.viewMatrix);ra.setUniform4fv("heightPlane",na)}};oa._bindPointDistanceUniforms=function(fa,ra){if(this._pointDistanceEnabled){fa=fa.bindParameters.camera;var ua=this._tempSphere;
H.copy(ua,this._pointDistanceOrigin);H.transformMat4(ua,ua,fa.viewMatrix);ua[3]=H.distance(this._pointDistanceOrigin,this._pointDistanceTarget);ra.setUniform4f("pointDistanceSphere",ua[0],ua[1],ua[2],ua[3])}};oa._bindLineVerticalPlaneUniforms=function(fa,ra){if(this._lineVerticalPlaneEnabled){var ua=this._renderCoordsHelper;fa=fa.bindParameters.camera;var na=this._tempPlane,ta=this._tempVec3A,ya=this._tempUp,Fa=this._tempDir,Ia=this._tempNormal;P.pointAt(this._lineVerticalPlaneSegment,.5,ta);ua.worldUpAtPosition(ta,
ya);H.normalize(Fa,this._lineVerticalPlaneSegment.vector);H.cross(Ia,ya,Fa);H.normalize(Ia,Ia);T(na,this._lineVerticalPlaneSegment.origin,Ia,fa.viewMatrix);ra.setUniform4fv("lineVerticalPlane",na);na=this._tempVec3A;H.copy(na,this._lineVerticalPlaneSegment.origin);ua.setAltitude(na,0);H.transformMat4(na,na,fa.viewMatrix);ra.setUniform3fv("lineVerticalStart",na);na=this._tempVec3B;H.add(na,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector);ua.setAltitude(na,0);H.transformMat4(na,
na,fa.viewMatrix);ra.setUniform3fv("lineVerticalEnd",na)}};oa._bindIntersectsLineUniforms=function(fa,ra){if(this._intersectsLineEnabled){var ua=ba,na=ca;fa=fa.bindParameters.camera;if(this._intersectsLineInfinite){u.fromRay(J.wrap(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),ea);ea.c0=-Number.MAX_VALUE;if(!O.intersectClipRay(fa.frustum,ea))return;u.getStart(ea,ua);u.getEnd(ea,na)}else H.copy(ua,this._intersectsLineSegment.origin),H.add(na,this._intersectsLineSegment.origin,
this._intersectsLineSegment.vector);var ta=this._tempVec3A;H.transformMat4(ta,ua,fa.viewMatrix);ra.setUniform3fv("intersectsLineStart",ta);ua=this._tempVec4;H.copy(ua,this._intersectsLineSegment.vector);this._tempVec4[3]=0;C.transformMat4(this._tempVec4,this._tempVec4,fa.viewMatrix);H.transformMat4(na,na,fa.viewMatrix);ra.setUniform3fv("intersectsLineEnd",na);H.normalize(ua,ua);ra.setUniform3f("intersectsLineDirection",ua[0],ua[1],ua[2]);ra.setUniform1f("intersectsLineRadius",this._intersectsLineRadius)}};
oa._bindGlobalUniforms=function(fa,ra){const ua=fa.bindParameters.camera;this._heightManifoldEnabled?ra.setUniform1f("maxPixelDistance",2*ua.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?ra.setUniform1f("maxPixelDistance",2*ua.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&ra.setUniform1f("maxPixelDistance",2*ua.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin));ra.bindTexture("frameColor",fa.offscreenRenderingHelper.mainColorTexture)};
oa._requestRender=function(){this._context&&this._context.requestRender()};Q._createClass(ka,[{key:"renderSlots",get:function(){return[this._config.contrastControlEnabled?I.RenderSlot.LASERLINES_CONTRAST_CONTROL:I.RenderSlot.LASERLINES]}},{key:"needsLinearDepth",get:function(){return!0}},{key:"heightManifoldEnabled",get:function(){return this._heightManifoldEnabled},set:function(fa){this._heightManifoldEnabled!==fa&&(this._heightManifoldEnabled=fa,this._requestRender())}},{key:"heightManifoldTarget",
get:function(){return this._heightManifoldTarget},set:function(fa){H.copy(this._heightManifoldTarget,fa);this._requestRender()}},{key:"pointDistanceEnabled",get:function(){return this._pointDistanceEnabled},set:function(fa){fa!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=fa,this._requestRender())}},{key:"pointDistanceTarget",get:function(){return this._pointDistanceTarget},set:function(fa){H.copy(this._pointDistanceTarget,fa);this._requestRender()}},{key:"pointDistanceOrigin",get:function(){return this._pointDistanceOrigin},
set:function(fa){H.copy(this._pointDistanceOrigin,fa);this._requestRender()}},{key:"lineVerticalPlaneEnabled",get:function(){return this._lineVerticalPlaneEnabled},set:function(fa){fa!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=fa,this._requestRender())}},{key:"lineVerticalPlaneSegment",get:function(){return this._lineVerticalPlaneSegment},set:function(fa){P.copy(fa,this._lineVerticalPlaneSegment);this._requestRender()}},{key:"intersectsLineEnabled",get:function(){return this._intersectsLineEnabled},
set:function(fa){fa!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=fa,this._requestRender())}},{key:"intersectsLineSegment",get:function(){return this._intersectsLineSegment},set:function(fa){P.copy(fa,this._intersectsLineSegment);this._requestRender()}},{key:"intersectsLineRadius",get:function(){return this._intersectsLineRadius},set:function(fa){fa!==this._intersectsLineRadius&&(this._intersectsLineRadius=fa,this._requestRender())}},{key:"intersectsLineInfinite",get:function(){return this._intersectsLineInfinite},
set:function(fa){fa!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=fa,this._requestRender())}},{key:"pathVerticalPlaneEnabled",get:function(){return this._pathVerticalPlaneEnabled},set:function(fa){fa!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=fa,M.isSome(this._pathVerticalPlaneData)&&this._requestRender())}},{key:"pathVerticalPlaneVertices",set:function(fa){M.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new L.LaserlinePathData(this._renderCoordsHelper));
this._pathVerticalPlaneData.vertices=fa;this.pathVerticalPlaneEnabled&&this._requestRender()}},{key:"pathVerticalPlaneBuffers",set:function(fa){M.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new L.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.buffers=fa;this.pathVerticalPlaneEnabled&&this._requestRender()}}]);return ka}();const ea=u.create(),ba=E.create(),ca=E.create();t.LaserLineRenderer=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/3d/support/LaserlinePathData":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../chunks/vec3 ../../../chunks/vec3f64 ./buffer/glUtil ./buffer/InterleavedLayout ../webgl-engine/lib/VertexAttribute ../webgl-engine/shaders/LaserlinePathTechnique ../../webgl/BufferObject ../../webgl/enums ../../webgl/VertexArrayObject".split(" "),function(t,Q,y,M,H,E,C,B,u,O,P,K){let J=function(){function I(A){this._renderCoordsHelper=A;this._buffers=null;this._origin=
H.create();this._dirty=!1;this._count=0;this._vao=null}var x=I.prototype;x.draw=function(A){const z=this._ensureVAO(A);y.isSome(z)&&(A.bindVAO(z),A.drawArrays(P.PrimitiveType.TRIANGLES,0,this._count))};x.dispose=function(){y.isSome(this._vao)&&this._vao.dispose()};x._ensureVAO=function(A){if(y.isNone(this._buffers))return null;y.isNone(this._vao)&&(this._vao=this._createVAO(A,this._buffers));this._ensureVertexData(this._vao,this._buffers);return this._vao};x._createVAO=function(A,z){z=this._createDataBuffer(z);
this._dirty=!1;return new K.VertexArrayObject(A,u.LaserlinePathTechnique.attributeLocations,{data:E.glLayout(R)},{data:O.BufferObject.createVertex(A,P.Usage.STATIC_DRAW,z)})};x._ensureVertexData=function(A,z){this._dirty&&(z=this._createDataBuffer(z),A.vertexBuffers.data.setData(z),this._dirty=!1)};x._numberOfRenderVertices=function(A){return 6*(A.length/3-1)};x._createDataBuffer=function(A){var z=A.reduce((da,aa)=>da+this._numberOfRenderVertices(aa),0);this._count=z;z=R.createBuffer(z);const F=this._origin;
let D=0,U=0;for(const da of A){for(A=0;A<da.length;A+=3){var T=M.set(L,da[A+0],da[A+1],da[A+2]);0===A?U=this._renderCoordsHelper.getAltitude(T):this._renderCoordsHelper.setAltitude(T,U);var W=this._renderCoordsHelper.worldUpAtPosition(T,N);const aa=D+2*A;T=M.subtract(L,T,F);if(A<da.length-3){z.up.setVec(aa,W);z.up.setVec(aa+3,W);z.up.setVec(aa+5,W);for(let ea=0;6>ea;ea++)z.start.setVec(aa+ea,T);z.extrude.setValues(aa+0,0,-1);z.extrude.setValues(aa+1,1,-1);z.extrude.setValues(aa+2,1,1);z.extrude.setValues(aa+
3,0,-1);z.extrude.setValues(aa+4,1,1);z.extrude.setValues(aa+5,0,1)}if(0<A)for(z.up.setVec(aa-2,W),z.up.setVec(aa-4,W),z.up.setVec(aa-5,W),W=-6;0>W;W++)z.end.setVec(aa+W,T)}D+=this._numberOfRenderVertices(da)}return z.buffer};Q._createClass(I,[{key:"vertices",set:function(A){const z=new Float64Array(3*A.length);let F=0;for(const D of A)z[F++]=D[0],z[F++]=D[1],z[F++]=D[2];this.buffers=[z]}},{key:"buffers",set:function(A){this._buffers=A;if(0<this._buffers.length){A=this._buffers[0];const z=3*Math.floor(A.length/
3/2);M.set(this._origin,A[z+0],A[z+1],A[z+2])}else M.set(this._origin,0,0,0);this._dirty=!0}},{key:"origin",get:function(){return this._origin}}]);return I}();const N=H.create(),L=H.create(),R=C.newLayout().vec3f(B.VertexAttribute.START).vec3f(B.VertexAttribute.END).vec3f(B.VertexAttribute.UP).vec2f(B.VertexAttribute.EXTRUDE);t.LaserlinePathData=J;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/webgl-engine/shaders/LaserlinePathTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/Program ../lib/VertexAttribute ../../../../chunks/LaserlinePath.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(t,Q,y,M,H,E,C,B,u,O){H=function(P){function K(){return P.apply(this,arguments)||this}y._inheritsLoose(K,P);var J=K.prototype;J.initializeProgram=function(N){const L=K.shader.get().build(this.configuration);return new E.Program(N.rctx,L,K.attributeLocations)};J.initializePipeline=function(){return O.makePipelineState({blending:O.simpleBlendingParams(u.BlendFactor.ONE,u.BlendFactor.ONE_MINUS_SRC_ALPHA),colorWrite:O.defaultColorWriteParams})};return K}(H.ShaderTechnique);H.shader=new M.ReloadableShaderModule(B.LaserlinePath,
()=>new Promise((P,K)=>t(["./LaserlinePath.glsl"],P,K)));H.attributeLocations=new Map([[C.VertexAttribute.START,0],[C.VertexAttribute.END,1],[C.VertexAttribute.UP,2],[C.VertexAttribute.EXTRUDE,3]]);Q.LaserlinePathTechnique=H;Object.defineProperties(Q,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/LaserlinePath.glsl":function(){define("exports ./mat4 ./mat4f64 ./vec2 ./vec2f64 ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder ../views/3d/webgl-engine/lib/VertexAttribute".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K){function J(R){const I=new P.ShaderBuilder;I.include(E.Laserline,R);const {vertex:x,fragment:A}=I;x.uniforms.add([new O.Matrix4PassUniform("modelView",(z,F)=>Q.translate(L,F.camera.viewMatrix,z.origin)),new O.Matrix4PassUniform("proj",(z,F)=>F.camera.projectionMatrix),new B.FloatPassUniform("glowWidth",(z,F)=>z.glowWidth*F.camera.pixelRatio),new C.Float2PassUniform("pixelToNDC",(z,F)=>M.set(N,2/F.camera.fullViewport[2],2/F.camera.fullViewport[3]))]);I.attributes.add(K.VertexAttribute.START,
"vec3");I.attributes.add(K.VertexAttribute.END,"vec3");I.attributes.add(K.VertexAttribute.UP,"vec3");I.attributes.add(K.VertexAttribute.EXTRUDE,"vec2");I.varyings.add("uv","vec2");I.varyings.add("vViewStart","vec3");I.varyings.add("vViewEnd","vec3");I.varyings.add("vViewPlane","vec4");x.code.add(u.glsl`void main() {
vec3 pos = mix(start, end, extrude.x);
vec4 viewPos = modelView * vec4(pos, 1);
vec4 projPos = proj * viewPos;
vec2 ndcPos = projPos.xy / projPos.w;
vec3 viewUp = (modelView * vec4(extrude.y * up, 0)).xyz;
vec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);
vec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);
vec2 lxy = abs(sign(projExtrudeDir) - ndcPos);
ndcPos += length(lxy) * projExtrudeDir;
vec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));
vec3 viewPlaneNormal = (modelView * vec4(worldPlaneNormal, 0)).xyz;
vViewStart = (modelView * vec4(start, 1)).xyz;
vViewEnd = (modelView * vec4(end, 1)).xyz;
vViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));
float xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;
ndcPos.x += xPaddingPixels * pixelToNDC.x;
uv = ndcPos * 0.5 + 0.5;
gl_Position = vec4(ndcPos, 0, 1);
}`);A.uniforms.add(new B.FloatPassUniform("perScreenPixelRatio",(z,F)=>F.camera.perScreenPixelRatio));A.code.add(u.glsl`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {
vec3 origin = mix(start, end, 0.5);
vec3 basis = end - origin;
vec3 posAtOrigin = pos - origin;
float x = dot(normalize(basis), posAtOrigin);
float y = dot(plane.xyz, posAtOrigin);
float dx = max(abs(x) - length(basis), 0.0);
float dy = y;
float dist = length(vec2(dx, dy));
float width = fwidth(y);
float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;
float pixelDist = dist / min(width, maxPixelDistance);
return abs(pixelDist);
}
void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
float distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);
vec4 color = laserlineProfile(distance);
float alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));
gl_FragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);
}`);return I}const N=H.create(),L=y.create();y=Object.freeze(Object.defineProperty({__proto__:null,build:J},Symbol.toStringTag,{value:"Module"}));t.LaserlinePath=y;t.build=J})},"esri/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl":function(){define("exports ../../../../../core/maybe ./output/ReadLinearDepth.glsl ./util/CameraSpace.glsl ../shaderModules/Float2PassUniform ../shaderModules/Float3PassUniform ../shaderModules/FloatPassUniform ../shaderModules/interfaces ../shaderModules/Texture2DPassUniform ../shaderModules/Texture2DUniform".split(" "),
function(t,Q,y,M,H,E,C,B,u,O){t.Laserline=function(P,K){P.extensions.add("GL_OES_standard_derivatives");const J=P.fragment;J.include(y.ReadLinearDepth);P.include(M.CameraSpace);J.uniforms.add([new C.FloatPassUniform("globalAlpha",N=>N.globalAlpha),new E.Float3PassUniform("glowColor",N=>N.glowColor),new C.FloatPassUniform("glowWidth",(N,L)=>N.glowWidth*L.camera.pixelRatio),new C.FloatPassUniform("glowFalloff",N=>N.glowFalloff),new E.Float3PassUniform("innerColor",N=>N.innerColor),new C.FloatPassUniform("innerWidth",
(N,L)=>N.innerWidth*L.camera.pixelRatio),new u.Texture2DPassUniform("depthMap",(N,L)=>L.linearDepthTexture),new H.Float2PassUniform("nearFar",(N,L)=>L.camera.nearFar),new O.Texture2DUniform("frameColor")]);J.code.add(B.glsl`vec4 blendPremultiplied(vec4 source, vec4 dest) {
float oneMinusSourceAlpha = 1.0 - source.a;
return vec4(
source.rgb + dest.rgb * oneMinusSourceAlpha,
source.a + dest.a * oneMinusSourceAlpha
);
}`);J.code.add(B.glsl`vec4 premultipliedColor(vec3 rgb, float alpha) {
return vec4(rgb * alpha, alpha);
}`);J.code.add(B.glsl`vec4 laserlineProfile(float dist) {
if (dist > glowWidth) {
return vec4(0.0);
}
float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));
float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);
return blendPremultiplied(
premultipliedColor(innerColor, innerAlpha),
premultipliedColor(glowColor, glowAlpha)
);
}`);J.code.add(B.glsl`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {
float depth = linearDepthFromTexture(depthMap, uv, nearFar);
if (-depth == nearFar[0]) {
return false;
}
pos = reconstructPosition(gl_FragCoord.xy, depth);
normal = normalize(cross(dFdx(pos), dFdy(pos)));
float ddepth = fwidth(depth);
depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);
return true;
}`);K.contrastControlEnabled?(J.uniforms.add(new C.FloatPassUniform("globalAlphaContrastBoost",N=>Q.isSome(N.globalAlphaContrastBoost)?N.globalAlphaContrastBoost:1)),J.code.add(B.glsl`float rgbToLuminance(vec3 color) {
return dot(vec3(0.2126, 0.7152, 0.0722), color);
}
vec4 laserlineOutput(vec4 color) {
float backgroundLuminance = rgbToLuminance(texture2D(frameColor, uv).rgb);
float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);
return color * alpha;
}`)):J.code.add(B.glsl`vec4 laserlineOutput(vec4 color) {
return color * globalAlpha;
}`)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/tslib.es6","../core/shaderTechnique/ShaderTechniqueConfiguration"],function(t,Q,y,M){let H=function(E){function C(){var B=E.apply(this,arguments)||this;B.contrastControlEnabled=!1;return B}Q._inheritsLoose(C,E);return C}(M.ShaderTechniqueConfiguration);
y.__decorate([M.parameter()],H.prototype,"contrastControlEnabled",void 0);t.LaserlinePathTechniqueConfiguration=H;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/webgl-engine/shaders/LaserlineTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderModules/interfaces ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/DefaultVertexAttributeLocations ../lib/Program ../../../../chunks/Laserlines.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P){M=function(K){function J(){return K.apply(this,arguments)||this}y._inheritsLoose(J,K);return J}(M.NoParameters);E=function(K){function J(){return K.apply(this,arguments)||this}y._inheritsLoose(J,K);var N=J.prototype;N.initializeProgram=function(L){const R=J.shader.get().build(this.configuration);return new B.Program(L.rctx,R,C.Default3D)};N.initializePipeline=function(){return P.makePipelineState({blending:P.simpleBlendingParams(O.BlendFactor.ONE,O.BlendFactor.ONE_MINUS_SRC_ALPHA),
colorWrite:P.defaultColorWriteParams})};return J}(E.ShaderTechnique);E.shader=new H.ReloadableShaderModule(u.LaserlinesShader,()=>new Promise((K,J)=>t(["./Laserlines.glsl"],K,J)));Q.LaserlinePassParameters=M;Q.LaserlineTechnique=E;Object.defineProperties(Q,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/Laserlines.glsl":function(){define("exports ../core/mathUtils ../core/maybe ./vec2 ./vec2f64 ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform ../views/3d/webgl-engine/core/shaderModules/Float3Uniform ../views/3d/webgl-engine/core/shaderModules/Float4Uniform ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform ../views/3d/webgl-engine/core/shaderModules/FloatUniform ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){function L(A){const z=new N.ShaderBuilder;z.extensions.add("GL_OES_standard_derivatives");z.include(C.ScreenSpacePass);z.include(E.Laserline,A);const F=z.fragment;A.heightManifoldEnabled&&F.uniforms.add(new O.Float4Uniform("heightPlane"));A.pointDistanceEnabled&&F.uniforms.add(new O.Float4Uniform("pointDistanceSphere"));A.lineVerticalPlaneEnabled&&(F.uniforms.add(new O.Float4Uniform("lineVerticalPlane")),F.uniforms.add(new u.Float3Uniform("lineVerticalStart")),
F.uniforms.add(new u.Float3Uniform("lineVerticalEnd")));(A.heightManifoldEnabled||A.pointDistanceEnabled||A.lineVerticalPlaneEnabled)&&F.uniforms.add(new K.FloatUniform("maxPixelDistance"));(A.lineVerticalPlaneEnabled||A.heightManifoldEnabled)&&F.code.add(J.glsl`float planeDistancePixels(vec4 plane, vec3 pos) {
float dist = dot(plane.xyz, pos) + plane.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`);A.pointDistanceEnabled&&F.code.add(J.glsl`float sphereDistancePixels(vec4 sphere, vec3 pos) {
float dist = distance(sphere.xyz, pos) - sphere.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`);A.intersectsLineEnabled&&(F.uniforms.add(new u.Float3Uniform("intersectsLineStart")),F.uniforms.add(new u.Float3Uniform("intersectsLineEnd")),F.uniforms.add(new u.Float3Uniform("intersectsLineDirection")),F.uniforms.add(new K.FloatUniform("intersectsLineRadius")),F.uniforms.add(new P.FloatPassUniform("perScreenPixelRatio",(D,U)=>U.camera.perScreenPixelRatio)),F.code.add(J.glsl`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {
float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);
return abs(dist) - radius;
}`));(A.lineVerticalPlaneEnabled||A.intersectsLineEnabled)&&F.code.add(J.glsl`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {
vec3 dir = end - start;
float t2 = dot(dir, pos - start);
float l2 = dot(dir, dir);
return t2 >= 0.0 && t2 <= l2;
}`);F.code.add(J.glsl`void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
vec4 color = vec4(0, 0, 0, 0);`);A.heightManifoldEnabled&&(F.uniforms.add(new B.Float2PassUniform("angleCutoff",D=>R(D))),F.code.add(J.glsl`{
float heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));
vec4 heightManifoldColor = laserlineProfile(planeDistancePixels(heightPlane, pos));
color = max(color, heightManifoldColor * heightManifoldAlpha);
}`));A.pointDistanceEnabled&&(F.uniforms.add(new B.Float2PassUniform("angleCutoff",D=>R(D))),F.code.add(J.glsl`{
float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);
vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);
float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));
color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);
}`));A.lineVerticalPlaneEnabled&&(F.uniforms.add(new B.Float2PassUniform("angleCutoff",D=>R(D))),F.code.add(J.glsl`{
if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {
float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);
vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);
float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));
color = max(color, lineVerticalColor * lineVerticalAlpha);
}
}`));A.intersectsLineEnabled&&(F.uniforms.add(new B.Float2PassUniform("angleCutoff",D=>R(D))),F.code.add(J.glsl`{
if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {
float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);
vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);
float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));
color = max(color, intersectsLineColor * intersectsLineAlpha);
}
}`));F.code.add(J.glsl`gl_FragColor = laserlineOutput(color * depthDiscontinuityAlpha);
}`);return z}function R(A){A=y.isSome(A.angleCutoff)?A.angleCutoff:I;return M.set(x,Math.cos(A),Math.cos(Math.max(0,A-Q.deg2rad(2))))}const I=Q.deg2rad(6),x=H.create();H=Object.freeze(Object.defineProperty({__proto__:null,defaultAngleCutoff:I,build:L},Symbol.toStringTag,{value:"Module"}));t.LaserlinesShader=H;t.build=L;t.defaultAngleCutoff=I})},"esri/views/3d/webgl-engine/shaders/LaserlineTechniqueConfiguration":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/tslib.es6",
"../core/shaderTechnique/ShaderTechniqueConfiguration","./LaserlinePathTechniqueConfiguration"],function(t,Q,y,M,H){H=function(E){function C(){var B=E.apply(this,arguments)||this;B.heightManifoldEnabled=!1;B.pointDistanceEnabled=!1;B.lineVerticalPlaneEnabled=!1;B.intersectsLineEnabled=!1;return B}Q._inheritsLoose(C,E);return C}(H.LaserlinePathTechniqueConfiguration);y.__decorate([M.parameter()],H.prototype,"heightManifoldEnabled",void 0);y.__decorate([M.parameter()],H.prototype,"pointDistanceEnabled",
void 0);y.__decorate([M.parameter()],H.prototype,"lineVerticalPlaneEnabled",void 0);y.__decorate([M.parameter()],H.prototype,"intersectsLineEnabled",void 0);t.LaserlineTechniqueConfiguration=H;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/Object3DVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ./VisualElement ../../webgl-engine/lib/basicInterfaces ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/WebGLLayer".split(" "),
function(t,Q,y,M,H,E,C,B,u){E=function(O){function P(J){J=O.call(this,J.view)||this;J._resources=null;J._transform=H.create();return J}Q._inheritsLoose(P,O);var K=P.prototype;K.recreate=function(){this.attached&&this.createResources()};K.recreateGeometry=function(){if(!y.isNone(this._resources)){var J=this._resources.object,N=this.view._stage;N.removeMany(J.geometries);J.removeAllGeometries();this.createGeometries(J);this.visible||J.setVisible(this.visible);N.addMany(J.geometries)}};K.createResources=
function(){this.destroyResources();const J=this.view._stage;if(J){var N=new u.WebGLLayer({isPickable:!1,updatePolicy:C.UpdatePolicy.SYNC});J.add(N);var L=new B.Object3D({castShadow:!1});L.transformation=this._transform;this.createExternalResources();this.createGeometries(L);J.addMany(L.geometries);this.forEachExternalMaterial(R=>J.add(R));J.add(L);N.add(L);this.visible||L.setVisible(!1);this._resources={layer:N,object:L}}};K.destroyResources=function(){const J=this.view._stage;!y.isNone(this._resources)&&
J&&(J.remove(this._resources.object),J.remove(this._resources.layer),this.forEachExternalMaterial(N=>{J.remove(N);N.dispose()}),J.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)};K.updateVisibility=function(J){y.isNone(this._resources)||this._resources.object.setVisible(J)};Q._createClass(P,[{key:"object",get:function(){return y.isSome(this._resources)?this._resources.object:null}},{key:"transform",get:function(){return this._transform},
set:function(J){M.copy(this._transform,J);y.isSome(this._resources)&&(this._resources.object.transformation=this._transform)}}]);return P}(E.VisualElement);t.Object3DVisualElement=E;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/ParallelLineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/Handles ../../../../core/maybe ../../../../core/reactiveUtils ../../../../core/screenUtils ../../../../chunks/vec2 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ./Object3DVisualElement ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Material ../../webgl-engine/lib/VertexAttribute ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R){K=function(U){function T(da){var aa=U.call(this,da)||this;aa._handles=new y;aa._location=u.create();aa._direction=u.fromValues(1,0,0);aa._width=1;aa._offset=1;aa._length=18;aa._color=P.fromValues(1,0,1,1);aa._renderOccluded=N.RenderOccludedFlag.OccludeAndTransparent;aa.applyProps(da);return aa}Q._inheritsLoose(T,U);var W=T.prototype;W.setDirectionFromPoints=function(da,aa){B.normalize(this._direction,B.subtract(this._direction,aa,da));this._updateGeometry()};
W.createExternalResources=function(){const da=new R.RibbonLineMaterial(this.materialParameters);this._handles.add(H.watch(()=>this.view.state.camera,()=>{this._updateGeometry()}));this._externalResources={material:da}};W.destroyExternalResources=function(){this._handles.removeAll();this._externalResources=null};W.createGeometries=function(da){const aa=J.createPolylineGeometry([u.create(),u.create()]),ea=J.createPolylineGeometry([u.create(),u.create()]),ba=M.unwrap(this._externalResources).material;
da.addGeometry(aa,ba);da.addGeometry(ea,ba);this._updateVertices(da)};W.forEachExternalMaterial=function(da){M.isSome(this._externalResources)&&da(this._externalResources.material)};W._updateMaterial=function(){M.isNone(this._externalResources)||this._externalResources.material.setParameters(this.materialParameters)};W._updateGeometry=function(){const da=this.object;M.isNone(da)||this._updateVertices(da)};W._updateVertices=function(da){const aa=this.view.state.camera;aa.projectToScreen(this.location,
x);B.add(I,this.location,this.direction);aa.projectToScreen(I,A);C.normalize(A,C.subtract(A,A,x));this._updateVertexAttributes(aa,da,0,x,A,1);this._updateVertexAttributes(aa,da,1,x,A,-1)};W._updateVertexAttributes=function(da,aa,ea,ba,ca,ka){ea=aa.geometryRecords[ea];const oa=ea.geometry.getMutableAttribute(L.VertexAttribute.POSITION).data;ka=C.scale(z,C.set(z,ca[1]*ka,ca[0]*-ka),this.offset+this.width/2);ba=C.add(F,C.add(F,C.add(F,ba,C.scale(F,ca,this.length/2)),ka),ka);ca=C.add(D,ba,C.scale(D,ca,
-this.length));da.unprojectFromScreen(ba,I);oa[0]=I[0];oa[1]=I[1];oa[2]=I[2];da.unprojectFromScreen(ca,I);oa[3]=I[0];oa[4]=I[1];oa[5]=I[2];aa.geometryVertexAttrsUpdated(ea)};Q._createClass(T,[{key:"location",get:function(){return this._location},set:function(da){B.exactEquals(this._location,da)||(B.copy(this._location,da),this._updateGeometry())}},{key:"direction",get:function(){return this._direction},set:function(da){B.exactEquals(this._direction,da)||(B.copy(this._direction,da),this._updateGeometry())}},
{key:"width",get:function(){return this._width},set:function(da){da!==this._width&&(this._width=da,this._updateMaterial())}},{key:"offset",get:function(){return this._offset},set:function(da){da!==this._offset&&(this._offset=da,this._updateGeometry())}},{key:"length",get:function(){return this._length},set:function(da){da!==this._length&&(this._length=da,this._updateGeometry())}},{key:"color",get:function(){return this._color},set:function(da){O.exactEquals(da,this._color)||(O.copy(this._color,da),
this._updateMaterial())}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(da){da!==this._renderOccluded&&(this._renderOccluded=da,this._updateMaterial())}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}}]);return T}(K.Object3DVisualElement);const I=u.create(),x=E.createScreenPointArray(),A=E.createScreenPointArray(),z=E.createScreenPointArray(),F=E.createScreenPointArray(),D=E.createScreenPointArray();
t.ParallelLineVisualElement=K;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/PointVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/mathUtils ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f64 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/vectorStacks ./VisualElementResources ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/sdfPrimitives ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/VertexAttribute ../../webgl-engine/materials/HUDMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x){let A=function(){function U(W){this._geometry=this.view=null;this._size=3;this._color=B.fromValues(1,0,1,1);this._pixelSnappingEnabled=!0;this._primitive="square";this._outlineSize=1;this._outlineColor=B.fromValues(1,1,1,1);this._elevationInfo=null;this.resources=new K.VisualElementResources({view:W.view,createResources:aa=>this._createResources(aa),recreateGeometry:(aa,ea)=>{aa.geometry=this._recreateGeometry(ea,aa.material);return M.isSome(aa.geometry)?
[aa.geometry]:[]}});let da=!0;for(const aa in W)aa in this?"attached"===aa?da=W[aa]:this[aa]=W[aa]:console.error("Cannot set unknown property",aa);this.attached=da}var T=U.prototype;T.destroy=function(){this.resources.destroy()};T._updateMaterial=function(){const W=this.resources.resources;M.isNone(W)||W.material.setParameters(this._materialParameters(W.texture.id))};T._updateSizeAttribute=function(){var W=this.resources.resources;const da=this.resources.object;if(!M.isNone(W)&&!M.isNone(da)&&(W=
W.geometry,!M.isNone(W))){W=W.getMutableAttribute(I.VertexAttribute.SIZE).data;var aa=this.geometrySize;W[0]=aa;W[1]=aa;da.geometryVertexAttrsUpdated(da.geometryRecords[0])}};T._materialParameters=function(W){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:F,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:W,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}};
T._recreateGeometry=function(W,da){const aa=this._createRenderGeometry();M.isSome(aa)&&W.addGeometry(aa,da);return aa};T._createResources=function(W){const da=L.createTexture(this._primitive,this.preferredTextureSize),aa=new x.HUDMaterial(this._materialParameters(da.id));W=this._recreateGeometry(W,aa);return{material:aa,texture:da,geometry:W,forEach(ea){ea(da);ea(aa);M.isSome(this.geometry)&&ea(this.geometry)}}};T.calculateMapBounds=function(W){if(M.isNone(this.resources.resources)||M.isNone(this.resources.resources.geometry))return!1;
const da=this.resources.resources.geometry.vertexAttributes.get(I.VertexAttribute.POSITION);u.projectVectorToVector(da.data,this.view.renderCoordsHelper.spatialReference,D,this.view.spatialReference);O.expandWithBuffer(W,D);return!0};T._createRenderGeometry=function(){var W=this.geometry;if(M.isNone(W))return null;const {renderCoordsHelper:da,elevationProvider:aa}=this.view;var ea=J.evaluateElevationAlignmentAtPoint(W,aa,N.ElevationContext.fromElevationInfo(this.elevationInfo),da);const ba=H.set(P.sv3d.get(),
W.x,W.y,ea);ea=P.sv3d.get();u.projectVectorToVector(ba,W.spatialReference,ea,da.spatialReference);W=this.geometrySize;return R.createPointGeometry(null,ea,null,[W,W],[0,0,0,1])};Q._createClass(U,[{key:"visible",get:function(){return this.resources.visible},set:function(W){this.resources.visible=W}},{key:"attached",get:function(){return this.resources.attached},set:function(W){this.resources.attached=W}},{key:"geometry",get:function(){return this._geometry},set:function(W){this._geometry=W;this.resources.recreateGeometry()}},
{key:"size",get:function(){return this._size},set:function(W){if(W!==this._size){const da=this.preferredTextureSize;this._size=W;da<this.preferredTextureSize?M.isSome(this.resources)&&this.resources.recreate():this._updateSizeAttribute()}}},{key:"color",get:function(){return this._color},set:function(W){C.exactEquals(W,this._color)||(C.copy(this._color,W),this._updateMaterial())}},{key:"pixelSnappingEnabled",get:function(){return this._pixelSnappingEnabled},set:function(W){this._pixelSnappingEnabled!==
W&&(this._pixelSnappingEnabled=W,this._updateMaterial())}},{key:"primitive",get:function(){return this._primitive},set:function(W){this._primitive!==W&&(this._primitive=W,M.isSome(this.resources)&&this.resources.recreate())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(W){W!==this._outlineSize&&(this._outlineSize=W,this._updateMaterial())}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(W){C.exactEquals(W,this._outlineColor)||(C.copy(this._outlineColor,
W),this._updateMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(W){this._elevationInfo=W;this.resources&&this.resources.recreateGeometry()}},{key:"geometrySize",get:function(){return this._size/z}},{key:"preferredTextureSize",get:function(){return y.clamp(y.nextHighestPowerOfTwo(2*this.geometrySize),16,128)}}]);return U}();const z=L.DEFAULT_SYMBOL_SIZE_RATIO,F=[z/2,z/2,1-z/2,1-z/2],D=E.create();t.PointVisualElement=A;Object.defineProperties(t,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/VisualElementResources":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/reactiveUtils ../../webgl-engine/lib/basicInterfaces ../../webgl-engine/lib/ContentObjectType ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/Texture ../../webgl-engine/lib/WebGLLayer".split(" "),function(t,Q,y,M,H,E,C,B,u){let O=function(){function P(J){this.resourceFactory=
J;this._resources=null;this._visible=!0;this._attached=!1}var K=P.prototype;K.destroy=function(){this._destroyResources()};K.recreate=function(){this.attached&&this._createResources()};K.recreateGeometry=function(){if(this.resourceFactory.recreateGeometry){var J=this.resourceFactory.view._stage;if(!y.isNone(this._resources)&&J){var N=this._resources.object;this._resources.external.forEach(L=>{L.type===E.ContentObjectType.Geometry&&J.remove(L)});N.removeAllGeometries();N=this.resourceFactory.recreateGeometry(this._resources.external,
N,this._resources.layer);J.addMany(N)}}else this.recreate()};K._createOrDestroyResources=function(){this._attached?this._resources||this._createResources():this._destroyResources()};K._createResources=function(){this._destroyResources();const J=this.resourceFactory,N=J.view,L=N._stage;if(L){var R=new u.WebGLLayer({isPickable:!1,updatePolicy:H.UpdatePolicy.SYNC});L.add(R);var I=new C.Object3D({castShadow:!1}),x=J.createResources(I,R);x.forEach(z=>{L.add(z);z instanceof B.Texture&&L.loadImmediate(z)});
L.add(I);R.add(I);var A=J.cameraChanged?M.watch(()=>N.state.camera,z=>J.cameraChanged(z),M.initial):null;this._resources={layer:R,object:I,external:x,cameraHandle:A};this._syncVisible()}};K._destroyResources=function(){if(!y.isNone(this._resources)){var J=this.resourceFactory.view._stage;null==J?void 0:J.remove(this._resources.object);null==J?void 0:J.remove(this._resources.layer);this._resources.external.forEach(N=>{null==J?void 0:J.remove(N);"dispose"in N&&N.dispose()});this._resources.object.dispose();
this._resources.cameraHandle&&this._resources.cameraHandle.remove();this._resources=null}};K._syncVisible=function(){y.isNone(this._resources)||this._resources.object.setVisible(this._visible)};Q._createClass(P,[{key:"object",get:function(){return y.isSome(this._resources)?this._resources.object:null}},{key:"resources",get:function(){return y.isSome(this._resources)?this._resources.external:null}},{key:"visible",get:function(){return this._visible},set:function(J){J!==this._visible&&(this._visible=
J,this._syncVisible())}},{key:"attached",get:function(){return this._attached},set:function(J){J!==this._attached&&(this._attached=J,this._createOrDestroyResources())}}]);return P}();t.VisualElementResources=O;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/RightAngleQuadVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/Handles ../../../../core/maybe ../../../../core/reactiveUtils ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../../../geometry/support/vectorStacks ./Object3DVisualElement ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Material ../../webgl-engine/lib/VertexAttribute ../../webgl-engine/materials/ColorMaterial ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A){J=function(F){function D(T){var W=F.call(this,T)||this;W._handles=new y;W._quadMaterial=null;W._outlineMaterial=null;W._maxSize=0;W._position=u.create();W._up=u.create();W._right=u.create();W._renderOccluded=R.RenderOccludedFlag.OccludeAndTransparent;W._color=P.fromValues(1,0,0,1);W._outlineColor=P.fromValues(0,0,0,1);W._outlineSize=0;W._size=32;W._outlineRenderOccluded=R.RenderOccludedFlag.Opaque;W.applyProps(T);return W}Q._inheritsLoose(D,F);var U=
D.prototype;U.createExternalResources=function(){this._quadMaterial=new x.ColorMaterial(this.quadMaterialParameters);this._outlineMaterial=new A.RibbonLineMaterial(this.outlineMaterialParameters);this._handles.add(H.watch(()=>this.view.state.camera,()=>this._updateTransform()))};U.destroyExternalResources=function(){this._outlineMaterial=this._quadMaterial=null;this._handles.removeAll()};U.forEachExternalMaterial=function(T){T(this._quadMaterial);T(this._outlineMaterial)};U.createGeometries=function(T){this._createQuadGeometry(T);
this._createOutlineGeometry(T);this._updateTransform(T)};U._createQuadGeometry=function(T){const W=this._quadGeometryData(this._up,this._right);T.addGeometry(W,this._quadMaterial)};U._createOutlineGeometry=function(T){if(0!==this._outlineSize){var W=B.add(K.sv3d.get(),this._up,this._right);W=L.createPolylineGeometry([this._up,W,this._right]);T.addGeometry(W,this._outlineMaterial)}};U._updateTransform=function(T=this.object){var W=this._size*this.view.state.camera.computeScreenPixelSizeAt(this._position);
W=Math.min(this._maxSize,W);E.fromTranslation(z,this._position);E.scale(z,z,[W,W,W]);M.isSome(T)&&(T.transformation=z)};U._quadGeometryData=function(T,W){const da=B.add(K.sv3d.get(),T,W);return new N.Geometry([[I.VertexAttribute.POSITION,{size:3,data:[0,0,0,...W,...T,...da],exclusive:!0}]],[[I.VertexAttribute.POSITION,new Uint16Array([0,1,2,1,2,3])]])};U._updateQuadMaterial=function(){this._quadMaterial&&this._quadMaterial.setParameters(this.quadMaterialParameters)};U._updateOutlineMaterial=function(){this._outlineMaterial&&
this._outlineMaterial.setParameters(this.outlineMaterialParameters)};Q._createClass(D,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(T){T!==this._renderOccluded&&(this._renderOccluded=T,this._updateQuadMaterial())}},{key:"color",get:function(){return this._color},set:function(T){O.copy(this._color,T);this._updateQuadMaterial()}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(T){O.copy(this._outlineColor,T);this._updateOutlineMaterial()}},
{key:"outlineSize",get:function(){return this._outlineSize},set:function(T){const W=0===this._outlineSize!==(0===T);this._outlineSize=T;W?this.recreateGeometry():this._updateOutlineMaterial()}},{key:"size",get:function(){return this._size},set:function(T){T!==this._size&&(this._size=T,this._updateTransform())}},{key:"outlineRenderOccluded",get:function(){return this._outlineRenderOccluded},set:function(T){this._outlineRenderOccluded=T;this._updateOutlineMaterial()}},{key:"geometry",set:function({previous:T,
center:W,next:da}){this._maxSize=Math.min(B.distance(W,T),B.distance(W,da))/3;B.normalize(this._up,B.subtract(this._up,T,W));B.normalize(this._right,B.subtract(this._right,da,W));B.copy(this._position,W);this.recreateGeometry()}},{key:"quadMaterialParameters",get:function(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}},{key:"outlineMaterialParameters",get:function(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}}]);
return D}(J.Object3DVisualElement);const z=C.create();t.RightAngleQuadVisualElement=J;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/Settings":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass".split(" "),function(t,Q,y,M,H,E,C){let B=function(u){function O(){var P=
u.apply(this,arguments)||this;P.enabled=!0;return P}Q._inheritsLoose(O,u);return O}(H.JSONSupport);y.__decorate([E.property({type:Boolean})],B.prototype,"enabled",void 0);B=y.__decorate([C.subclass("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],B);H=function(u){function O(P){P=u.call(this,P)||this;P.lineSnapper=new B;P.parallelLineSnapper=new B;P.rightAngleSnapper=new B;P.rightAngleTriangleSnapper=new B;P.shortLineThreshold=15;P.distance=5;P.pointThreshold=1E-6;P.intersectionParallelLineThreshold=
1E-6;P.parallelLineThreshold=1E-6;P.touchSensitivityMultiplier=1.5;P.pointOnLineThreshold=1E-6;P.orange=new M([255,127,0]);P.lineHintWidthReference=3;P.lineHintWidthTarget=3;P.lineHintFadedExtensions=.3;P.parallelLineHintWidth=2;P.parallelLineHintLength=24;P.parallelLineHintOffset=1.5;P.rightAngleHintSize=24;P.rightAngleHintOutlineSize=1.5;return P}Q._inheritsLoose(O,u);return O}(H.JSONSupport);y.__decorate([E.property({type:B,constructOnly:!0,nonNullable:!0,json:{write:!0}})],H.prototype,"lineSnapper",
void 0);y.__decorate([E.property({type:B,constructOnly:!0,nonNullable:!0,json:{write:!0}})],H.prototype,"parallelLineSnapper",void 0);y.__decorate([E.property({type:B,constructOnly:!0,nonNullable:!0,json:{write:!0}})],H.prototype,"rightAngleSnapper",void 0);y.__decorate([E.property({type:B,constructOnly:!0,nonNullable:!0,json:{write:!0}})],H.prototype,"rightAngleTriangleSnapper",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],H.prototype,
"shortLineThreshold",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],H.prototype,"distance",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],H.prototype,"pointThreshold",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],H.prototype,"intersectionParallelLineThreshold",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,
max:1E-5},json:{write:!0}})],H.prototype,"parallelLineThreshold",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],H.prototype,"touchSensitivityMultiplier",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],H.prototype,"pointOnLineThreshold",void 0);y.__decorate([E.property({type:M,nonNullable:!0})],H.prototype,"orange",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:10},
json:{write:!0}})],H.prototype,"lineHintWidthReference",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],H.prototype,"lineHintWidthTarget",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],H.prototype,"lineHintFadedExtensions",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],H.prototype,"parallelLineHintWidth",void 0);y.__decorate([E.property({type:Number,
nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],H.prototype,"parallelLineHintLength",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],H.prototype,"parallelLineHintOffset",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],H.prototype,"rightAngleHintSize",void 0);y.__decorate([E.property({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],H.prototype,"rightAngleHintOutlineSize",
void 0);H=y.__decorate([C.subclass("esri.views.interactive.snapping.Settings.Defaults")],H);y=new H;t.defaults=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/snappingUtils":function(){define(["exports","../../../chunks/vec2"],function(t,Q){t.LineSegmentHintType=void 0;(function(y){y[y.TARGET=0]="TARGET";y[y.REFERENCE=1]="REFERENCE";y[y.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"})(t.LineSegmentHintType||(t.LineSegmentHintType=
{}));t.objectEqual=function(y,M){const H=y.length===M.length&&y[0]===M[0]&&y[1]===M[1];switch(y.length){case 2:return H;case 3:return H&&y[2]===M[2];case 4:return H&&y[3]===M[3]}return!1};t.sortCandidatesInPlace=function(y,M){M.sort((H,E)=>{H=Q.squaredDistance(H.targetPoint,y);E=Q.squaredDistance(E.targetPoint,y);return H-E})};t.squareDistance=function(y,M){const H=y.x-M.x;y=y.y-M.y;return H*H+y*y};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/SnappingVisualizer":function(){define("exports ../../../core/handleUtils ./hints/IntersectionSnappingHint ./hints/LineSnappingHint ./hints/ParallelSnappingHint ./hints/PointSnappingHint ./hints/RightAngleSnappingHint".split(" "),
function(t,Q,y,M,H,E,C){let B=function(){function u(){}var O=u.prototype;O.draw=function(P,K){P=this._getUniqueHints(P);const J=[];for(const N of P)N instanceof y.IntersectionSnappingHint&&J.push(this.visualizeIntersectionPoint(N,K)),N instanceof M.LineSnappingHint&&J.push(this.visualizeLine(N,K)),N instanceof H.ParallelSnappingHint&&J.push(this.visualizeParallelSign(N,K)),N instanceof C.RightAngleSnappingHint&&J.push(this.visualizeRightAngleQuad(N,K)),N instanceof E.PointSnappingHint&&J.push(this.visualizePoint(N,
K));return Q.handlesGroup(J)};O._getUniqueHints=function(P){const K=[];for(const J of P){P=!0;for(const N of K)if(J.equals(N)){P=!1;break}P&&K.push(J)}return K};return u}();t.SnappingVisualizer=B;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/hints/IntersectionSnappingHint":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../snappingUtils","./SnappingHint"],function(t,Q,y,M){M=function(H){function E(C,
B){B=H.call(this,B)||this;B.intersectionPoint=C;return B}Q._inheritsLoose(E,H);E.prototype.equals=function(C){return C instanceof E?y.objectEqual(this.intersectionPoint,C.intersectionPoint):!1};return E}(M.SnappingHint);t.IntersectionSnappingHint=M;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/hints/SnappingHint":function(){define(["exports"],function(t){t.SnappingHint=function(Q){this.elevationInfo=Q};Object.defineProperties(t,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/hints/LineSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),function(t,Q,y,M,H,E){M.getLogger("esri.views.interactive.snapping.hints.LineSnappingHint");y=function(C){function B(u,O,P,K,J=!0,N=!0){K=C.call(this,K)||this;K.type=u;K.lineStart=O;K.lineEnd=P;K.fadeLeft=J;K.fadeRight=
N;return K}Q._inheritsLoose(B,C);B.prototype.equals=function(u){return u instanceof B?this.type===u.type&&H.objectEqual(this.lineStart,u.lineStart)&&H.objectEqual(this.lineEnd,u.lineEnd)&&this.fadeLeft===u.fadeLeft&&this.fadeRight===u.fadeRight:!1};return B}(E.SnappingHint);t.LineSnappingHint=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/hints/ParallelSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),
function(t,Q,y,M,H,E){M.getLogger("esri.views.interactive.snapping.hints.ParallelSnappingHint");y=function(C){function B(u,O,P){P=C.call(this,P)||this;P.lineStart=u;P.lineEnd=O;return P}Q._inheritsLoose(B,C);B.prototype.equals=function(u){return u instanceof B?H.objectEqual(this.lineStart,u.lineStart)&&H.objectEqual(this.lineEnd,u.lineEnd):!1};return B}(E.SnappingHint);t.ParallelSnappingHint=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/hints/PointSnappingHint":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","../snappingUtils","./SnappingHint"],function(t,Q,y,M){M=function(H){function E(C,B){B=H.call(this,B)||this;B.point=C;return B}Q._inheritsLoose(E,H);E.prototype.equals=function(C){return C instanceof E?y.objectEqual(this.point,C.point):!1};return E}(M.SnappingHint);t.PointSnappingHint=M;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/hints/RightAngleSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),
function(t,Q,y,M,H,E){M.getLogger("esri.views.interactive.snapping.hints.RightAngleSnappingHint");y=function(C){function B(u,O,P,K){K=C.call(this,K)||this;K.previousVertex=u;K.centerVertex=O;K.nextVertex=P;return K}Q._inheritsLoose(B,C);B.prototype.equals=function(u){return u instanceof B?H.objectEqual(this.previousVertex,u.previousVertex)&&H.objectEqual(this.centerVertex,u.centerVertex)&&H.objectEqual(this.nextVertex,u.nextVertex):!1};return B}(E.SnappingHint);t.RightAngleSnappingHint=y;Object.defineProperties(t,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/settings":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../Color ../../../../core/colorUtils ../../../../chunks/vec4f64 ../visualElements/ExtendedLineVisualElement ../../webgl-engine/lib/Material ../../webgl-engine/materials/lineStippleUtils".split(" "),function(t,Q,y,M,H,E,C,B){function u(W,da){W=W.clone();W.a*=da;return W}function O(W,da){if(da)for(const aa in da)W[aa]=
da[aa]}function P(W){return H.fromArray(y.toUnitRGBA(W))}const K={main:new y([255,127,0]),selected:new y([255,255,255]),staged:new y([12,207,255]),outline:new y([0,0,0,.5]),selectedOutline:new y([255,255,255])};let J=function(W){this.color=K.main;this.height=90;this.coneHeight=40;this.coneWidth=23;this.width=3;this.renderOccluded=C.RenderOccludedFlag.Opaque;O(this,W)},N=function(){function W(da){this.size=11;this.outlineSize=1;this.collisionPadding=9;this.color=K.main;this.outlineColor=K.outline;
this.renderOccluded=C.RenderOccludedFlag.Opaque;this.hoverOutlineColor=K.selectedOutline;O(this,da)}W.prototype.apply=function(da,aa){const ea=this[da];aa.setParameters({color:P(ea),transparent:"color"===da?1>ea.a:!0,renderOccluded:this.renderOccluded})};return W}(),L=function(){function W(da){this.size=40;this.height=.2;this.offset=.25;this.collisionPadding=2;this.color=u(K.main,.5);this.hoverColor=K.main;this.renderOccluded=C.RenderOccludedFlag.Transparent;this.minSquaredEdgeLength=900;O(this,da)}
W.prototype.apply=function(da,aa){da=this[da];aa.setParameters({color:P(da),transparent:1>da.a,renderOccluded:this.renderOccluded})};return W}(),R=function(W){this.vertex=new N({color:K.main,outlineColor:K.outline});var da=u(K.main,2/3).clone();var aa=M.toHSV(da);aa.s*=.5;aa=M.toRGB(aa);da.r=aa.r;da.g=aa.g;da.b=aa.b;this.edge=new N({color:da,outlineColor:u(K.outline,.5),size:8,collisionPadding:8});this.selected=new N({color:K.selected,outlineColor:K.outline});this.edgeOffset=new L;O(this,W)},I=function(){function W(da){this.color=
K.selected;this.width=1.5;this.stipplePattern=B.createStipplePatternSimple(5);this.stippleOffColor=K.outline;this.falloff=0;this.innerWidth=1.5;this.innerColor=K.selected;this.renderOccluded=C.RenderOccludedFlag.OccludeAndTransparent;O(this,da)}W.prototype.apply=function(da){da.color=P(this.color);da.width=this.width;da.stipplePattern=this.stipplePattern;da.stippleOffColor=P(this.stippleOffColor);da.falloff=this.falloff;da.innerWidth=this.innerWidth;da.innerColor=P(this.innerColor);da.renderOccluded=
this.renderOccluded};return W}(),x=function(){function W(da){this.color=K.selected;this.size=4;this.outlineSize=1;this.outlineColor=K.outline;this.shape="square";O(this,da)}W.prototype.apply=function(da){da.color=P(this.color);da.size=this.size;da.outlineSize=this.outlineSize;da.outlineColor=P(this.outlineColor);da.primitive=this.shape};return W}(),A=function(){function W(da){this.innerColor=K.selected;this.innerWidth=1;this.glowColor=K.main;this.glowFalloff=this.glowWidth=8;this.globalAlpha=.3;this.globalAlphaContrastBoost=
1.5;this.radius=3;this.heightFillColor=K.main;O(this,da)}W.prototype.apply=function(da,aa=1){aa={glowColor:y.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:y.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*aa,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in da?da.style=aa:da.laserlineStyle=aa};return W}(),z=function(W){this.outline=new I({color:K.outline,renderOccluded:C.RenderOccludedFlag.OccludeAndTransparentStencil,
stippleOffColor:K.selected,stipplePattern:B.createStipplePatternSimple(5),width:1.5,innerWidth:0});this.staged=new I({color:K.selected,renderOccluded:C.RenderOccludedFlag.OccludeAndTransparentStencil,innerColor:K.staged,stippleOffColor:K.outline,stipplePattern:B.createStipplePatternSimple(5),width:1.5});this.shadowStyle=new A({globalAlpha:.3,glowColor:K.main,glowFalloff:8,glowWidth:8,innerColor:K.selected,innerWidth:1});O(this,W)},F=function(W){this.outline=new x({color:K.selected,outlineColor:K.outline,
outlineSize:1,shape:"circle",size:4});this.shadowStyle=new A({globalAlpha:.3,glowColor:K.main,glowFalloff:1.5,glowWidth:6,innerColor:K.selected,innerWidth:1,radius:2});O(this,W)},D=function(W){function da(aa){var ea=W.call(this)||this;ea.extensionType=E.ExtensionType.GROUND_RAY;O(Q._assertThisInitialized(ea),aa);return ea}Q._inheritsLoose(da,W);return da}(I),U=function(W){this.lineGraphics=new z;this.pointGraphics=new F;this.heightPlane=new A({globalAlpha:.3,glowColor:K.main,glowFalloff:8,glowWidth:8,
innerColor:K.selected,innerWidth:1});this.heightBox=new A({globalAlpha:.3,glowColor:K.main,glowFalloff:8,glowWidth:8,innerColor:K.selected,innerWidth:0,heightFillColor:K.main});this.zVerticalLine=new D({color:u(K.main,.5),falloff:2,innerColor:u(K.selected,0),renderOccluded:C.RenderOccludedFlag.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:E.ExtensionType.GROUND_RAY});this.laserlineAlphaMultiplier=1.5;this.heightPlaneAngleCutoff=20;O(this,W)};const T=new (function(){function W(da){this.visualElements=
new U;this.reshapeManipulators=new R;this.zManipulator=new J;O(this,da)}W.prototype.colorToVec4=function(da){return P(da)};return W}());t.VertexManipulatorStyle=N;t.colors=K;t.settings=T;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/OutlineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/Evented ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../layers/graphics/dehydratedFeatures ../../../../support/elevationInfoUtils ../../../../symbols/support/ElevationInfo ./DrapedVisualElementResources ./LaserlineVisualElement ./VisualElementResources ../../layers/graphics/ElevationContext ../../layers/graphics/lineUtils ../../webgl-engine/lib/geometryDataUtils ../../webgl-engine/lib/Material ../../webgl-engine/lib/RenderGeometry ../../webgl-engine/lib/VertexAttribute ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U){let T=function(){function ea(ca){this.view=null;this._attachmentOrigin=P.makeDehydratedPoint(0,0,0,null);this._attachmentOriginDirty=!0;this.events=new y;this._isDraped=!1;this._geometry=null;this._width=1;this._color=B.fromValues(1,0,1,1);this._innerWidth=0;this._innerColor=B.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._falloff=0;this._laserlineStyle=this._elevationInfo=null;this._laserlineEnabled=!1;this._renderOccluded=
z.RenderOccludedFlag.OccludeAndTransparentStencil;this.resources=new R.VisualElementResources({view:ca.view,createResources:oa=>this._createResources(oa),recreateGeometry:(oa,fa)=>{oa.geometries.length=0;this._recreateGeometry(fa,oa.material,oa.geometries);return oa.geometries}});this._attachmentOrigin.spatialReference=ca.view.spatialReference;this.drapedResources=new N.DrapedVisualElementResources({view:ca.view,createResources:()=>this._createDrapedResources(),recreateGeometry:oa=>{oa.geometries=
this._createRenderGeometriesDraped(oa.material);this._attachmentOriginChanged()}});let ka=!0;this._laserline=new L.LaserlineVisualElement({view:ca.view});for(const oa in ca)oa in this?"attached"===oa?ka=ca[oa]:this[oa]=ca[oa]:console.error("Cannot set unknown property",oa);this.attached=ka}var ba=ea.prototype;ba.destroy=function(){this.resources.destroy();this.drapedResources.destroy();this._laserline.destroy()};ba._updateAttached=function(ca){this.resources.attached=!this.isDraped&&ca;this.drapedResources.attached=
this.isDraped&&ca;this._laserline.attached=this.laserlineAttached;this.attached&&this._attachmentOriginChanged()};ba._updateMaterial=function(){M.isSome(this.resources.resources)&&this.resources.resources.material.setParameters(this.materialParameters);M.isSome(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameters(this.materialParameters)};ba._recreateGeometry=function(ca,ka,oa){const fa=this._createRenderGeometries();for(const ra of fa)ca.addGeometry(ra,ka),oa.push(ra);
this._attachmentOriginChanged()};ba._attachmentOriginChanged=function(){this._attachmentOriginDirty=!0;this.events.emit("attachment-origin-changed")};ba._createResources=function(ca){const ka=new U.RibbonLineMaterial(this.materialParameters),oa=[];this._recreateGeometry(ca,ka,oa);return{material:ka,geometries:oa,forEach:fa=>{fa(ka);oa.forEach(fa)}}};ba._createDrapedResources=function(){const ca=new U.RibbonLineMaterial(this.materialParameters),ka=this._createRenderGeometriesDraped(ca);return{material:ca,
geometries:ka}};ba._createRenderGeometriesDraped=function(ca){var ka=this.geometry;if(M.isNone(ka))return[];var oa=x.geometryToRenderInfoDraped(ka,this.view.basemapTerrain.spatialReference);ka=[];for(const {position:fa}of oa.lines){oa=new F.RenderGeometry(x.createGeometry({overlayInfo:{spatialReference:this.view.basemapTerrain.spatialReference,renderCoordsHelper:this.view.renderCoordsHelper},attributeData:{position:fa},removeDuplicateStartEnd:this.isClosed?x.RemoveDuplicateStartEnd.REMOVE:x.RemoveDuplicateStartEnd.KEEP}),
ca);const ra=O.empty(W);O.expandWithBuffer(ra,fa);C.set(oa.boundingSphere,.5*(ra[0]+ra[3]),.5*(ra[1]+ra[4]),0,.5*Math.sqrt((ra[3]-ra[0])*(ra[3]-ra[0])+(ra[4]-ra[1])*(ra[4]-ra[1])));ka.push(oa)}return ka};ba.calculateMapBounds=function(ca){if(M.isNone(this.resources.resources))return!1;const ka=this.view.renderCoordsHelper;for(const oa of this.resources.resources.geometries){const fa=oa.vertexAttributes.get(D.VertexAttribute.POSITION),ra=new Float64Array(fa.data.length);u.projectBuffer(fa.data,ka.spatialReference,
0,ra,this.view.spatialReference,0,fa.data.length/3);O.expandWithBuffer(ca,ra)}return!0};ba._createRenderGeometries=function(){var ca,ka=this.geometry;if(M.isNone(ka))return[];ka=x.geometryToRenderInfo(ka,this.view.elevationProvider,this.view.renderCoordsHelper,I.ElevationContext.fromElevationInfo(null!=(ca=this.elevationInfo)?ca:new J.default({mode:K.getGeometryEffectiveElevationMode(ka,null)})));ca=[];const oa=[];for(const {position:fa,mapPosition:ra}of ka.lines)ca.push(x.createGeometry({overlayInfo:null,
attributeData:{position:fa,mapPosition:ra},removeDuplicateStartEnd:this.isClosed?x.RemoveDuplicateStartEnd.REMOVE:x.RemoveDuplicateStartEnd.KEEP})),oa.push(fa);this._laserline.pathVerticalPlane=oa;return ca};Q._createClass(ea,[{key:"isDraped",get:function(){return this._isDraped},set:function(ca){ca!==this._isDraped&&(this._isDraped=ca,this._updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}},{key:"laserlineAttached",get:function(){return this.attached&&this.visible&&
M.isSome(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}},{key:"visible",get:function(){return this.resources.visible},set:function(ca){this.resources.visible=ca;this.drapedResources.visible=ca;this._laserline.attached=this.laserlineAttached}},{key:"attached",get:function(){return this.resources.attached||this.drapedResources.attached},set:function(ca){this._updateAttached(ca)}},{key:"geometry",get:function(){return this._geometry},set:function(ca){this._geometry=ca;this.resources.recreateGeometry();
this.drapedResources.recreateGeometry()}},{key:"width",get:function(){return this._width},set:function(ca){ca!==this._width&&(this._width=ca,this._updateMaterial())}},{key:"color",get:function(){return this._color},set:function(ca){C.exactEquals(ca,this._color)||(C.copy(this._color,ca),this._updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(ca){ca!==this._innerWidth&&(this._innerWidth=ca,this._updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},
set:function(ca){C.exactEquals(ca,this._innerColor)||(C.copy(this._innerColor,ca),this._updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(ca){const ka=M.isSome(ca)!==M.isSome(this._stipplePattern);this._stipplePattern=ca;ka?this.resources.recreate():this._updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(ca){ca&&this._stippleOffColor&&C.exactEquals(ca,this._stippleOffColor)||(this._stippleOffColor=ca?
B.clone(ca):null,this._updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(ca){ca!==this._falloff&&(this._falloff=ca,this._updateMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(ca){this._elevationInfo=ca;this.resources.recreateGeometry()}},{key:"laserlineStyle",get:function(){return this._laserlineStyle},set:function(ca){this._laserlineStyle=ca;this._laserline.attached=this.laserlineAttached;M.isSome(ca)&&(this._laserline.style=
ca)}},{key:"laserlineEnabled",get:function(){return this._laserlineEnabled},set:function(ca){this._laserlineEnabled!==ca&&(this._laserlineEnabled=ca,this._laserline.attached=this.laserlineAttached)}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(ca){ca!==this._renderOccluded&&(this._renderOccluded=ca,this._updateMaterial())}},{key:"attachmentOrigin",get:function(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;var ca=M.isSome(this.resources.resources)?
this.resources.resources.geometries:null;if(!ca||0===ca.length)return null;H.set(aa,0,0,0);let ka=0;for(const oa of ca){ca=oa.vertexAttributes.get(D.VertexAttribute.POSITION);const fa=oa.indices.get(D.VertexAttribute.POSITION),ra=M.unwrap(this.resources.resources).material.isClosed(ca.data,fa);A.computeAttachmentOriginLines(ca,fa,ra,da)&&(H.add(aa,aa,da),ka++)}if(0===ka)return null;H.scale(aa,aa,1/ka);this.view.renderCoordsHelper.fromRenderCoords(aa,this._attachmentOrigin);this._attachmentOriginDirty=
!1;return this._attachmentOrigin}},{key:"isClosed",get:function(){return M.isSome(this.geometry)&&"polygon"===this.geometry.type}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:!1,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",hasPolygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}},{key:"normalizedRenderOccluded",
get:function(){return this.isDraped&&this._renderOccluded===z.RenderOccludedFlag.OccludeAndTransparentStencil?z.RenderOccludedFlag.OccludeAndTransparent:this._renderOccluded}}]);return ea}();const W=O.create(),da=E.create(),aa=E.create();t.OutlineVisualElement=T;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/DrapedVisualElementResources":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Identifiable ../../../../core/maybe ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass ../../layers/interfaces ../../webgl-engine/lib/basicInterfaces ../../webgl-engine/lib/ModelDirtyTypes".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){B=function(){function R(x){this.resourceFactory=x;this._resources=null;this._visible=!0;this._attached=!1}var I=R.prototype;I.destroy=function(){this._destroyResources()};I.recreate=function(){this.attached&&this._createResources()};I.recreateGeometry=function(){this.resourceFactory.recreateGeometry?E.isNone(this._resources)||(this._ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):
this.recreate()};I._createOrDestroyResources=function(){this._attached?E.isNone(this._resources)&&this._createResources():this._destroyResources()};I._createResources=function(){var x;this._destroyResources();const A=this.resourceFactory.createResources(),z=new L({view:this.resourceFactory.view}),F=null==(x=this.resourceFactory.view.basemapTerrain)?void 0:x.overlayManager;this._resources={layerView:new L({view:this.resourceFactory.view}),external:A,geometriesAdded:!1};F&&(this._resources.drapeSourceRenderer=
F.registerGeometryDrapeSource(z));this._syncGeometriesToRenderer()};I._destroyResources=function(){var x;if(!E.isNone(this._resources)){this._ensureRenderGeometriesRemoved();var A=null==(x=this.resourceFactory.view.basemapTerrain)?void 0:x.overlayManager;A&&A.unregisterDrapeSource(this._resources.layerView);this._resources=null}};I._syncGeometriesToRenderer=function(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()};I._ensureRenderGeometriesRemoved=function(){E.isNone(this._resources)||
E.isNone(this._resources.drapeSourceRenderer)||!this._resources.geometriesAdded||(this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,N.ModelDirty.Geometry.UPDATE),this._resources.geometriesAdded=!1)};I._ensureRenderGeometriesAdded=function(){E.isNone(this._resources)||E.isNone(this._resources.drapeSourceRenderer)||this._resources.geometriesAdded||(this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,N.ModelDirty.Geometry.UPDATE),
this._resources.geometriesAdded=!0)};Q._createClass(R,[{key:"resources",get:function(){return E.isSome(this._resources)?this._resources.external:null}},{key:"visible",get:function(){return this._visible},set:function(x){x!==this._visible&&(this._visible=x,this._syncGeometriesToRenderer())}},{key:"attached",get:function(){return this._attached},set:function(x){x!==this._attached&&(this._attached=x,this._createOrDestroyResources())}}]);return R}();let L=function(R){function I(x){x=R.call(this,x)||this;
x.drapeSourceType=K.DrapeSourceType.Features;x.updatePolicy=J.UpdatePolicy.SYNC;return x}Q._inheritsLoose(I,R);return I}(H.IdentifiableMixin(M));y.__decorate([C.property({constructOnly:!0})],L.prototype,"view",void 0);y.__decorate([C.property({readOnly:!0})],L.prototype,"drapeSourceType",void 0);L=y.__decorate([P.subclass("DrapedVisualElementLayerView")],L);t.DrapedVisualElementResources=B;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/VerticesVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../editingTools/settings ./Object3DVisualElement ../../layers/graphics/ElevationContext ../../layers/graphics/pointUtils ../../webgl-engine/lib/basicInterfaces ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Material ../../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){B=function(R){function I(A){var z=R.call(this,A)||this;z.view=null;z._renderOccluded=J.RenderOccludedFlag.OccludeAndTransparent;z._vertices=null;z._spatialReference=null;z._color=C.settings.colorToVec4(C.settings.reshapeManipulators.vertex.color);z._size=C.settings.reshapeManipulators.vertex.size;z._outlineColor=C.settings.colorToVec4(C.settings.reshapeManipulators.vertex.outlineColor);z._outlineSize=C.settings.reshapeManipulators.vertex.outlineSize;z._elevationInfo=
null;z.applyProps(A);return z}Q._inheritsLoose(I,R);var x=I.prototype;x._updateMaterial=function(){this.attached&&this.vertexMaterial.setParameters(this.vertexMaterialParameters)};x._updateOutlineMaterial=function(){this.attached&&this.vertexOutlineMaterial.setParameters(this.vertexOutlineMaterialParameters)};x._createRenderGeometries=function(){var A=this.vertices;if(y.isNone(A)||0===A.length)return[];var z=O.geometryToRenderInfo(A,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,
u.ElevationContext.fromElevationInfo(this.elevationInfo));A=[];const F=z.numVertices;z=z.position;for(let U=0;U<F;++U){var D=M.set(L,z[3*U],z[3*U+1],z[3*U+2]);const T=K.createSphereGeometry(.5,16,16,{offset:D});D=K.createSphereGeometry(.5,16,16,{offset:D});A.push({vertexGeometry:T,vertexOutlineGeometry:D})}return A};x.createGeometries=function(A){const z=this._createRenderGeometries();for(const {vertexGeometry:F,vertexOutlineGeometry:D}of z)A.addGeometry(F,this.vertexMaterial),A.addGeometry(D,this.vertexOutlineMaterial)};
x.createExternalResources=function(){this.vertexMaterial=new N.ShadedColorMaterial({...this.vertexMaterialParameters,writeDepth:!0,cullFace:P.CullFaceOptions.Back,screenSizeEnabled:!0});this.vertexOutlineMaterial=new N.ShadedColorMaterial({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:P.CullFaceOptions.Front,screenSizeEnabled:!0,shadingEnabled:!1})};x.destroyExternalResources=function(){this.vertexOutlineMaterial=this.vertexMaterial=null};x.forEachExternalMaterial=
function(A){A(this.vertexMaterial);A(this.vertexOutlineMaterial)};Q._createClass(I,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(A){A!==this._renderOccluded&&(this._renderOccluded=A,this._updateMaterial(),this._updateOutlineMaterial())}},{key:"vertices",get:function(){return this._vertices},set:function(A){this._vertices=A;this.recreateGeometry()}},{key:"spatialReference",get:function(){return this._spatialReference},set:function(A){this._spatialReference=A;this.recreateGeometry()}},
{key:"color",get:function(){return this._color},set:function(A){E.exactEquals(A,this._color)||(E.copy(this._color,A),this._updateMaterial())}},{key:"size",get:function(){return this._size},set:function(A){A!==this._size&&(this._size=A,this._updateMaterial())}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(A){E.exactEquals(A,this._outlineColor)||(E.copy(this._outlineColor,A),this._updateOutlineMaterial())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(A){A!==
this._outlineSize&&(this._outlineSize=A,this._updateOutlineMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(A){this._elevationInfo=A;this.recreateGeometry()}},{key:"vertexMaterialParameters",get:function(){return{color:this._color,transparent:1>this._color[3],screenSizeScale:this.size,renderOccluded:this._renderOccluded}}},{key:"vertexOutlineMaterialParameters",get:function(){return{color:this._outlineColor,transparent:1>this._outlineColor[3],screenSizeScale:this.size+
2*this.outlineSize,renderOccluded:this._renderOccluded}}}]);return I}(B.Object3DVisualElement);const L=H.create();t.VerticesVisualElement=B;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/webgl-engine/materials/ShadedColorMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4f64 ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/buffer/BufferView ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutputOptions ../lib/basicInterfaces ../lib/GLMaterial ../lib/GLMaterials ../lib/Material ../lib/RenderSlot ../lib/Util ../lib/VertexAttribute ./internal/bufferWriterUtils ./internal/MaterialUtil ../shaders/ShadedColorMaterialTechnique".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A){let z=function(da){function aa(ba){ba=da.call(this,ba,new D)||this;ba.supportsEdges=!0;ba.techniqueConfig=new A.ShadedColorMaterialTechniqueConfiguration;ba._vertexAttributeLocations=A.ShadedColorMaterialVertexAttrLocations;return ba}Q._inheritsLoose(aa,da);var ea=aa.prototype;ea.getConfiguration=function(ba,ca){this.techniqueConfig.output=ba;this.techniqueConfig.cullFace=this.parameters.cullFace;this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane;
this.techniqueConfig.transparent=this.parameters.transparent;this.techniqueConfig.writeDepth=this.parameters.writeDepth;this.techniqueConfig.screenSizeEnabled=this.parameters.screenSizeEnabled;this.techniqueConfig.shadingEnabled=this.parameters.shadingEnabled;this.techniqueConfig.transparencyPassType=ca.transparencyPassType;this.techniqueConfig.hasMultipassTerrain=ca.multipassTerrain.enabled;this.techniqueConfig.cullAboveGround=ca.multipassTerrain.cullAboveGround;return this.techniqueConfig};ea.intersect=
function(ba,ca,ka,oa,fa,ra,ua){if(this.parameters.screenSizeEnabled){const na=ba.vertexAttributes.get(R.VertexAttribute.OFFSET);x.intersectTriangleGeometry(ba,ca,oa,fa,ra,{applyToVertex:(ta,ya,Fa,Ia)=>{Ia=y.set(T,na.data[3*Ia],na.data[3*Ia+1],na.data[3*Ia+2]);ta=y.set(W,ta,ya,Fa);y.scale(Ia,Ia,this.parameters.screenSizeScale*oa.camera.computeRenderPixelSizeAt(Ia));y.add(ta,ta,Ia);return[ta[0],ta[1],ta[2]]},applyToAabb:ta=>{const ya=E.center(ta,T);return E.scale(ta,this.parameters.screenSizeScale*
oa.camera.computeRenderPixelSizeAt(ya))}},ua)}else x.intersectTriangleGeometry(ba,ca,oa,fa,ra,void 0,ua)};ea.requiresSlot=function(ba,ca){if(K.outputFromPass(ca)===u.ShaderOutput.Highlight)return ba===N.RenderSlot.OPAQUE_MATERIAL;ca=N.RenderSlot.OPAQUE_MATERIAL;this.parameters.transparent&&(ca=this.parameters.writeDepth?N.RenderSlot.TRANSPARENT_MATERIAL:N.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL);return ba===ca||ba===N.RenderSlot.DRAPED_MATERIAL};ea.createGLMaterial=function(ba){return ba.output===
u.ShaderOutput.Color||ba.output===u.ShaderOutput.Alpha||ba.output===u.ShaderOutput.Highlight?new F(ba):null};ea.createBufferWriter=function(){return new U(this.parameters.screenSizeEnabled)};return aa}(J.Material),F=function(da){function aa(){return da.apply(this,arguments)||this}Q._inheritsLoose(aa,da);aa.prototype.beginSlot=function(ea){return this.ensureTechnique(A.ShadedColorMaterialTechnique,ea)};return aa}(P),D=function(da){function aa(){var ea=da.apply(this,arguments)||this;ea.color=H.fromValues(1,
1,1,1);ea.shadingTint=H.fromValues(0,0,0,.25);ea.shadingDirection=y.normalize(M.create(),[.5,-.5,-.5]);ea.screenSizeScale=14;ea.transparent=!1;ea.writeDepth=!0;ea.hasSlicePlane=!1;ea.cullFace=O.CullFaceOptions.None;ea.screenSizeEnabled=!1;ea.shadingEnabled=!0;return ea}Q._inheritsLoose(aa,da);return aa}(J.MaterialParameters),U=function(){function da(ea){this.screenSizeEnabled=ea;ea=B.newLayout().vec3f(R.VertexAttribute.POSITION).vec3f(R.VertexAttribute.NORMAL);this.screenSizeEnabled&&ea.vec3f(R.VertexAttribute.OFFSET);
this.vertexBufferLayout=ea}var aa=da.prototype;aa.allocate=function(ea){return this.vertexBufferLayout.createBuffer(ea)};aa.elementCount=function(ea){return ea.indices.get(R.VertexAttribute.POSITION).length};aa.write=function(ea,ba,ca,ka){I.writeDefaultAttributes(ba,this.vertexBufferLayout,ea.transformation,ea.invTranspTransformation,ca,ka);if(this.screenSizeEnabled)if(ba.vertexAttributes.has(R.VertexAttribute.OFFSET)){const oa=ba.vertexAttributes.get(R.VertexAttribute.OFFSET);ba=ba.indices.get(R.VertexAttribute.OFFSET);
L.assert(3===oa.size);if(ca=ca.getField(R.VertexAttribute.OFFSET,C.BufferViewVec3f))I.writePosition(ba,oa.data,ea.invTranspTransformation,ca,ka);else throw Error("unable to acquire view for "+R.VertexAttribute.OFFSET);}else throw Error(`${R.VertexAttribute.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);};return da}();const T=M.create(),W=M.create();t.ShadedColorMaterial=z;t.ShadedColorMaterialParameters=D;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderLibrary/ShaderOutputOptions ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/basicInterfaces ../lib/OrderIndependentTransparency ../lib/Program ../lib/VertexAttribute ../materials/DefaultTechniqueConfiguration ../../../../chunks/ShadedColorMaterial.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R){C=function(x){function A(){return x.apply(this,arguments)||this}y._inheritsLoose(A,x);var z=A.prototype;z.initializeProgram=function(F){const D=A.shader.get().build(this.configuration);return new P.Program(F.rctx,D,I)};z._setPipelineState=function(F){const D=this.configuration,U=F===u.TransparencyPassType.NONE,T=F===u.TransparencyPassType.FrontFace;return R.makePipelineState({blending:D.output!==H.ShaderOutput.Color&&D.output!==H.ShaderOutput.Alpha||!D.transparent?
null:U?O.blendingDefault:O.oitBlending(F),culling:R.cullingParams(D.cullFace),depthTest:{func:T?L.CompareFunction.LESS:D.shadingEnabled?L.CompareFunction.LEQUAL:L.CompareFunction.LESS},depthWrite:U?D.writeDepth&&R.defaultDepthWriteParams:O.oitDepthWrite(F),colorWrite:R.defaultColorWriteParams,polygonOffset:U||T?null:O.OITPolygonOffset})};z.initializePipeline=function(){return this._setPipelineState(this.configuration.transparencyPassType)};return A}(C.ShaderTechnique);C.shader=new E.ReloadableShaderModule(N.ShadedColorMaterialShader,
()=>new Promise((x,A)=>t(["./ShadedColorMaterial.glsl"],x,A)));E=function(x){function A(){var z=x.apply(this,arguments)||this;z.output=H.ShaderOutput.Color;z.cullFace=u.CullFaceOptions.None;z.transparencyPassType=u.TransparencyPassType.NONE;z.hasSlicePlane=!1;z.transparent=!1;z.writeDepth=!0;z.screenSizeEnabled=!0;z.shadingEnabled=!0;z.hasMultipassTerrain=!1;z.cullAboveGround=!1;return z}y._inheritsLoose(A,x);return A}(J.DefaultTechniqueConfiguration);M.__decorate([B.parameter({count:H.ShaderOutput.COUNT})],
E.prototype,"output",void 0);M.__decorate([B.parameter({count:u.CullFaceOptions.COUNT})],E.prototype,"cullFace",void 0);M.__decorate([B.parameter({count:u.TransparencyPassType.COUNT})],E.prototype,"transparencyPassType",void 0);M.__decorate([B.parameter()],E.prototype,"hasSlicePlane",void 0);M.__decorate([B.parameter()],E.prototype,"transparent",void 0);M.__decorate([B.parameter()],E.prototype,"writeDepth",void 0);M.__decorate([B.parameter()],E.prototype,"screenSizeEnabled",void 0);M.__decorate([B.parameter()],
E.prototype,"shadingEnabled",void 0);M.__decorate([B.parameter()],E.prototype,"hasMultipassTerrain",void 0);M.__decorate([B.parameter()],E.prototype,"cullAboveGround",void 0);const I=new Map([[K.VertexAttribute.POSITION,0],[K.VertexAttribute.NORMAL,1],[K.VertexAttribute.OFFSET,2]]);Q.ShadedColorMaterialTechnique=C;Q.ShadedColorMaterialTechniqueConfiguration=E;Q.ShadedColorMaterialVertexAttrLocations=I;Object.defineProperties(Q,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/ShadedColorMaterial.glsl":function(){define("exports ./vec4f64 ../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder ../views/3d/webgl-engine/lib/basicInterfaces ../views/3d/webgl-engine/lib/VertexAttribute".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I){function x(z){const F=new L.ShaderBuilder,D=z.hasMultipassTerrain&&(z.output===M.ShaderOutput.Color||z.output===M.ShaderOutput.Alpha);F.include(E.Transform);F.include(y.ScreenSizeScaling,z);F.include(H.SliceDraw,z);const {vertex:U,fragment:T}=F;T.include(u.ColorConversion);O.addProjViewLocalOrigin(F,z);T.uniforms.add(new K.Float4PassUniform("uColor",W=>W.color));F.attributes.add(I.VertexAttribute.POSITION,"vec3");F.varyings.add("vWorldPosition","vec3");
D&&F.varyings.add("depth","float");z.screenSizeEnabled&&F.attributes.add(I.VertexAttribute.OFFSET,"vec3");z.shadingEnabled&&(U.uniforms.add(new N.Matrix4PassUniform("viewNormal",(W,da)=>da.camera.viewInverseTransposeMatrix)),F.attributes.add(I.VertexAttribute.NORMAL,"vec3"),F.varyings.add("vViewNormal","vec3"));U.code.add(J.glsl`
    void main(void) {
      vWorldPosition = ${z.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `);z.shadingEnabled&&U.code.add(J.glsl`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`);U.code.add(J.glsl`
    ${D?"depth \x3d (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `);D&&F.include(C.multipassTerrainTest,z);T.code.add(J.glsl`
    void main() {
      discardBySlice(vWorldPosition);
      ${D?"terrainDepthTest(gl_FragCoord, depth);":""}
    `);z.shadingEnabled?(T.uniforms.add(new P.Float3PassUniform("shadingDirection",W=>W.shadingDirection)),T.uniforms.add(new K.Float4PassUniform("shadedColor",W=>{{var da=W.shadingTint;W=W.color;const aa=1-da[3],ea=da[3]+W[3]*aa;0===ea?A[3]=ea:(A[0]=(da[0]*da[3]+W[0]*W[3]*aa)/ea,A[1]=(da[1]*da[3]+W[1]*W[3]*aa)/ea,A[2]=(da[2]*da[3]+W[2]*W[3]*aa)/ea,A[3]=W[3]);da=A}return da})),T.code.add(J.glsl`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):T.code.add(J.glsl`vec4 finalColor = uColor;`);T.code.add(J.glsl`
      if (finalColor.a < ${J.glsl.float(B.symbolAlphaCutoff)}) {
        discard;
      }
      ${z.output===M.ShaderOutput.Alpha?J.glsl`gl_FragColor = vec4(finalColor.a);`:""}

      ${z.output===M.ShaderOutput.Color?J.glsl`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${z.transparencyPassType===R.TransparencyPassType.Color?"gl_FragColor \x3d premultiplyAlpha(gl_FragColor);":""}`:""}
    }
    `);return F}const A=Q.create();Q=Object.freeze(Object.defineProperty({__proto__:null,build:x},Symbol.toStringTag,{value:"Module"}));t.ShadedColorMaterialShader=Q;t.build=x})},"esri/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl":function(){define(["exports","./util/View.glsl","../shaderModules/FloatPassUniform","../shaderModules/interfaces"],function(t,Q,y,M){t.ScreenSizeScaling=function(H,E){E.screenSizeEnabled&&(H=H.vertex,Q.addCameraPosition(H,E),H.uniforms.add(new y.FloatPassUniform("perScreenPixelRatio",
(C,B)=>B.camera.perScreenPixelRatio)),H.uniforms.add(new y.FloatPassUniform("screenSizeScale",C=>C.screenSizeScale)),H.code.add(M.glsl`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));
return viewDirectionDistance * perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;
}`))};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/layers/graphics/GraphicState":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Evented ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass".split(" "),function(t,Q,y,M,H,E,
C,B,u){t.GraphicState=function(O){function P(K){K=O.call(this,K)||this;K.tracking=!1;K.displaying=!1;K.isDraped=!1;return K}Q._inheritsLoose(P,O);return P}(M.EventedAccessor);y.__decorate([H.property({constructOnly:!0})],t.GraphicState.prototype,"graphic",void 0);y.__decorate([H.property()],t.GraphicState.prototype,"tracking",void 0);y.__decorate([H.property()],t.GraphicState.prototype,"displaying",void 0);y.__decorate([H.property()],t.GraphicState.prototype,"isDraped",void 0);t.GraphicState=y.__decorate([u.subclass("esri.views.3d.layers.graphics.GraphicState")],
t.GraphicState);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/draw/DrawGraphicTool":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Graphic ../../core/has ../../core/Evented ../../core/HandleOwner ../../core/handleUtils ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/GraphicsLayer ./support/createUtils ./support/surfaceCoordinateSystems ../interactive/InteractiveToolBase".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I){t.DrawGraphicTool=function(A){function z(D){D=A.call(this,D)||this;D._graphic=null;D.defaultZ=0;D.geometryType=null;D.hasZ=!0;D.mode=null;D.snappingManager=null;D.snapToScene=!1;return D}Q._inheritsLoose(z,A);var F=z.prototype;F.initialize=function(){this.internalGraphicsLayer=new N({listMode:"hide",internal:!0});this.view.map.layers.add(this.internalGraphicsLayer);this.drawOperation=this.makeDrawOperation();this.handles.add([this.drawOperation.on("vertex-add",
D=>this.onVertexAdd(D)),this.drawOperation.on("vertex-remove",D=>this.onVertexRemove(D)),this.drawOperation.on("vertex-update",D=>this.onVertexUpdate(D)),this.drawOperation.on("cursor-update",D=>this.onCursorUpdate(D)),this.drawOperation.on("complete",D=>this.onComplete(D))]);this.finishToolCreation()};F.destroy=function(){this.drawOperation=u.destroyMaybe(this.drawOperation);this._destroyAllVisualisations();this.view.map.remove(this.internalGraphicsLayer);this.internalGraphicsLayer=u.destroyMaybe(this.internalGraphicsLayer);
this._set("view",null)};F.completeCreateOperation=function(){this.drawOperation.complete()};F.onInputEvent=function(D){this.drawOperation.onInputEvent(D)};F.redo=function(){this.drawOperation.redo()};F.reset=function(){};F.undo=function(){this.drawOperation.undo()};F._createGraphic=function(D){this._graphic=new M({...this.graphicProperties,geometry:D,symbol:this.graphicSymbol});this.internalGraphicsLayer.add(this._graphic);this.handles.add(this.initializeGraphic(this._graphic));this.notifyChange("graphic");
this.handles.add(B.makeHandle(()=>{u.isSome(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=u.destroyMaybe(this._graphic))}),"create-operation-graphic")};F._destroyAllVisualisations=function(){this.handles.remove(x.outline);this.handles.remove(x.regularVertices);this.handles.remove(x.activeVertex);this.handles.remove("create-operation-graphic")};F._getCreateOperationGeometry=function(D={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;
var U=this.drawOperation.stagedVertex,T=this.drawOperation.committedVertices;const W=T.slice();u.isSome(U)&&W.push(this.drawOperation.coordinateHelper.pointToArray(U));var da=u.isSome(U)?this.drawOperation.coordinateHelper.pointToArray(U):T.splice(-1)[0];U={regularVertices:null,activeVertex:null,full:null,outline:null};const aa=W.length,ea=this.view.spatialReference,ba="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case "point":U.regularVertices=T;U.activeVertex=
da;U.full=this.drawOperation.coordinateHelper.arrayToPoint(W[0]);break;case "multipoint":U.regularVertices=T;U.activeVertex=da;0<aa&&(U.full=L.createMultipoint(W,ea));break;case "polyline":U.regularVertices=T;U.activeVertex=da;0<aa&&(U.full=L.createPolyline([W],ea,ba));break;case "polygon":U.regularVertices=T;U.activeVertex=da;0<aa&&(U.full=L.createPolygon([W],ea,ba,!0));break;case "circle":0<aa&&(T=R.createViewAlignedCoordinateSystem(this.view,W[0]),1===aa&&D.operationComplete?(D=W[0],da=T.makeMapPoint(D[0]+
48*this.view.resolution,D[1]),U.full=L.createCircle([D,da],T,!0)):2===aa&&(U.full=this.forceUniformSize?L.createCircle(W,T,this.centered):L.createEllipse(W,T,this.centered)));break;case "rectangle":0<aa&&(T=R.createViewAlignedCoordinateSystem(this.view,W[0]),1===aa&&D.operationComplete?(D=W[0],da=T.makeMapPoint(D[0]+48*this.view.resolution,D[1]),U.full=L.createSquare([D,da],T,!0)):2===aa&&(U.full=this.forceUniformSize?L.createSquare(W,T,this.centered):L.createRectangle(W,T,this.centered)));break;
default:return null}switch(this.geometryType){case "polyline":case "polygon":1<aa&&(U.outline=L.createPolyline([W],ea,ba));break;case "circle":case "rectangle":u.isSome(U.full)&&"polygon"===U.full.type&&(U.outline=L.createPolygon(U.full.rings,ea,ba))}return U};F.initializeGraphic=function(D){return null};F.onComplete=function(D){this._updateGraphic();let U=null;if(this.drawOperation.isCompleted){const T=this._getCreateOperationGeometry({operationComplete:!0});u.isSome(T)&&(u.isNone(this._graphic)?
this._createGraphic(T.full):this._graphic.geometry=T.full,U=u.unwrap(this._graphic).clone())}this.emit("complete",{graphic:U,...D})};F.onCursorUpdate=function(D){this._updateGraphic();this.emit("cursor-update",D)};F.onDeactivate=function(){this.drawOperation.isCompleted||this.drawOperation.cancel()};F.onVertexAdd=function(D){this._updateGraphic();this.emit("vertex-add",D)};F.onVertexRemove=function(D){this._updateGraphic();this.emit("vertex-remove",D)};F.onVertexUpdate=function(D){this._updateGraphic();
this.emit("vertex-update",D)};F._updateGraphic=function(){const D=this._getCreateOperationGeometry();u.isNone(D)?this._destroyAllVisualisations():(u.isSome(D.outline)?this.handles.add(this.onOutlineChanged(D.outline),x.outline):this.handles.remove(x.outline),u.isSome(D.regularVertices)?this.handles.add(this.onRegularVerticesChanged(D.regularVertices),x.regularVertices):this.handles.remove(x.regularVertices),u.isSome(D.activeVertex)?this.handles.add(this.onActiveVertexChanged(D.activeVertex),x.activeVertex):
this.handles.remove(x.activeVertex),u.isSome(D.full)?u.isNone(this._graphic)?this._createGraphic(D.full):this._graphic.geometry=D.full:this.handles.remove("create-operation-graphic"))};Q._createClass(z,[{key:"canRedo",get:function(){return this.drawOperation.canRedo}},{key:"canUndo",get:function(){return this.drawOperation.canUndo}},{key:"centered",set:function(D){this._set("centered",D);this._updateGraphic()}},{key:"enabled",set:function(D){this.drawOperation.interactive=D;this._set("enabled",D)}},
{key:"forceUniformSize",set:function(D){this._set("forceUniformSize",D);this._updateGraphic()}},{key:"graphic",get:function(){return this._graphic}},{key:"graphicSymbol",set:function(D){this._set("graphicSymbol",D);u.isSome(this._graphic)&&(this._graphic.symbol=D)}},{key:"updating",get:function(){var D,U;return null!=(D=null==(U=this.drawOperation)?void 0:U.updating)?D:!1}}]);return z}(C.HandleOwnerMixin(E.EventedMixin(I.InteractiveToolBase)));y.__decorate([O.property({value:!0})],t.DrawGraphicTool.prototype,
"centered",null);y.__decorate([O.property({nonNullable:!0})],t.DrawGraphicTool.prototype,"defaultZ",void 0);y.__decorate([O.property()],t.DrawGraphicTool.prototype,"drawOperation",void 0);y.__decorate([O.property({value:!0})],t.DrawGraphicTool.prototype,"enabled",null);y.__decorate([O.property({value:!0})],t.DrawGraphicTool.prototype,"forceUniformSize",null);y.__decorate([O.property({constructOnly:!0})],t.DrawGraphicTool.prototype,"geometryType",void 0);y.__decorate([O.property()],t.DrawGraphicTool.prototype,
"graphic",null);y.__decorate([O.property({constructOnly:!0})],t.DrawGraphicTool.prototype,"graphicProperties",void 0);y.__decorate([O.property()],t.DrawGraphicTool.prototype,"graphicSymbol",null);y.__decorate([O.property({constructOnly:!0})],t.DrawGraphicTool.prototype,"hasZ",void 0);y.__decorate([O.property({constructOnly:!0})],t.DrawGraphicTool.prototype,"mode",void 0);y.__decorate([O.property()],t.DrawGraphicTool.prototype,"snappingManager",void 0);y.__decorate([O.property()],t.DrawGraphicTool.prototype,
"snapToScene",void 0);y.__decorate([O.property({readOnly:!0})],t.DrawGraphicTool.prototype,"type",void 0);y.__decorate([O.property({readOnly:!0})],t.DrawGraphicTool.prototype,"updating",null);y.__decorate([O.property({constructOnly:!0,nonNullable:!0})],t.DrawGraphicTool.prototype,"view",void 0);t.DrawGraphicTool=y.__decorate([J.subclass("esri.views.draw.DrawGraphicTool")],t.DrawGraphicTool);const x={outline:"outline-visual",regularVertices:"regular-vertices-visual",activeVertex:"active-vertex-visual"};
t.geometryTypeToDrawOperationGeometryType=function(A){switch(A){case "point":case "polyline":case "polygon":case "multipoint":return A;case "circle":case "rectangle":return"segment";default:return null}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/GraphicsLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ./Layer ./mixins/BlendLayer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J){M=function(N){function L(I){I=N.call(this,I)||this;I.elevationInfo=null;I.graphics=new K.GraphicsCollection;I.screenSizePerspectiveEnabled=!0;I.type="graphics";I.internal=!1;return I}t._inheritsLoose(L,N);var R=L.prototype;R.destroy=function(){this.removeAll();this.graphics.destroy()};R.add=function(I){this.graphics.add(I);return this};R.addMany=function(I){this.graphics.addMany(I);return this};R.removeAll=function(){this.graphics.removeAll();return this};R.remove=
function(I){this.graphics.remove(I)};R.removeMany=function(I){this.graphics.removeMany(I)};R.on=function(I,x){return N.prototype.on.call(this,I,x)};R.graphicChanged=function(I){this.emit("graphic-update",I)};return L}(O.BlendLayer(P.ScaleRangeLayer(u)));Q.__decorate([y.property({type:J.default})],M.prototype,"elevationInfo",void 0);Q.__decorate([y.property(B.owningCollectionProperty(K.GraphicsCollection,"graphics"))],M.prototype,"graphics",void 0);Q.__decorate([y.property({type:["show","hide"]})],
M.prototype,"listMode",void 0);Q.__decorate([y.property()],M.prototype,"screenSizePerspectiveEnabled",void 0);Q.__decorate([y.property({readOnly:!0})],M.prototype,"type",void 0);Q.__decorate([y.property({constructOnly:!0})],M.prototype,"internal",void 0);return M=Q.__decorate([C.subclass("esri.layers.GraphicsLayer")],M)})},"esri/views/draw/support/createUtils":function(){define("exports ../../../geometry ../../../core/arrayUtils ../../../core/lang ../../../core/maybe ../../../core/unitUtils ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils ./surfaceCoordinateSystems ../../../geometry/Multipoint ../../../geometry/Point ../../../geometry/Polyline ../../../geometry/Polygon".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L){function R(x,A){A=new J({x:x[0],y:x[1],spatialReference:A});2<x.length&&(A.z=x[2]);return A}function I(x,A,z,F=!0){x=M.clone(x);x.forEach(D=>{y.equals(D[0],D[D.length-1])&&1!==D.length||D.push(D[0])});x=new L({rings:x,spatialReference:A});x.rings.forEach(D=>{u.isClockwise(D,!1,!1)||D.reverse()});z&&u.unnormalizeGeometryOnDatelineCrossing(x);F&&x.isSelfIntersecting&&O.isValid(A)&&(x=B.simplify(x));return x}t.SNAPPING_GRAPHICS_LAYER_ID="DrawAction-snapping-graphics-layer";
t.createCircle=function(x,A,z,F){var D=A.mapToLocalMultiple(x),U=x=null;z?(x=D[0],U=D[1]):(x=D[0],z=D[1],U=Math.round(z.x-x.x),z=Math.round(z.y-x.y),D=Math.max(Math.abs(U),Math.abs(z)),x=P.makeSurfacePoint(0<U?x.x+D/2:x.x-D/2,0<z?x.y+D/2:x.y-D/2),U=P.makeSurfacePoint(Math.abs(U)>Math.abs(z)?x.x-D/2:x.x,Math.abs(U)>Math.abs(z)?x.y:x.y-D/2));z=A.localToMap(x);D=A.localToMap(U);if(H.isNone(z)||H.isNone(D))return null;A.doUnnormalization&&u.unnormalizeVerticesOnDatelineCrossing([[z,D]],A.spatialReference);
z=R(z,A.spatialReference);var T=R(D,A.spatialReference);D=E.getMetersPerUnitForSR(A.spatialReference);let W=0;O.isValid(A.spatialReference)?W=D*B.distance(z,T,null):(T=x.x-U.x,x=x.y-U.y,W=D*Math.sqrt(T*T+x*x)*(F||1));A=new C({center:z,radius:W,radiusUnit:"meters",spatialReference:A.spatialReference});return I(A.rings,A.spatialReference,!1)};t.createEllipse=function(x,A,z){var F=A.mapToLocalMultiple(x);x=F[0];var D=F[1];F=Math.round(D.x-x.x);D=Math.round(D.y-x.y);x=P.makeSurfacePoint(z?x.x:x.x+F/2,
z?x.y:x.y+D/2);F=z?F:F/2;z=z?D:D/2;D=[];const U=2*Math.PI/60;for(let T=0;60>T;T++){const W=P.makeSurfacePoint(F*Math.cos(T*U)+x.x,z*Math.sin(T*U)+x.y);D.push(W)}D.push(D[0]);return I([H.filterNones(D.map(T=>A.localToMap(T)))],A.spatialReference,A.doUnnormalization,!1)};t.createMultipoint=function(x,A){return new K({points:x,spatialReference:A})};t.createPoint=R;t.createPolygon=I;t.createPolyline=function(x,A,z){x=new N({paths:x,spatialReference:A});z&&u.unnormalizeGeometryOnDatelineCrossing(x);return x};
t.createRectangle=function(x,A,z){var F=A.mapToLocalMultiple(x);1===F.length&&(x=F[0],F=[P.makeSurfacePoint(x.x-48,x.y+48),P.makeSurfacePoint(x.x+48,x.y-48),P.makeSurfacePoint(x.x+48,x.y-48),P.makeSurfacePoint(x.x-48,x.y+48)]);x=[];var D=F[0].x,U=F[0].y,T=F[1].x;F=F[1].y;if(z){z=Math.round(T-D);const W=Math.round(F-U);x.push(P.makeSurfacePoint(D-z,U-W),P.makeSurfacePoint(T,U-W),P.makeSurfacePoint(T,F),P.makeSurfacePoint(D-z,F))}else x.push(P.makeSurfacePoint(D,U),P.makeSurfacePoint(T,U),P.makeSurfacePoint(T,
F),P.makeSurfacePoint(D,F));return I([H.filterNones(x.map(W=>A.localToMap(W)))],A.spatialReference,A.doUnnormalization,!0)};t.createSquare=function(x,A,z){var F=A.mapToLocalMultiple(x);x=[];var D=F[0].x,U=F[0].y,T=Math.round(F[1].x-D);const W=Math.round(F[1].y-U);F=Math.max(Math.abs(T),Math.abs(W));z?(z=D+F,T=U+F,D-=F,U-=F,x.push(P.makeSurfacePoint(z,U),P.makeSurfacePoint(D,U),P.makeSurfacePoint(D,T),P.makeSurfacePoint(z,T))):(z=0<T?D+F:D-F,F=0<W?U+F:U-F,x.push(P.makeSurfacePoint(D,U),P.makeSurfacePoint(z,
U),P.makeSurfacePoint(z,F),P.makeSurfacePoint(D,F)));return I([H.filterNones(x.map(da=>A.localToMap(da)))],A.spatialReference,A.doUnnormalization,!0)};t.makeMapPoint=function(x,A,z=null){return H.isSome(z)?[x,A,z]:[x,A]};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/Circle":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/unitUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Point ./Polygon ./projectionEllipsoid ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L;H=L=function(R){function I(...A){A=R.call(this,...A)||this;A.center=null;A.geodesic=!1;A.numberOfPoints=60;A.radius=1E3;A.radiusUnit="meters";return A}t._inheritsLoose(I,R);var x=I.prototype;x.normalizeCtorArgs=function(A,z){if(!A||!A.center){if(A&&A.rings)return R.prototype.normalizeCtorArgs.call(this,A,z);A={center:A}}return{...R.prototype.normalizeCtorArgs.call(this),...A,...z}};x.initialize=function(){var A=this.center;const z=this.numberOfPoints;this.hasZ=
A&&A.hasZ;if(0===this.rings.length&&A){var F=y.convertUnit(this.radius,this.radiusUnit,"meters"),D=A.spatialReference,U="geographic";if(D.isWebMercator)U="webMercator";else if(null!=N[D.wkid]||D.wkt&&0===D.wkt.indexOf("PROJCS"))U="projected";if(this.geodesic){let T;switch(U){case "webMercator":T=J.webMercatorToGeographic(A);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":T=
A}A=this._createGeodesicCircle(T,F,z);"webMercator"===U&&(A=J.geographicToWebMercator(A))}else{let T;"webMercator"===U||"projected"===U?T=F/this._convert2Meters(1,A.spatialReference):"geographic"===U&&(T=y.lengthToDegrees(F,"meters",P.getReferenceEllipsoid(A.spatialReference).radius));A=this._createPlanarCircle(A,T,z)}this.spatialReference=A.spatialReference;this.addRing(A.rings[0])}};x.clone=function(){const {center:A,numberOfPoints:z,radius:F,radiusUnit:D,geodesic:U}=this;return new L({center:A.clone(),
numberOfPoints:z,radius:F,radiusUnit:D,geodesic:U})};x._createGeodesicCircle=function(A,z,F){let D=0;const U=[];for(;360>D;){const T=[0,0];K.directGeodeticSolver(T,[A.x,A.y],D,z);this.hasZ&&T.push(A.z);U.push(T);D+=360/F}U.push(U[0]);return new O(U)};x._createPlanarCircle=function(A,z,F){const D=[],U=2*Math.PI/F;for(let W=0;W<F;++W){var T=U*W;T=[A.x+Math.cos(-T)*z,A.y+Math.sin(-T)*z];this.hasZ&&T.push(A.z);D.push(T)}D.push(D[0]);return new O({spatialReference:A.spatialReference,rings:[D]})};x._convert2Meters=
function(A,z){if(null!=N[z.wkid])z=N.values[N[z.wkid]];else{z=z.wkt;const F=z.lastIndexOf(",")+1,D=z.lastIndexOf("]]");z=parseFloat(z.substring(F,D))}return A*z};return I}(O);Q.__decorate([M.property({type:u})],H.prototype,"center",void 0);Q.__decorate([M.property()],H.prototype,"geodesic",void 0);Q.__decorate([M.property()],H.prototype,"numberOfPoints",void 0);Q.__decorate([M.property()],H.prototype,"radius",void 0);Q.__decorate([M.property()],H.prototype,"radiusUnit",void 0);return H=L=Q.__decorate([B.subclass("esri.geometry.Circle")],
H)})},"esri/views/draw/support/surfaceCoordinateSystems":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../geometry ../../../core/maybe ../../../chunks/mat2d ../../../chunks/mat2df64 ../../../chunks/quat ../../../chunks/quatf64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/support/Axis ../../../geometry/Point".split(" "),function(t,Q,y,M,H,E,C,B,u,O,P,K){function J(I,x,A=null){return M.isSome(A)?[I,x,A]:[I,x]}function N(I,x,A=null){return M.isSome(A)?{x:I,
y:x,z:A}:{x:I,y:x}}y=function(){function I(x){this.spatialReference=x}I.prototype.mapToLocalMultiple=function(x){return M.filterNones(x.map(A=>this.mapToLocal(A)))};Q._createClass(I,[{key:"doUnnormalization",get:function(){return!1}}]);return I}();let L=function(I){function x(z,F,D=null){F=I.call(this,F)||this;F.defaultZ=D;F.transform=E.create();F.transformInv=E.create();F.transform=E.clone(z);H.invert(F.transformInv,F.transform);return F}Q._inheritsLoose(x,I);var A=x.prototype;A.makeMapPoint=function(z,
F){return J(z,F,this.defaultZ)};A.mapToLocal=function(z){return N(this.transform[0]*z[0]+this.transform[2]*z[1]+this.transform[4],this.transform[1]*z[0]+this.transform[3]*z[1]+this.transform[5])};A.localToMap=function(z){return J(this.transformInv[0]*z.x+this.transformInv[2]*z.y+this.transformInv[4],this.transformInv[1]*z.x+this.transformInv[3]*z.y+this.transformInv[5],this.defaultZ)};return x}(y),R=function(I){function x(z,F){var D=I.call(this,z.spatialReference)||this;D.view=z;D.defaultZ=null;D.pWS=
O.create();D.tangentFrameUpWS=O.create();D.tangentFrameRightWS=O.create();D.tangentFrameForwardWS=O.create();D.localFrameRightWS=O.create();D.localFrameUpWS=O.create();D.worldToLocalTransform=B.create();D.localToWorldTransform=B.create();D.scale=1;D.scale=z.resolution;D.referenceMapPoint=F;D.defaultZ=F.hasZ?F.z:null;z=z.state.camera.viewRight;D.view.renderCoordsHelper.toRenderCoords(D.referenceMapPoint,D.pWS);D.view.renderCoordsHelper.worldBasisAtPosition(D.pWS,P.Axis.X,D.tangentFrameRightWS);D.view.renderCoordsHelper.worldBasisAtPosition(D.pWS,
P.Axis.Y,D.tangentFrameUpWS);D.view.renderCoordsHelper.worldBasisAtPosition(D.pWS,P.Axis.Z,D.tangentFrameForwardWS);F=O.create();u.scale(F,D.tangentFrameForwardWS,u.dot(z,D.tangentFrameForwardWS));u.subtract(D.localFrameRightWS,z,F);u.normalize(D.localFrameRightWS,D.localFrameRightWS);u.cross(D.localFrameUpWS,D.tangentFrameForwardWS,D.localFrameRightWS);C.rotationTo(D.worldToLocalTransform,D.localFrameRightWS,D.tangentFrameRightWS);C.invert(D.localToWorldTransform,D.worldToLocalTransform);return D}
Q._inheritsLoose(x,I);var A=x.prototype;A.makeMapPoint=function(z,F){return J(z,F,this.defaultZ)};A.mapToLocal=function(z){const F=O.create();this.view.renderCoordsHelper.toRenderCoords(new K({x:z[0],y:z[1],spatialReference:this.spatialReference}),F);u.transformQuat(F,F,this.worldToLocalTransform);z=this.view.renderCoordsHelper.fromRenderCoords(F,this.view.spatialReference);return M.isSome(z)?N(z.x/this.scale,z.y/this.scale):null};A.localToMap=function(z){const F=O.create();this.view.renderCoordsHelper.toRenderCoords(new K({x:z.x*
this.scale,y:z.y*this.scale,spatialReference:this.spatialReference}),F);u.transformQuat(F,F,this.localToWorldTransform);z=this.view.renderCoordsHelper.fromRenderCoords(F,this.view.spatialReference);return M.isSome(z)?J(z.x,z.y,this.defaultZ):null};Q._createClass(x,[{key:"doUnnormalization",get:function(){return"global"===this.view.viewingMode}}]);return x}(y);t.AffineCoordinateSystem=L;t.SceneViewCoordinateSystem=R;t.SurfaceCoordinateSystem=y;t.createViewAlignedCoordinateSystem=function(I,x){return"2d"===
I.type?new L(I.state.transform,I.spatialReference,2<x.length?x[2]:null):"3d"===I.type?(x=2<x.length?new K({x:x[0],y:x[1],z:x[2],spatialReference:I.spatialReference}):new K({x:x[0],y:x[1],spatialReference:I.spatialReference}),new R(I,x)):null};t.makeMapPoint=J;t.makeSurfacePoint=N;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/InteractiveToolBase":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../DOMContainer ./interfaces ./ManipulatorCollection".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L){const R=H.getLogger("esri.views.interactive.InteractiveToolBase");t.InteractiveToolBase=function(I){function x(z){z=I.call(this,z)||this;z.manipulators=new L.ManipulatorCollection;z.preferManipulatorCursor=!1;z.automaticManipulatorSelection=!0;z.hasFocusedManipulators=!1;z.created=!1;z.removeIncompleteOnCancel=!0;z._editableFlags=new Map([[N.EditableFlag.MANAGER,!0],[N.EditableFlag.USER,!0]]);z._creationFinishedResolver=C.createResolver();return z}Q._inheritsLoose(x,
I);var A=x.prototype;A.destroy=function(){this.manipulators.destroy();this._set("view",null)};A.onAdd=function(){this._syncVisible()};A.activate=function(){E.isNone(this.view)?R.error("Can't activate tool if view is not defined."):(J.isDOMContainer(this.view)&&this.view.focus(),this.onActivate())};A.deactivate=function(){this.onDeactivate()};A.handleInputEvent=function(z){this.onInputEvent(z)};A.handleInputEventAfter=function(z){this.onInputEventAfter(z)};A.setEditableFlag=function(z,F){this._editableFlags.set(z,
F);this.manipulators.isToolEditable=this.internallyEditable;this._updateManipulatorAttachment();z===N.EditableFlag.USER&&this.notifyChange("editable");this.onEditableChange()};A.getEditableFlag=function(z){return this._editableFlags.get(z)};A.whenCreated=function(){return this._creationFinishedResolver.promise};A.onActivate=function(){};A.onDeactivate=function(){};A.onShow=function(){};A.onHide=function(){};A.onEditableChange=function(){};A.onInputEvent=function(z){};A.onInputEventAfter=function(z){};
A.finishToolCreation=function(){this.created||this._creationFinishedResolver.resolve(this);this._set("created",!0)};A._syncVisible=function(){this.constructed&&(this.visible?this._show():(this._hide(),this.active&&(this.view.activeTool=null)))};A._show=function(){this._updateManipulatorAttachment();this.onShow()};A._hide=function(){this._updateManipulatorAttachment();this.onHide()};A._updateManipulatorAttachment=function(){this.visible?this.manipulators.attach():this.manipulators.detach()};Q._createClass(x,
[{key:"active",get:function(){return null!=this.view&&this.view.activeTool===this}},{key:"visible",set:function(z){this._get("visible")!==z&&(this._set("visible",z),this._syncVisible())}},{key:"editable",get:function(){return this.getEditableFlag(N.EditableFlag.USER)},set:function(z){this.setEditableFlag(N.EditableFlag.USER,z)}},{key:"updating",get:function(){return!1}},{key:"cursor",get:function(){return null}},{key:"internallyEditable",get:function(){return this.getEditableFlag(N.EditableFlag.USER)&&
this.getEditableFlag(N.EditableFlag.MANAGER)}}]);return x}(M);y.__decorate([B.property({constructOnly:!0})],t.InteractiveToolBase.prototype,"view",void 0);y.__decorate([B.property({readOnly:!0})],t.InteractiveToolBase.prototype,"active",null);y.__decorate([B.property({value:!0})],t.InteractiveToolBase.prototype,"visible",null);y.__decorate([B.property({value:!0})],t.InteractiveToolBase.prototype,"editable",null);y.__decorate([B.property({readOnly:!0})],t.InteractiveToolBase.prototype,"manipulators",
void 0);y.__decorate([B.property({readOnly:!0})],t.InteractiveToolBase.prototype,"updating",null);y.__decorate([B.property()],t.InteractiveToolBase.prototype,"cursor",null);y.__decorate([B.property({readOnly:!0})],t.InteractiveToolBase.prototype,"preferManipulatorCursor",void 0);y.__decorate([B.property({readOnly:!0})],t.InteractiveToolBase.prototype,"automaticManipulatorSelection",void 0);y.__decorate([B.property()],t.InteractiveToolBase.prototype,"hasFocusedManipulators",void 0);y.__decorate([B.property({readOnly:!0})],
t.InteractiveToolBase.prototype,"created",void 0);y.__decorate([B.property({readOnly:!0})],t.InteractiveToolBase.prototype,"removeIncompleteOnCancel",void 0);t.InteractiveToolBase=y.__decorate([K.subclass("esri.views.interactive.InteractiveToolBase")],t.InteractiveToolBase);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/ManipulatorCollection":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Collection",
"../../core/maybe"],function(t,Q,y,M){t.ManipulatorVisibilityPredicate=void 0;(function(E){E[E.WhenToolEditable=0]="WhenToolEditable";E[E.WhenToolNotEditable=1]="WhenToolNotEditable";E[E.Always=2]="Always"})(t.ManipulatorVisibilityPredicate||(t.ManipulatorVisibilityPredicate={}));let H=function(){function E(){this._isToolEditable=!0;this._manipulators=new y;this._nextManipulatorId=0;this._resourceContexts={manipulator3D:{}};this._attached=!1}var C=E.prototype;C.add=function(B,u=t.ManipulatorVisibilityPredicate.WhenToolEditable){return this.addMany([B],
u)[0]};C.addMany=function(B,u=t.ManipulatorVisibilityPredicate.WhenToolEditable){return B.map(O=>{const P=this._nextManipulatorId++;O={id:P,manipulator:O,visibilityPredicate:u,attached:!1};this._manipulators.add(O);this._attached&&this._updateManipulatorAttachment(O);return P})};C.remove=function(B){if("number"===typeof B){for(var u=0;u<this._manipulators.length;u++)if(this._manipulators.getItemAt(u).id===B)return B=this._manipulators.splice(u,1)[0],this._detachManipulator(B),B.id;return null}for(u=
0;u<this._manipulators.length;u++)if(this._manipulators.getItemAt(u).manipulator===B)return B=this._manipulators.splice(u,1)[0],this._detachManipulator(B),B.id;return null};C.removeAll=function(){this._manipulators.forEach(B=>{this._detachManipulator(B)});this._manipulators.removeAll()};C.attach=function(){this._manipulators.forEach(B=>{this._updateManipulatorAttachment(B)});this._attached=!0};C.detach=function(){this._manipulators.forEach(B=>{this._detachManipulator(B)});this._attached=!1};C.destroy=
function(){this._manipulators.forEach(({manipulator:B})=>{B.destroy&&B.destroy()});this._manipulators.destroy();this._resourceContexts=null};C.on=function(B,u){return this._manipulators.on(B,O=>{u(O)})};C.forEach=function(B){for(const u of this._manipulators.items)B(u)};C.some=function(B){return this._manipulators.items.some(B)};C.toArray=function(){const B=[];this.forEach(u=>B.push(u.manipulator));return B};C.intersect=function(B,u){let O=null,P=Number.MAX_VALUE;this._manipulators.forEach(({id:K,
manipulator:J,attached:N})=>{N&&J.interactive&&(N=J.intersectionDistance(B,u),M.isSome(N)&&N<P&&(P=N,O={id:K,manipulator:J}))});return O};C.findById=function(B){if(M.isNone(B))return null;for(const u of this._manipulators.items)if(B===u.id)return u.manipulator;return null};C._updateManipulatorAttachment=function(B){this._isManipulatorItemVisible(B)?this._attachManipulator(B):this._detachManipulator(B)};C._attachManipulator=function(B){B.attached||(B.manipulator.attach&&B.manipulator.attach(this._resourceContexts),
B.attached=!0)};C._detachManipulator=function(B){if(B.attached){var u=B.manipulator;u.grabbing=!1;u.dragging=!1;u.hovering=!1;u.selected=!1;u.detach&&u.detach(this._resourceContexts);B.attached=!1}};C._isManipulatorItemVisible=function(B){return B.visibilityPredicate===t.ManipulatorVisibilityPredicate.Always?!0:this._isToolEditable?B.visibilityPredicate===t.ManipulatorVisibilityPredicate.WhenToolEditable:B.visibilityPredicate===t.ManipulatorVisibilityPredicate.WhenToolNotEditable};Q._createClass(E,
[{key:"isToolEditable",set:function(B){this._isToolEditable=B}},{key:"length",get:function(){return this._manipulators.length}}]);return E}();t.ManipulatorCollection=H;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/draw/DrawOperation":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Evented ../../core/HandleOwner ../../core/lang ../../core/maybe ../../core/promiseUtils ../../core/quantityUtils ../../core/reactiveUtils ../../core/screenUtils ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/graphics/dehydratedFeatureComparison ../../support/elevationInfoUtils ../ViewingMode ./DrawingMode ./DrawManipulator ../interactive/coordinateHelper ../interactive/dragEventPipeline ../interactive/editGeometry/EditGeometry ../interactive/editGeometry/EditGeometryOperations ../interactive/sketch/SketchLabelOptions ../interactive/sketch/SketchTooltipOptions ../interactive/snapping/SnappingContext ../interactive/snapping/SnappingDragPipelineStep ../interactive/snapping/SnappingOperation ../interactive/tooltip/DrawTooltipInfos ../interactive/tooltip/Tooltip ../interactive/tooltip/support/measurements".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da,aa,ea,ba,ca,ka,oa){t.DrawOperation=function(fa){function ra(na){var ta=fa.call(this,na)||this;ta._createOperationCompleted=!1;ta._pointerDownStates=new Set;ta._snappingPipeline=new ea.SnappingPipeline;ta._tooltip=null;ta._tooltipContext={calculateElevation:null,calculateTotalLength:null,calculateArea:null};ta.isDraped=!0;ta.labelOptions=new W;ta.tooltipOptions=new da;ta.snapToSceneEnabled=null;C.isNone(na.elevationInfo)&&(ta.elevationInfo=
{mode:na.hasZ?"absolute-height":"on-the-ground",offset:0});return ta}Q._inheritsLoose(ra,fa);var ua=ra.prototype;ua.initialize=function(){const {geometryType:na,view:ta}=this,{spatialReference:ya}=ta,Fa="viewingMode"in ta.state?ta.state.viewingMode:x.ViewingMode.Local,Ia="segment"===na||"multipoint"===na?"polyline":na;this.coordinateHelper=F.createCoordinateHelper(this.hasZ,this.hasM,ya);this._editGeometryOperations=new T.EditGeometryOperations(new U.EditGeometry(Ia,this.coordinateHelper));this._snappingOperation=
new ba.SnappingOperation({view:ta});this.handles.add(O.watch(()=>this.stagedVertex,(Ba,Va)=>{C.isSome(this._tooltip)&&(C.isSome(Va)!==C.isSome(Ba)?this._tooltip.info=this._getTooltipInfo():this._updateTooltipInfo());C.isNone(Ba)||this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(Ba)}],operation:"apply",type:"vertex-update"})},{sync:!0,equals:(Ba,Va)=>C.equalsMaybe(Ba,Va,R.pointEquals)}));
this._activeComponent=new U.Component(ya,Fa);this._editGeometryOperations.data.components.push(this._activeComponent);const La=this.segmentLabels;C.isSome(La)&&(La.context={view:ta,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.handles.add([O.watch(()=>this.labelOptions.enabled,Ba=>{La.visible=Ba},O.syncAndInitial),this.on("cursor-update",()=>{const Ba=this.stagedVertex;La.stagedVertex=C.isSome(Ba)?this.coordinateHelper.pointToVector(Ba):
null})]));this.handles.add(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],Ba=>{const Va=Ba.vertices.map(Ga=>({componentIndex:0,vertexIndex:Ga.index,coordinates:this.coordinateHelper.vectorToArray(Ga.pos)})),Na=Va.map(Ga=>Ga.coordinates);switch(Ba.type){case "vertex-add":this.emit(Ba.type,{...Ba,added:Na,vertices:Va});break;case "vertex-update":this.emit(Ba.type,{...Ba,updated:Na,vertices:Va});break;case "vertex-remove":this.emit(Ba.type,{...Ba,removed:Na,vertices:Va})}}));
this._manipulator=new z.DrawManipulator({grabbableForEvent:Ba=>"click"!==this.drawingMode?!0:"touch"===Ba.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(this._manipulator);this._manipulator.grabbable="point"!==na;this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on("immediate-click",Ba=>this._onImmediateClick(Ba)),this._manipulator.events.on("immediate-double-click",Ba=>this._onImmediateDoubleClick(Ba)),
O.watch(()=>this.tooltipOptions.enabled,Ba=>{this._tooltip=Ba?new ka.Tooltip({view:ta,info:this._getTooltipInfo()}):C.destroyMaybe(this._tooltip)},O.initial),this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],()=>C.applySome(this._tooltip,Ba=>{Ba.info=this._getTooltipInfo()}))])};ua.destroy=function(){C.destroyMaybe(this.segmentLabels);C.destroyMaybe(this._snappingOperation);this._tooltip=C.destroyMaybe(this._tooltip);this._editGeometryOperations=C.destroyMaybe(this._editGeometryOperations)};
ua.cancel=function(){this.complete({aborted:!0})};ua.commitStagedVertex=function(){this._snappingOperation.abort();if(C.isSome(this.stagedVertex)){const {stagedVertex:na}=this;this.stagedVertex=null;this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(na))}};ua.complete=function(na){na=na&&na.aborted||!1;this._snappingOperation.abort();C.isSome(this.snappingManager)&&this.snappingManager.doneSnapping();"segment"===this.geometryType||"point"===this.geometryType?this.commitStagedVertex():
this.stagedVertex=null;this._createOperationCompleted=!("multipoint"===this.geometryType&&0===this.numVertices||"polyline"===this.geometryType&&2>this.numVertices||"polygon"===this.geometryType&&3>this.numVertices);(this.isCompleted||na)&&this.emit("complete",{vertices:this.vertices.map((ta,ya)=>({componentIndex:0,vertexIndex:ya,coordinates:ta})),aborted:na,type:"complete"})};ua.onInputEvent=function(na){switch(na.type){case "pointer-down":this._pointerDownStates.add(na.pointerId);break;case "pointer-up":this._pointerDownStates.delete(na.pointerId)}switch(na.type){case "pointer-move":return this._onPointerMove(na);
case "hold":return this._onHold(na)}};ua.redo=function(){this._editGeometryOperations.redo()};ua.undo=function(){C.isSome(this.snappingManager)&&this.snappingManager.doneSnapping();this._editGeometryOperations.undo()};ua._closeOnClickVertexIndex=function(na){const ta=this._activeComponent;if("polygon"===this.geometryType&&2<ta.vertices.length){if(this._vertexWithinPointerDistance(ta.vertices[0].pos,na))return 0;if(this._vertexWithinPointerDistance(ta.vertices[ta.vertices.length-1].pos,na))return ta.vertices.length-
1}return null};ua._createManipulatorDragPipeline=function(na){switch(C.unwrap(this.drawingMode)){case "click":return this._createManipulatorDragPipelineClick(na);case "freehand":return this._createManipulatorDragPipelineFreehand(na);case "hybrid":return this._createManipulatorDragPipelineHybrid(na)}};ua._createManipulatorDragPipelineClick=function(na){return D.createManipulatorDragEventPipeline(na,(ta,ya,Fa,Ia)=>{const La="touch"===Ia&&this._snappingEnabled;!this.isCompleted&&La&&(ya.next(this._screenToMapDragEventStep()).next(Ba=>
{"start"===Ba.action&&(this.stagedVertex=Ba.mapStart,("segment"===this.geometryType||La&&0===this.numVertices)&&this.commitStagedVertex());return Ba}).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>La,cancel:Fa,snappingManager:this.snappingManager,snappingContext:new aa.SnappingContext({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:Ia,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(Ba=>
{La&&(this.stagedVertex=Ba.mapEnd,"end"===Ba.action&&this.commitStagedVertex());return Ba}).next(Ba=>{"end"!==Ba.action||"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete();return Ba}),Fa.next(()=>{La&&C.isSome(this.snappingManager)&&this.snappingManager.doneSnapping()}))})};ua._createManipulatorDragPipelineFreehand=function(na){return D.createManipulatorDragEventPipeline(na,(ta,ya)=>{this.isCompleted||ya.next(this._screenToMapDragEventStep()).next(Fa=>{"start"===Fa.action&&
(C.isNone(this.stagedVertex)&&(this.stagedVertex=Fa.mapStart),"segment"===this.geometryType&&this.commitStagedVertex());return Fa}).next(Fa=>{switch(Fa.action){case "start":case "update":this.stagedVertex=Fa.mapEnd;"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case "end":this.complete()}return Fa})})};ua._createManipulatorDragPipelineHybrid=function(na){return D.createManipulatorDragEventPipeline(na,(ta,ya)=>{this.isCompleted||ya.next(this._screenToMapDragEventStep()).next(Fa=>
{"start"===Fa.action&&(C.isNone(this.stagedVertex)&&(this.stagedVertex=Fa.mapStart),this.commitStagedVertex());return Fa}).next(Fa=>{switch(Fa.action){case "start":case "update":this.stagedVertex=Fa.mapEnd;"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case "end":"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return Fa})})};ua._getDrawSurface=function(){if(C.isNone(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=
null,this.elevationDrawSurface;let na=this.defaultZ,ta=!1;C.isSome(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(ta=!0);C.isSome(this.snapToSceneEnabled)&&(ta=this.snapToSceneEnabled);C.isSome(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(ta=!1);const ya=this._activeComponent.vertices.length;("segment"===this.geometryType||"polygon"===this.geometryType)&&0<ya&&(na=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),ta=!1);if(ta)return this.drawSurface;
this.elevationDrawSurface.defaultZ=na;return this.elevationDrawSurface};ua._mapToScreen=function(na){return this._getDrawSurface().mapToScreen(na)};ua._onHold=function(na){this._snappingOperation.abort();"click"===this.drawingMode&&"touch"===na.pointerType&&this._snappingEnabled&&(this.stagedVertex=na.mapPoint);na.stopPropagation()};ua._onImmediateClick=function(na){if(!("mouse"===na.pointerType&&2===na.button||this._manipulator.dragging)){var ta=this._activeComponent,ya=this._closeOnClickVertexIndex(na.screenPoint);
if(C.isSome(ya))na.stopPropagation(),this.complete();else{ya=this._screenToMap(na.screenPoint);if(C.isSome(ya))switch(this.drawingMode){case "freehand":"point"===this.geometryType&&(C.isSome(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(ya)),this.complete());break;case "click":case "hybrid":this._snappingOperation.abort(),C.isSome(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(ya)),
("point"===this.geometryType||"segment"===this.geometryType&&2===ta.vertices.length||"segment"===this.geometryType&&"hybrid"===this.drawingMode&&1===ta.vertices.length)&&this.complete()}na.stopPropagation()}}};ua._onImmediateDoubleClick=function(na){this._manipulator.dragging||"point"===this.geometryType||(this.complete(),na.stopPropagation())};ua._onPointerMove=function(na){var ta=P.createScreenPoint(na.x,na.y);if(this._manipulator.dragging||this._pointerDownStates.has(na.pointerId)||this._manipulator.grabbing||
!this._manipulator.interactive)this._snappingOperation.abort();else{na.stopPropagation();var ya=this._closeOnClickVertexIndex(ta);C.isSome(ya)?(this._closeOnVertex(ya),this._snappingOperation.abort()):(ta=this._screenToMap(ta),this._manipulator.cursor=C.isSome(ta)?"crosshair":null,C.isNone(ta)?this._snappingOperation.abort():C.isNone(this.snappingManager)?(this.stagedVertex=ta,this._snappingOperation.abort()):(ya=this.snappingManager,na=new aa.SnappingContext({editGeometryOperations:this._editGeometryOperations,
elevationInfo:this.elevationInfo,pointer:na.pointerType,visualizer:this.snappingVisualizer}),this.updatingHandles.addPromise(B.ignoreAbortErrors(this._snappingOperation.snap(ta,ya,na)))))}};ua._closeOnVertex=function(na){this.stagedVertex=null;na={componentIndex:0,vertexIndex:na,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[na].pos)};this.emit("cursor-update",{updated:null,vertices:[na],operation:"apply",type:"vertex-update"})};ua._screenToMap=function(na){return this._getDrawSurface().screenToMap(na)};
ua._screenToMapDragEventStep=function(){let na=null;return ta=>{"start"===ta.action&&(na=this._screenToMap(ta.screenStart));if(C.isNone(na))return null;const ya=this._screenToMap(ta.screenEnd);return C.isSome(ya)?{...ta,mapStart:na,mapEnd:ya}:null}};ua._vertexWithinPointerDistance=function(na,ta){const ya=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(na));C.isSome(ya)?(na=ya.x-ta.x,ta=ya.y-ta.y,ta=25>=na*na+ta*ta):ta=!1;return ta};ua._calculateVertexTooltipElevation=function(na){const {tooltipOptions:ta,
view:ya}=this;if(C.isNone(na)||"2d"===ya.type)return this._defaultElevation;const Fa=this.elevationInfo,Ia=ta.elevation.mode;var {spatialReference:La}=na;La=K.getMetersPerVerticalUnitForSR(La);na=I.getConvertedElevation(ya,na,Fa,{mode:Ia,offset:0});return u.createLength(na*La,"meters")};ua._getTooltipInfo=function(){const {tooltipOptions:na,stagedOrLastVertex:ta}=this;if(C.isNone(ta))return null;this._tooltipContext.calculateElevation=Fa=>this._calculateVertexTooltipElevation(Fa);const ya=this._elevationTooltipDetail(ta);
switch(this.geometryType){case "point":return new ca.DrawPointTooltipInfo({tooltipOptions:na,elevation:ya});case "polyline":return this._tooltipContext.calculateTotalLength=oa.computeLengthWithStagedVertex(this._editGeometryOperations.data.geometry,this.isDraped?"on-the-ground":"absolute-height"),new ca.DrawPolylineTooltipInfo({tooltipOptions:na,elevation:ya,totalLength:this._totalLengthTooltipDetail(ta)});case "polygon":return this._tooltipContext.calculateArea=oa.computeAreaWithStagedVertex(this._editGeometryOperations.data.geometry,
this.isDraped),new ca.DrawPolygonTooltipInfo({tooltipOptions:na,elevation:ya,area:this._areaTooltipDetail(ta)});default:return null}};ua._elevationTooltipDetail=function(na){return{mode:this.elevationInfo.mode,...C.unwrap(this._tooltipContext.calculateElevation)(na)}};ua._totalLengthTooltipDetail=function(na){return{...C.unwrapOr(C.unwrap(this._tooltipContext.calculateTotalLength)(na),u.createLength(0,"meters"))}};ua._areaTooltipDetail=function(na){return{...C.unwrapOr(C.unwrap(this._tooltipContext.calculateArea)(na),
u.createArea(0,"square-meters"))}};ua._updateTooltipInfo=function(){var na=this._tooltip;if(!C.isNone(na)){var {stagedOrLastVertex:ta}=this,ya=this._elevationTooltipDetail(ta);switch(this.geometryType){case "point":na.info.elevation=ya;break;case "polyline":na=na.info;na.elevation=ya;na.totalLength=this._totalLengthTooltipDetail(ta);break;case "polygon":na=na.info,na.elevation=ya,na.area=this._areaTooltipDetail(ta)}}};Q._createClass(ra,[{key:"_snappingEnabled",get:function(){return C.isSome(this.snappingManager)&&
this.snappingManager.options.effectiveEnabled}},{key:"_defaultElevation",get:function(){return u.createLength(this.defaultZ,"meters")}},{key:"canRedo",get:function(){return this._editGeometryOperations.canRedo}},{key:"canUndo",get:function(){return this._editGeometryOperations.canUndo}},{key:"committedVertices",get:function(){return this._activeComponent.vertices.map(na=>this.coordinateHelper.vectorToArray(na.pos))}},{key:"drawingMode",set:function(na){this._set("drawingMode",null!=na?na:A.defaultDrawingMode)}},
{key:"interactive",get:function(){return this._manipulator.interactive},set:function(na){this._manipulator.interactive=na}},{key:"isCompleted",get:function(){return this._createOperationCompleted}},{key:"numCommittedVertices",get:function(){return this._activeComponent.vertices.length}},{key:"numVertices",get:function(){return C.isSome(this.stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}},{key:"stagedVertex",get:function(){return this._snappingOperation.stagedPoint},
set:function(na){this._snappingOperation.stagedPoint=E.clone(na)}},{key:"updating",get:function(){return this.updatingHandles.updating}},{key:"vertices",get:function(){const na=this.committedVertices;C.isSome(this.stagedVertex)&&na.push(this.coordinateHelper.pointToArray(this.stagedVertex));return na}},{key:"stagedOrLastVertex",get:function(){if(C.isSome(this.stagedVertex))return this.stagedVertex;const na=this._activeComponent.getLastVertex();return C.isNone(na)?null:this._editGeometryOperations.data.coordinateHelper.vectorToDehydratedPoint(na.pos)}},
{key:"test",get:function(){return{tooltip:this._tooltip}}}]);return ra}(M.EventedMixin(H.HandleOwner));y.__decorate([J.property()],t.DrawOperation.prototype,"_defaultElevation",null);y.__decorate([J.property()],t.DrawOperation.prototype,"defaultZ",void 0);y.__decorate([J.property()],t.DrawOperation.prototype,"isDraped",void 0);y.__decorate([J.property({value:A.defaultDrawingMode})],t.DrawOperation.prototype,"drawingMode",null);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,
"elevationDrawSurface",void 0);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,"elevationInfo",void 0);y.__decorate([J.property({constructOnly:!0,type:W})],t.DrawOperation.prototype,"labelOptions",void 0);y.__decorate([J.property({constructOnly:!0,type:da})],t.DrawOperation.prototype,"tooltipOptions",void 0);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,"geometryType",void 0);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,
"hasM",void 0);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,"hasZ",void 0);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,"manipulators",void 0);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,"drawSurface",void 0);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,"segmentLabels",void 0);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,"snappingManager",void 0);y.__decorate([J.property({constructOnly:!0})],
t.DrawOperation.prototype,"snappingVisualizer",void 0);y.__decorate([J.property()],t.DrawOperation.prototype,"snapToSceneEnabled",void 0);y.__decorate([J.property()],t.DrawOperation.prototype,"_snappingOperation",void 0);y.__decorate([J.property()],t.DrawOperation.prototype,"stagedVertex",null);y.__decorate([J.property()],t.DrawOperation.prototype,"updating",null);y.__decorate([J.property({constructOnly:!0})],t.DrawOperation.prototype,"view",void 0);t.DrawOperation=y.__decorate([L.subclass("esri.views.draw.DrawOperation")],
t.DrawOperation);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/draw/DrawingMode":function(){define(["exports"],function(t){t.defaultDrawingMode="click";t.drawingModes=["freehand","hybrid","click"];Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/draw/DrawManipulator":function(){define(["exports","../../core/Evented"],function(t,Q){let y=function(){function M({grabbableForEvent:E}){this.events=
new Q;this.interactive=!0;this.selectable=!1;this.cursor=null;this.grabbable=!0;this.grabbableForEvent=E}var H=M.prototype;H.intersectionDistance=function(E,C){return 0};H.attach=function(){};H.detach=function(){};return M}();t.DrawManipulator=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/coordinateHelper":function(){define("exports ../../chunks/vec2 ../../chunks/vec2f64 ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/vec4 ../../chunks/vec4f64 ../../geometry/Point".split(" "),
function(t,Q,y,M,H,E,C,B){var u;(function(J){J[J.Z=0]="Z";J[J.M=1]="M"})(u||(u={}));let O=function(){function J(L){this.spatialReference=L}var N=J.prototype;N.createVector=function(){return this._tag(y.create())};N.pointToVector=function(L){return this._tag(y.fromValues(L.x,L.y))};N.arrayToVector=function(L){return this._tag(y.fromValues(L[0],L[1]))};N.vectorToArray=function(L){return[L[0],L[1]]};N.pointToArray=function(L){return[L.x,L.y]};N.vectorToPoint=function(L,R=new B){R.x=L[0];R.y=L[1];R.z=
void 0;R.m=void 0;R.spatialReference=this.spatialReference;return R};N.arrayToPoint=function(L,R=new B){R.x=L[0];R.y=L[1];R.z=void 0;R.m=void 0;R.spatialReference=this.spatialReference;return R};N.vectorToDehydratedPoint=function(L,R={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){R.x=L[0];R.y=L[1];R.z=void 0;R.m=void 0;R.hasZ=!1;R.hasM=!1;R.spatialReference=this.spatialReference;return R};N.lerp=function(L,R,I,x){return Q.lerp(x,L,R,I)};N.addDelta=
function(L,R,I){L[0]+=R;L[1]+=I};N.distance=function(L,R){return Q.distance(L,R)};N.getZ=function(L,R){return R};N.hasZ=function(){return!1};N.getM=function(L,R){return R};N.hasM=function(){return!1};N.clone=function(L){return this._tag(y.fromArray(L))};N.copy=function(L,R){return Q.copy(R,L)};N.fromXYZ=function(L){return this._tag(y.fromValues(L[0],L[1]))};N.toXYZ=function(L,R=0){return H.fromValues(L[0],L[1],R)};N._tag=function(L){return L};return J}(),P=function(){function J(L,R){this.valueType=
L;this.spatialReference=R}var N=J.prototype;N.createVector=function(){return this._tag(H.create())};N.pointToVector=function(L){return this._tag(H.fromValues(L.x,L.y,this.valueType===u.Z?L.z:L.m))};N.arrayToVector=function(L){return this._tag(H.fromValues(L[0],L[1],L[2]||0))};N.vectorToArray=function(L){return[L[0],L[1],L[2]]};N.pointToArray=function(L){return this.valueType===u.Z?[L.x,L.y,L.z]:[L.x,L.y,L.m]};N.vectorToPoint=function(L,R=new B){R.x=L[0];R.y=L[1];R.z=this.valueType===u.Z?L[2]:void 0;
R.m=this.valueType===u.M?L[2]:void 0;R.spatialReference=this.spatialReference;return R};N.arrayToPoint=function(L,R=new B){R.x=L[0];R.y=L[1];R.z=this.valueType===u.Z?L[2]:void 0;R.m=this.valueType===u.M?L[2]:void 0;R.spatialReference=this.spatialReference;return R};N.vectorToDehydratedPoint=function(L,R={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){const I=this.valueType===u.Z,x=this.valueType===u.M;R.x=L[0];R.y=L[1];R.z=I?L[2]:void 0;R.m=x?L[2]:
void 0;R.hasZ=I;R.hasM=x;R.spatialReference=this.spatialReference;return R};N.lerp=function(L,R,I,x){return M.lerp(x,L,R,I)};N.addDelta=function(L,R,I,x){L[0]+=R;L[1]+=I;this.valueType===u.Z&&(L[2]+=x)};N.distance=function(L,R){return this.valueType===u.Z?M.distance(L,R):Q.distance(L,R)};N.getZ=function(L,R){return this.valueType===u.Z?L[2]:R};N.hasZ=function(){return this.valueType===u.Z};N.getM=function(L,R){return this.valueType===u.M?L[2]:R};N.hasM=function(){return this.valueType===u.M};N.clone=
function(L){return this._tag(H.fromArray(L))};N.copy=function(L,R){return M.copy(R,L)};N.fromXYZ=function(L,R=0,I=0){return this._tag(H.fromValues(L[0],L[1],this.valueType===u.Z?2<L.length?L[2]:R:I))};N.toXYZ=function(L,R=0){return this._tag(H.fromValues(L[0],L[1],this.valueType===u.Z?L[2]:R))};N._tag=function(L){return L};return J}(),K=function(){function J(L){this.spatialReference=L}var N=J.prototype;N.createVector=function(){return this._tag(C.create())};N.pointToVector=function(L){return this._tag(C.fromValues(L.x,
L.y,L.z,L.m))};N.arrayToVector=function(L){return this._tag(C.fromValues(L[0],L[1],L[2]||0,L[3]||0))};N.vectorToArray=function(L){return[L[0],L[1],L[2],L[3]]};N.pointToArray=function(L){return[L.x,L.y,L.z,L.m]};N.vectorToPoint=function(L,R=new B){R.x=L[0];R.y=L[1];R.z=L[2];R.m=L[3];R.spatialReference=this.spatialReference;return R};N.arrayToPoint=function(L,R=new B){R.x=L[0];R.y=L[1];R.z=L[2];R.m=L[3];R.spatialReference=this.spatialReference;return R};N.vectorToDehydratedPoint=function(L,R={x:void 0,
y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){R.x=L[0];R.y=L[1];R.z=L[2];R.m=L[3];R.hasZ=!0;R.hasM=!0;R.spatialReference=this.spatialReference;return R};N.lerp=function(L,R,I,x){return E.lerp(x,L,R,I)};N.addDelta=function(L,R,I,x){L[0]+=R;L[1]+=I;L[2]+=x};N.distance=function(L,R){return M.distance(L,R)};N.getZ=function(L){return L[2]};N.hasZ=function(){return!0};N.getM=function(L){return L[3]};N.hasM=function(){return!0};N.clone=function(L){return this._tag(C.fromArray(L))};
N.copy=function(L,R){return E.copy(R,L)};N.fromXYZ=function(L,R=0,I=0){return this._tag(C.fromValues(L[0],L[1],2<L.length?L[2]:R,I))};N.toXYZ=function(L){return H.fromValues(L[0],L[1],L[2])};N._tag=function(L){return L};return J}();t.CoordinateHelper2D=O;t.CoordinateHelper3D=P;t.CoordinateHelper4D=K;t.createCoordinateHelper=function(J,N,L){return J&&N?new K(L):N?new P(u.M,L):J?new P(u.Z,L):new O(L)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/dragEventPipeline":function(){define("exports ../../geometry ../../core/handleUtils ../../core/lang ../../core/mathUtils ../../core/maybe ../../core/screenUtils ../../chunks/vec3f64 ../../geometry/projection ../ViewingMode ../draw/support/drawUtils ../../geometry/Point".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K){function J(T,W){let da=null,aa=null;return ea=>{if("cancel"===ea.action)E.isSome(aa)&&(aa.execute({action:"cancel"}),aa=da=null);else{var ba={action:ea.action,screenStart:ea.start,screenEnd:ea.screenPoint};"start"===ea.action&&E.isNone(da)&&(da=new U,aa=new U,W(T,da,aa,ea.pointerType,ba));E.isSome(da)&&da.execute(ba);"end"===ea.action&&E.isSome(da)&&(aa=da=null)}}}function N(T,W){return T.events.on("drag",J(T,W))}function L(T,W){let da=null;return aa=>{"start"===
aa.action&&(da=I(T,aa.mapStart.spatialReference,W));if(E.isNone(da))return null;const ea=aa.mapEnd.x-aa.mapStart.x,ba=aa.mapEnd.y-aa.mapStart.y,ca=aa.mapEnd.z-aa.mapStart.z;da.move(ea,ba,ca);return{...aa,translationX:ea,translationY:ba,translationZ:ca}}}function R(T,W){return E.isNone(T)?null:T.spatialReference.equals(W)?T.clone():u.project(T,W)}function I(T,W,da){const aa=T.geometry;if(E.isNone(aa))return null;if("mesh"===aa.type)return x(T,aa,W,da);const ea=R(aa,W),ba=aa.spatialReference;return E.isNone(ea)?
null:{move:(ca,ka,oa)=>{ca=P.move(ea.clone(),ca,ka,oa);ca.spatialReference.equals(ba)?T.geometry=ca:T.geometry=u.project(ca,ba)}}}function x(T,W,da,aa){if(E.isSome(W.transform))return A(T,W,W.transform,da);if(!W.spatialReference.equals(da))return null;let ea=0,ba=0,ca=0;return{move:(ka,oa,fa)=>{var ra=ka-ea;const ua=oa-ba,na=fa-ca;if(ra||ua||na)ra=new K(W.origin.x+ra,W.origin.y+ua,W.origin.z+na,W.origin.spatialReference),W.centerAt(ra,{geographic:aa===O.ViewingMode.Global}),T.notifyGeometryChanged(),
ea=ka,ba=oa,ca=fa}}}function A(T,W,da,aa){const ea=da.getOriginPoint(W.spatialReference),ba=R(ea,aa),ca=W.spatialReference;return E.isNone(ba)?null:{move:(ka,oa,fa)=>{ka=P.move(ba.clone(),ka,oa,fa);ka.spatialReference.equals(ca)?da.origin=B.fromValues(ka.x,ka.y,ka.z):(ka=u.project(ka,ca),E.isSome(ka)&&(da.origin=B.fromValues(ka.x,ka.y,ka.z)));T.notifyMeshTransformChanged();T.notifyGeometryChanged()}}}function z(T,W){const da=new Map;for(const aa of W)da.set(aa,M.clone(T[aa]));return aa=>{da.forEach((ea,
ba)=>{T[ba]=ea});return aa}}function F(T){return E.isSome(T.geometry)&&"mesh"===T.geometry.type?D(T,T.geometry):z(T,["geometry"])}function D(T,W){const da=E.isSome(W.transform)?W.transform.clone():null,aa=W.vertexAttributes.clonePositional();return ea=>{W.transform=da;W.vertexAttributes=aa;T.notifyGeometryChanged();return ea}}let U=function(){function T(){this.execute=()=>{}}T.prototype.next=function(W,da=new T){E.isSome(W)&&(this.execute=aa=>{aa=W(aa);E.isSome(aa)&&da.execute(aa)});return da};return T}();
t.EventPipeline=U;t.addMapDelta=function(){let T=0,W=0,da=0;return aa=>{"start"===aa.action&&(T=aa.mapStart.x,W=aa.mapStart.y,da=aa.mapStart.z);const ea=aa.mapEnd.x-T,ba=aa.mapEnd.y-W,ca=aa.mapEnd.z-da;T=aa.mapEnd.x;W=aa.mapEnd.y;da=aa.mapEnd.z;return{...aa,mapDeltaX:ea,mapDeltaY:ba,mapDeltaZ:ca,mapDeltaSpatialReference:aa.mapStart.spatialReference}}};t.addScreenDelta=function(){let T=0,W=0;return da=>{"start"===da.action&&(T=da.screenStart.x,W=da.screenStart.y);const aa=da.screenEnd.x-T,ea=da.screenEnd.y-
W;T=da.screenEnd.x;W=da.screenEnd.y;return{...da,screenDeltaX:aa,screenDeltaY:ea}}};t.constrainToMapAxis=function(T,W){const da=[T.x,T.y,T.z],aa=[Math.cos(W),Math.sin(W)];T=Math.sqrt(aa[0]*aa[0]+aa[1]*aa[1]);if(0===T)return null;aa[0]/=T;aa[1]/=T;const ea=ba=>{const ca=(ba.x-da[0])*aa[0]+(ba.y-da[1])*aa[1];ba.x=da[0]+ca*aa[0];ba.y=da[1]+ca*aa[1]};return ba=>{ea(ba.mapStart);ea(ba.mapEnd);return ba}};t.createDragEventPipelineCallback=J;t.createManipulatorDragEventPipeline=N;t.createManipulatorDragEventPipelineMany=
function(T,W){const da=[];for(const aa of T)da.push(N(aa,W));return y.handlesGroup(da)};t.dragAtLocation=function(T,W){let da=null,aa=0,ea=0;return ba=>{"start"===ba.action&&(da=T.toScreen(W),0>da.x||da.x>T.width||0>da.y||da.y>T.height?da=null:(aa=ba.screenStart.x-da.x,ea=ba.screenStart.y-da.y));if(null==da)return null;var ca=H.clamp(ba.screenEnd.x-aa,0,T.width);const ka=H.clamp(ba.screenEnd.y-ea,0,T.height);ca=C.createScreenPoint(ca,ka);ba.screenStart=da;ba.screenEnd=ca;return ba}};t.dragGraphic=
L;t.dragGraphicMany=function(T,W){const da=T.map(aa=>E.unwrap(L(aa,W))).filter(aa=>E.isSome(aa));return aa=>{const ea=aa.mapEnd.x-aa.mapStart.x,ba=aa.mapEnd.y-aa.mapStart.y,ca=aa.mapEnd.z-aa.mapStart.z;da.forEach(ka=>ka(aa));return{...aa,translationX:ea,translationY:ba,translationZ:ca}}};t.resetGraphic=F;t.resetGraphicMany=function(T){const W=T.map(da=>E.unwrap(F(da))).filter(da=>E.isSome(da));return da=>{W.forEach(aa=>aa(da));return da}};t.resetProperties=z;t.resetSymbol=function(T){return z(T,["symbol"])};
t.screenToMap=function(T,W=null,da){let aa=null;const ea=E.isSome(W)&&!T.spatialReference.equals(W)?ca=>E.isSome(ca)?u.project(ca,W):ca:ca=>ca,ba={exclude:[],...da};return ca=>{"start"===ca.action&&(aa=ea(T.toMap(ca.screenStart,ba)));if(E.isNone(aa))return null;const ka=ea(T.toMap(ca.screenEnd,ba));return E.isSome(ka)?{...ca,mapStart:aa,mapEnd:ka}:null}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/draw/support/drawUtils":function(){define(["exports",
"../../../core/mathUtils","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../../../geometry/support/coordsUtils"],function(t,Q,y,M,H){function E(u,O,P,K){null==K||u.hasZ||(K=void 0);if("point"===u.type)return u.x+=O,u.y+=P,u.hasZ&&null!=K&&(u.z+=K),u;if("multipoint"===u.type){var J=u.points;for(var N=0;N<J.length;N++)J[N]=C(J[N],O,P,K);return u}if("extent"===u.type)return u.xmin+=O,u.xmax+=O,u.ymin+=P,u.ymax+=P,null!=K&&(u.zmin+=K,u.zmax+=K),u;J=H.geometryToCoordinates(u);
N="polyline"===u.type?u.paths:u.rings;for(let L=0;L<J.length;L++){const R=J[L];for(let I=0;I<R.length;I++)R[I]=C(R[I],O,P,K)}"paths"in u?u.paths=N:u.rings=N;return u}function C(u,O,P,K){return B(u,u[0]+O,u[1]+P,null!=u[2]&&null!=K?u[2]+K:void 0)}function B(u,O,P,K){O=[O,P];2<u.length&&O.push(null!=K?K:u[2]);3<u.length&&O.push(u[3]);return O}t.cloneMove=function(u,O,P,K,J){u=u.clone();var N=K.resolution;if("point"===u.type)return J?E(u,O*N,-P*N):(J=K.state.transform,K=K.state.inverseTransform,N=J[0]*
u.x+J[2]*u.y+J[4],J=J[1]*u.x+J[3]*u.y+J[5],u.x=K[0]*(N+O)+K[2]*(J+P)+K[4],u.y=K[1]*(N+O)+K[3]*(J+P)+K[5]),u;if("multipoint"===u.type){if(J)E(u,O*N,-P*N);else{J=u.points;N=K.state.transform;K=K.state.inverseTransform;for(var L=0;L<J.length;L++){var R=J[L],I=N[0]*R[0]+N[2]*R[1]+N[4],x=N[1]*R[0]+N[3]*R[1]+N[5];J[L]=B(R,K[0]*(I+O)+K[2]*(x+P)+K[4],K[1]*(I+O)+K[3]*(x+P)+K[5],void 0)}}return u}if("extent"===u.type)return J?E(u,O*N,-P*N):(J=K.state.transform,K=K.state.inverseTransform,N=J[0]*u.xmin+J[2]*
u.ymin+J[4],L=J[1]*u.xmin+J[3]*u.ymin+J[5],R=J[0]*u.xmax+J[2]*u.ymax+J[4],J=J[1]*u.xmax+J[3]*u.ymax+J[5],u.xmin=K[0]*(N+O)+K[2]*(L+P)+K[4],u.ymin=K[1]*(N+O)+K[3]*(L+P)+K[5],u.xmax=K[0]*(R+O)+K[2]*(J+P)+K[4],u.ymax=K[1]*(R+O)+K[3]*(J+P)+K[5]),u;if(J)E(u,O*N,-P*N);else{J=H.geometryToCoordinates(u);N="polyline"===u.type?u.paths:u.rings;L=K.state.transform;K=K.state.inverseTransform;for(R=0;R<J.length;R++)for(I=J[R],x=0;x<I.length;x++){const A=I[x],z=L[0]*A[0]+L[2]*A[1]+L[4],F=L[1]*A[0]+L[3]*A[1]+L[5];
I[x]=B(A,K[0]*(z+O)+K[2]*(F+P)+K[4],K[1]*(z+O)+K[3]*(F+P)+K[5],void 0)}"paths"in u?u.paths=N:u.rings=N}return u};t.getRotationAngle=function(u,O,P){u=Math.atan2(O.y-P.y,O.x-P.x)-Math.atan2(u.y-P.y,u.x-P.x);return Q.rad2deg(Math.atan2(Math.sin(u),Math.cos(u)))};t.getScaleRatio=function(u,O,P,K,J,N){return Math.sqrt((J-u)*(J-u)+(N-O)*(N-O))/Math.sqrt((P-u)*(P-u)+(K-O)*(K-O))};t.move=E;t.scale=function(u,O,P,K){if("point"===u.type){const {x:F,y:D}=u;var J=K?K[0]:F,N=K?K[1]:D;u=u.clone();P=(D-N)*P+N;
u.x=(F-J)*O+J;u.y=P;return u}if("multipoint"===u.type){J=H.geometryToCoordinates(u);N=y.create();const [F,D,U,T]=M.getRingsOrPathsBounds(N,[J]);J=K?K[0]:(F+U)/2;N=K?K[1]:(T+D)/2;u=u.clone();K=u.points;for(var L=0;L<K.length;L++){var R=K[L];const [W,da]=R;K[L]=B(R,(W-J)*O+J,(da-N)*P+N,void 0)}return u}if("extent"===u.type){const {xmin:F,xmax:D,ymin:U,ymax:T}=u;J=K?K[0]:(F+D)/2;N=K?K[1]:(T+U)/2;u=u.clone();u.xmin=(F-J)*O+J;u.ymax=(T-N)*P+N;u.xmax=(D-J)*O+J;u.ymin=(U-N)*P+N;u.xmin>u.xmax&&(O=u.xmin,
u.xmin=u.xmax,u.xmax=O);u.ymin>u.ymax&&(O=u.ymin,u.ymin=u.ymax,u.ymax=O);return u}J=H.geometryToCoordinates(u);N=y.create();const [I,x,A,z]=M.getRingsOrPathsBounds(N,J);N=K?K[0]:(I+A)/2;K=K?K[1]:(z+x)/2;u=u.clone();L="polyline"===u.type?u.paths:u.rings;for(R=0;R<J.length;R++){const F=J[R];for(let D=0;D<F.length;D++){const U=F[D],[T,W]=U;L[R][D]=B(U,(T-N)*O+N,(W-K)*P+K,void 0)}}"paths"in u?u.paths=L:u.rings=L;return u};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/interactive/editGeometry/EditGeometry":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/arrayUtils ../../../core/Evented ../../../core/maybe ../../../geometry/Polygon ../../../geometry/Polyline ../coordinateHelper ./unnormalizationHelper".split(" "),function(t,Q,y,M,H,E,C,B,u){let O=function(){function J(N){this.component=N;this.rightEdge=this.leftEdge=null;this.type="vertex";this.index=null}Q._createClass(J,[{key:"pos",get:function(){return this._pos},
set:function(N){this._pos=N;this.component.unnormalizeVertexPositions()}}]);return J}(),P=function(J,N,L){this.component=J;this.leftVertex=N;this.rightVertex=L;this.type="edge";N.rightEdge=this;L.leftEdge=this},K=function(){function J(L,R){this.spatialReference=L;this.viewingMode=R;this.vertices=[];this.edges=[]}var N=J.prototype;N.unnormalizeVertexPositions=function(){1>=this.vertices.length||u.unnormalize(this.vertices,u.getUnnormalizationInfo(this.spatialReference,this.viewingMode))};N.updateVertexIndex=
function(L,R){if(0!==this.vertices.length){var I=this.vertices[0],x=null;do x=L,x.index=R++,L=x.rightEdge?x.rightEdge.rightVertex:null;while(null!=L&&L!==I);x.leftEdge&&x!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(x),this.vertices.length-1)}};N.getFirstVertex=function(){return 0===this.vertices.length?null:this.vertices[0]};N.getLastVertex=function(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]};N.isClosed=function(){return 2<this.vertices.length&&
null!==this.vertices[0].leftEdge};N.swapVertices=function(L,R){const I=this.vertices[L];this.vertices[L]=this.vertices[R];this.vertices[R]=I};N.iterateVertices=function(L){if(0!==this.vertices.length){var R=this.vertices[0],I=R;do L(I,I.index),I=H.isSome(I.rightEdge)?I.rightEdge.rightVertex:null;while(I!==R&&null!=I)}};return J}();M=function(J){function N(R,I){var x=J.call(this)||this;x.type=R;x.coordinateHelper=I;x._geometry=null;x.dirty=!0;x.components=[];return x}Q._inheritsLoose(N,J);var L=N.prototype;
L.notifyChanges=function(R){this.dirty=!0;this.emit("change",R)};L._toPoint=function(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)};L._toPolyline=function(){const R=[],I=this.coordinateHelper.vectorToArray;for(const x of this.components){if(1>x.vertices.length)continue;const A=[];let z=x.vertices.find(D=>null==D.leftEdge);const F=z;do A.push(I(z.pos)),z=z.rightEdge?z.rightEdge.rightVertex:null;
while(z&&z!==F);R.push(A)}return new C({paths:R,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})};L._toPolygon=function(){const R=[],I=this.coordinateHelper.vectorToArray;for(const x of this.components){if(1>x.vertices.length)continue;const A=[],z=x.vertices[0];let F=z;const D=F;do A.push(I(F.pos)),F=H.isSome(F.rightEdge)?F.rightEdge.rightVertex:null;while(F&&F!==D);x.isClosed()&&A.push(I(z.pos));R.push(A)}return new E({rings:R,spatialReference:this.spatialReference,
hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})};N.fromGeometry=function(R,I){var x=R.spatialReference;const A=B.createCoordinateHelper(R.hasZ,R.hasM,x),z=new N(R.type,A);switch(R.type){case "polygon":var F=R.rings;for(R=0;R<F.length;++R){var D=F[R],U=new K(x,I),T=2<D.length&&y.equals(D[0],D[D.length-1]),W=T?D.length-1:D.length;for(var da=0;da<W;++da){const aa=A.arrayToVector(D[da]),ea=new O(U);U.vertices.push(ea);ea.pos=aa;ea.index=da}D=U.vertices.length-1;for(W=0;W<D;++W)da=
new P(U,U.vertices[W],U.vertices[W+1]),U.edges.push(da);T&&(T=new P(U,U.vertices[U.vertices.length-1],U.vertices[0]),U.edges.push(T));z.components.push(U)}break;case "polyline":for(F of R.paths){R=new K(x,I);U=F.length;for(T=0;T<U;++T)D=A.arrayToVector(F[T]),W=new O(R),R.vertices.push(W),W.pos=D,W.index=T;U=R.vertices.length-1;for(T=0;T<U;++T)D=new P(R,R.vertices[T],R.vertices[T+1]),R.edges.push(D);z.components.push(R)}break;case "point":I=new K(x,I),x=new O(I),x.index=0,x.pos=A.pointToVector(R),
I.vertices.push(x),z.components.push(I)}return z};Q._createClass(N,[{key:"geometry",get:function(){if(this.dirty){switch(this.type){case "point":this._geometry=this._toPoint();break;case "polyline":this._geometry=this._toPolyline();break;case "polygon":this._geometry=this._toPolygon()}this.dirty=!1}return this._geometry}},{key:"spatialReference",get:function(){return this.coordinateHelper.spatialReference}}]);return N}(M);t.Component=K;t.Edge=P;t.EditGeometry=M;t.Vertex=O;Object.defineProperties(t,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/unnormalizationHelper":function(){define(["exports","../../../geometry/support/spatialReferenceUtils","../../ViewingMode"],function(t,Q,y){t.getUnnormalizationInfo=function(M,H){M=Q.getInfo(M);return H===y.ViewingMode.Global&&M?{supported:!0,lowerBoundX:M.valid[0],upperBoundX:M.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}};t.unnormalize=function(M,H){if(H.supported){var E=Infinity,
C=-Infinity,B=H.upperBoundX-H.lowerBoundX;M.forEach(O=>{let P=O.pos[0];for(;P<H.lowerBoundX;)P+=B;for(;P>H.upperBoundX;)P-=B;E=Math.min(E,P);C=Math.max(C,P);O.pos[0]=P});var u=C-E;B-u<u&&M.forEach(O=>{0>O.pos[0]&&(O.pos[0]+=B)})}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/EditGeometryOperations":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Evented ../../../core/maybe ./EditGeometry ./interfaces ./operations/AppendVertex ./operations/UpdateVertices ./operations/RemoveVertices ./operations/SplitEdge ./operations/SetVertexPosition ./operations/CloseComponent ./operations/MoveVertex ./operations/OffsetEdgeVertex ./operations/RotateVertex ./operations/ScaleVertex ./operations/UndoGroup".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I){y=function(x){function A(F){var D=x.call(this)||this;D.data=F;D.undoStack=[];D.redoStack=[];D.listener=D.data.on("change",U=>{U.addedVertices&&D.emit("vertex-add",{type:"vertex-add",vertices:U.addedVertices,operation:U.operation});U.removedVertices&&D.emit("vertex-remove",{type:"vertex-remove",vertices:U.removedVertices,operation:U.operation});U.updatedVertices&&D.emit("vertex-update",{type:"vertex-update",vertices:U.updatedVertices,operation:U.operation})});
return D}Q._inheritsLoose(A,x);var z=A.prototype;z.destroy=function(){this.listener.remove()};z.splitEdge=function(F,D){return this._apply(new O.SplitEdge(this.data,F,D))};z.updateVertices=function(F,D,U=E.AccumulationBehaviour.ACCUMULATE_STEPS){return this._apply(new B.UpdateVertices(this.data,F,D),U)};z.moveVertices=function(F,D,U,T,W=E.AccumulationBehaviour.ACCUMULATE_STEPS){return this.updateVertices(F,new J.MoveVertex(this.data.coordinateHelper,D,U,T),W)};z.scaleVertices=function(F,D,U,T,W,da=
E.AccumulationBehaviour.ACCUMULATE_STEPS,aa=B.AccumulationType.CUMULATIVE){return this.updateVertices(F,new R.ScaleVertex(D,U,T,W,aa),da)};z.rotateVertices=function(F,D,U,T=E.AccumulationBehaviour.ACCUMULATE_STEPS,W=B.AccumulationType.CUMULATIVE){return this.updateVertices(F,new L.RotateVertex(D,U,W),T)};z.removeVertices=function(F){return this._apply(new u.RemoveVertices(this.data,F,this._minNumVerticesPerType))};z.appendVertex=function(F){return 0===this.data.components.length?null:this._apply(new C.AppendVertex(this.data,
this.data.components[0],F))};z.setVertexPosition=function(F,D){return this._apply(new P.SetVertexPosition(this.data,F,D))};z.offsetEdge=function(F,D,U,T=E.AccumulationBehaviour.ACCUMULATE_STEPS){return this.updateVertices([D.leftVertex,D.rightVertex],new N.OffsetEdgeVertex(this.data.coordinateHelper,F,D,U),T)};z.closeComponent=function(F){return this.data.components.includes(F)?this._apply(new K.CloseComponent(this.data,F)):null};z.canRemoveVertex=function(){return this.data.components[0].vertices.length>
this._minNumVerticesPerType};z.createUndoGroup=function(){const F=new I.UndoGroup;this._apply(F);return{remove(){return F.close()}}};z.undo=function(){if(0<this.undoStack.length){const F=this.undoStack.pop();F.undo();this.redoStack.push(F);return F}return null};z.redo=function(){if(0<this.redoStack.length){const F=this.redoStack.pop();F.apply();this.undoStack.push(F);return F}return null};z._apply=function(F,D=E.AccumulationBehaviour.ACCUMULATE_STEPS){if(D===E.AccumulationBehaviour.NEW_STEP||M.isNone(this.lastOperation)||
!this.lastOperation.accumulate(F))F.apply(),this.undoStack.push(F),this.redoStack=[];return F};A.fromGeometry=function(F,D){return new A(H.EditGeometry.fromGeometry(F,D))};Q._createClass(A,[{key:"canUndo",get:function(){return 0<this.undoStack.length}},{key:"canRedo",get:function(){return 0<this.redoStack.length}},{key:"lastOperation",get:function(){return 0<this.undoStack.length?this.undoStack[this.undoStack.length-1]:null}},{key:"_minNumVerticesPerType",get:function(){switch(this.data.type){case "point":return 1;
case "polyline":return 2;case "polygon":return 3;default:return 0}}}]);return A}(y);t.EditGeometryOperations=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/interfaces":function(){define(["exports"],function(t){t.AccumulationBehaviour=void 0;var Q=t.AccumulationBehaviour||(t.AccumulationBehaviour={});Q[Q.NEW_STEP=0]="NEW_STEP";Q[Q.ACCUMULATE_STEPS=1]="ACCUMULATE_STEPS";Object.defineProperties(t,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/AppendVertex":function(){define(["exports","../../../../core/maybe","../EditGeometry"],function(t,Q,y){let M=function(){function H(C,B,u){this.editGeometry=C;this.component=B;this.pos=u;this.right=this.left=this.originalEdge=this.addedVertex=null}var E=H.prototype;E.apply=function(){let C="redo";Q.isNone(this.addedVertex)&&(C="apply",this.addedVertex=new y.Vertex(this.component));const B=this.component.getLastVertex();
if(Q.isNone(B))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let u=null;B.rightEdge&&(this.originalEdge=B.rightEdge,u=this.originalEdge.rightVertex,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1));this.component.vertices.push(this.addedVertex);this.addedVertex.pos=this.pos;Q.isNone(this.left)&&(this.left=new y.Edge(this.component,B,this.addedVertex));this.component.edges.push(this.left);B.rightEdge=this.left;
Q.isSome(this.originalEdge)&&Q.isSome(u)&&(Q.isNone(this.right)&&(this.right=new y.Edge(this.component,this.addedVertex,u)),this.component.edges.push(this.right),u.leftEdge=this.right);this.component.updateVertexIndex(this.addedVertex,B.index+1)}this.editGeometry.notifyChanges({operation:C,addedVertices:[this.addedVertex]})};E.undo=function(){if(Q.isNone(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1);Q.isSome(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),
1),this.left.leftVertex.rightEdge=null);Q.isSome(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.rightVertex.leftEdge=null);Q.isSome(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.leftVertex.rightEdge=this.originalEdge,this.originalEdge.rightVertex.leftEdge=this.originalEdge);Q.isSome(this.left)?this.component.updateVertexIndex(this.left.leftVertex,this.left.leftVertex.index):this.component.updateVertexIndex(this.addedVertex,
0);this.editGeometry.notifyChanges({operation:"undo",removedVertices:[this.addedVertex]})};E.accumulate=function(){return!1};return H}();t.AppendVertex=M;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/UpdateVertices":function(){define(["exports"],function(t){let Q=function(){function y(H,E,C){this.editGeometry=H;this.vertices=E;this.operation=C;this.undone=!1}var M=y.prototype;M.apply=function(){this.vertices.forEach(H=>
this.operation.apply(H));this.editGeometry.components.forEach(H=>H.unnormalizeVertexPositions());this.editGeometry.notifyChanges({operation:this.undone?"redo":"apply",updatedVertices:this.vertices})};M.undo=function(){this.vertices.forEach(H=>this.operation.undo(H));this.editGeometry.notifyChanges({operation:"undo",updatedVertices:this.vertices});this.undone=!0};M.canAccumulate=function(H){if(this.undone||H.vertices.length!==this.vertices.length)return!1;for(let E=0;E<H.vertices.length;++E)if(H.vertices[E]!==
this.vertices[E])return!1;return this.operation.canAccumulate(H.operation)};M.accumulate=function(H){return H instanceof y&&this.canAccumulate(H)?(this.vertices.forEach(E=>this.operation.accumulate(E,H.operation)),this.operation.accumulateParams(H.operation),this.editGeometry.components.forEach(E=>E.unnormalizeVertexPositions()),this.editGeometry.notifyChanges({operation:"apply",updatedVertices:this.vertices}),!0):!1};return y}();t.AccumulationType=void 0;(function(y){y[y.CUMULATIVE=0]="CUMULATIVE";
y[y.REPLACE=1]="REPLACE"})(t.AccumulationType||(t.AccumulationType={}));t.UpdateVertices=Q;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/RemoveVertices":function(){define(["exports","../../../../core/maybe","../EditGeometry"],function(t,Q,y){let M=function(){function H(C,B,u=0){this.editGeometry=C;this.vertices=B;this.minNumberOfVertices=u;this.removedVertices=null}var E=H.prototype;E.apply=function(){let C=
"redo";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach(B=>{B=this._removeVertex(B);Q.isSome(B)&&this.removedVertices.push(B)}),C="apply"):this.removedVertices.forEach(B=>{this._removeVertex(B.removedVertex)});this.editGeometry.notifyChanges({operation:C,removedVertices:this.vertices})};E.undo=function(){this.removedVertices.forEach(C=>{this._undoRemoveVertex(C)});this.editGeometry.notifyChanges({operation:"undo",addedVertices:this.vertices})};E.accumulate=function(){return!1};
E._removeVertex=function(C){const B=C.component;if(B.vertices.length<=this.minNumberOfVertices)return null;const u={removedVertex:C,createdEdge:null},O=C.leftEdge,P=C.rightEdge;B.vertices.splice(B.vertices.indexOf(C),1);O&&(B.edges.splice(B.edges.indexOf(O),1),O.leftVertex.rightEdge=null);P&&(B.edges.splice(B.edges.indexOf(P),1),P.rightVertex.leftEdge=null);0===C.index&&P&&0<this.vertices.length&&B.swapVertices(B.vertices.indexOf(P.rightVertex),0);O&&P&&(u.createdEdge=new y.Edge(B,O.leftVertex,P.rightVertex),
B.edges.push(u.createdEdge));P&&B.updateVertexIndex(P.rightVertex,P.rightVertex.index-1);return u};E._undoRemoveVertex=function(C){const B=C.removedVertex,u=C.removedVertex.component,O=B.leftEdge,P=B.rightEdge;C.createdEdge&&u.edges.splice(u.edges.indexOf(C.createdEdge),1);u.vertices.push(B);O&&(u.edges.push(O),O.leftVertex.rightEdge=O);P&&(u.edges.push(P),P.rightVertex.leftEdge=P);u.updateVertexIndex(B,B.index)};return H}();t.RemoveVertices=M;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/interactive/editGeometry/operations/SplitEdge":function(){define(["exports","../../../../core/maybe","../EditGeometry"],function(t,Q,y){let M=function(){function H(C,B,u){this.editGeometry=C;this.edge=B;this.t=u;this.right=this.left=this.createdVertex=null}var E=H.prototype;E.apply=function(){let C="redo";const B=this.edge,u=B.component,O=B.leftVertex,P=B.rightVertex;u.edges.splice(u.edges.indexOf(B),1);Q.isNone(this.createdVertex)&&(C="apply",this.createdVertex=new y.Vertex(B.component));
u.vertices.push(this.createdVertex);this.createdVertex.pos=this.editGeometry.coordinateHelper.lerp(B.leftVertex.pos,B.rightVertex.pos,this.t,this.editGeometry.coordinateHelper.createVector());Q.isNone(this.left)&&(this.left=new y.Edge(u,O,this.createdVertex));this.left.leftVertex.leftEdge?u.edges.push(this.left):u.edges.unshift(this.left);O.rightEdge=this.left;Q.isNone(this.right)&&(this.right=new y.Edge(u,this.createdVertex,P));u.edges.push(this.right);P.leftEdge=this.right;u.updateVertexIndex(this.createdVertex,
O.index+1);this.editGeometry.notifyChanges({operation:C,addedVertices:[this.createdVertex]})};E.undo=function(){if(Q.isNone(this.createdVertex)||Q.isNone(this.left)||Q.isNone(this.right))return null;const C=this.edge,B=C.component,u=this.createdVertex.leftEdge.leftVertex,O=this.createdVertex.rightEdge.rightVertex;B.vertices.splice(B.vertices.indexOf(this.createdVertex),1);B.edges.splice(B.edges.indexOf(this.left),1);B.edges.splice(B.edges.indexOf(this.right),1);this.edge.leftVertex.leftEdge?B.edges.push(this.edge):
B.edges.unshift(this.edge);u.rightEdge=C;O.leftEdge=C;B.updateVertexIndex(u,u.index);this.editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})};E.accumulate=function(){return!1};return H}();t.SplitEdge=M;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/SetVertexPosition":function(){define(["exports","../../../../core/maybe"],function(t,Q){let y=function(){function M(E,C,B){this.editGeometry=
E;this.vertex=C;this.pos=B}var H=M.prototype;H.apply=function(){const E=Q.isNone(this.originalPosition);E&&(this.originalPosition=this.vertex.pos);this._apply(E?"apply":"redo")};H.undo=function(){this.vertex.pos=Q.unwrap(this.originalPosition);this.editGeometry.notifyChanges({operation:"undo",updatedVertices:[this.vertex]})};H.accumulate=function(E){return E instanceof M&&E.vertex===this.vertex?(this.pos=E.pos,this._apply("apply"),!0):!1};H._apply=function(E){this.vertex.pos=this.pos;this.editGeometry.components.forEach(C=>
C.unnormalizeVertexPositions());this.editGeometry.notifyChanges({operation:E,updatedVertices:[this.vertex]})};return M}();t.SetVertexPosition=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/CloseComponent":function(){define(["exports","../../../../core/arrayUtils","../../../../core/maybe","../EditGeometry"],function(t,Q,y,M){let H=function(){function E(B,u){this.editGeometry=B;this.component=u;this.createdEdge=
null}var C=E.prototype;C.apply=function(){let B="redo";if(y.isNone(this.createdEdge)){B="apply";const u=this.component.getFirstVertex(),O=this.component.getLastVertex();if(this.component.isClosed()||3>this.component.vertices.length||y.isNone(u)||y.isNone(O))return;this.createdEdge=new M.Edge(this.component,O,u)}this.createdEdge.leftVertex.rightEdge=this.createdEdge;this.createdEdge.rightVertex.leftEdge=this.createdEdge;this.component.edges.push(this.createdEdge);this.editGeometry.notifyChanges({operation:B})};
C.undo=function(){y.isNone(this.createdEdge)||(Q.remove(this.component.edges,this.createdEdge),this.createdEdge.leftVertex.rightEdge=null,this.createdEdge.rightVertex.leftEdge=null,this.editGeometry.notifyChanges({operation:"undo"}))};C.accumulate=function(){return!1};return E}();t.CloseComponent=H;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/MoveVertex":function(){define(["exports"],function(t){let Q=function(){function y(H,
E,C,B){this.helper=H;this.dx=E;this.dy=C;this.dz=B}var M=y.prototype;M._move=function(H,E,C,B){this.helper.addDelta(H.pos,E,C,B)};M.apply=function(H){this._move(H,this.dx,this.dy,this.dz)};M.undo=function(H){this._move(H,-this.dx,-this.dy,-this.dz)};M.canAccumulate=function(H){return H instanceof y};M.accumulate=function(H,E){this._move(H,E.dx,E.dy,E.dz)};M.accumulateParams=function(H){this.dx+=H.dx;this.dy+=H.dy;this.dz+=H.dz};return y}();t.MoveVertex=Q;Object.defineProperties(t,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/OffsetEdgeVertex":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/mathUtils ../../../../core/maybe ../../../../chunks/vec2 ../../../../chunks/vec2f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/plane ../../../../geometry/support/vector ../../../support/geometry2dUtils".split(" "),function(t,Q,y,M,H,E,C,B,u,O,P){let K=function(){function L(I,
x,A,z=0,F=N.IMMEDIATE){this.helper=I;this.planeType=x;this.edge=A;this.distance=z;this._plane=u.create();this._offsetPlane=u.create();this._minDistance=-Infinity;this._maxDistance=Infinity;F===N.IMMEDIATE&&this._initialize()}var R=L.prototype;R._initialize=function(){this._initializeNeighbors();this._initializePlane();this._initializeDistanceConstraints()};R._initializeNeighbors=function(){var I,x,A,z;const F=this._toXYZ(this.edge.leftVertex.pos),D=this._toXYZ(null==(I=this.edge.leftVertex.leftEdge)?
void 0:null==(x=I.leftVertex)?void 0:x.pos);I=this._toXYZ(this.edge.rightVertex.pos);x=this._toXYZ(null==(A=this.edge.rightVertex.rightEdge)?void 0:null==(z=A.rightVertex)?void 0:z.pos);this._edgeDirection=C.direction(B.create(),F,I);this._left=this._computeNeighbor(F,D,this._edgeDirection);this._right=this._computeNeighbor(I,x,this._edgeDirection)};R._toXYZ=function(I){return M.isSome(I)?this.helper.toXYZ(I):null};R._computeNeighbor=function(I,x,A){if(M.isNone(x))return{start:I,end:x,direction:B.fromValues(-A[1],
A[0],0),isOriginalDirection:!0};const z=C.direction(B.create(),I,x),F=!this._passesBisectingAngleThreshold(z,A);return{start:I,end:x,direction:F?this._bisectVectorsPerpendicular(A,z):z,isOriginalDirection:!F}};R._passesBisectingAngleThreshold=function(I,x){I=Math.abs(O.angle(x,I));return I>=J&&I<=Math.PI-J};R._bisectVectorsPerpendicular=function(I,x){I=0>C.dot(I,x)?I:C.negate(B.create(),I);const A=Math.abs(C.dot(I,x));if(!(.001>A||.999<A))return this._bisectDirection(I,x);x=C.cross(B.create(),I,[0,
0,1]);return C.normalize(x,x)};R._bisectDirection=function(I,x){I=C.add(B.create(),I,x);return C.normalize(I,I)};R._initializePlane=function(){const I=this._computeNormalDirection(this._left),x=this._computeNormalDirection(this._right);0>C.dot(I,x)&&C.negate(x,x);u.fromPositionAndNormal(this._left.start,this._bisectDirection(I,x),this._plane)};R._computeNormalDirection=function(I){I=C.cross(B.create(),I.direction,this._edgeDirection);C.normalize(I,I);I=C.cross(B.create(),this._edgeDirection,I);this.planeType===
t.PlaneType.XY&&(I[2]=0);return C.normalize(I,I)};R._initializeDistanceConstraints=function(){M.isSome(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(u.signedDistance(this._plane,this._left.end));M.isSome(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(u.signedDistance(this._plane,this._right.end));this._updateIntersectDistanceConstraint(this._plane)};R._updateDistanceConstraint=function(I){0>=I&&(this._minDistance=Math.max(this._minDistance,
I));0<=I&&(this._maxDistance=Math.min(this._maxDistance,I))};R._updateIntersectDistanceConstraint=function(I){var x=u.normal(I);const A=this._edgeDirection;var z=C.add(B.create(),this._left.start,this._left.direction);const F=C.add(B.create(),this._right.start,this._right.direction);var D=this._pointInBasis2D(E.create(),x,A,this._left.start),U=this._pointInBasis2D(E.create(),x,A,z),T=this._pointInBasis2D(E.create(),x,A,this._right.start);x=this._pointInBasis2D(E.create(),x,A,F);[T]=P.intersectLineAndRay({start:U,
end:D,type:P.LineType.LINE},{start:x,end:T,type:P.LineType.LINE});T&&(D=H.subtract(E.create(),D,U),H.normalize(D,D),U=H.subtract(E.create(),T,U),U=H.dot(D,U),z=C.add(B.create(),z,C.scale(B.create(),this._left.direction,-U)),I=u.signedDistance(I,z),this._updateDistanceConstraint(I))};R._pointInBasis2D=function(I,x,A,z){I[0]=O.projectPointSignedLength(x,z);I[1]=O.projectPointSignedLength(A,z);return I};R._offset=function(I,x){Number.isFinite(this._minDistance)&&(x=Math.max(this._minDistance,x));Number.isFinite(this._maxDistance)&&
(x=Math.min(this._maxDistance,x));u.copy(this._offsetPlane,this._plane);this._offsetPlane[3]-=x;x=(z,F,D)=>M.isSome(F)&&u.intersectLine(this._offsetPlane,z,C.add(B.create(),z,F),D);const A=B.create();(I===this.edge.leftVertex?x(this._left.start,this._left.direction,A):x(this._right.start,this._right.direction,A))&&this.helper.copy(this.helper.fromXYZ(A,void 0,this.helper.getM(I.pos)),I.pos)};R.signedDistanceToPoint=function(I){return u.signedDistance(this.plane,this.helper.toXYZ(this.helper.pointToVector(I)))};
R.apply=function(I){this._offset(I,this.distance)};R.undo=function(I){this._offset(I,0)};R.canAccumulate=function(I){return I instanceof L&&this.edge.leftVertex.index===I.edge.leftVertex.index&&this.edge.rightVertex.index===I.edge.rightVertex.index&&this.edge.component===I.edge.component&&this._maybeEqualsVec3(this._left.direction,I._left.direction)&&this._maybeEqualsVec3(this._right.direction,I._right.direction)&&C.equals(u.normal(this._plane),u.normal(I._plane))};R.accumulate=function(I,x){this._offset(I,
this._plane[3]-x._plane[3]+x.distance)};R.accumulateParams=function(I){this.distance=I.distance-I._plane[3]+this._plane[3]};R.clone=function(){const I=new L(this.helper,this.planeType,this.edge,this.distance,N.DEFERRED);u.copy(I._plane,this._plane);u.copy(I._offsetPlane,this._offsetPlane);I._maxDistance=this._maxDistance;I._minDistance=this._minDistance;I._left=this._cloneNeighbor(this._left);I._right=this._cloneNeighbor(this._right);I._edgeDirection=C.copy(B.create(),this._edgeDirection);return I};
R._maybeEqualsVec3=function(I,x){return M.isNone(I)&&M.isNone(x)||M.isSome(I)&&M.isSome(x)&&C.equals(I,x)};R._cloneNeighbor=function({start:I,end:x,direction:A,isOriginalDirection:z}){return{start:C.copy(B.create(),I),end:M.isSome(x)?C.copy(B.create(),x):null,direction:C.copy(B.create(),A),isOriginalDirection:z}};Q._createClass(L,[{key:"plane",get:function(){return this._plane}},{key:"requiresSplitEdgeLeft",get:function(){return!this._left.isOriginalDirection}},{key:"requiresSplitEdgeRight",get:function(){return!this._right.isOriginalDirection}},
{key:"edgeDirection",get:function(){return this._edgeDirection}}]);return L}();const J=y.deg2rad(15);t.PlaneType=void 0;(function(L){L[L.XYZ=0]="XYZ";L[L.XY=1]="XY"})(t.PlaneType||(t.PlaneType={}));var N;(function(L){L[L.IMMEDIATE=0]="IMMEDIATE";L[L.DEFERRED=1]="DEFERRED"})(N||(N={}));t.OffsetEdgeVertex=K;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/geometry2dUtils":function(){define(["exports","../../core/mathUtils","../../chunks/vec2",
"../../chunks/vec2f64"],function(t,Q,y,M){function H(J,N){return J[0]*N[1]-J[1]*N[0]}function E(J,N,L){N=y.dot(L,N)/y.squaredLength(L);return y.scale(J,L,N)}function C(J,N,L,R,I=L){y.subtract(u,R,L);y.subtract(P,N,I);E(K,P,u);return y.add(J,I,K)}function B(J,N,L,R){y.subtract(u,N,L);N=R/y.length(u);return y.scaleAndAdd(J,L,u,N)}t.LineType=void 0;(function(J){J[J.RAY=0]="RAY";J[J.LINE=1]="LINE"})(t.LineType||(t.LineType={}));const u=M.create(),O=M.create(),P=M.create(),K=M.create();t.cross=H;t.intersectCircleAndPoint=
function(J,N,L){B(P,L,J,N);return Q.floatEqualAbsolute(P[0],L[0])&&Q.floatEqualAbsolute(P[1],L[1])?[M.clone(L)]:[]};t.intersectLineAndPoint=function(J,N){C(P,N,J.start,J.end);return Q.floatEqualAbsolute(P[0],N[0])&&Q.floatEqualAbsolute(P[1],N[1])?[M.clone(N)]:[]};t.intersectLineAndRay=function(J,N){const L=J.start;var R=N.start,I=N.end;const x=y.subtract(u,J.end,L);var A=y.subtract(O,I,R);I=H(x,A);if(1E-6>=Math.abs(I))return[];R=y.subtract(P,L,R);A=H(A,R)/I;I=H(x,R)/I;if(0<=A){if(0<=I||N.type===t.LineType.LINE)return[y.scaleAndAdd(K,
L,x,A)]}else if(J.type===t.LineType.LINE&&(0<=I||N.type===t.LineType.LINE))return[y.scaleAndAdd(K,L,x,A)];return[]};t.intersectLineLikeAndCircle=function(J,N,L){const R=[],I=y.subtract(u,J.end,J.start);var x=y.subtract(O,J.start,N);N=y.squaredLength(I);const A=2*y.dot(I,x);L=y.squaredLength(x)-L*L;L=A*A-4*N*L;0===L?(N=-A/(2*N),(J.type===t.LineType.LINE||0<=N)&&R.push(y.scaleAndAdd(K,J.start,I,N))):0<L&&(L=Math.sqrt(L),x=(-A+L)/(2*N),(J.type===t.LineType.LINE||0<=x)&&R.push(y.scaleAndAdd(K,J.start,
I,x)),N=(-A-L)/(2*N),(J.type===t.LineType.LINE||0<=N)&&R.push(y.scaleAndAdd(P,J.start,I,N)));return R};t.pointToLineDistance=function(J,N,L){return Math.abs((N[0]-J[0])*(L[1]-J[1])-(N[1]-J[1])*(L[0]-J[0]))/y.distance(N,L)};t.projectPoint=E;t.projectPointToCircle=B;t.projectPointToLine=C;t.projectPointToRay=function(J,N,L,R){y.subtract(u,R,L);y.subtract(P,N,L);N=y.dot(u,P)/y.squaredLength(u);return 0<N?y.scaleAndAdd(J,L,u,N):y.copy(J,L)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/interactive/editGeometry/operations/RotateVertex":function(){define(["exports","../../../../core/arrayUtils","../../../../chunks/vec2","./UpdateVertices"],function(t,Q,y,M){let H=function(){function E(B,u,O=M.AccumulationType.CUMULATIVE){this.origin=B;this.angle=u;this.accumulationType=O}var C=E.prototype;C._rotate=function(B,u){y.rotate(B.pos,B.pos,this.origin,u)};C.apply=function(B){this._rotate(B,this.angle)};C.undo=function(B){this._rotate(B,-this.angle)};C.canAccumulate=function(B){return B instanceof
E&&Q.equals(this.origin,B.origin)};C.accumulate=function(B,u){this._rotate(B,u.accumulationType===M.AccumulationType.REPLACE?u.angle-this.angle:u.angle)};C.accumulateParams=function(B){this.angle=B.accumulationType===M.AccumulationType.REPLACE?B.angle:this.angle+B.angle};return E}();t.RotateVertex=H;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/ScaleVertex":function(){define(["exports","../../../../core/arrayUtils",
"../../../../chunks/vec2f64","../../../../chunks/vec2","./UpdateVertices"],function(t,Q,y,M,H){let E=function(){function C(u,O,P,K,J=H.AccumulationType.CUMULATIVE){this.origin=u;this.axis1=O;this.factor1=P;this.factor2=K;this.accumulationType=J;this.axis2=y.fromValues(O[1],-O[0])}var B=C.prototype;B._scale=function(u,O,P){M.projectAndScale(u.pos,u.pos,this.origin,this.axis1,O);M.projectAndScale(u.pos,u.pos,this.origin,this.axis2,P)};B.apply=function(u){this._scale(u,this.factor1,this.factor2)};B.undo=
function(u){this._scale(u,1/this.factor1,1/this.factor2)};B.canAccumulate=function(u){return u instanceof C&&Q.equals(this.origin,u.origin)&&Q.equals(this.axis1,u.axis1)};B.accumulate=function(u,O){O.accumulationType===H.AccumulationType.REPLACE?this._scale(u,O.factor1/this.factor1,O.factor2/this.factor2):this._scale(u,O.factor1,O.factor2)};B.accumulateParams=function(u){const O=u.accumulationType===H.AccumulationType.REPLACE;this.factor1=O?u.factor1:this.factor1*u.factor1;this.factor2=O?u.factor2:
this.factor2*u.factor2};return C}();t.ScaleVertex=E;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/operations/UndoGroup":function(){define(["exports"],function(t){let Q=function(){function y(){this.operations=[];this.closed=!1}var M=y.prototype;M.close=function(){this.closed=!0};M.apply=function(){for(const H of this.operations)H.apply()};M.undo=function(){for(let H=this.operations.length-1;0<=H;H--)this.operations[H].undo()};
M.accumulate=function(H){if(this.closed)return!1;const E=this.operations.length?this.operations[this.operations.length-1]:null;E&&E.accumulate(H)||(this.operations.push(H),H.apply());return!0};return y}();t.UndoGroup=Q;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/sketch/SketchLabelOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(t,Q,y,M,H,E,C,B){y=function(u){function O(P){P=u.call(this,P)||this;P.enabled=!1;return P}t._inheritsLoose(O,u);return O}(y);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],y.prototype,"enabled",void 0);return y=Q.__decorate([B.subclass("esri.views.interactive.sketch.SketchLabelOptions")],y)})},"esri/views/interactive/sketch/SketchTooltipOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(t,Q,y,M,H,E,C,B){let u=function(P){function K(J){J=P.call(this,J)||this;J.mode="absolute-height";return J}t._inheritsLoose(K,P);return K}(y);Q.__decorate([M.property({type:String,nonNullable:!0})],u.prototype,"mode",void 0);u=Q.__decorate([B.subclass("esri.widgets.Sketch.SketchTooltipOptions.ElevationOptions")],u);let O=function(P){function K(){var J=P.apply(this,arguments)||this;J.distance=!0;J.elevation=!0;J.size=!0;J.scale=!0;J.rotation=!0;J.orientation=!0;J.totalLength=!0;J.area=!0;J.radius=
!0;return J}t._inheritsLoose(K,P);return K}(y);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],O.prototype,"distance",void 0);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],O.prototype,"elevation",void 0);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],O.prototype,"size",void 0);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],O.prototype,"scale",void 0);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],O.prototype,"rotation",void 0);Q.__decorate([M.property({type:Boolean,
nonNullable:!0})],O.prototype,"orientation",void 0);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],O.prototype,"totalLength",void 0);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],O.prototype,"area",void 0);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],O.prototype,"radius",void 0);O=Q.__decorate([B.subclass("esri.widgets.Sketch.SketchTooltipOptions.VisibleElements")],O);y=function(P){function K(J){J=P.call(this,J)||this;J.enabled=!1;J.elevation=new u;J.visibleElements=
new O;J.visualVariables=null;return J}t._inheritsLoose(K,P);return K}(y);Q.__decorate([M.property({type:Boolean,nonNullable:!0})],y.prototype,"enabled",void 0);Q.__decorate([M.property({type:u,nonNullable:!0})],y.prototype,"elevation",void 0);Q.__decorate([M.property({type:O,nonNullable:!0})],y.prototype,"visibleElements",void 0);Q.__decorate([M.property()],y.prototype,"visualVariables",void 0);return y=Q.__decorate([B.subclass("esri.widgets.Sketch.SketchTooltipOptions")],y)})},"esri/views/interactive/snapping/SnappingContext":function(){define(["exports",
"../../../chunks/_rollupPluginBabelHelpers"],function(t,Q){let y=function(){function M(H){this.visualizer=this.excludeFeature=this.vertexHandle=null;this.editGeometryOperations=H.editGeometryOperations;this.elevationInfo=H.elevationInfo;this.pointer=H.pointer;this.vertexHandle=H.vertexHandle;this.excludeFeature=H.excludeFeature;this.visualizer=H.visualizer}Q._createClass(M,[{key:"coordinateHelper",get:function(){return this.editGeometryOperations.data.coordinateHelper}}]);return M}();t.SnappingContext=
y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/SnappingDragPipelineStep":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../core/promiseUtils ../../../layers/graphics/dehydratedFeatureComparison ../dragEventPipeline ./SnappingContext ../../support/Scheduler".split(" "),function(t,Q,y,M,H,E,C,B){let u=function(){function O(){this.next=new E.EventPipeline}O.prototype.createSnapDragEventPipelineStep=
function({predicate:P=()=>!0,cancel:K,snappingManager:J,snappingContext:N,updatingHandles:L}){var R=this;if(y.isNone(J))return U=>U;let I=null,x=null;const A=()=>{I=y.abortMaybe(I);J.doneSnapping();y.isSome(x)&&x.frameTask.remove();x=null};K.next(U=>{A();return U});this.next=new E.EventPipeline;const z=M.debounce(function(){var U=Q._asyncToGenerator(function*({frameTask:T,point:W,context:da,event:aa,dx:ea,dy:ba},ca){const ka=yield T.schedule(()=>J.snap(W,da,ca),ca);ka.valid&&(T=yield T.schedule(()=>
ka.apply(),ca),W!==F&&(T=J.update(F,da)),H.pointEquals(T,D)||(aa.mapEnd.x=T.x+ea,aa.mapEnd.y=T.y+ba,R.next.execute(aa)))});return function(T,W){return U.apply(this,arguments)}}());let F,D;return U=>{if(!P(U))return U;if("start"===U.action){var T="3d"===J.view.type?J.view.resourceController.scheduler.registerTask(B.TaskPriority.SNAPPING):B.ImmediateTask;x={context:new C.SnappingContext({editGeometryOperations:N.editGeometryOperations,elevationInfo:N.elevationInfo,pointer:N.pointer,vertexHandle:y.isSome(U.info)?
U.info.handle:null,excludeFeature:N.excludeFeature,visualizer:N.visualizer}),originalPos:y.isSome(U.snapOrigin)?N.coordinateHelper.vectorToDehydratedPoint(U.snapOrigin):U.mapStart,frameTask:T}}if(y.isSome(x)){T=x.context.coordinateHelper.vectorToDehydratedPoint(x.context.coordinateHelper.arrayToVector([x.originalPos.x,x.originalPos.y,x.originalPos.z]));T.x+=U.mapEnd.x-U.mapStart.x;T.y+=U.mapEnd.y-U.mapStart.y;const da=U.mapStart.x-x.originalPos.x,aa=U.mapStart.y-x.originalPos.y,ea={...U,action:"update"},
ba=x.context;var W=J.update(T,x.context);D=W;U.mapEnd.x=W.x+da;U.mapEnd.y=W.y+aa;F=T;"end"!==U.action&&(W=x.frameTask,y.isSome(I)||(I=new AbortController),L.addPromise(M.ignoreAbortErrors(z({frameTask:W,event:ea,context:ba,point:T,dx:da,dy:aa},I.signal))))}"end"===U.action&&A();return U}};return O}();t.SnappingPipeline=u;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/snapping/SnappingOperation":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/promiseUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../support/Scheduler".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K){t.SnappingOperation=function(J){function N(R){var I=J.call(this,R)||this;I.stagedPoint=null;I._abortController=null;I._snap=E.debounce(function(){var x=Q._asyncToGenerator(function*(A,z,F,D){const U=yield I._frameTask.schedule(()=>z.snap(A,F,D),D);U.valid&&(yield I._frameTask.schedule(()=>{I.stagedPoint=U.apply();A!==I._snapMapPoint&&(I.stagedPoint=z.update(I._snapMapPoint,F))},D))});return function(A,z,F,D){return x.apply(this,arguments)}}());return I}Q._inheritsLoose(N,
J);var L=N.prototype;L.initialize=function(){var R,I;const x="3d"===this.view.type?null==(R=this.view)?void 0:null==(I=R.resourceController)?void 0:I.scheduler:null;this._frameTask=H.isSome(x)?x.registerTask(K.TaskPriority.SNAPPING):K.ImmediateTask};L.destroy=function(){this._abortController=H.abortMaybe(this._abortController);this._frameTask=H.removeMaybe(this._frameTask)};L.snap=function(){var R=Q._asyncToGenerator(function*(I,x,A){this.stagedPoint=x.update(I,A);this._snapMapPoint=I;H.isNone(this._abortController)&&
(this._abortController=new AbortController);return this._snap(I,x,A,this._abortController.signal)});return function(I,x,A){return R.apply(this,arguments)}}();L.abort=function(){this._abortController=H.abortMaybe(this._abortController)};return N}(M);y.__decorate([C.property({constructOnly:!0})],t.SnappingOperation.prototype,"view",void 0);y.__decorate([C.property()],t.SnappingOperation.prototype,"stagedPoint",void 0);t.SnappingOperation=y.__decorate([P.subclass("esri.views.interactive.snapping.SnappingOperation")],
t.SnappingOperation);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/DrawTooltipInfos":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ./SketchTooltipInfo".split(" "),function(t,Q,y,M,H,E){t.DrawPointTooltipInfo=function(C){function B(u){u=C.call(this,u)||this;u.type="draw-point";
return u}Q._inheritsLoose(B,C);return B}(E.SketchTooltipInfo);y.__decorate([M.property()],t.DrawPointTooltipInfo.prototype,"type",void 0);y.__decorate([M.property()],t.DrawPointTooltipInfo.prototype,"elevation",void 0);t.DrawPointTooltipInfo=y.__decorate([H.subclass("esri.views.interactive.tooltip.DrawPointTooltipInfo")],t.DrawPointTooltipInfo);t.DrawPolylineTooltipInfo=function(C){function B(u){u=C.call(this,u)||this;u.type="draw-polyline";return u}Q._inheritsLoose(B,C);return B}(E.SketchTooltipInfo);
y.__decorate([M.property()],t.DrawPolylineTooltipInfo.prototype,"type",void 0);y.__decorate([M.property()],t.DrawPolylineTooltipInfo.prototype,"elevation",void 0);y.__decorate([M.property()],t.DrawPolylineTooltipInfo.prototype,"totalLength",void 0);t.DrawPolylineTooltipInfo=y.__decorate([H.subclass("esri.views.interactive.tooltip.DrawPolylineTooltipInfo")],t.DrawPolylineTooltipInfo);t.DrawPolygonTooltipInfo=function(C){function B(u){u=C.call(this,u)||this;u.type="draw-polygon";return u}Q._inheritsLoose(B,
C);return B}(E.SketchTooltipInfo);y.__decorate([M.property()],t.DrawPolygonTooltipInfo.prototype,"type",void 0);y.__decorate([M.property()],t.DrawPolygonTooltipInfo.prototype,"elevation",void 0);y.__decorate([M.property()],t.DrawPolygonTooltipInfo.prototype,"area",void 0);t.DrawPolygonTooltipInfo=y.__decorate([H.subclass("esri.views.interactive.tooltip.DrawPolygonTooltipInfo")],t.DrawPolygonTooltipInfo);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/SketchTooltipInfo":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(t,Q,y,M,H,E,C,B,u){t.SketchTooltipInfo=function(O){function P(K){return O.call(this,K)||this}Q._inheritsLoose(P,O);return P}(M);y.__decorate([H.property()],t.SketchTooltipInfo.prototype,"tooltipOptions",void 0);t.SketchTooltipInfo=y.__decorate([u.subclass("esri.views.interactive.tooltip.SketchTooltipInfo")],t.SketchTooltipInfo);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/Tooltip":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./css ./content/tooltipContentFactory ../../../widgets/support/widgetUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){function L({container:x,contentWidget:A,screenPoint:z}){const {style:F}=x;H.isSome(z)&&H.isSome(A)?(F.display="block",x=N.isRTL(x),z=`translate(${Math.round(z.x)+I[0]*(x?-1:1)}px, ${Math.round(z.y)+I[1]}px)`,F.transform=x?`translate(-100%, 0) ${z}`:z):F.display="none"}var R=`${K.BASE}`;t.Tooltip=function(x){function A(F){F=x.call(this,F)||this;F.info=null;var D=document.createElement("div");D.classList.add(R);F._contentContainer=D;F._contentWidget=null;return F}
Q._inheritsLoose(A,x);var z=A.prototype;z.initialize=function(){const F=this._contentContainer;this.own([E.watch(()=>{var D;return null==(D=this.view.overlay)?void 0:D.surface},D=>{F.remove();H.applySome(D,U=>U.appendChild(F))},E.syncAndInitial),E.watch(()=>this.info,(D,U)=>{H.isSome(this._contentWidget)&&H.isSome(D)&&H.isSome(U)&&D.type===U.type?this._contentWidget.info=D:(this._contentWidget=H.destroyMaybe(this._contentWidget),H.applySome(J.tooltipContentFactory(this,D),T=>{this._contentWidget=
T;F.appendChild(T.container)}))},E.syncAndInitial),E.watch(()=>{var D;return{container:this._contentContainer,contentWidget:this._contentWidget,screenPoint:null==(D=this.view.inputManager)?void 0:D.latestPointerLocation}},L,E.syncAndInitial)])};z.destroy=function(){this._contentWidget=H.destroyMaybe(this._contentWidget);this._contentContainer.remove()};z.clear=function(){this.info=null};Q._createClass(A,[{key:"test",get:function(){return{contentContainer:this._contentContainer}}}]);return A}(M);y.__decorate([C.property({nonNullable:!0})],
t.Tooltip.prototype,"view",void 0);y.__decorate([C.property()],t.Tooltip.prototype,"info",void 0);y.__decorate([C.property()],t.Tooltip.prototype,"_contentContainer",void 0);y.__decorate([C.property()],t.Tooltip.prototype,"_contentWidget",void 0);t.Tooltip=y.__decorate([P.subclass("esri.views.interactive.tooltip.Tooltip")],t.Tooltip);const I=[20,20];Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/css":function(){define(["exports"],
function(t){t.BASE="esri-tooltip";t.CONTENT="esri-tooltip-content";Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/tooltipContentFactory":function(){define("exports ../../../../core/maybe ./TooltipContentDrawPoint ./TooltipContentDrawPolygon ./TooltipContentDrawPolyline ./TooltipContentExtentRotate ./TooltipContentExtentScale ./TooltipContentReshapeEdgeOffset ./TooltipContentReshapeMoveGraphic ./TooltipContentTransformAbsolute ./TooltipContentTransformRotate ./TooltipContentTransformScale ./TooltipContentTranslateVertex ./TooltipContentTranslateZ".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){t.tooltipContentFactory=function(L,R){if(Q.isNone(R))return null;const I=document.createElement("div");switch(R.type){case "draw-point":return new y.TooltipContentDrawPoint({tooltip:L,info:R,container:I});case "draw-polygon":return new M.TooltipContentDrawPolygon({tooltip:L,info:R,container:I});case "draw-polyline":return new H.TooltipContentDrawPolyline({tooltip:L,info:R,container:I});case "extent-rotate":return new E.TooltipContentExtentRotate({tooltip:L,info:R,
container:I});case "extent-scale":return new C.TooltipContentExtentScale({tooltip:L,info:R,container:I});case "reshape-edge-offset":return new B.TooltipContentReshapeEdgeOffset({tooltip:L,info:R,container:I});case "transform-absolute":return new O.TooltipContentTransformAbsolute({tooltip:L,info:R,container:I});case "transform-rotate":return new P.TooltipContentTransformRotate({tooltip:L,info:R,container:I});case "transform-scale":return new K.TooltipContentTransformScale({tooltip:L,info:R,container:I});
case "translate-graphic":return new u.TooltipContentReshapeMoveGraphic({tooltip:L,info:R,container:I});case "translate-vertex":return new J.TooltipContentTranslateVertex({tooltip:L,info:R,container:I});case "translate-z":return new N.TooltipContentTranslateZ({tooltip:L,info:R,container:I})}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentDrawPoint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L=`${O.CONTENT} ${`${O.CONTENT}--draw-point`}`;t.TooltipContentDrawPoint=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){var x;const {elevation:A}=this.info,z=null==(x=this._messagesTooltip)?void 0:x.sketch;return N.tsx("div",{class:L},N.tsx(K.TooltipField,{title:null==z?void 0:z.elevation,value:this._formatVerticalLength(A)}))};return I}(P.TooltipContent);t.TooltipContentDrawPoint=y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],
t.TooltipContentDrawPoint);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContent":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../intl ../../../../core/maybe ../../../../core/quantityFormatUtils ../../../../core/unitUtils ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass ../../../../widgets/Widget ../../../../widgets/support/widgetUtils ../../../../widgets/support/decorators/messageBundle ../../../../intl/number".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R){t.TooltipContent=function(I){function x(){var z=I.apply(this,arguments)||this;z._messagesUnits=null;z._messagesTooltip=null;return z}Q._inheritsLoose(x,I);var A=x.prototype;A._formatScale=function(z){return R.formatNumber(z,{style:"percent",maximumFractionDigits:0})};A._formatRelativeOrientation=function(z){return R.formatNumber(z,{maximumFractionDigits:2,minimumFractionDigits:2,signDisplay:"exceptZero"})};A._formatLength=function(z,F,D){return E.formatLength(this._messagesUnits,
z,H.unwrapOr(F,this._units.length),D)};A._formatRelativeLength=function(z){return E.formatRelativeLength(this._messagesUnits,z,this._units.length)};A._formatVerticalLength=function(z){return E.formatVerticalLength(this._messagesUnits,z,this._units.verticalLength)};A._formatRelativeVerticalLength=function(z){return E.formatRelativeVerticalLength(this._messagesUnits,z,this._units.verticalLength)};A._formatTotalLength=function(z){return E.formatLength(this._messagesUnits,z,this._units.length)};A._formatArea=
function(z){return E.formatArea(this._messagesUnits,z,this._units.area)};A._formatPercentage=function(z){return R.formatNumber(z.value,{style:"percent"})};Q._createClass(x,[{key:"_units",get:function(){const z=C.getDefaultUnitForView(this.tooltip.view);return{length:z,verticalLength:z,area:z}}}]);return x}(J);y.__decorate([B.property()],t.TooltipContent.prototype,"info",void 0);y.__decorate([B.property()],t.TooltipContent.prototype,"tooltip",void 0);y.__decorate([B.property()],t.TooltipContent.prototype,
"_units",null);y.__decorate([L.messageBundle("esri/core/t9n/Units"),B.property()],t.TooltipContent.prototype,"_messagesUnits",void 0);y.__decorate([L.messageBundle("esri/views/interactive/tooltip/t9n/Tooltip"),B.property()],t.TooltipContent.prototype,"_messagesTooltip",void 0);t.TooltipContent=y.__decorate([K.subclass("esri.views.interactive.tooltip.content.TooltipContent")],t.TooltipContent);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/support/TooltipField":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass ../css ../../../../widgets/Widget ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K){const J=`${u.BASE}-field`;var N=`${J}__title`,L=`${J}__value`;t.TooltipField=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){return K.tsx("div",{class:J},K.tsx("div",{class:N},this.title),K.tsx("div",{class:L},this.value))};return I}(O);y.__decorate([M.property()],t.TooltipField.prototype,"title",void 0);y.__decorate([M.property()],t.TooltipField.prototype,"value",void 0);t.TooltipField=y.__decorate([B.subclass("esri.views.interactive.tooltip.support.TooltipField")],
t.TooltipField);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentDrawPolygon":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L=`${O.CONTENT} ${`${O.CONTENT}--draw-polygon`}`;t.TooltipContentDrawPolygon=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){var x;const {area:A,elevation:z}=this.info,F=null==(x=this._messagesTooltip)?void 0:x.sketch;return N.tsx("div",{class:L},N.tsx(K.TooltipField,{title:null==F?void 0:F.elevation,value:this._formatVerticalLength(z)}),N.tsx(K.TooltipField,{title:null==F?void 0:F.area,value:this._formatArea(A)}))};
return I}(P.TooltipContent);t.TooltipContentDrawPolygon=y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],t.TooltipContentDrawPolygon);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentDrawPolyline":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L=`${O.CONTENT} ${`${O.CONTENT}--draw-polyline`}`;t.TooltipContentDrawPolyline=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){var x;const {elevation:A,totalLength:z}=this.info,F=null==(x=this._messagesTooltip)?void 0:x.sketch;return N.tsx("div",{class:L},N.tsx(K.TooltipField,{title:null==F?void 0:F.elevation,value:this._formatVerticalLength(A)}),N.tsx(K.TooltipField,{title:null==F?void 0:F.totalLength,
value:this._formatLength(z)}))};return I}(P.TooltipContent);t.TooltipContentDrawPolyline=y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],t.TooltipContentDrawPolyline);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentExtentRotate":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L=`${O.CONTENT} ${`${O.CONTENT}--extent-rotate`}`;t.TooltipContentExtentRotate=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){var x;const {angle:A}=this.info,z=null==(x=this._messagesTooltip)?void 0:x.sketch;return N.tsx("div",{class:L},N.tsx(K.TooltipField,{title:null==z?void 0:z.rotation,value:this._formatRelativeOrientation(A)}))};return I}(P.TooltipContent);t.TooltipContentExtentRotate=
y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],t.TooltipContentExtentRotate);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentExtentScale":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../support/ValueByValue ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L){var R=`${O.CONTENT} ${`${O.CONTENT}--extent-scale`}`;t.TooltipContentExtentScale=function(I){function x(){return I.apply(this,arguments)||this}Q._inheritsLoose(x,I);x.prototype.render=function(){var A;const {xScale:z,yScale:F,xSize:D,ySize:U}=this.info,T=null==(A=this._messagesTooltip)?void 0:A.sketch;return L.tsx("div",{class:R},L.tsx(K.TooltipField,{title:null==T?void 0:T.size,value:L.tsx(J.ValueByValue,{left:this._formatLength(D),right:this._formatLength(U)})}),
L.tsx(K.TooltipField,{title:null==T?void 0:T.scale,value:L.tsx(J.ValueByValue,{left:this._formatScale(z),right:this._formatScale(F)})}))};return x}(P.TooltipContent);t.TooltipContentExtentScale=y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],t.TooltipContentExtentScale);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/support/ValueByValue":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass ../css ../../../../widgets/Widget ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K){var J=`${u.BASE}-value-by-value`;t.ValueByValue=function(N){function L(){var R=N.apply(this,arguments)||this;R.divider="\u00d7";return R}Q._inheritsLoose(L,N);L.prototype.render=function(){return K.tsx("div",{class:J},K.tsx("span",null,this.left),K.tsx("span",null,this.divider),K.tsx("span",null,this.right))};return L}(O);y.__decorate([M.property()],t.ValueByValue.prototype,"left",void 0);y.__decorate([M.property()],t.ValueByValue.prototype,"divider",void 0);y.__decorate([M.property()],
t.ValueByValue.prototype,"right",void 0);t.ValueByValue=y.__decorate([B.subclass("esri.views.interactive.tooltip.support.ValueByValue")],t.ValueByValue);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentReshapeEdgeOffset":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L=`${O.CONTENT} ${`${O.CONTENT}--reshape-edge-offset`}`;t.TooltipContentReshapeEdgeOffset=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){var x;const {distance:A}=this.info,z=null==(x=this._messagesTooltip)?void 0:x.sketch;return N.tsx("div",{class:L},N.tsx(K.TooltipField,{title:null==z?void 0:z.distance,value:this._formatRelativeLength(A)}))};return I}(P.TooltipContent);t.TooltipContentReshapeEdgeOffset=
y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],t.TooltipContentReshapeEdgeOffset);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentReshapeMoveGraphic":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L=`${O.CONTENT} ${`${O.CONTENT}--reshape-move-graphic`}`;t.TooltipContentReshapeMoveGraphic=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){var x;const {distance:A}=this.info,z=null==(x=this._messagesTooltip)?void 0:x.sketch;return N.tsx("div",{class:L},N.tsx(K.TooltipField,{title:null==z?void 0:z.distance,value:this._formatLength(A)}))};return I}(P.TooltipContent);t.TooltipContentReshapeMoveGraphic=
y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentReshapeMoveGraphic")],t.TooltipContentReshapeMoveGraphic);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentTransformAbsolute":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/quantityFormatUtils ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L){var R=`${P.CONTENT} ${`${P.CONTENT}--transform-absolute`}`;t.TooltipContentTransformAbsolute=function(I){function x(){return I.apply(this,arguments)||this}Q._inheritsLoose(x,I);x.prototype.render=function(){var A;const {orientation:z,orientationEnabled:F,orientationPrecision:D,rotationType:U,size:T,sizeEnabled:W,sizeUnit:da,sizePrecision:aa}=this.info,ea=null==(A=this._messagesTooltip)?void 0:A.sketch;return L.tsx("div",{class:R},F&&L.tsx(J.TooltipField,{title:null==
ea?void 0:ea.orientation,value:M.formatAngle(z,U,D)}),W&&L.tsx(J.TooltipField,{title:null==ea?void 0:ea.size,value:this._formatLength(T,da,aa)}))};return x}(K.TooltipContent);t.TooltipContentTransformAbsolute=y.__decorate([O.subclass("esri.views.interactive.tooltip.content.TooltipContentTransformAbsolute")],t.TooltipContentTransformAbsolute);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentTransformRotate":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/quantityFormatUtils ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L){var R=`${P.CONTENT} ${`${P.CONTENT}--transform-rotate`}`;t.TooltipContentTransformRotate=function(I){function x(){return I.apply(this,arguments)||this}Q._inheritsLoose(x,I);x.prototype.render=function(){var A;const {rotation:z,rotationPrecision:F,orientation:D,orientationPrecision:U,rotationType:T}=this.info,W=null==(A=this._messagesTooltip)?void 0:A.sketch;return L.tsx("div",{class:R},L.tsx(J.TooltipField,{title:null==W?void 0:W.rotation,value:M.formatRelativeAngle(z,
T,F)}),L.tsx(J.TooltipField,{title:null==W?void 0:W.orientation,value:M.formatAngle(D,T,U)}))};return x}(K.TooltipContent);t.TooltipContentTransformRotate=y.__decorate([O.subclass("esri.views.interactive.tooltip.content.TooltipContentTransformRotate")],t.TooltipContentTransformRotate);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentTransformScale":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L=`${O.CONTENT} ${`${O.CONTENT}--transform-scale`}`;t.TooltipContentTransformScale=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){var x;const {scale:A,size:z,sizePrecision:F,sizeUnit:D}=this.info,U=null==(x=this._messagesTooltip)?void 0:x.sketch;return N.tsx("div",{class:L},N.tsx(K.TooltipField,{title:null==U?void 0:U.scale,value:this._formatPercentage(A)}),N.tsx(K.TooltipField,{title:null==
U?void 0:U.size,value:this._formatLength(z,D,F)}))};return I}(P.TooltipContent);t.TooltipContentTransformScale=y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentTransformScale")],t.TooltipContentTransformScale);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentTranslateVertex":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/maybe ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L){var R=`${P.CONTENT} ${`${P.CONTENT}--translate-vertex`}`;t.TooltipContentTranslateVertex=function(I){function x(){return I.apply(this,arguments)||this}Q._inheritsLoose(x,I);x.prototype.render=function(){var A;const {area:z,distance:F,elevation:D,totalLength:U}=this.info,T=null==(A=this._messagesTooltip)?void 0:A.sketch;return L.tsx("div",{class:R},L.tsx(J.TooltipField,{title:null==T?void 0:T.distance,value:this._formatLength(F)}),M.isSome(D)&&L.tsx(J.TooltipField,
{title:null==T?void 0:T.elevation,value:this._formatVerticalLength(D)}),M.isSome(z)&&L.tsx(J.TooltipField,{title:null==T?void 0:T.area,value:this._formatArea(z)}),M.isSome(U)&&L.tsx(J.TooltipField,{title:null==T?void 0:T.totalLength,value:this._formatLength(U)}))};return x}(K.TooltipContent);t.TooltipContentTranslateVertex=y.__decorate([O.subclass("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],t.TooltipContentTranslateVertex);Object.defineProperties(t,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/content/TooltipContentTranslateZ":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/set ../../../../core/accessorSupport/decorators/subclass ../css ./TooltipContent ../support/TooltipField ../../../../widgets/support/widgetUtils ../../../../widgets/support/jsxFactory".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){var L=`${O.CONTENT} ${`${O.CONTENT}--extent-move-z`}`;t.TooltipContentTranslateZ=function(R){function I(){return R.apply(this,arguments)||this}Q._inheritsLoose(I,R);I.prototype.render=function(){var x;const {distance:A}=this.info,z=null==(x=this._messagesTooltip)?void 0:x.sketch;return N.tsx("div",{class:L},N.tsx(K.TooltipField,{title:null==z?void 0:z.distance,value:this._formatRelativeVerticalLength(A)}))};return I}(P.TooltipContent);t.TooltipContentTranslateZ=
y.__decorate([u.subclass("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],t.TooltipContentTranslateZ);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/support/measurements":function(){define("exports ../../../../core/maybe ../../../../core/quantityUtils ../../../../chunks/vec3f64 ../../../support/automaticAreaMeasurementUtils ../../../support/automaticLengthMeasurementUtils ../../../support/euclideanAreaMeasurementUtils".split(" "),
function(t,Q,y,M,H,E,C){const B=M.create();t.computeAreaWithStagedVertex=function(u,O){const P=C.createEuclideanPlanarAreaCache();return K=>{if(Q.isNone(K)||1>u.rings.length||2>u.rings[0].length)return H.autoAreaByDrapedStatus(u,O,P);const J=u.clone();J.rings[0].push([K.x,K.y]);return H.autoAreaByDrapedStatus(J,O,P)}};t.computeLengthWithStagedVertex=function(u,O){var P,K,J;const N=E.autoLengthByElevationMode(u,O),L=null!=(P=null==(K=u.paths[0])?void 0:K[(null==(J=u.paths[0])?NaN:J.length)-1])?P:null,
{hasZ:R,spatialReference:I}=u,x=L?M.fromValues(L[0],L[1],R?L[2]:0):null;return A=>{if(Q.isNone(A)||Q.isNone(N)||Q.isNone(x))return N;B[0]=A.x;B[1]=A.y;B[2]=R?A.z:0;A=E.autoDirectDistanceByElevationMode(x,B,I,O);return Q.isNone(A)?N:y.createLength(N.value+A.value,N.unit)}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/automaticAreaMeasurementUtils":function(){define(["exports","../../core/maybe","./euclideanAreaMeasurementUtils","./geodesicAreaMeasurementUtils"],
function(t,Q,y,M){t.autoAreaByDrapedStatus=function(H,E,C=y.createEuclideanPlanarAreaCache()){return E?(E=M.geodesicArea(H),Q.isSome(E)?E:y.euclideanHorizontalPlanarArea(H,C)):y.euclideanPlanarArea(H,C)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/euclideanAreaMeasurementUtils":function(){define("exports ../../core/maybe ../../core/quantityUtils ../../core/unitUtils ../../chunks/earcut ../../chunks/vec3 ../../chunks/vec3f64 ../../geometry/projection ../../geometry/support/plane ../../geometry/support/triangle ../../geometry/support/vectorStacks ./measurementUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K){function J(x,A,z=x.hasZ){const F=K.computeEuclideanMeasurementSR(x.spatialReference),D=M.areaUnitFromSpatialReference(F);if(Q.isNone(D))return null;const U=(ea,ba)=>{if(2>ba.length)return!1;E.set(ea,ba[0],ba[1],z?ba[2]||0:0);return!0};let T=0;for(const ea of x.rings){if(3>ea.length)continue;const {positionsWorldCoords:ba}=A;for(;ba.length<ea.length;)ba.push(C.create());var W=I;for(var da=0;3>da;da++)if(!U(W,ea[da])||!B.projectVectorToVector(W,x.spatialReference,ba[da],
F))return null;if(E.exactEquals(ba[0],ba[1])||E.exactEquals(ba[0],ba[2])||E.exactEquals(ba[1],ba[2]))continue;da=u.fromPoints(ba[0],ba[1],ba[2],u.wrap());const ca=E.copy(P.sv3d.get(),ba[0]);for(var aa=0;3>aa;aa++)u.projectPointLocal(da,ca,ba[aa],ba[aa]);for(aa=3;aa<ea.length;aa++){if(!U(W,ea[aa]))return null;B.projectVectorToVector(W,x.spatialReference,ba[aa],F);u.projectPointLocal(da,ca,ba[aa],ba[aa])}W=L(ba);for(da=0;da<W.length;da+=3)T+=O.areaPoints2d(ba[W[da]],ba[W[da+1]],ba[W[da+2]])}return y.createArea(T,
D)}function N(){return{positionsWorldCoords:[]}}function L(x){return H.earcut(R(x),[],2)}function R(x){const A=new Float64Array(2*x.length);for(let z=0;z<x.length;++z){const F=x[z],D=2*z;A[D+0]=F[0];A[D+1]=F[1]}return A}const I=C.create();t.computeEuclideanPlanarArea=J;t.createEuclideanPlanarAreaCache=N;t.euclideanHorizontalPlanarArea=function(x,A=N()){return J(x,A,!1)};t.euclideanPlanarArea=function(x,A=N()){return J(x,A)};t.triangulate=L;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/support/geodesicAreaMeasurementUtils":function(){define("exports ../../geometry ../../core/quantityUtils ../../geometry/geometryEngine ../../geometry/projection ../../geometry/support/geodesicUtils ./geodesicMeasurementUtils ../../geometry/SpatialReference".split(" "),function(t,Q,y,M,H,E,C,B){function u(K){return y.createArea(Math.abs(E.geodesicAreas([K],"square-meters")[0]),"square-meters")}function O(K){try{return y.createArea(Math.abs(M.geodesicArea(K,"square-meters")),"square-meters")}catch(J){return null}}
function P(K){const J=[];return H.projectPolygonToWGS84ComparableLonLat(K,J)?y.createArea(Math.abs(E.geodesicAreas([{type:"polygon",rings:J,spatialReference:B.WGS84}],"square-meters")[0]),"square-meters"):null}t.geodesicArea=function(K){const {spatialReference:J}=K;return C.geodesicMeasure(J,u,O,P,K)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/draw/drawSurfaces":function(){define(["exports","../../core/maybe","../../core/screenUtils","../../layers/graphics/dehydratedFeatures",
"../../support/elevationInfoUtils"],function(t,Q,y,M,H){let E=function(){function B(O,P,K,J=null){this.elevationInfo=O;this.defaultZ=P;this.view=K;this.excludeGraphics=J}var u=B.prototype;u.screenToMap=function(O){if(Q.isSome(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(y.createScreenPointArray(O.x,O.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);O=this.view.sceneIntersectionHelper.intersectElevationFromScreen(y.createScreenPointArray(O.x,O.y),this.elevationInfo,
0,this.excludeGraphics);Q.isSome(O)&&(O.z=void 0);return O};u.mapToScreen=function(O){O=M.makeDehydratedPoint(O.x,O.y,H.getConvertedElevation(this.view,O,this.elevationInfo),O.spatialReference);return this.view.toScreen(O)};return B}(),C=function(){function B(O,P,K=[]){this.view=O;this.elevationInfo=P;this.exclude=K}var u=B.prototype;u.screenToMap=function(O){O=this.view.toMap(O,{exclude:this.exclude});Q.isSome(O)&&(O.z=H.getZForElevationMode(O,this.view,this.elevationInfo));return O};u.mapToScreen=
function(O){let P=O;Q.isSome(this.elevationInfo)&&(P=M.makeDehydratedPoint(O.x,O.y,H.getConvertedElevation(this.view,O,this.elevationInfo),O.spatialReference));return this.view.toScreen(P)};return B}();t.ElevationDrawSurface=E;t.MapDrawSurface=function(B){this.view=B;this.screenToMap=u=>B.toMap(u);this.mapToScreen=u=>B.toScreen(u)};t.SceneDrawSurface=C;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Collection ../../../../../core/Evented ../../../../../core/HandleOwner ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../manipulatorUtils ../../SnappingVisualizer3D ../isSupportedGraphicUtils ../ManipulatorType ../manipulatorUtils ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ./isSupportedGraphic ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../../interactive/dragEventPipeline ../../../../interactive/InteractiveToolBase ../../../../interactive/editGeometry/EditGeometryOperations ../../../../interactive/sketch/SketchTooltipOptions ../../../../interactive/snapping/SnappingContext ../../../../interactive/snapping/SnappingDragPipelineStep ../../../../interactive/tooltip/Tooltip ../../../../interactive/tooltip/TranslateTooltipInfos ../../../../support/automaticLengthMeasurementUtils ../../../../support/euclideanLengthMeasurementUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da,aa,ea,ba,ca,ka,oa,fa,ra,ua,na,ta,ya,Fa){let Ia=function(Na){this.allGraphics=Na;this.type="graphic-move-start"},La=function(Na,Ga,Da){this.dx=Na;this.dy=Ga;this.allGraphics=Da;this.type="graphic-move"},Ba=function(Na){this.allGraphics=Na;this.type="graphic-move-stop"};t.GraphicMoveTool=function(Na){function Ga(wa){wa=Na.call(this,wa)||this;wa.graphics=new M;wa.enableZ=!0;wa.tooltipOptions=new fa;wa.type="move-3d";wa._snappingPipeline=new ua.SnappingPipeline;
wa._tooltip=null;return wa}Q._inheritsLoose(Ga,Na);var Da=Ga.prototype;Da.initialize=function(){const {graphics:wa,view:Ja}=this;this.own([wa.on("change",()=>this._refreshManipulators()),u.watch(()=>this.tooltipOptions.enabled,Ka=>{this._tooltip=Ka?new na.Tooltip({view:Ja}):B.destroyMaybe(this._tooltip)},u.syncAndInitial)]);this._refreshManipulators();this.finishToolCreation()};Da.destroy=function(){this._tooltip=B.destroyMaybe(this._tooltip);this.graphics.removeAll();this._set("view",null)};Da.reset=
function(){};Da._refreshManipulators=function(){this.handles.removeAll();this._moveManipulation&&this._moveManipulation.destroy();this.manipulators.removeAll();const wa=this.graphics.toArray().filter(Ja=>aa.isSupportedGraphic(Ja)===A.SupportedGraphicResult.SUPPORTED).map(Ja=>new Va(Ja));wa.length&&(this._createManipulators(wa),this._createVisualElements(wa),this.handles.add(wa.map(Ja=>this.view.trackGraphicState(Ja.state))),this._updateMoveManipulation(wa))};Da._createManipulators=function(wa){for(const Ja of wa){const Ka=
Ja.state;Ja.manipulationXY=new da.MoveXYGraphicManipulation({tool:this,view:this.view,graphicState:Ka});Ja.manipulationXY.forEachManipulator(pa=>this.handles.add([pa.events.on("immediate-click",xa=>{this.emit("immediate-click",{...xa,graphic:Ka.graphic});xa.stopPropagation()}),pa.events.on("grab-changed",({action:xa})=>{const {tooltipOptions:Ea,_tooltip:Y}=this;B.isNone(Y)||("focus"===xa?Y.info=new ta.TranslateGraphicTooltipInfo({tooltipOptions:Ea}):Y.clear())})]));this.handles.add(Ja.manipulationXY.createDragPipeline((pa,
xa,Ea,Y)=>this._buildDragEventPipeline(wa,T.ManipulationType.XY,pa,xa,Ea,Y)))}this._createMoveManipulation(wa)};Da._createMoveManipulation=function(wa){const Ja=new T.MoveManipulation({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===wa.length?T.MoveManipulation.radiusForSymbol(wa[0].graphic.symbol):U.DISC_RADIUS});this._moveManipulation=Ja;Ja.elevationInfo={mode:"absolute-height",offset:0};Ja.forEachManipulator((xa,Ea)=>{this.handles.add(xa.events.on("immediate-click",
Y=>{Ja.zManipulation.hasManipulator(xa)||1!==this.graphics.length||this.emit("immediate-click",{...Y,graphic:this.graphics.getItemAt(0)});Y.stopPropagation()}));Ea===z.ManipulatorType.TRANSLATE_XY&&this.handles.add(xa.events.on("focus-changed",({action:Y})=>{const {tooltipOptions:Ca,_tooltip:Ha}=this;B.isNone(Ha)||("focus"===Y?Ha.info=new ta.TranslateGraphicTooltipInfo({tooltipOptions:Ca}):Ha.clear())}));Ea===z.ManipulatorType.TRANSLATE_Z&&this.handles.add(xa.events.on("focus-changed",({action:Y})=>
{const {tooltipOptions:Ca,_tooltip:Ha}=this;B.isNone(Ha)||("focus"===Y?Ha.info=new ta.TranslateZTooltipInfo({tooltipOptions:Ca}):Ha.clear())}))});const Ka=()=>this._updateMoveManipulation(wa);for(const xa of wa)this.handles.add([xa.state.on("changed",Ka),u.watch(()=>xa.state.displaying,Ka)]);const pa=wa[wa.length-1];this.handles.add(pa.state.on("changed",()=>this._updateMoveManipulationAngle(pa)));this.handles.add(Ja.createDragPipeline((xa,Ea,Y,Ca,Ha)=>this._buildDragEventPipeline(wa,xa,Ea,Y,Ca,Ha),
R.getGraphicEffectiveElevationInfo(pa.graphic),B.unwrap(pa.graphic.geometry).spatialReference,pa.graphic));this._updateMoveManipulationAngle(pa)};Da._createVisualElements=function(wa){for(const Ja of wa){const Ka=D.createVisualElements({view:this.view,graphic:Ja.graphic,forEachManipulator:pa=>{Ja.manipulationXY.forEachManipulator(pa);this._moveManipulation.forEachManipulator(pa)},onManipulatorsChanged:()=>C.makeHandle()});B.isNone(Ka)||(Ja.geometryRepresentation=Ka.visualElement,Ja.geometryRepresentation instanceof
ea.OutlineVisualElement&&this.handles.add([Ja.geometryRepresentation.events.on("attachment-origin-changed",()=>{Ja.state.isDraped||this._updateMoveManipulation(wa)}),u.watch(()=>Ja.state.isDraped,()=>this._updateMoveManipulation(wa))]),this.handles.add(Ka))}};Da._updateMoveManipulationAngle=function(wa){this._moveManipulation.angleDeferred=()=>W.shapeOrientation(wa.graphic.geometry)};Da._updateMoveManipulation=function(wa){const Ja=L.makeDehydratedPoint(0,0,0,this.view.spatialReference);let Ka=0,
pa=!1;const xa=this._moveManipulation;for(const Ea of wa)Ea.state.displaying&&(wa=Ea.state.graphic,this.enableZ&&F.canMoveZ(wa)&&(pa=!0),wa=Ea.geometryRepresentation instanceof ea.OutlineVisualElement&&!Ea.state.isDraped?Ea.geometryRepresentation.attachmentOrigin:I.getGraphicAttachmentOrigin(this.view,wa),B.isSome(wa)&&(Ja.x+=wa.x,Ja.y+=wa.y,Ja.z+=wa.z,Ka++));0<Ka?(Ja.x/=Ka,Ja.y/=Ka,Ja.z/=Ka,xa.location=Ja,xa.xyManipulation.available=!0,xa.xyAxisManipulation.available=!0,xa.zManipulation.available=
pa):xa.available=!1};Da._buildDragEventPipeline=function(wa,Ja,Ka,pa,xa,Ea){const Y=[],Ca=[];let Ha=null,Qa=null;const Ua=()=>{for(const Ra of Y)Ra.dragging=!1;Y.length=0;Ca.length=0;Qa=Ha=null;this._moveManipulation.interactive=!0};if(1===wa.length&&Ja===T.ManipulationType.XY){const Ra=wa[0].graphic;pa=this._buildSnappingPipelineSteps(Ra,R.getGraphicEffectiveElevationInfo(Ra),pa,xa,Ea)}pa=pa.next(Ra=>{if("start"===Ra.action){Y.length=0;Ca.length=0;for(const Pa of wa)Pa.dragging||!Pa.manipulationXY.hasManipulator(Ka)&&
Pa.manipulationXY.grabbing||(Y.push(Pa),Ca.push(Pa.graphic),Pa.dragging=!0);if(0!==Ca.length&&(this._moveManipulation.interactive=!1,Ha=ca.dragGraphicMany(Ca,this.view.state.viewingMode),Qa=ca.resetGraphicMany(Ca),this.emit("graphic-move-start",new Ia(Ca)),this.destroyed))return null}return 0!==Ca.length?Ra:null}).next(Ra=>Ha(Ra)).next(Ra=>this._updateMoveTooltip(Ra,Ja,wa)).next(Ra=>{switch(Ra.action){case "start":case "update":if(Ra.translationX||Ra.translationY||Ra.translationZ){const Pa=this.view.toScreen(Ra.mapStart);
Ra=this.view.toScreen(Ra.mapEnd);this.emit("graphic-move",new La(Ra.x-Pa.x,Ra.y-Pa.y,Ca));if(this.destroyed)return null}break;case "end":this.emit("graphic-move-stop",new Ba(Ca));if(this.destroyed)return null;Ua()}});xa.next(Ra=>Qa(Ra)).next(()=>{this.emit("graphic-move-stop",new Ba(Ca));if(this.destroyed)return null;Ua()});return pa};Da._updateMoveTooltip=function(wa,Ja,Ka){const {tooltipOptions:pa,_tooltip:xa}=this;if(B.isNone(xa))return wa;xa.clear();if(Ja===T.ManipulationType.XY||Ja===T.ManipulationType.XY_AXIS)"end"===
wa.action?xa.info=new ta.TranslateGraphicTooltipInfo({tooltipOptions:pa}):(Ka=ya.autoHorizontalDistanceByElevationModeBetweenPoints(wa.mapStart,wa.mapEnd,0===Ka.length?"absolute-height":Ka[0].state.isDraped?"on-the-ground":"absolute-height"),B.isSome(Ka)&&(xa.info=new ta.TranslateGraphicTooltipInfo({tooltipOptions:pa,distance:Ka})));Ja===T.ManipulationType.Z&&("end"===wa.action?xa.info=new ta.TranslateZTooltipInfo({tooltipOptions:pa}):B.applySome(Fa.verticalSignedDistanceBetweenPoints(wa.mapStart,
wa.mapEnd),Ea=>{xa.info=new ta.TranslateZTooltipInfo({tooltipOptions:pa,distance:Ea})}));return wa};Da._buildSnappingPipelineSteps=function(wa,Ja,Ka,pa,xa){const Ea=wa.geometry;if(B.isNone(Ea)||"point"!==Ea.type&&"mesh"!==Ea.type)return Ka;const Y=("point"===Ea.type?Ea:Ea.anchor).clone(),Ca=new ra.SnappingContext({elevationInfo:Ja,pointer:xa,editGeometryOperations:oa.EditGeometryOperations.fromGeometry(Y,this.view.state.viewingMode),visualizer:new x.SnappingVisualizer3D,excludeFeature:wa});Ja=this.snappingManager;
return Ka.next(Ha=>{Y.z=R.getConvertedElevation(this.view,Y,R.getGraphicEffectiveElevationInfo(wa),{mode:"absolute-height",offset:0});const Qa=Ca.coordinateHelper.pointToVector(Y);return{...Ha,snapOrigin:Qa}}).next(this._snappingPipeline.createSnapDragEventPipelineStep({snappingContext:Ca,snappingManager:Ja,cancel:pa,updatingHandles:this.updatingHandles}),this._snappingPipeline.next)};Q._createClass(Ga,[{key:"updating",get:function(){return this.updatingHandles.updating}},{key:"test",get:function(){return{tooltip:this._tooltip}}}]);
return Ga}(E.HandleOwnerMixin(H.EventedMixin(ka.InteractiveToolBase)));y.__decorate([O.property({constructOnly:!0,nonNullable:!0})],t.GraphicMoveTool.prototype,"view",void 0);y.__decorate([O.property()],t.GraphicMoveTool.prototype,"graphics",void 0);y.__decorate([O.property({constructOnly:!0,nonNullable:!0})],t.GraphicMoveTool.prototype,"enableZ",void 0);y.__decorate([O.property({constructOnly:!0,type:fa})],t.GraphicMoveTool.prototype,"tooltipOptions",void 0);y.__decorate([O.property({constructOnly:!0})],
t.GraphicMoveTool.prototype,"snappingManager",void 0);y.__decorate([O.property()],t.GraphicMoveTool.prototype,"type",void 0);y.__decorate([O.property()],t.GraphicMoveTool.prototype,"updating",null);t.GraphicMoveTool=y.__decorate([N.subclass("esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool")],t.GraphicMoveTool);let Va=function(){function Na(Ga){this.manipulationXY=this.geometryRepresentation=this.state=null;this.dragging=!1;this.state=new ba.GraphicState({graphic:Ga})}Q._createClass(Na,
[{key:"graphic",get:function(){return this.state.graphic}}]);return Na}();t.GraphicMoveEvent=La;t.GraphicMoveStartEvent=Ia;t.GraphicMoveStopEvent=Ba;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/manipulatorUtils":function(){define("exports ../../../core/maybe ../../../chunks/mat4 ../../../chunks/vec3 ../../../chunks/vec4f64 ../../../geometry/support/vectorStacks ../../../layers/graphics/hydratedFeatures ./Manipulator3D ../layers/graphics/graphicUtils ../webgl-engine/lib/basicInterfaces ../webgl-engine/lib/GeometryUtil ../webgl-engine/lib/Material ../webgl-engine/materials/ColorMaterial ../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N){function L(x,A=K.RenderOccludedFlag.OccludeAndTransparent,z=!0){const F=H.fromValues(x[0],x[1],x[2],3<x.length?x[3]:1);x=1>x[3];return z?new N.ShadedColorMaterial({color:F,transparent:x,writeDepth:!0,cullFace:O.CullFaceOptions.Back,renderOccluded:A}):new J.ColorMaterial({color:F,transparent:x,writeDepth:!0,cullFace:O.CullFaceOptions.Back,renderOccluded:A})}function R(x,A,z,F){x=M.normalize(E.sv3d.get(),x);A=M.normalize(E.sv3d.get(),A);const D=M.cross(E.sv3d.get(),
x,A);F[0]=x[0];F[1]=x[1];F[2]=x[2];F[3]=0;F[4]=A[0];F[5]=A[1];F[6]=A[2];F[7]=0;F[8]=D[0];F[9]=D[1];F[10]=D[2];F[11]=0;F[12]=z[0];F[13]=z[1];F[14]=z[2];F[15]=1;return F}function I(x,A){const z=x.getViewForGraphic(A);return Q.isSome(z)&&"computeAttachmentOrigin"in z?z.computeAttachmentOrigin(A,x.spatialReference):null}t.calculateInputRotationTransform=function(x,A,z,F){x=M.subtract(E.sv3d.get(),x,z);F=M.cross(E.sv3d.get(),F,x);z=R(x,F,z,E.sm4d.get());y.invert(z,z);A=M.transformMat4(E.sv3d.get(),A,z);
return Math.atan2(A[1],A[0])};t.calculateTranslateRotateFromBases=R;t.createManipulatorMaterial=L;t.createManipulatorOutlineMaterial=function(x,A=K.RenderOccludedFlag.OccludeAndTransparent){x=H.fromValues(x[0],x[1],x[2],4===x.length?x[3]:1);return new J.ColorMaterial({color:x,transparent:!0,writeDepth:!0,cullFace:O.CullFaceOptions.Front,renderOccluded:A})};t.createSphereManipulator=function(x,A,z){return new B.Manipulator3D({view:x,renderObjects:[{geometry:P.createSphereGeometry(1,32,32),material:L(H.fromValues(A[0],
A[1],A[2],null!=z?z:1))}]})};t.getGraphicAttachmentOrigin=I;t.placeAtGraphic=function(x,A,z){x=I(x,z);Q.isSome(x)?A.elevationAlignedLocation=x:(z=z.geometry,Q.isNone(z)||(z="mesh"===z.type?z.anchor:u.computeCentroid(z),Q.isNone(z)||(A.location=C.hydrateGeometry(z))))};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/Manipulator3D":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../geometry ../../../core/compilerUtils ../../../core/Evented ../../../core/mathUtils ../../../core/maybe ../../../core/screenUtils ../../../core/accessorSupport/utils ../../../chunks/mat3 ../../../chunks/mat3f64 ../../../chunks/mat4 ../../../chunks/mat4f64 ../../../chunks/vec2 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/projection ../../../geometry/projectionEllipsoid ../../../geometry/support/aaBoundingRect ../../../geometry/support/lineSegment ../../../geometry/support/plane ../../../geometry/support/ray ../../../geometry/support/vectorStacks ../../../layers/graphics/hydratedFeatures ../support/ElevationProvider ../support/geometryUtils/ray ../webgl-engine/lib/basicInterfaces ../webgl-engine/lib/Camera ../webgl-engine/lib/Object3D ../webgl-engine/lib/WebGLLayer ../../interactive/interfaces ../../../geometry/Point".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da,aa,ea,ba,ca,ka,oa){function fa(Ja){return 0!==Ja[12]||0!==Ja[13]||0!==Ja[14]}y=function(){function Ja(pa){this.camera=new ea.Camera;this._elevation={offset:0,override:null};this.collisionType={type:"point"};this.collisionPriority=0;this._renderObjects=[];this._available=this.autoScaleRenderObjects=!0;this._noDisplayCount=0;this._radius=10;this._worldSized=!1;this.focusMultiplier=2;this.touchMultiplier=2.5;this.worldOriented=!1;this._modelTransform=
J.create();this._worldFrame=null;this._renderLocation=R.create();this._renderLocationDirty=!0;this._location=new oa({x:0,y:0,z:0});this._elevationAlignedLocation=new oa;this.interactive=this._elevationAlignedLocationDirty=!0;this.selectable=!1;this.grabbable=!0;this.cursor=null;this._selected=this._hovering=this.dragging=this._grabbing=!1;this._state=ka.ManipulatorStateCustomFlags.None;this._focused=!1;this.events=new H.EventEmitter;this._screenLocation={screenPointArray:B.createScreenPointArray(),
renderScreenPointArray:B.createRenderScreenPointArray3(),pixelSize:0};this._screenLocationDirty=!0;this._applyObjectTransform=null;this._engineResourcesAddedToStage=!1;this._engineResources=null;this._attached=!1;this._materialIdReferences=this._engineLayer=null;this._location.spatialReference=pa.view.spatialReference;for(const xa in pa)this[xa]=pa[xa];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}var Ka=Ja.prototype;Ka.destroy=function(){this._removeResourcesFromStage();
this.camera=this.view=this._engineResources=null};Ka.disableDisplay=function(){this._noDisplayCount++;1===this._noDisplayCount&&this._updateEngineObject();return{remove:u.once(()=>{this._noDisplayCount--;0===this._noDisplayCount&&this._updateEngineObject()})}};Ka._updateElevationAlignedLocation=function(){this._elevationAlignedLocation.x=this.location.x;this._elevationAlignedLocation.y=this.location.y;const pa=C.isSome(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=
pa+this._elevation.offset;this._elevationAlignedLocation.spatialReference=this.location.spatialReference;this._screenLocationDirty=this._renderLocationDirty=!0;this._elevationAlignedLocationDirty=!1};Ka.grabbableForEvent=function(){return!0};Ka.updateStateEnabled=function(pa,xa){this.state=xa?this.state|pa:this.state&~pa};Ka._setFocused=function(pa){pa!==this._focused&&(this._focused=pa,this.events.emit("focus-changed",{action:!0===pa?"focus":"unfocus"}))};Ka._ensureScreenLocation=function(){if(this._screenLocationDirty){this._screenLocation.pixelSize=
this.camera.computeScreenPixelSizeAt(this.renderLocation);this._screenLocationDirty=!1;if(fa(this._modelTransform)){var pa=this._calculateModelTransformOffset(Da);pa=L.add(pa,pa,this.renderLocation)}else pa=this.renderLocation;this.camera.projectToRenderScreen(pa,this._screenLocation.renderScreenPointArray);this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}};Ka.intersectionDistance=function(pa,xa){if(!this.available)return null;pa=B.screenPointObjectToArray(pa,
ra);var Ea=this._getCollisionRadius(xa);xa=-1*this.collisionPriority;switch(this.collisionType.type){case "point":if(N.squaredDistance(this.screenLocation.screenPointArray,pa)<Ea*Ea)return this.screenLocation.renderScreenPointArray[2]+xa;break;case "line":var Y=this.collisionType.paths,Ca=this._getWorldToScreenObjectScale();Ca=this._calculateObjectTransform(Ca,Fa);Ea*=this.screenLocation.pixelSize;pa=da.fromScreen(this.camera,pa,na);if(C.isNone(pa))break;for(var Ha of Y)if(0!==Ha.length){Y=L.transformMat4(La,
Ha[0],Ca);for(var Qa=1;Qa<Ha.length;Qa++){var Ua=L.transformMat4(Ba,Ha[Qa],Ca),Ra=z.closestRayDistance2(z.fromPoints(Y,Ua,ua),pa);if(null!=Ra&&Ra<Ea*Ea)return Ca=L.add(U.sv3d.get(),Y,Ua),L.scale(Ca,Ca,.5),pa=B.castRenderScreenPointArray(U.sv3d.get()),this.camera.projectToRenderScreen(Ca,pa),pa[2]+xa;L.copy(Y,Ua)}}break;case "disc":Ha=this.collisionType.direction;Ca=null!=(Y=this.collisionType.offset)?Y:R.ZEROS;Y=this._getWorldToScreenObjectScale();Y=this._calculateObjectTransform(Y,Fa);Ea*=this.screenLocation.pixelSize;
pa=da.fromScreen(this.camera,pa,na);if(C.isNone(pa))break;Qa=O.fromMat4(ta,Y);Ha=L.transformMat3(Na,Ha,Qa);Ca=L.transformMat4(Ga,Ca,Y);F.fromPositionAndNormal(Ca,Ha,Ia);Ha=Va;if(F.intersectRay(Ia,pa,Ha)&&L.squaredDistance(Ha,Ca)<Ea*Ea)return this.screenLocation.renderScreenPointArray[2]+xa;break;case "ribbon":{const {paths:Pa,direction:qa}=this.collisionType;Ha=this._getWorldToScreenObjectScale();Ha=this._calculateObjectTransform(Ha,Fa);Ea*=this.camera.computeScreenPixelSizeAt(this.renderLocation);
Y=da.fromScreen(this.camera,pa,na);if(C.isNone(Y))break;pa=O.fromMat4(ta,Ha);pa=L.transformMat3(Na,qa,pa);Qa=this._calculateModelTransformPosition(Ga);F.fromPositionAndNormal(Qa,pa,Ia);pa=Va;if(!F.intersectRay(Ia,Y,pa))break;for(Ca of Pa)if(0!==Ca.length)for(Y=L.transformMat4(La,Ca[0],Ha),Qa=1;Qa<Ca.length;Qa++){Ua=L.transformMat4(Ba,Ca[Qa],Ha);Ra=z.distance2(z.fromPoints(Y,Ua,ua),pa);if(null!=Ra&&Ra<Ea*Ea)return Ca=L.add(U.sv3d.get(),Y,Ua),L.scale(Ca,Ca,.5),pa=B.castRenderScreenPointArray(U.sv3d.get()),
this.camera.projectToRenderScreen(Ca,pa),pa[2]+xa;L.copy(Y,Ua)}break}default:M.neverReached(this.collisionType)}return null};Ka.attach=function(pa={manipulator3D:{}}){if(this.view._stage){pa=pa.manipulator3D;if(C.isNone(pa.engineLayerId)){var xa=new ca.WebGLLayer({isPickable:!1,updatePolicy:aa.UpdatePolicy.SYNC});this.view._stage.add(xa);pa.engineLayerId=xa.id;this._engineLayer=xa}else null!=(xa=this.view._stage)&&xa.getObject&&(this._engineLayer=this.view._stage.getObject(pa.engineLayerId));pa.engineLayerReferences=
(pa.engineLayerReferences||0)+1;this._materialIdReferences=pa.materialIdReferences;C.isNone(this._materialIdReferences)&&(this._materialIdReferences=new Map,pa.materialIdReferences=this._materialIdReferences);this.camera.copyFrom(this.view.state.camera);this._attached=!0;this._updateEngineObject();I.canProjectWithoutEngine(this._location.spatialReference,this.view.spatialReference)||(this.location=new oa({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}};Ka.detach=function(pa={manipulator3D:{}}){pa=
pa.manipulator3D;pa.engineLayerReferences--;const xa=0===pa.engineLayerReferences;xa&&(pa.engineLayerId=null);this._removeResourcesFromStage(xa);this._materialIdReferences=this._engineLayer=this._engineResources=null;this._attached=!1};Ka.onViewChange=function(){this.camera.copyFrom(this.view.state.camera);this._screenLocationDirty=!0;this._updateEngineObject()};Ka.onElevationChange=function(pa){I.projectPoint(this.location,wa,pa.spatialReference);A.containsPointObject(pa.extent,wa)&&(this.location=
this._location)};Ka._evaluateElevationAlignment=function(pa=this.location){if(C.isNone(this.elevationInfo))return!1;let xa=null,Ea=0;const Y=C.unwrapOr(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case "on-the-ground":xa=C.unwrapOr(W.getElevationAtPoint(this.view.elevationProvider,pa,"ground"),0);break;case "relative-to-ground":Ea=C.unwrapOr(W.getElevationAtPoint(this.view.elevationProvider,pa,"ground"),0)+Y;break;case "relative-to-scene":Ea=C.unwrapOr(W.getElevationAtPoint(this.view.elevationProvider,
pa,"scene"),0)+Y;break;case "absolute-height":Ea=Y}return Ea!==this._elevation.offset||xa!==this._elevation.override?(this._elevation.offset=Ea,this._elevation.override=xa,!0):!1};Ka._updateEngineObject=function(){if(this._attached)if(this.available){var pa=this._getWorldToScreenObjectScale(),xa=Fa;!0===this.autoScaleRenderObjects?(pa*=this._getFocusedSize(this._radius,this.focused),this._calculateObjectTransform(pa,xa)):this._calculateObjectTransform(pa,xa);var {objectsByState:Ea}=this._ensureEngineResources();
pa=(this.focused?ka.ManipulatorStateFlags.Focused:ka.ManipulatorStateFlags.Unfocused)|(this.selected?ka.ManipulatorStateFlags.Selected:ka.ManipulatorStateFlags.Unselected);var Y=0<this._noDisplayCount;for(const {stateMask:Ca,objects:Ha}of Ea)if(Y)for(const Qa of Ha)Qa.setVisible(!1);else if(Ea=(Ca&ka.ManipulatorStateCustomFlags.All)===ka.ManipulatorStateCustomFlags.None||(this.state&Ca)===(Ca&ka.ManipulatorStateCustomFlags.All),(Ca&ka.ManipulatorStateFlags.All)!==ka.ManipulatorStateFlags.None&&(pa&
Ca)!==(Ca&ka.ManipulatorStateFlags.All)||!Ea)for(const Qa of Ha)Qa.setVisible(!1);else for(const Qa of Ha)Qa.setVisible(!0),Qa.transformation=xa}else this._removeResourcesFromStage()};Ka._ensureEngineResources=function(){if(C.isNone(this._engineResources)){const pa=C.unwrap(this._engineLayer),xa=[],Ea=new Set;this.renderObjects.forEach(({material:Qa})=>{Ea.has(Qa)||(xa.push(Qa),Ea.add(Qa))});const Y=(Qa,Ua)=>{const {geometry:Ra,material:Pa,transform:qa}=Ua;Array.isArray(Ra)?Ra.forEach(ha=>Qa.addGeometry(ha,
Pa,qa)):Qa.addGeometry(Ra,Pa,qa)},Ca=new Map;this._renderObjects.forEach(Qa=>{const Ua=new ba.Object3D({castShadow:!1});Y(Ua,Qa);Qa=Qa.stateMask||0;const Ra=Ca.get(Qa)||[];Ra.push(Ua);Ca.set(Qa,Ra)});const Ha=[];Ca.forEach((Qa,Ua)=>Ha.push({stateMask:Ua,objects:Qa}));this._engineResources={objectsByState:Ha,layer:pa,materials:xa}}this._addResourcesToStage();return this._engineResources};Ka._addResourcesToStage=function(){if(!this._engineResourcesAddedToStage&&!C.isNone(this._engineResources)){var {objectsByState:pa,
layer:xa,materials:Ea}=this._engineResources;Ea.forEach(Y=>{const Ca=C.unwrap(this._materialIdReferences),Ha=Ca.get(Y.id)||0;0===Ha&&this.view._stage.add(Y);Ca.set(Y.id,Ha+1)});pa.forEach(({objects:Y})=>{xa.addMany(Y);this.view._stage.addMany(Y)});this._engineResourcesAddedToStage=!0}};Ka._removeResourcesFromStage=function(pa=!1){if(this._engineResourcesAddedToStage&&!C.isNone(this._engineResources)&&this.view._stage){var {objectsByState:xa,layer:Ea,materials:Y}=this._engineResources;xa.forEach(({objects:Ca})=>
{Ea.removeMany(Ca);this.view._stage.removeMany(Ca)});Y.forEach(Ca=>{const Ha=C.unwrap(this._materialIdReferences),Qa=Ha.get(Ca.id);1===Qa?(this.view._stage.remove(Ca),Ha.delete(Ca.id)):Ha.set(Ca.id,Qa-1)});pa&&this.view._stage.remove(Ea);this._engineResourcesAddedToStage=!1}};Ka._getCollisionRadius=function(pa){return this._getFocusedSize(this.radius,!0)*("touch"===pa?this.touchMultiplier:1)};Ka._getFocusedSize=function(pa,xa){return pa*(xa?this.focusMultiplier:1)};Ka._getWorldToScreenObjectScale=
function(){return this._worldSized?1:this.screenLocation.pixelSize};Ka._calculateModelTransformPosition=function(pa){var xa=this._getWorldToScreenObjectScale();xa=this._calculateObjectTransform(xa,ya);return L.set(pa,xa[12],xa[13],xa[14])};Ka._calculateModelTransformOffset=function(pa){const xa=this._calculateModelTransformPosition(pa);return L.subtract(pa,xa,this.renderLocation)};Ka._calculateObjectTransform=function(pa,xa){K.set(xa,pa,0,0,0,0,pa,0,0,0,0,pa,0,0,0,0,1);this._worldFrame&&K.multiply(xa,
xa,this._worldFrame);K.multiply(xa,xa,this._modelTransform);xa[12]+=this.renderLocation[0];xa[13]+=this.renderLocation[1];xa[14]+=this.renderLocation[2];xa[15]=1;C.isSome(this._applyObjectTransform)&&this._applyObjectTransform(xa);return xa};Q._createClass(Ja,[{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(pa){this._elevationInfo=pa;this._renderLocationDirty=this._elevationAlignedLocationDirty=!0;this._updateEngineObject()}},{key:"renderObjects",get:function(){return this._renderObjects},
set:function(pa){this._removeResourcesFromStage();this._engineResources=null;this._renderObjects=pa.slice();this._updateEngineObject()}},{key:"available",get:function(){return this._available},set:function(pa){pa!==this._available&&(this._available=pa,this._updateEngineObject())}},{key:"radius",get:function(){return this._radius},set:function(pa){pa!==this._radius&&(this._radius=pa,this._updateEngineObject())}},{key:"worldSized",get:function(){return this._worldSized},set:function(pa){pa!==this._worldSized&&
(this._worldSized=pa,this._updateEngineObject())}},{key:"modelTransform",get:function(){return this._modelTransform},set:function(pa){fa(pa)&&(this._screenLocationDirty=!0);K.copy(this._modelTransform,pa);this._updateEngineObject()}},{key:"renderLocation",get:function(){if(this._renderLocationDirty)if(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented){this._worldFrame||(this._worldFrame=J.create());a:{var pa=
this.view,xa=this._renderLocation,Ea=this._worldFrame;switch(pa.viewingMode){case "local":K.identity(Ea);break a;case "global":pa=x.getReferenceEllipsoid(pa.renderCoordsHelper.spatialReference),I.sphericalPCPFtoLonLatElevation(xa,0,La,0,pa.radius),I.computeENUToSphericalPCPFLocalRotation(E.deg2rad(La[0]),E.deg2rad(La[1]),Ea)}}}else this._worldFrame&&(this._worldFrame=null);return this._renderLocation},set:function(pa){this.view.renderCoordsHelper.fromRenderCoords(pa,this._location);this.elevationAlignedLocation=
this._location}},{key:"location",get:function(){return this._location},set:function(pa){T.clonePoint(pa,this._location);this._elevationAlignedLocationDirty=this._screenLocationDirty=this._renderLocationDirty=!0;this._updateEngineObject();this.events.emit("location-update",{location:this._location})}},{key:"elevationAlignedLocation",get:function(){if(!this._elevationAlignedLocationDirty)return this._elevationAlignedLocation;this._evaluateElevationAlignment();this._updateElevationAlignedLocation();
return this._elevationAlignedLocation},set:function(pa){T.clonePoint(pa,this._location);this._evaluateElevationAlignment();this._location.z-=this._elevation.offset;this._updateElevationAlignedLocation();this._updateEngineObject();this.events.emit("location-update",{location:this._location})}},{key:"grabbing",get:function(){return this._grabbing},set:function(pa){pa!==this._grabbing&&(this._grabbing=pa,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}},{key:"hovering",get:function(){return this._hovering},
set:function(pa){pa!==this._hovering&&(this._hovering=pa,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}},{key:"selected",get:function(){return this._selected},set:function(pa){pa!==this._selected&&(this._selected=pa,this._updateEngineObject(),this.events.emit("select-changed",{action:pa?"select":"deselect"}))}},{key:"state",get:function(){return this._state},set:function(pa){pa!==this._state&&(this._state=pa,this._updateEngineObject())}},{key:"focused",get:function(){return this._focused}},
{key:"screenLocation",get:function(){this._ensureScreenLocation();return this._screenLocation}},{key:"applyObjectTransform",get:function(){return this._applyObjectTransform},set:function(pa){this._applyObjectTransform=pa;this._screenLocationDirty=!0;this._updateEngineObject()}},{key:"test",get:function(){let pa=!1;if(C.isSome(this._engineResources))for(const xa in this._engineResources.objectsByState){const Ea=this._engineResources.objectsByState[xa];for(const Y of Ea.objects)if(Y.isVisible){pa=!0;
break}if(pa)break}return{areAnyResourcesVisible:pa}}}]);return Ja}();const ra=B.createScreenPointArray(),ua=z.create(),na=D.create(),ta=P.create(),ya=J.create(),Fa=J.create(),Ia=F.create(),La=R.create(),Ba=R.create(),Va=R.create(),Na=R.create(),Ga=R.create(),Da=R.create(),wa=new oa({x:0,y:0,z:0,spatialReference:null});t.Manipulator3D=y;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/isSupportedGraphicUtils":function(){define(["exports",
"../../../../core/has"],function(t,Q){t.SupportedGraphicResult=void 0;(function(y){y[y.SUPPORTED=0]="SUPPORTED";y[y.GRAPHICS_LAYER_MISSING=1]="GRAPHICS_LAYER_MISSING";y[y.GEOMETRY_MISSING=2]="GEOMETRY_MISSING";y[y.GEOMETRY_TYPE_UNSUPPORTED=3]="GEOMETRY_TYPE_UNSUPPORTED";y[y.ELEVATION_MODE_UNSUPPORTED=4]="ELEVATION_MODE_UNSUPPORTED";y[y.SYMBOL_TYPE_UNSUPPORTED=5]="SYMBOL_TYPE_UNSUPPORTED"})(t.SupportedGraphicResult||(t.SupportedGraphicResult={}));t.isSupportedGraphicResultMessage=function(y){switch(y){case t.SupportedGraphicResult.GRAPHICS_LAYER_MISSING:return"not owned by a graphics layer";
case t.SupportedGraphicResult.GEOMETRY_MISSING:return"no geometry";case t.SupportedGraphicResult.GEOMETRY_TYPE_UNSUPPORTED:return"the geometry type is not supported";case t.SupportedGraphicResult.ELEVATION_MODE_UNSUPPORTED:return"the elevation mode is not supported";case t.SupportedGraphicResult.SYMBOL_TYPE_UNSUPPORTED:return"the symbol type is not supported"}return""};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/ManipulatorType":function(){define(["exports"],
function(t){t.ManipulatorType=void 0;var Q=t.ManipulatorType||(t.ManipulatorType={});Q[Q.TRANSLATE_Z=0]="TRANSLATE_Z";Q[Q.TRANSLATE_XY=1]="TRANSLATE_XY";Q[Q.SCALE=2]="SCALE";Q[Q.ROTATE=3]="ROTATE";Q[Q.SCALE_ROTATE=4]="SCALE_ROTATE";Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/manipulatorUtils":function(){define(["exports","../../../../core/maybe","../../../../support/elevationInfoUtils"],function(t,Q,y){t.canMoveZ=
function(M,H=y.getGraphicEffectiveElevationInfo(M)){return"on-the-ground"===H.mode||Q.isNone(M.geometry)||!M.geometry.hasZ?!1:!0};t.disableDisplayOnGrab=function(M,H){let E=null;const C=M.events.on("grab-changed",B=>{Q.isSome(E)&&(E.remove(),E=null);"start"===B.action&&(E=M.disableDisplay());H&&H(B)});return{remove(){Q.isSome(E)&&E.remove();C.remove()}}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/visualElementUtils":function(){define(["exports",
"../../../../core/maybe","./lineGraphicVisualElementUtils","./originGraphicVisualElementUtils"],function(t,Q,y,M){t.createVisualElements=function(H){switch(Q.unwrap(H.graphic.geometry).type){case "point":case "mesh":return M.createVisualElements(H);case "polygon":case "polyline":return y.createVisualElements(H);default:return null}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/lineGraphicVisualElementUtils":function(){define("exports ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/reactiveUtils ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../support/elevationInfoUtils ../Manipulator3D ./GrabbingState ./ManipulatorState ./ManipulatorType ./settings ../visualElements/ExtendedLineVisualElement ../visualElements/LaserlineVisualElement ../visualElements/OutlineVisualElement ../../layers/graphics/GraphicState ../../webgl-engine/lib/Material".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x){function A(T,W){const {view:da,graphic:aa}=T,ea=new R.OutlineVisualElement({view:da,geometry:D(aa)?aa.geometry:null,elevationInfo:B.getGraphicEffectiveElevationInfo(aa),attached:!1});J.settings.visualElements.lineGraphics.shadowStyle.apply(ea);J.settings.visualElements.lineGraphics.outline.apply(ea);const ba=[H.watch(()=>W.displaying,()=>{ea.attached=W.displaying}),H.watch(()=>W.isDraped,ca=>{ea.isDraped=ca}),W.on("changed",()=>ea.geometry=D(aa)?aa.geometry:
null),Q.destroyHandle(ea)];ea.attached=W.displaying;return{visualElement:ea,remove:()=>Q.handlesGroup(ba).remove()}}function z(T,W,da){const {graphic:aa,view:ea}=T,ba=[];var ca=B.getGraphicEffectiveElevationInfo(aa);const ka="on-the-ground"===ca.mode||!ca.offset&&"absolute-height"!==ca.mode,oa=new P.ManipulatorState,fa=new N.ExtendedLineVisualElement({view:ea,extensionType:J.settings.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:x.RenderOccludedFlag.OccludeAndTransparent});
J.settings.visualElements.pointGraphics.shadowStyle.apply(fa);ca=y.deg2rad(J.settings.visualElements.heightPlaneAngleCutoff);const ra=new L.LaserlineVisualElement({view:ea,attached:!1,angleCutoff:ca});J.settings.visualElements.heightPlane.apply(ra);let ua=1,na=1;const ta=()=>{oa.update(T);if(da.displaying&&(!ka||!da.isDraped&&D(aa)&&aa.geometry.hasZ)){W.laserlineEnabled=!0;var Fa=oa.grabbingState&O.GrabbingState.XY?J.settings.visualElements.laserlineAlphaMultiplier:1;Fa!==ua&&(ua=Fa,J.settings.visualElements.lineGraphics.shadowStyle.apply(W,
Fa),J.settings.visualElements.pointGraphics.shadowStyle.apply(fa,Fa));Fa=oa.grabbingState&O.GrabbingState.Z?J.settings.visualElements.laserlineAlphaMultiplier:1;Fa!==na&&(na=Fa,J.settings.visualElements.heightPlane.apply(ra,Fa));Fa=1===oa.numSelected?oa.firstSelected:1<oa.numSelected&&M.isSome(oa.firstGrabbedXY)?oa.firstGrabbedXY:null;M.isSome(Fa)?(fa.setStartEndFromWorldDownAtLocation(Fa.renderLocation),fa.attached=!0):fa.attached=!1;F(T,W,ra,oa)}else W.laserlineEnabled=!1,fa.attached=!1,ra.attached=
!1};J.settings.visualElements.zVerticalLine.apply(fa);ba.push(da.on("changed",ta),H.watch(()=>da.displaying,ta),W.events.on("attachment-origin-changed",ta),Q.destroyHandle(fa),Q.destroyHandle(ra));const ya=[];ca=()=>{Q.handlesGroup(ya).remove();ya.length=0;T.forEachManipulator(Fa=>ya.push(Fa.events.on("grab-changed",ta)));T.forEachManipulator(Fa=>ya.push(Fa.events.on("select-changed",ta)));ta()};ca();ba.push(T.onManipulatorsChanged(ca),Q.refHandle(()=>Q.handlesGroup(ya)));return Q.handlesGroup(ba)}
function F(T,W,da,aa){if(0<aa.numSelected){E.set(U,0,0,0);let ea=0;T.forEachManipulator((ba,ca)=>{ca===K.ManipulatorType.TRANSLATE_XY&&ba.selected&&ba instanceof u.Manipulator3D&&(E.add(U,U,ba.renderLocation),ea++)});0<ea?(da.heightManifoldTarget=E.scale(U,U,1/ea),da.attached=!0):da.attached=!1}else W=W.attachmentOrigin,M.isSome(W)&&T.view.renderCoordsHelper.toRenderCoords(W,U)?(da.heightManifoldTarget=U,da.attached=!0):da.attached=!1}function D(T){return M.isSome(T.geometry)&&("polygon"===T.geometry.type||
"polyline"===T.geometry.type)}const U=C.create();t.createGeometryRepresentationVisualElement=A;t.createVisualElements=function(T){const {view:W,graphic:da}=T,aa=new I.GraphicState({graphic:da}),ea=A(T,aa);T=z(T,ea.visualElement,aa);const ba=[ea,T,W.maskOccludee(da),W.trackGraphicState(aa)];return{visualElement:ea.visualElement,remove:()=>Q.handlesGroup(ba).remove()}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/GrabbingState":function(){define(["exports"],
function(t){t.GrabbingState=void 0;var Q=t.GrabbingState||(t.GrabbingState={});Q[Q.NONE=0]="NONE";Q[Q.ANY=1]="ANY";Q[Q.Z=2]="Z";Q[Q.XY=4]="XY";Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/ManipulatorState":function(){define(["exports","../../../../core/maybe","../Manipulator3D","./GrabbingState","./ManipulatorType"],function(t,Q,y,M,H){let E=function(){function C(){this.grabbingState=M.GrabbingState.NONE;this.firstSelected=
this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=null}C.prototype.update=function(B){this.grabbingState=M.GrabbingState.NONE;this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=this.firstSelected=null;B.forEachManipulator((u,O)=>{O===H.ManipulatorType.TRANSLATE_Z&&(this.zManipulator=u);u instanceof y.Manipulator3D&&(u.selected&&(0===this.numSelected&&(this.firstSelected=u),this.numSelected++),Q.isNone(this.firstGrabbedXY)&&u.grabbing&&O===H.ManipulatorType.TRANSLATE_XY&&(this.firstGrabbedXY=
u));if(u.grabbing)switch(this.grabbingState|=M.GrabbingState.ANY,O){case H.ManipulatorType.TRANSLATE_Z:this.grabbingState|=M.GrabbingState.Z;break;case H.ManipulatorType.TRANSLATE_XY:this.grabbingState|=M.GrabbingState.XY}})};return C}();t.ManipulatorState=E;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/originGraphicVisualElementUtils":function(){define("exports ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/reactiveUtils ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../support/elevationInfoUtils ./GrabbingState ./ManipulatorState ./settings ../visualElements/ExtendedLineVisualElement ../visualElements/LaserlineVisualElement ../visualElements/PointVisualElement ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/GraphicState ../../webgl-engine/lib/Material".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F){function D(ca,ka,oa,fa){const {view:ra,graphic:ua}=ca,na=new L.ExtendedLineVisualElement({view:ra,extensionType:N.settings.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:F.RenderOccludedFlag.OccludeAndTransparent});N.settings.visualElements.zVerticalLine.apply(na);const ta=new R.LaserlineVisualElement({view:ra,intersectsLineInfinite:!0,attached:!1});N.settings.visualElements.pointGraphics.shadowStyle.apply(ta);
var ya=y.deg2rad(N.settings.visualElements.heightPlaneAngleCutoff);const Fa=new R.LaserlineVisualElement({view:ra,attached:!1,angleCutoff:ya});N.settings.visualElements.heightPlane.apply(Fa);ya=P.getGraphicEffectiveElevationInfo(ca.graphic);const Ia=A.ElevationContext.fromElevationInfo(ya),La="on-the-ground"===ya.mode||!ya.offset&&"absolute-height"!==ya.mode,Ba=new J.ManipulatorState;let Va=1,Na=1;const Ga=()=>{Ba.update(ca);var Da=T(ua),wa=La&&(ka.isDraped||M.isNone(Da)||!Da.hasZ);let Ja=!0;if(!wa&&
M.isSome(Da)){const Ka=x.evaluateElevationAlignmentAtPoint(Da,ra.elevationProvider,Ia,ra.renderCoordsHelper);E.set(ea,Da.x,Da.y,Ka);B.projectVectorToVector(ea,Da.spatialReference,ea,ra.renderCoordsHelper.spatialReference);na.setStartEndFromWorldDownAtLocation(ea);ta.intersectsWorldUpAtLocation=ea}else Ja=!1;Da=Ba.grabbingState&K.GrabbingState.Z?N.settings.visualElements.laserlineAlphaMultiplier:1;Da!==Va&&(Va=Da,N.settings.visualElements.heightPlane.apply(Fa,Da));Da=u.empty(ba);!wa&&ka.displaying&&
fa.calculateMapBounds(Da)&&B.projectVectorToVector(u.getMin(Da,ea),ra.spatialReference,ea,ra.renderCoordsHelper.spatialReference)?(Fa.heightManifoldTarget=ea,Fa.attached=!0):Fa.attached=!1;Da=Ba.grabbingState&K.GrabbingState.XY?N.settings.visualElements.laserlineAlphaMultiplier:1;Da!==Na&&(Na=Da,N.settings.visualElements.pointGraphics.shadowStyle.apply(ta,Da));wa=Ja&&ka.displaying&&!wa;ta.attached=wa;na.attached=wa};oa.push(H.watch(()=>[ka.displaying,ka.isDraped],Ga),ka.on("changed",Ga));ca.forEachManipulator(Da=>
{oa.push(Da.events.on("grab-changed",Ga))});oa.push(Q.destroyHandle(ta));oa.push(Q.destroyHandle(na));oa.push(Q.destroyHandle(Fa));Ga()}function U(ca,ka,oa){const {view:fa,graphic:ra}=ca,ua=new I.PointVisualElement({view:fa,geometry:T(ra),elevationInfo:P.getGraphicEffectiveElevationInfo(ra),attached:!1});W(ca,ua,ka,oa);oa.push(Q.destroyHandle(ua));return ua}function T(ca){ca=ca.geometry;return M.isNone(ca)?null:"point"===ca.type?ca:"mesh"===ca.type?ca.anchor.clone():null}function W(ca,ka,oa,fa){da(ca,
ka,oa,fa);N.settings.visualElements.pointGraphics.outline.apply(ka);fa.push(H.watch(()=>oa.displaying,()=>ka.attached=oa.displaying,H.initial))}function da(ca,ka,oa,fa){const {view:ra,graphic:ua}=ca;let na=null;const ta=ya=>{M.isSome(na)&&(na.remove(),na=null);oa.isDraped&&M.isSome(ya)&&(na=aa(ra,ya,()=>{ka.geometry=ya}))};ca=()=>{const ya=T(ua);ta(ya);ka.geometry=ya};fa.push(oa.on("changed",ca),Q.refHandle(()=>na));ca()}function aa(ca,ka,oa){B.projectPointToVector(ka,ea,ca.elevationProvider.spatialReference);
const fa=ea[0],ra=ea[1];return ca.elevationProvider.on("elevation-change",ua=>{O.containsXY(ua.extent,fa,ra)&&oa()})}const ea=C.create(),ba=u.create();t.createVisualElements=function(ca){const {view:ka,graphic:oa}=ca,fa=new z.GraphicState({graphic:oa}),ra=[],ua=U(ca,fa,ra);D(ca,fa,ra,ua);ra.push(ka.trackGraphicState(fa));return{visualElement:ua,remove(){Q.handlesGroup(ra).remove()}}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/manipulations/config":function(){define(["exports"],
function(t){const Q=Math.ceil(70/3*2),y=5*Math.PI/12,M=1*Math.PI/3;t.ALIGN_ARROWS_SCALE_THRESHOLD=1E6;t.DISC_COLLISION_RADIUS=80;t.DISC_HEIGHT=.02;t.DISC_RADIUS=70;t.DISC_RADIUS_SMALL=Q;t.DISC_TRANSLATE_ARROW_OFFSET=100;t.DISC_TRANSLATE_ARROW_SIZE=54;t.DRAG_THRESHOLD_PX=10;t.GEOMETRY_SEGMENTS=128;t.HANDLE_COLOR=[1,.5,0];t.INDICATOR_THICKNESS=9;t.INNER_INDICATOR_RADIUS=190;t.OUTER_INDICATOR_RADIUS=213;t.RING_HEIGHT=.5;t.RING_INDICATOR_DELAY_MS=200;t.RING_RADIUS=160;t.RING_RESET_ANIMATION_SPEED_FACTOR=
3;t.RING_THICKNESS=24;t.ROTATE_INDICATOR_ARC_LENGTH=y;t.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE=.2;t.ROTATE_INDICATOR_ARROW_TIP_LENGTH=60;t.ROTATE_INDICATOR_ARROW_TIP_RADIUS=23;t.ROTATE_INDICATOR_DIRECTION_BUFFER=.3;t.SCALE_INDICATOR_ARC_LENGTH=M;t.SCALE_INDICATOR_DIRECTION_BUFFER=.2;t.SCALE_INDICATOR_OFFSET1=30;t.SCALE_INDICATOR_OFFSET2=53;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/manipulations/MoveManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/has ../../../../../core/maybe ../../../../../core/reactiveUtils ../ManipulatorType ./config ./Manipulation ./MoveXYAxisManipulation ./MoveXYDiscManipulation ./MoveZManipulation".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J){O=function(N){function L(I){var x=N.call(this)||this;x._handles=new y;x._angleDeferred=null;x._interactive=!0;const {tool:A,view:z,snapToScene:F,radius:D}=I;x._view=z;x.xyManipulation=new K.MoveXYDiscManipulation({tool:A,view:z,snapToScene:F,radius:D});x.xyAxisManipulation=new P.MoveXYAxisManipulation({tool:A,view:z,radius:D});x.zManipulation=new J.MoveZManipulation({tool:A,view:z,radius:D});x.xyManipulation.available=I.xyAvailable;x.xyAxisManipulation.available=
I.xyAxisAvailable;x.zManipulation.available=I.zAvailable;x._autoHideXYAxis();x.forEachManipulator(U=>{x._handles.add(U.events.on("grab-changed",()=>x._updateManipulatorInteractivity()))});return x}Q._inheritsLoose(L,N);var R=L.prototype;R.destroy=function(){this._handles.destroy();this.xyManipulation.destroy();this.xyAxisManipulation.destroy();this.zManipulation.destroy()};R.createGraphicDragPipeline=function(I,x,A){return M.handlesGroup([this.xyManipulation.createGraphicDragPipeline((z,F,D,U,T)=>
I(t.ManipulationType.XY,z,F,D,U,T),x,A),this.xyAxisManipulation.createGraphicDragPipeline((z,F,D,U,T)=>I(t.ManipulationType.XY_AXIS,z,F,D,U,T),x,A),this.zManipulation.createGraphicDragPipeline((z,F,D,U,T)=>I(t.ManipulationType.Z,z,F,D,U,T),x,A)])};R.createDragPipeline=function(I,x,A,z){return M.handlesGroup([this.xyManipulation.createDragPipeline((F,D,U,T,W)=>I(t.ManipulationType.XY,F,D,U,T,W),x,A,z),this.xyAxisManipulation.createDragPipeline((F,D,U,T,W)=>I(t.ManipulationType.XY_AXIS,F,D,U,T,W),x,
A,z),this.zManipulation.createDragPipeline((F,D,U,T,W)=>I(t.ManipulationType.Z,F,D,U,T,W),A)])};R.forEachManipulator=function(I){this.xyManipulation.forEachManipulator(x=>I(x,B.ManipulatorType.TRANSLATE_XY));this.xyAxisManipulation.forEachManipulator(x=>I(x,B.ManipulatorType.TRANSLATE_XY));this.zManipulation.forEachManipulator(x=>I(x,B.ManipulatorType.TRANSLATE_Z))};R._autoHideXYAxis=function(){const I=this.xyAxisManipulation;var x=this.xyManipulation;if(!H("esri-mobile")){var A=[];x.forEachManipulator(z=>
A.push(z));I.forEachManipulator(z=>A.push(z));x=()=>{const z=[];this.xyAxisVisible?E.isSome(this._angleDeferred)&&(this.angle=this._angleDeferred()):I.forEachManipulator(F=>z.push(F.disableDisplay()));this._handles.remove("disable-xy-axis-display");this._handles.add(z,"disable-xy-axis-display")};for(const z of A)this._handles.add(z.events.on("focus-changed",x));this._view.inputManager&&this._handles.add(C.when(()=>{var z;return null==(z=this._view.inputManager)?void 0:z.latestPointerType},x));x()}};
R._updateManipulatorInteractivity=function(){const I=this.grabbing;this.forEachManipulator(x=>{x.interactive=!I&&this._interactive||x.grabbing})};L.radiusForSymbol=function(I){return(I=E.isSome(I)&&"point-3d"===I.type&&I.symbolLayers)&&0<I.length&&I.some(x=>"icon"===x.type)?u.DISC_RADIUS_SMALL:u.DISC_RADIUS};Q._createClass(L,[{key:"snapToScene",set:function(I){this.xyManipulation.snapToScene=I}},{key:"angle",set:function(I){this._angleDeferred=null;this.xyAxisManipulation.angle=I}},{key:"angleDeferred",
set:function(I){this.xyAxisVisible?this.angle=I():this._angleDeferred=I}},{key:"interactive",set:function(I){this._interactive!==I&&(this._interactive=I,this._updateManipulatorInteractivity())}},{key:"radius",set:function(I){this.xyAxisManipulation.radius=I;this.xyManipulation.radius=I;this.zManipulation.radius=I}},{key:"displayScale",set:function(I){this.xyManipulation.displayScale=I;this.xyAxisManipulation.displayScale=I}},{key:"xyAxisVisible",get:function(){const I=this.xyManipulation.someManipulator(x=>
x.focused)||this.xyAxisManipulation.someManipulator(x=>x.focused);return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||I}}]);return L}(O.Manipulation);t.ManipulationType=void 0;(function(N){N[N.XY=0]="XY";N[N.XY_AXIS=1]="XY_AXIS";N[N.Z=2]="Z"})(t.ManipulationType||(t.ManipulationType={}));t.MoveManipulation=O;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/manipulations/Manipulation":function(){define(["exports",
"../../../../../chunks/_rollupPluginBabelHelpers","../../Manipulator3D"],function(t,Q,y){let M=function(){function H(){this._available=!0}var E=H.prototype;E.hasManipulator=function(C){return this.someManipulator(B=>B===C)};E.someManipulator=function(C){let B=!1;this.forEachManipulator(u=>{!B&&C(u)&&(B=!0)});return B};E._forEachManipulator3D=function(C){this.forEachManipulator((B,u)=>{B instanceof y.Manipulator3D&&C(B,u)})};Q._createClass(H,[{key:"location",set:function(C){this._forEachManipulator3D(B=>
B.location=C)}},{key:"elevationAlignedLocation",set:function(C){this._forEachManipulator3D(B=>B.elevationAlignedLocation=C)}},{key:"elevationInfo",set:function(C){this._forEachManipulator3D(B=>B.elevationInfo=C)}},{key:"renderLocation",get:function(){let C;this._forEachManipulator3D(B=>{C||(C=B.renderLocation)});return C}},{key:"available",get:function(){return this._available},set:function(C){this._available=C;this._forEachManipulator3D(B=>B.available=C)}},{key:"hovering",get:function(){return this.someManipulator(C=>
C.hovering)}},{key:"grabbing",get:function(){return this.someManipulator(C=>C.grabbing)}},{key:"dragging",get:function(){return this.someManipulator(C=>C.dragging)}}]);return H}();t.Manipulation=M;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/vectorStacks ../../../../../support/elevationInfoUtils ../../Manipulator3D ../dragEventPipeline3D ../ManipulatorType ../settings ./config ./Manipulation ./moveUtils ../../../webgl-engine/lib/basicInterfaces ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/lib/Material ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline ../../../../interactive/interfaces".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da){A=function(aa){function ea(ca){var ka=aa.call(this)||this;ka._handles=new H;ka._arrowManipulatorInfos=[];ka._opaqueMaterial=ka._createMaterial();ka._transparentMaterial=ka._createMaterial(.5);ka._angle=0;ka._scale=1;ka._radius=x.DISC_RADIUS;ka._updateAfterDrag=!1;ka.events=new M;ka._tool=ca.tool;ka._view=ca.view;null!=ca.radius&&(ka._radius=ca.radius);ka._createManipulators();ka.forEachManipulator(oa=>ka._tool.manipulators.add(oa));return ka}
Q._inheritsLoose(ea,aa);var ba=ea.prototype;ba.destroy=function(){this.forEachManipulator(ca=>{this._tool.manipulators.remove(ca);ca.destroy()});this._handles=C.destroyMaybe(this._handles);this._view=this._tool=null;this._arrowManipulatorInfos.length=0};ba.forEachManipulator=function(ca){for(const {manipulator:ka}of this._arrowManipulatorInfos)ca(ka,R.ManipulatorType.TRANSLATE_XY)};ba.createGraphicDragPipeline=function(ca,ka,oa){const fa=ka.graphic,ra=J.getGraphicEffectiveElevationInfo(fa),ua=C.unwrap(fa.geometry).spatialReference;
return z.createGraphicMoveDragPipeline(ka,oa,na=>this.createDragPipeline((ta,ya,Fa,Ia,La)=>na(ta,ca(ta,ya,Fa,Ia,La),Fa),ra,ua,fa),this._view.state.viewingMode)};ba.createDragPipeline=function(ca,ka,oa,fa){return E.handlesGroup(this._arrowManipulatorInfos.map(({manipulator:ra},ua)=>W.createManipulatorDragEventPipeline(ra,(na,ta,ya,Fa,Ia)=>{ta=ta.next(La=>({...La,manipulatorType:R.ManipulatorType.TRANSLATE_XY})).next(W.dragAtLocation(this._view,na.elevationAlignedLocation)).next(L.screenToMapXYAtLocation(this._view,
na.elevationAlignedLocation,ka,oa,fa)).next(W.constrainToMapAxis(na.location,this.angle+(ua+1)*Math.PI*.5)).next(W.addScreenDelta());ca(na,ta,ya,Fa,Ia)})))};ba._updateManipulators=function(){for(let ca=0;ca<this._arrowManipulatorInfos.length;ca++)this._updateArrowManipulator(this._arrowManipulatorInfos[ca],ca);this._updateManipulatorTransform()};ba._updateArrowManipulator=function({manipulator:ca,transform:ka},oa){var fa=this._radius/x.DISC_RADIUS,ra=x.DISC_TRANSLATE_ARROW_SIZE*fa;const ua=ra*Math.sqrt(3)/
2;ra=D.createExtrudedTriangle(ua,ra/2,ra/2,x.DISC_HEIGHT);D.transformInPlace(ra,B.fromTranslation(K.sm4d.get(),O.set(K.sv3d.get(),0,-ua/3,0)));ca.renderObjects=[{geometry:ra,material:this._opaqueMaterial,stateMask:da.ManipulatorStateFlags.Focused},{geometry:ra,material:this._transparentMaterial,stateMask:da.ManipulatorStateFlags.Unfocused}];ca.radius=ua/3*2.4;ca=B.fromZRotation(K.sm4d.get(),oa*Math.PI/2);fa=B.fromTranslation(K.sm4d.get(),O.set(K.sv3d.get(),0,x.DISC_TRANSLATE_ARROW_OFFSET*fa,0));B.multiply(ka,
ca,fa)};ba._createManipulators=function(){for(let ca=0;4>ca;ca++){const ka=this._createArrowManipulator(ca);this._arrowManipulatorInfos.push(ka)}this._updateManipulatorTransform()};ba._updateManipulatorTransform=function(){var ca=this.angle;ca=B.fromRotation(K.sm4d.get(),ca,P.fromValues(0,0,1));if(!C.isNone(ca)){var ka=B.fromScaling(K.sm4d.get(),O.set(K.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));ca=B.multiply(K.sm4d.get(),ka,ca);for(const oa of this._arrowManipulatorInfos)ka=
B.multiply(K.sm4d.get(),ca,oa.transform),oa.manipulator.modelTransform=ka}};ba._createArrowManipulator=function(ca){const ka=new N.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:P.fromValues(0,0,1)}}),oa={manipulator:ka,transform:u.create()};this._updateArrowManipulator(oa,ca);this._handles.add(ka.events.on("drag",fa=>{this._updateAfterDrag&&"end"===fa.action&&!this.dragging&&(this._updateManipulatorTransform(),
this._updateAfterDrag=!1)}));return oa};ba._createMaterial=function(ca=1){const ka=y.toUnitRGBA(I.colors.main);ka[3]*=ca;return new T.ColorMaterial({color:ka,transparent:1!==ca,cullFace:F.CullFaceOptions.Back,renderOccluded:U.RenderOccludedFlag.Transparent})};Q._createClass(ea,[{key:"orthogonalAvailable",set:function(ca){this._arrowManipulatorInfos[1].manipulator.available=ca;this._arrowManipulatorInfos[3].manipulator.available=ca}},{key:"angle",get:function(){return this._angle},set:function(ca){this._angle=
ca;this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}},{key:"displayScale",get:function(){return this._scale},set:function(ca){this._scale=ca;this._updateManipulatorTransform()}},{key:"radius",get:function(){return this._radius},set:function(ca){this._radius!==ca&&(this._radius=ca,this._updateManipulators())}},{key:"test",get:function(){return{arrowManipulators:this._arrowManipulatorInfos.map(({manipulator:ca})=>ca)}}}]);return ea}(A.Manipulation);t.MoveXYAxisManipulation=
A;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/dragEventPipeline3D":function(){define("exports ../../../../core/maybe ../../../../core/screenUtils ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/projection ../../../../geometry/support/plane ../../../../geometry/support/ray ../../../../geometry/support/vector ../../../../geometry/support/vectorStacks ../../../../support/elevationInfoUtils ../../support/geometryUtils/ray ../../webgl-engine/lib/Intersector ../../webgl-engine/lib/IntersectorInterfaces ../../webgl-engine/lib/verticalOffsetUtils ../../../interactive/dragEventPipeline".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R){function I(ea,ba){return x(ea,()=>ba)}function x(ea,ba){const ca=H.create(),ka=H.create();let oa=!1;return fa=>{const ra=ba(fa);if("start"===fa.action){var ua=y.screenPointObjectToArray(fa.screenStart,y.castScreenPointArray(O.sv2d.get()));ua=K.fromScreen(ea.state.camera,ua,aa);Q.isSome(ua)&&(oa=C.intersectRay(ra,ua,ca))}if(!oa)return null;ua=y.screenPointObjectToArray(fa.screenEnd,y.castScreenPointArray(O.sv2d.get()));ua=K.fromScreen(ea.state.camera,ua,aa);
return Q.isNone(ua)?null:C.intersectRay(ra,ua,ka)?{...fa,renderStart:ca,renderEnd:ka,plane:ra,ray:ua}:null}}function A(ea,ba,ca,ka=null,oa=null){let fa=null;return ra=>{if("start"===ra.action&&(fa=ea.sceneIntersectionHelper.intersectElevationFromScreen(y.createScreenPointArray(ra.screenStart.x,ra.screenStart.y),ba,ca,oa),Q.isSome(fa)&&Q.isSome(ka)&&!E.projectPoint(fa,fa,ka))||Q.isNone(fa))return null;const ua=ea.sceneIntersectionHelper.intersectElevationFromScreen(y.createScreenPointArray(ra.screenEnd.x,
ra.screenEnd.y),ba,ca,oa);return Q.isSome(ua)?Q.isSome(ka)&&!E.projectPoint(ua,ua,ka)?null:{...ra,mapStart:fa,mapEnd:ua}:null}}function z(ea,ba,ca,ka=null,oa=null){ba=P.getZForElevationMode(ba,ea,ca);return A(ea,ca,ba,ka,oa)}function F(ea,ba,ca,ka=null,oa=null){return z(ea,ca,P.getGraphicEffectiveElevationInfo(ba),ka,oa)}function D(ea,ba){const ca=W,ka=da,oa=C.create();ea.renderCoordsHelper.worldUpAtPosition(ba,ca);ea=M.cross(oa,ca,M.subtract(ka,ba,ea.state.camera.eye));M.cross(ea,ea,ca);return C.fromPositionAndNormal(ba,
ea,oa)}function U(ea,ba){const ca=H.create(),ka=M.length(ba);ea.renderCoordsHelper.worldUpAtPosition(ba,ca);const oa=H.create(),fa=H.create(),ra=ua=>{M.subtract(ua,ua,ba);u.projectPoint(ca,ua,ua);"global"===ea.viewingMode&&M.length(ua)*Math.sign(M.dot(ca,ua))<-ka+.001&&M.subtract(ua,M.scale(ua,ca,.001),ba);M.add(ua,ua,ba);return ua};return ua=>{ua.renderStart=ra(M.copy(oa,ua.renderStart));ua.renderEnd=ra(M.copy(fa,ua.renderEnd));return ua}}function T(ea,ba){const ca=ea.renderCoordsHelper;return ka=>
{const oa=ca.fromRenderCoords(ka.renderStart,ba),fa=ca.fromRenderCoords(ka.renderEnd,ba);return Q.isSome(oa)&&Q.isSome(fa)?{...ka,mapStart:oa,mapEnd:fa}:null}}t.SurfaceType=void 0;(function(ea){ea[ea.GROUND=0]="GROUND";ea[ea.OTHER=1]="OTHER"})(t.SurfaceType||(t.SurfaceType={}));const W=H.create(),da=H.create(),aa=B.create();t.convertToMapCoordinates=T;t.hideManipulatorWhileDragging=function(ea){let ba=null;return ca=>{switch(ca.action){case "start":ba=ea.disableDisplay();break;case "end":case "cancel":Q.isSome(ba)&&
(ba.remove(),ba=null)}return ca}};t.projectToWorldUp=U;t.screenToMap3D=function(ea,ba=null){const ca=J.newIntersector(ea.state.viewingMode);ca.options.selectionMode=!0;ca.options.store=N.StoreResults.MIN;ca.options.hud=!1;const ka=y.createScreenPointArray(),oa={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},fa=H.create(),ra=Q.unwrapOr(ba,ea.spatialReference),ua=ta=>{ea.map.ground&&1>ea.map.ground.opacity?oa.exclude.add(L.TERRAIN_ID):oa.exclude.delete(L.TERRAIN_ID);ea.sceneIntersectionHelper.intersectIntersectorScreen(y.screenPointObjectToArray(ta,
ka),ca,oa);ta=ca.results.min;if(ta.getIntersectionPoint(fa))ta=ta.intersector===N.IntersectorType.TERRAIN?t.SurfaceType.GROUND:t.SurfaceType.OTHER;else if(ca.results.ground.getIntersectionPoint(fa))ta=t.SurfaceType.GROUND;else return null;return{location:ea.renderCoordsHelper.fromRenderCoords(fa,ra),surfaceType:ta}};let na;return ta=>{if("start"===ta.action){var ya=ua(ta.screenStart);na=Q.isSome(ya)?ya.location:null}if(Q.isNone(na))return null;ya=ua(ta.screenEnd);return Q.isSome(ya)&&Q.isSome(ya.location)?
{...ta,mapStart:na,mapEnd:ya.location,surfaceType:ya.surfaceType}:null}};t.screenToMapXYAtLocation=z;t.screenToMapXYForGraphic=function(ea,ba,ca,ka){ea=ba.toMap(ea.screenStart,{include:[ca]});return Q.isSome(ea)?F(ba,ca,ea,ka):null};t.screenToMapXYForGraphicAtLocation=F;t.screenToRenderPlane=I;t.screenToRenderPlaneFromEvent=function(ea){return x(ea,ba=>ba.plane)};t.screenToZConstrained=function(ea,ba,ca){let ka=null;const oa=new R.EventPipeline;oa.next(I(ea,D(ea,ba))).next(U(ea,ba)).next(T(ea,ca)).next(fa=>
{fa.mapEnd.x=fa.mapStart.x;fa.mapEnd.y=fa.mapStart.y;ka=fa});return fa=>{ka=null;oa.execute(fa);return ka}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/manipulations/moveUtils":function(){define(["exports","../../../../../core/maybe","../../../../interactive/dragEventPipeline"],function(t,Q,y){t.createGraphicMoveDragPipeline=function(M,H,E,C){const B=M.graphic,u=(O,P)=>H({action:O,graphic:B,dxScreen:P.screenDeltaX,
dyScreen:P.screenDeltaY});return E((O,P,K)=>{O=P.next(J=>{"start"===J.action&&u("start",J);return J}).next(y.dragGraphic(B,C)).next(J=>{switch(J.action){case "start":case "update":(J.translationX||J.translationY||J.translationZ)&&u("update",J);break;case "end":u("end",J)}return J});K.next(y.resetGraphic(B)).next(()=>{u("end",{screenDeltaX:0,screenDeltaY:0})});return O})};t.shapeOrientation=function(M){if(Q.isNone(M)||"polyline"!==M.type&&"polygon"!==M.type)return 0;var H=("polyline"===M.type?M.paths:
M.rings)[0];if(!H||2>H.length)return 0;M=H[0];H=H[1];return Math.atan2(H[1]-M[1],H[0]-M[0])};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/maybe ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/vectorStacks ../../../../../support/elevationInfoUtils ../../Manipulator3D ../dragEventPipeline3D ../ManipulatorType ../settings ./config ./Manipulation ./moveUtils ../snapping/SnapToScene ../../../webgl-engine/lib/basicInterfaces ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/lib/Material ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline ../../../../interactive/interfaces".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T){R=function(W){function da(ea){var ba=W.call(this)||this;ba._snapToScene=new x.SnapToScene;ba._discMaterial=ba._createMaterial();ba._discMaterialTransparent=ba._createMaterial(.5);ba._scale=1;ba._radius=L.DISC_RADIUS;ba._view=ea.view;ba._tool=ea.tool;null!=ea.snapToScene&&(ba.snapToScene=ea.snapToScene);null!=ea.radius&&(ba._radius=ea.radius);ba._createManipulator();ba.forEachManipulator(ca=>ba._tool.manipulators.add(ca));return ba}Q._inheritsLoose(da,
W);var aa=da.prototype;aa.destroy=function(){this.forEachManipulator(ea=>{this._tool.manipulators.remove(ea);ea.destroy()});this._manipulator=this._view=this._tool=null};aa.forEachManipulator=function(ea){ea(this._manipulator,J.ManipulatorType.TRANSLATE_XY)};aa.createGraphicDragPipeline=function(ea,ba,ca){const ka=ba.graphic,oa=O.getGraphicEffectiveElevationInfo(ka),fa=M.unwrap(ka.geometry).spatialReference;return I.createGraphicMoveDragPipeline(ba,ca,ra=>this.createDragPipeline((ua,na,ta,ya,Fa)=>
ra(ua,ea(ua,na,ta,ya,Fa),ta),oa,fa,ka),this._view.state.viewingMode)};aa.createDragPipeline=function(ea,ba,ca,ka){const oa=this._view;return U.createManipulatorDragEventPipeline(this._manipulator,(fa,ra,ua,na,ta)=>{ra=ra.next(U.dragAtLocation(oa,fa.elevationAlignedLocation)).next(K.screenToMapXYAtLocation(oa,fa.elevationAlignedLocation,ba,ca,ka)).next(this._snapToScene.createDragEventPipelineStep(oa,ba),this._snapToScene.next).next(ya=>({...ya,manipulatorType:J.ManipulatorType.TRANSLATE_XY})).next(U.addScreenDelta());
ea(fa,ra,ua,na,ta)})};aa._updateManipulatorTransform=function(){const ea=H.fromScaling(u.sm4d.get(),C.set(u.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=ea};aa._createManipulator=function(){this._manipulator=new P.Manipulator3D({view:this._view,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:B.fromValues(0,0,1)},worldOriented:!0});this._updateManipulator()};aa._updateManipulator=
function(){const ea=z.createCylinderGeometry(L.DISC_HEIGHT,1,L.GEOMETRY_SEGMENTS,B.fromValues(0,0,1),B.fromValues(0,0,0)),ba=H.fromScaling(E.create(),B.fromValues(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:ea,material:this._discMaterial,transform:ba,stateMask:T.ManipulatorStateFlags.Focused},{geometry:ea,material:this._discMaterialTransparent,transform:ba,stateMask:T.ManipulatorStateFlags.Unfocused}];this._manipulator.radius=this._radius/L.DISC_RADIUS*L.DISC_COLLISION_RADIUS};
aa._createMaterial=function(ea=1){const ba=y.toUnitRGBA(N.colors.main);ba[3]*=ea;return new D.ColorMaterial({color:ba,transparent:1!==ea,cullFace:A.CullFaceOptions.Back,renderOccluded:F.RenderOccludedFlag.Transparent})};Q._createClass(da,[{key:"displayScale",get:function(){return this._scale},set:function(ea){this._scale=ea;this._updateManipulatorTransform()}},{key:"snapToScene",get:function(){return this._snapToScene.enabled},set:function(ea){this._snapToScene.enabled=ea}},{key:"radius",get:function(){return this._radius},
set:function(ea){ea!==this._radius&&(this._radius=ea,this._updateManipulator())}},{key:"test",get:function(){return{discManipulator:this._manipulator}}}]);return da}(R.Manipulation);t.MoveXYDiscManipulation=R;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/snapping/SnapToScene":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe","../../../../../support/elevationInfoUtils",
"../../../../interactive/dragEventPipeline"],function(t,Q,y,M,H){let E=function(){function C(){this.lastDragEvent=this.elevationInfo=this.view=null;this.next=new H.EventPipeline;this._enabled=!1}var B=C.prototype;B._snap=function(u){u=y.isSome(this.view)?this.view.toMap(u,{exclude:[]}):null;y.isSome(u)&&y.isSome(this.view)&&(u.z=M.getZForElevationMode(u,this.view,this.elevationInfo));return u};B.createDragEventPipelineStep=function(u,O){this.view=u;this.elevationInfo=O;this.lastDragEvent=null;return P=>
{this.lastDragEvent="end"!==P.action?{...P}:null;if(this._enabled){const K=this._snap(P.screenEnd);return y.isSome(K)?{action:P.action,mapStart:P.mapStart,mapEnd:K,screenStart:P.screenStart,screenEnd:P.screenEnd}:null}return{action:P.action,mapStart:P.mapStart,mapEnd:P.mapEnd,screenStart:P.screenStart,screenEnd:P.screenEnd}}};Q._createClass(C,[{key:"enabled",get:function(){return this._enabled},set:function(u){if(this._enabled!==u&&y.isSome(this.lastDragEvent)){const O=this.lastDragEvent.mapEnd,P=
this._snap(this.lastDragEvent.screenEnd);y.isSome(P)&&this.next.execute({action:"update",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===u?P:O,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd})}this._enabled=u}}]);return C}();t.SnapToScene=E;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/manipulations/MoveZManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/colorUtils ../../../../../core/Evented ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../ManipulatorType ../settings ./config ./Manipulation ./moveUtils ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/lib/Material ../../../../interactive/dragEventPipeline ../../../../interactive/interfaces".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D){I=function(da){function aa(ba){var ca=da.call(this)||this;ca._radius=R.DISC_RADIUS;ca.events=new M;ca._tool=ba.tool;ca._view=ba.view;null!=ba.radius&&(ca._radius=ba.radius);ca._createManipulator();ca.forEachManipulator(ka=>ca._tool.manipulators.add(ka));return ca}Q._inheritsLoose(aa,da);var ea=aa.prototype;ea.destroy=function(){this.forEachManipulator(ba=>{this._tool.manipulators.remove(ba);ba.destroy()})};ea.forEachManipulator=function(ba){ba(this._manipulator,
N.ManipulatorType.TRANSLATE_Z)};ea.createGraphicDragPipeline=function(ba,ca,ka){const oa=E.unwrap(ca.graphic.geometry).spatialReference;return x.createGraphicMoveDragPipeline(ca,ka,fa=>this.createDragPipeline((ra,ua,na,ta,ya)=>fa(ra,ba(ra,ua,na,ta,ya),na),oa),this._view.state.viewingMode)};ea.createDragPipeline=function(ba,ca){const ka=this._view;return F.createManipulatorDragEventPipeline(this._manipulator,(oa,fa,ra,ua,na)=>{fa=fa.next(ta=>({...ta,manipulatorType:N.ManipulatorType.TRANSLATE_Z})).next(J.screenToZConstrained(ka,
oa.renderLocation,ca)).next(F.addScreenDelta());ba(oa,fa,ra,ua,na)})};ea._updateManipulator=function(){var ba=this._radius/R.DISC_RADIUS;const ca=L.settings.zManipulator.height*ba;var ka=L.settings.zManipulator.coneHeight*ba;const oa=L.settings.zManipulator.coneWidth*ba;ba*=L.settings.zManipulator.width;var fa=[O.fromValues(0,0,0),O.fromValues(0,0,ca)];fa=A.createTubeGeometry(fa,ba/2,16,!1);const ra=A.createConeGeometry(ka,oa/2,16,!1);ka=[O.fromValues(0,0,0),O.fromValues(0,0,ca+ka)];const ua=(Ia=>
{const La=B.create();C.translate(La,La,[0,0,ca]);C.rotateX(La,La,Math.PI/2);Ia&&(Ia=1+2*Ia/oa,C.scale(La,La,[Ia,Ia,Ia]));return La})(0);var na=(Ia,La)=>{La=y.darken(L.settings.zManipulator.color,La);return[La.r/255,La.g/255,La.b/255,L.settings.zManipulator.color.a*Ia]};const ta=K.createManipulatorMaterial(na(1,.25),z.RenderOccludedFlag.Occlude),ya=K.createManipulatorMaterial(na(1,0),z.RenderOccludedFlag.Occlude),Fa=K.createManipulatorMaterial(na(.7,0),L.settings.zManipulator.renderOccluded);na=K.createManipulatorMaterial(na(.85,
0),L.settings.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:ra,transform:ua,material:ta,stateMask:D.ManipulatorStateFlags.Unfocused},{geometry:fa,material:ta,stateMask:D.ManipulatorStateFlags.Unfocused},{geometry:ra,transform:ua,material:ya,stateMask:D.ManipulatorStateFlags.Focused},{geometry:fa,material:ya,stateMask:D.ManipulatorStateFlags.Focused},{geometry:ra,transform:ua,material:Fa,stateMask:D.ManipulatorStateFlags.Unfocused},{geometry:fa,material:Fa,stateMask:D.ManipulatorStateFlags.Unfocused},
{geometry:ra,transform:ua,material:na,stateMask:D.ManipulatorStateFlags.Focused},{geometry:fa,material:na,stateMask:D.ManipulatorStateFlags.Focused}];this._manipulator.radius=ba/2+2;this._manipulator.collisionType={type:"line",paths:[ka]}};ea._createManipulator=function(){const ba=new P.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});ba.applyObjectTransform=ca=>{var ka=
this._view.state.camera,oa=U;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,oa);const fa=u.dist(ka.eye,oa),ra=ka.computeRenderPixelSizeAtDist(fa);var ua=u.subtract(T,oa,ka.eye);u.normalize(ua,ua);var na=W;this._view.renderCoordsHelper.worldUpAtPosition(U,na);oa=Math.abs(u.dot(ua,na));ua=u.cross(T,ua,na);na=u.cross(T,ua,na);oa=H.clamp(oa,.01,1);ka=1-Math.sqrt(1-oa*oa)/oa/ka.fullWidth;oa=this._radius/R.DISC_RADIUS*L.settings.zManipulator.width;u.scale(na,u.normalize(na,
na),(1/ka-1)*fa+ra*oa);ca[12]-=T[0];ca[13]-=T[1];ca[14]-=T[2]};this._manipulator=ba;this._updateManipulator()};Q._createClass(aa,[{key:"radius",get:function(){return this._radius},set:function(ba){ba!==this._radius&&(this._radius=ba,this._updateManipulator())}},{key:"test",get:function(){return{manipulator:this._manipulator}}}]);return aa}(I.Manipulation);const U=O.create(),T=O.create(),W=O.create();t.MoveZManipulation=I;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../dragEventPipeline3D ../ManipulatorType ./Manipulation ./moveUtils ../../../../interactive/dragEventPipeline ../../../../interactive/GraphicManipulator".split(" "),function(t,Q,y,M,H,E,C,B,u){E=function(O){function P(J){var N=O.call(this)||this;N._view=J.view;N._tool=J.tool;N._graphicState=J.graphicState;N._createManipulator();
N.forEachManipulator(L=>N._tool.manipulators.add(L));return N}Q._inheritsLoose(P,O);var K=P.prototype;K.destroy=function(){this.forEachManipulator(J=>{this._tool.manipulators.remove(J);J.destroy()});this._graphicState=this._manipulator=this._view=this._tool=null};K.forEachManipulator=function(J){J(this._manipulator,H.ManipulatorType.TRANSLATE_XY)};K.createGraphicDragPipeline=function(J){return C.createGraphicMoveDragPipeline(this._graphicState,J,N=>this.createDragPipeline(N),this._view.state.viewingMode)};
K.createDragPipeline=function(J){const N=this._view,L=this._graphicState.graphic,R=y.isSome(L.geometry)?L.geometry.spatialReference:null;return B.createManipulatorDragEventPipeline(this._manipulator,(I,x,A,z,F)=>{x=x.next(M.screenToMapXYForGraphic(F,N,L,R)).next(B.addMapDelta()).next(B.addScreenDelta());J(I,x,A,z,F)})};K._createManipulator=function(){this._manipulator=new u.GraphicManipulator({graphic:this._graphicState.graphic,view:this._view,selectable:!0,cursor:"move"})};return P}(E.Manipulation);
t.MoveXYGraphicManipulation=E;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/GraphicManipulator":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/maybe ../../core/reactiveUtils ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../chunks/vec2 ../../chunks/vec3 ../../chunks/vec3f64 ../../geometry/projection ../../support/elevationInfoUtils ../../symbols/support/defaults ../../symbols/support/ElevationInfo ../support/drapedUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F){t.GraphicManipulator=function(T){function W(aa){aa=T.call(this,aa)||this;aa.layer=null;aa.interactive=!0;aa.selectable=!1;aa.grabbable=!0;aa.dragging=!1;aa.cursor=null;aa.events=new H.EventEmitter;aa._circleCollisionCache=null;aa._graphicSymbolChangedHandle=null;aa._originalSymbol=null;return aa}Q._inheritsLoose(W,T);var da=W.prototype;da.grabbableForEvent=function(){return!0};da.destroy=function(){this.detachSymbolChanged();this._resetGraphicSymbol();
this._set("view",null)};da.intersectionDistance=function(aa){const ea=this.graphic;if(!1===ea.visible)return null;const ba=ea.geometry;if(E.isNone(ba))return null;var ca=this._get("focusedSymbol");ca=E.isSome(ca)?ca:ea.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,aa,ba,ca):this._intersectDistance3D(this.view,aa,ea)};da.attach=function(){this.attachSymbolChanged();E.isSome(this.layer)&&this.layer.add(this.graphic)};da.detach=function(){this.detachSymbolChanged();this._resetGraphicSymbol();
E.isSome(this.layer)&&this.layer.remove(this.graphic)};da.attachSymbolChanged=function(){this.detachSymbolChanged();this._graphicSymbolChangedHandle=C.watch(()=>{var aa;return null==(aa=this.graphic)?void 0:aa.symbol},aa=>{E.isSome(aa)&&aa!==this.focusedSymbol&&aa!==this._originalSymbol&&(this._originalSymbol=aa,this._focused&&E.isSome(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))},C.sync)};da.detachSymbolChanged=function(){E.isSome(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),
this._graphicSymbolChangedHandle=null)};da._updateGraphicSymbol=function(){this.graphic.symbol=this._focused&&E.isSome(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol};da._resetGraphicSymbol=function(){this.graphic.symbol=this._originalSymbol};da._intersectDistance2D=function(aa,ea,ba,ca){ca=ca||A.getDefaultSymbol2D(ba);if(E.isNone(ca))return null;var ka=this._circleCollisionCache;if("point"!==ba.type||"simple-marker"!==ca.type)return F.intersectsDrapedGeometry(ea,ba,aa)?1:null;if(E.isNone(ka)||
!ka.originalPoint.equals(ba)){const oa=aa.spatialReference;I.canProjectWithoutEngine(ba.spatialReference,oa)&&(ka=I.project(ba,oa),this._circleCollisionCache=ka={originalPoint:ba.clone(),mapPoint:ka,radiusPx:B.pt2px(ca.size)})}return E.isSome(ka)?(ea=B.screenPointObjectToArray(ea,U),aa=aa.toScreen(ka.mapPoint),ka=ka.radiusPx,ba=aa.x+B.pt2px(ca.xoffset),ca=aa.y-B.pt2px(ca.yoffset),N.squaredDistance(ea,[ba,ca])<ka*ka?1:null):null};da._intersectDistance3D=function(aa,ea,ba){return(ea=aa.toMap(ea,{include:[ba]}))&&
I.projectPointToVector(ea,D,aa.renderSpatialReference)?L.distance(D,aa.state.camera.eye):null};Q._createClass(W,[{key:"graphic",set:function(aa){this._circleCollisionCache=null;this._originalSymbol=aa.symbol;this._set("graphic",aa);this.attachSymbolChanged()}},{key:"elevationInfo",get:function(){const aa="elevationInfo"in this.graphic.layer&&this.graphic.layer.elevationInfo,ea=x.getGraphicEffectiveElevationMode(this.graphic);return new z.default({mode:ea,offset:aa?aa.offset:0})}},{key:"focusedSymbol",
set:function(aa){aa!==this._get("focusedSymbol")&&(this._set("focusedSymbol",aa),this._updateGraphicSymbol(),this._circleCollisionCache=null)}},{key:"grabbing",set:function(aa){aa!==this._get("grabbing")&&(this._set("grabbing",aa),this._updateGraphicSymbol())}},{key:"hovering",set:function(aa){aa!==this._get("hovering")&&(this._set("hovering",aa),this._updateGraphicSymbol())}},{key:"selected",set:function(aa){aa!==this._get("selected")&&(this._set("selected",aa),this._updateGraphicSymbol(),this.events.emit("select-changed",
{action:aa?"select":"deselect"}))}},{key:"_focused",get:function(){return this._get("hovering")||this._get("grabbing")}}]);return W}(M);y.__decorate([u.property({constructOnly:!0,nonNullable:!0})],t.GraphicManipulator.prototype,"graphic",null);y.__decorate([u.property()],t.GraphicManipulator.prototype,"elevationInfo",null);y.__decorate([u.property({constructOnly:!0,nonNullable:!0})],t.GraphicManipulator.prototype,"view",void 0);y.__decorate([u.property({value:null})],t.GraphicManipulator.prototype,
"focusedSymbol",null);y.__decorate([u.property({constructOnly:!0})],t.GraphicManipulator.prototype,"layer",void 0);y.__decorate([u.property()],t.GraphicManipulator.prototype,"interactive",void 0);y.__decorate([u.property()],t.GraphicManipulator.prototype,"selectable",void 0);y.__decorate([u.property()],t.GraphicManipulator.prototype,"grabbable",void 0);y.__decorate([u.property({value:!1})],t.GraphicManipulator.prototype,"grabbing",null);y.__decorate([u.property()],t.GraphicManipulator.prototype,"dragging",
void 0);y.__decorate([u.property()],t.GraphicManipulator.prototype,"hovering",null);y.__decorate([u.property({value:!1})],t.GraphicManipulator.prototype,"selected",null);y.__decorate([u.property()],t.GraphicManipulator.prototype,"cursor",void 0);t.GraphicManipulator=y.__decorate([J.subclass("esri.views.interactive.GraphicManipulator")],t.GraphicManipulator);const D=R.create(),U=B.createScreenPointArray();Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/support/drapedUtils":function(){define("exports ../../geometry ../../core/maybe ../../core/unitUtils ../../renderers/support/clickToleranceUtils ../../geometry/Extent".split(" "),
function(t,Q,y,M,H,E){function C(u,O,P,K=new E){let J;if("2d"===P.type)J=O*P.resolution;else if("3d"===P.type){var N=P.overlayPixelSizeInMapUnits(u),L=P.basemapSpatialReference;J=y.isSome(L)&&!L.equals(P.spatialReference)?M.getMetersPerUnitForSR(L)/M.getMetersPerUnitForSR(P.spatialReference):O*N}O=u.x-J;N=u.y-J;L=u.x+J;u=u.y+J;({spatialReference:P}=P);K.xmin=Math.min(O,L);K.ymin=Math.min(N,u);K.xmax=Math.max(O,L);K.ymax=Math.max(N,u);K.spatialReference=P;return K}const B=new E;t.createQueryGeometry=
C;t.intersectsDrapedGeometry=function(u,O,P){u=P.toMap(u);if(y.isNone(u))return!1;const K=H.calculateTolerance();return C(u,K,P,B).intersects(O)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/renderers/support/clickToleranceUtils":function(){define(["exports"],function(t){function Q(H,E){return E?"xoffset"in E&&E.xoffset?Math.max(H,Math.abs(E.xoffset)):"yoffset"in E&&E.yoffset?Math.max(H,Math.abs(E.yoffset||0)):H:H}function y(H,E){if("number"===
typeof H)return H;if(H&&H.stops&&H.stops.length){{H=H.stops;let C=E=0;for(let B=0;B<H.length;B++){const u=H[B].size;"number"===typeof u&&(E+=u,C++)}H=E/C}return H}return E}function M(H,E){if(!E)return H;E=E.filter(u=>"size"===u.type).map(u=>{const {maxSize:O,minSize:P}=u;return(y(O,H)+y(P,H))/2});let C=0;const B=E.length;if(0===B)return H;for(let u=0;u<B;u++)C+=E[u];return Math.max(Math.floor(C/B),H)}t.calculateTolerance=function(H){const E=H&&H.renderer;H="touch"===(H&&H.event&&H.event.pointerType)?
9:6;if(!E)return H;H="visualVariables"in E?M(H,E.visualVariables):H;if("simple"===E.type)return Q(H,E.symbol);if("unique-value"===E.type){let C=H;E.uniqueValueInfos.forEach(B=>{C=Q(C,B.symbol)});return C}if("class-breaks"===E.type){let C=H;E.classBreakInfos.forEach(B=>{C=Q(C,B.symbol)});return C}return H};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic":function(){define(["exports","../../../../../core/has",
"../../../../../core/maybe","../../../../../support/elevationInfoUtils","../isSupportedGraphicUtils"],function(t,Q,y,M,H){t.isSupportedGraphic=function(E){var C;if("graphics"!==(null==(C=E.layer)?void 0:C.type))return H.SupportedGraphicResult.GRAPHICS_LAYER_MISSING;if(y.isNone(E.geometry))return H.SupportedGraphicResult.GEOMETRY_MISSING;switch(E.geometry.type){case "polygon":case "point":case "polyline":case "mesh":break;case "multipoint":case "extent":return H.SupportedGraphicResult.GEOMETRY_TYPE_UNSUPPORTED;
default:return H.SupportedGraphicResult.GEOMETRY_TYPE_UNSUPPORTED}return"on-the-ground"!==M.getGraphicEffectiveElevationMode(E)&&M.hasGraphicFeatureExpressionInfo(E)?H.SupportedGraphicResult.ELEVATION_MODE_UNSUPPORTED:H.SupportedGraphicResult.SUPPORTED};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/TranslateTooltipInfos":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/quantityUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ./SketchTooltipInfo".split(" "),
function(t,Q,y,M,H,E,C){t.TranslateGraphicTooltipInfo=function(B){function u(O){O=B.call(this,O)||this;O.type="translate-graphic";O.distance=M.zeroMeters;return O}Q._inheritsLoose(u,B);return u}(C.SketchTooltipInfo);y.__decorate([H.property()],t.TranslateGraphicTooltipInfo.prototype,"type",void 0);y.__decorate([H.property()],t.TranslateGraphicTooltipInfo.prototype,"distance",void 0);t.TranslateGraphicTooltipInfo=y.__decorate([E.subclass("esri.views.interactive.tooltip.TranslateGraphicTooltipInfo")],
t.TranslateGraphicTooltipInfo);t.TranslateZTooltipInfo=function(B){function u(O){O=B.call(this,O)||this;O.type="translate-z";O.distance=M.zeroMeters;return O}Q._inheritsLoose(u,B);return u}(C.SketchTooltipInfo);y.__decorate([H.property()],t.TranslateZTooltipInfo.prototype,"type",void 0);y.__decorate([H.property()],t.TranslateZTooltipInfo.prototype,"distance",void 0);t.TranslateZTooltipInfo=y.__decorate([E.subclass("esri.views.interactive.tooltip.TranslateZTooltipInfo")],t.TranslateZTooltipInfo);t.TranslateVertexTooltipInfo=
function(B){function u(O){O=B.call(this,O)||this;O.type="translate-vertex";O.distance=M.zeroMeters;O.elevation=null;O.area=null;O.totalLength=null;return O}Q._inheritsLoose(u,B);return u}(C.SketchTooltipInfo);y.__decorate([H.property()],t.TranslateVertexTooltipInfo.prototype,"type",void 0);y.__decorate([H.property()],t.TranslateVertexTooltipInfo.prototype,"distance",void 0);y.__decorate([H.property()],t.TranslateVertexTooltipInfo.prototype,"elevation",void 0);y.__decorate([H.property()],t.TranslateVertexTooltipInfo.prototype,
"area",void 0);y.__decorate([H.property()],t.TranslateVertexTooltipInfo.prototype,"totalLength",void 0);t.TranslateVertexTooltipInfo=y.__decorate([E.subclass("esri.views.interactive.tooltip.TranslateVertexTooltipInfo")],t.TranslateVertexTooltipInfo);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../isSupportedGraphicUtils ./isSupportedGraphic ./ReshapeOperation ../../../../interactive/InteractiveToolBase ../../../../interactive/sketch/SketchLabelOptions ../../../../interactive/sketch/SketchTooltipOptions".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x){t.GraphicReshapeTool=function(A){function z(D){D=A.call(this,D)||this;D._handles=new H;D._internalGeometryUpdate=!1;D.enableZShape=!0;D.enableZVertex=!0;D.enableMoveGraphic=!0;D.enableMidpoints=!0;D.enableEdgeOffset=!1;D.type="reshape-3d";D.labelOptions=new I;D.tooltipOptions=new x;D.snappingManager=null;D.automaticManipulatorSelection=!1;return D}Q._inheritsLoose(z,A);var F=z.prototype;F.initialize=function(){const D=this._reshapeOperation=new L.ReshapeOperation({tool:this});
this.own([D.on("reshape",U=>{"reshape"===U.type&&this._onReshapeGeometryChanged();this.emit("reshape",U)}),D.on("move",U=>{"move"===U.type&&this._onReshapeGeometryChanged();this.emit("move",U)}),D.on("vertex-add",U=>{this._onReshapeGeometryChanged();this.emit("vertex-add",U)}),D.on("vertex-remove",U=>{this._onReshapeGeometryChanged();this.emit("vertex-remove",U)}),D.on("immediate-click",U=>this.emit("immediate-click",U)),this.view.on("pointer-down",["Shift"],U=>{U.stopPropagation()}),C.watch(()=>
this.graphic,()=>this._updateGraphic(),C.syncAndInitial)]);this.finishToolCreation()};F.destroy=function(){this._handles=E.destroyMaybe(this._handles);this._reshapeOperation=E.destroyMaybe(this._reshapeOperation)};F._updateGeometry=function(){const D=N.geometryOfSupportedGraphic(this.graphic);this._reshapeOperation.inputGeometry=E.isSome(D)?D.clone():null};F._updateGraphic=function(){this._handles.remove("onGraphicGeometryChange");this._updateGeometry();if(N.isSupportedGraphic(this.graphic)===J.SupportedGraphicResult.SUPPORTED){var D=
C.watch(()=>{var U;return null==(U=this.graphic)?void 0:U.geometry},()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()},C.sync);this._handles.add(D,"onGraphicGeometryChange")}};F.manipulatorSelectionChanged=function(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()};F._updateGeometryInternally=function(D){this._internalGeometryUpdate=!0;this.graphic.geometry=D;this._internalGeometryUpdate=!1};F._onReshapeGeometryChanged=function(){E.isNone(this.graphic)||this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())};
F.undo=function(){E.isSome(this.snappingManager)&&this.snappingManager.doneSnapping();E.isSome(this._reshapeOperation.undo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())};F.redo=function(){E.isSome(this.snappingManager)&&this.snappingManager.doneSnapping();E.isSome(this._reshapeOperation.redo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())};F.onInputEvent=function(D){"key-down"!==D.type||"Delete"!==D.key&&"Backspace"!==D.key||this._reshapeOperation.removeSelectedVertices()};
F.reset=function(){};Q._createClass(z,[{key:"updating",get:function(){var D,U;return null!=(D=null==(U=this._reshapeOperation)?void 0:U.updating)?D:!1}},{key:"canUndo",get:function(){var D;return null!=(D=this._reshapeOperation.canUndo)?D:!1}},{key:"canRedo",get:function(){var D;return null!=(D=this._reshapeOperation.canRedo)?D:!1}},{key:"test",get:function(){return{snappingManager:this.snappingManager,reshapeOperation:this._reshapeOperation}}}]);return z}(M.EventedMixin(R.InteractiveToolBase));y.__decorate([B.property()],
t.GraphicReshapeTool.prototype,"_reshapeOperation",void 0);y.__decorate([B.property({constructOnly:!0,nonNullable:!0})],t.GraphicReshapeTool.prototype,"view",void 0);y.__decorate([B.property({constructOnly:!0})],t.GraphicReshapeTool.prototype,"graphic",void 0);y.__decorate([B.property({constructOnly:!0,nonNullable:!0})],t.GraphicReshapeTool.prototype,"enableZShape",void 0);y.__decorate([B.property({constructOnly:!0,nonNullable:!0})],t.GraphicReshapeTool.prototype,"enableZVertex",void 0);y.__decorate([B.property({constructOnly:!0,
nonNullable:!0})],t.GraphicReshapeTool.prototype,"enableMoveGraphic",void 0);y.__decorate([B.property({constructOnly:!0,nonNullable:!0})],t.GraphicReshapeTool.prototype,"enableMidpoints",void 0);y.__decorate([B.property({constructOnly:!0,nonNullable:!0})],t.GraphicReshapeTool.prototype,"enableEdgeOffset",void 0);y.__decorate([B.property()],t.GraphicReshapeTool.prototype,"type",void 0);y.__decorate([B.property({constructOnly:!0,type:I})],t.GraphicReshapeTool.prototype,"labelOptions",void 0);y.__decorate([B.property({constructOnly:!0,
type:x})],t.GraphicReshapeTool.prototype,"tooltipOptions",void 0);y.__decorate([B.property({constructOnly:!0})],t.GraphicReshapeTool.prototype,"snappingManager",void 0);y.__decorate([B.property()],t.GraphicReshapeTool.prototype,"updating",null);y.__decorate([B.property()],t.GraphicReshapeTool.prototype,"automaticManipulatorSelection",void 0);t.GraphicReshapeTool=y.__decorate([K.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool")],t.GraphicReshapeTool);Object.defineProperties(t,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic":function(){define(["exports","../../../../../core/maybe","../../../../../geometry/Circle","../../../../../support/elevationInfoUtils","../isSupportedGraphicUtils"],function(t,Q,y,M,H){function E(C){var B;return"graphics"!==(null==(B=C.layer)?void 0:B.type)?{result:H.SupportedGraphicResult.GRAPHICS_LAYER_MISSING,geometry:null}:Q.isNone(C.geometry)?{result:H.SupportedGraphicResult.GEOMETRY_MISSING,
geometry:null}:"on-the-ground"!==M.getGraphicEffectiveElevationMode(C)&&M.hasGraphicFeatureExpressionInfo(C)?{result:H.SupportedGraphicResult.ELEVATION_MODE_UNSUPPORTED,geometry:null}:"point"!==C.geometry.type&&"polyline"!==C.geometry.type&&("polygon"!==C.geometry.type||C.geometry instanceof y)?{result:H.SupportedGraphicResult.GEOMETRY_TYPE_UNSUPPORTED,geometry:null}:{result:H.SupportedGraphicResult.SUPPORTED,geometry:C.geometry}}t.geometryOfSupportedGraphic=function(C){return E(C).geometry};t.isSupportedGraphic=
function(C){return E(C).result};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/Evented ../../../../../core/HandleOwner ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/quantityUtils ../../../../../core/reactiveUtils ../../../../../core/unitUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/Polyline ../../../../../geometry/support/plane ../../../../../geometry/support/vectorStacks ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../../../../symbols/support/utils ../../Manipulator3D ../../manipulatorUtils ../../SegmentLabels3D ../../SnappingVisualizer3D ../dragEventPipeline3D ../ManipulatorType ../manipulatorUtils ../settings ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ./edgeOffsetUtils ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../webgl-engine/lib/GeometryUtil ../../../../input/IViewEvents ../../../../interactive/dragEventPipeline ../../../../interactive/interfaces ../../../../interactive/editGeometry/EditGeometryOperations ../../../../interactive/editGeometry/interfaces ../../../../interactive/snapping/SnappingContext ../../../../interactive/snapping/SnappingDragPipelineStep ../../../../interactive/tooltip/ReshapeTooltipInfos ../../../../interactive/tooltip/Tooltip ../../../../interactive/tooltip/TranslateTooltipInfos ../../../../support/automaticAreaMeasurementUtils ../../../../support/automaticLengthMeasurementUtils ../../../../support/euclideanLengthMeasurementUtils ../../../../support/geodesicLengthMeasurementUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da,aa,ea,ba,ca,ka,oa,fa,ra,ua,na,ta,ya,Fa,Ia,La,Ba,Va,Na,Ga,Da,wa,Ja,Ka,pa,xa,Ea,Y,Ca,Ha,Qa){t.ReshapeOperation=function(la){function f(l){l=la.call(this,l)||this;l._vertexManipulatorMaterial=aa.createManipulatorMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.vertex.color),fa.settings.reshapeManipulators.vertex.renderOccluded);l._vertexManipulatorOutlineMaterial=aa.createManipulatorOutlineMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.vertex.outlineColor),
fa.settings.reshapeManipulators.vertex.renderOccluded);l._vertexManipulatorHoverOutlineMaterial=aa.createManipulatorOutlineMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.vertex.hoverOutlineColor),fa.settings.reshapeManipulators.vertex.renderOccluded);l._edgeManipulatorMaterial=aa.createManipulatorMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.edge.color),fa.settings.reshapeManipulators.edge.renderOccluded);l._edgeManipulatorOutlineMaterial=aa.createManipulatorOutlineMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.edge.outlineColor),
fa.settings.reshapeManipulators.edge.renderOccluded);l._edgeOffsetManipulatorMaterial=aa.createManipulatorMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.edgeOffset.color),fa.settings.reshapeManipulators.edgeOffset.renderOccluded,!1);l._edgeOffsetManipulatorHoverMaterial=aa.createManipulatorMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.edgeOffset.hoverColor),fa.settings.reshapeManipulators.edgeOffset.renderOccluded,!1);l._selectedManipulatorMaterial=aa.createManipulatorMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.selected.color),
fa.settings.reshapeManipulators.selected.renderOccluded);l._selectedManipulatorOutlineMaterial=aa.createManipulatorOutlineMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.selected.outlineColor),fa.settings.reshapeManipulators.selected.renderOccluded);l._selectedManipulatorHoverOutlineMaterial=aa.createManipulatorOutlineMaterial(fa.settings.colorToVec4(fa.settings.reshapeManipulators.selected.hoverOutlineColor),fa.settings.reshapeManipulators.selected.renderOccluded);l._selectedIndex=
0;l._vertexManipulatorGeometry=null;l._vertexManipulatorOutlineGeometry=null;l._edgeManipulatorGeometry=null;l._edgeManipulatorOutlineGeometry=null;l._edgeOffsetManipulatorGeometryInside=null;l._edgeOffsetManipulatorGeometryOutside=null;l._manipulatorHandles=new C;l._manipulatorInfos=[];l._editGeometryOperations=null;l._graphicMoveManipulation=null;l._moveManipulation=null;l._numGrabbing=0;l._numDragging=0;l._reshapeEventState=qa.NONE;l._outlineVisualElement=null;l._segmentLabels=null;l.outputGeometry=
null;l._snappingPipeline=new Ka.SnappingPipeline;l._snappingPipelineHandle=new Ka.SnappingPipeline;l._vertexLaserLineVisualElement=null;return l}Q._inheritsLoose(f,la);var w=f.prototype;w.initialize=function(){const {graphic:l,view:c}=this,a=this._graphicState=new La.GraphicState({graphic:l});this._tooltip=new xa.Tooltip({view:c});this.own([P.watch(()=>a.displaying,b=>{for(const d of this._manipulatorInfos)d.manipulator.available=b}),P.watch(()=>({labels:this._segmentLabels,enabled:this._labelOptions.enabled,
edgeOffsetEnabled:this.enableEdgeOffset}),({labels:b,enabled:d,edgeOffsetEnabled:e})=>{u.isSome(b)&&(b.visible=d,b.edgeDistance=e?"far":"default")},P.initial),P.when(()=>!this._tooltipOptions.enabled,()=>this._tooltip.clear(),P.initial),this.view.trackGraphicState(a)])};w.destroy=function(){this._segmentLabels=u.destroyMaybe(this._segmentLabels);this._tooltip=u.destroyMaybe(this._tooltip);this._editGeometryOperations=u.destroyMaybe(this._editGeometryOperations);this._moveManipulation=u.destroyMaybe(this._moveManipulation);
this._graphicMoveManipulation=u.destroyMaybe(this._graphicMoveManipulation);this._manipulatorHandles=u.destroyMaybe(this._manipulatorHandles);this.manipulators.removeAll();this._manipulatorInfos=[];this._resetGrabbingDragging()};w.removeSelectedVertices=function(){const l=this._manipulatorInfos.filter(c=>c.manipulator.selected&&"vertex"===c.type);this._removeVertices(l)};w.manipulatorSelectionChanged=function(){this.emit("manipulators-changed")};w._removeManipulators=function(){this._moveManipulation=
u.destroyMaybe(this._moveManipulation);this._graphicMoveManipulation=u.destroyMaybe(this._graphicMoveManipulation);this._manipulatorHandles.removeAll();this.manipulators.removeAll();this._manipulatorInfos=[]};w._resetGrabbingDragging=function(){this._numDragging=this._numGrabbing=0};w._createManipulators=function(){if(!u.isNone(this._editGeometryOperations)){var l=T.getGraphicEffectiveElevationInfo(this.graphic);for(const c of this._editGeometryOperations.data.components){for(const a of c.vertices)this._createVertexOrEdgeManipulator(a,
l);for(const a of c.edges)this._createVertexOrEdgeManipulator(a,l)}this._createGraphicMoveManipulators(l)}};w.redo=function(){if(u.isNone(this._editGeometryOperations))return null;const l=this._editGeometryOperations.redo();u.isSome(l)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators());return l};w.undo=function(){if(u.isNone(this._editGeometryOperations))return null;this.emit("undo");const l=this._editGeometryOperations.undo();u.isSome(l)&&(this.outputGeometry=
this._editGeometryOperations.data.geometry,this._recreateManipulators());return l};w._recreateManipulators=function(){this._removeManipulators();this._resetGrabbingDragging();this._tooltip.clear();this._createManipulators()};w._recreateEditGeometryAndManipulators=function(l=this.inputGeometry){this._removeManipulators();this._resetGrabbingDragging();this._tooltip.clear();u.isNone(l)||(u.destroyMaybe(this._editGeometryOperations),this._editGeometryOperations=Da.EditGeometryOperations.fromGeometry(l,
this.view.state.viewingMode),this._createManipulators(),u.destroyMaybe(this._segmentLabels),this._segmentLabels=new ea.SegmentLabels3D({context:{view:this.view,editGeometryOperations:this._editGeometryOperations,elevationInfo:T.getGraphicEffectiveElevationInfo(this.graphic),labelOptions:this._labelOptions,graphic:this.graphic,graphicState:this._graphicState},visible:this._labelOptions.enabled}))};w._perGraphicManipulatorDragAction=function(l,c){if("end"===c.action)return c;let a=0;const b=[],d=this._manipulatorInfos.some(e=>
"vertex"===e.type&&e.manipulator.selected);l=l===ha.SELECTED_OR_ALL&&d;for(const e of this._manipulatorInfos)"vertex"===e.type&&(e.manipulator.grabbing||l&&!e.manipulator.selected||b.push(e),a++);if(0===b.length)return c;this._moveVertices(b,c);if(b.length===a){this._updateEventState(qa.MOVING);if(this.destroyed)return c;this.emit("move",{type:"move",dx:c.screenDeltaX,dy:c.screenDeltaY,mover:this.graphic})}else{this._updateEventState(qa.RESHAPING);if(this.destroyed)return c;this.emit("reshape",{type:"reshape",
mover:this.graphic})}return c};w._isMultiVertexSelection=function(){let l=0;for(const c of this._manipulatorInfos)"vertex"===c.type&&c.manipulator.selected&&l++;return 1<l};w._perVertexManipulatorDragAction=function(l){this._updateEventState(qa.RESHAPING);if(!this.destroyed){var {mapDeltaX:c,mapDeltaY:a,mapDeltaZ:b}=l;if(c||a||b){var d=[];for(const e of this._manipulatorInfos)"vertex"===e.type&&(e.manipulator.selected&&!e.manipulator.grabbing||e===l.info)&&d.push(e);this._moveVertices(d,l,wa.AccumulationBehaviour.ACCUMULATE_STEPS);
this.emit("reshape",{type:"reshape",mover:this.graphic})}}};w._updateEventState=function(l){if(l===this._reshapeEventState)return!1;switch(l){case qa.NONE:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case qa.MOVING:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic});break;case qa.RESHAPING:this.emit("reshape",{type:"reshape-stop",mover:this.graphic})}break;case qa.MOVING:switch(this._reshapeEventState){case qa.NONE:this.emit("move",{type:"move-start",
dx:0,dy:0,mover:this.graphic});break;case qa.RESHAPING:this.emit("reshape",{type:"reshape-stop",mover:this.graphic}),this.destroyed||this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic})}break;case qa.RESHAPING:switch(this._reshapeEventState){case qa.NONE:this.emit("reshape",{type:"reshape-start",mover:this.graphic});break;case qa.MOVING:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit("reshape",{type:"reshape-start",mover:this.graphic})}}if(this.destroyed)return!1;
const c=this._reshapeEventState!==l;this._reshapeEventState=l;return c};w._createGraphicMoveManipulators=function(l){const {graphic:c,handles:a,tool:b,view:d}=this,e=this._graphicState;this._graphicMoveManipulation=new ya.MoveXYGraphicManipulation({tool:b,view:d,graphicState:e});if(this.enableMoveGraphic){let h=null;this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline((k,m,n)=>{m.next(p=>this._trackNumDragging(p)).next(p=>{"start"===p.action&&(h=u.unwrap(this._editGeometryOperations).createUndoGroup());
return p}).next(p=>this._perGraphicManipulatorDragAction(ha.ALL,p)).next(p=>{this._updateTranslateGraphicTooltip(na.ManipulationType.XY,p);return p}).next(p=>{"end"===p.action&&(this._tooltip.clear(),h=u.removeMaybe(h))});n.next(this._cancelDragOperation(()=>h=u.removeMaybe(h)))}))}else this._graphicMoveManipulation.forEachManipulator(h=>{h.grabbable=!1;h.cursor=null});this._graphicMoveManipulation.forEachManipulator(h=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(h,!1),h.events.on("immediate-click",
k=>{this._manipulatorInfos.some(m=>m.manipulator.selected)?this._clearSelection():this.emit("immediate-click",{...k,graphic:this.graphic});k.stopPropagation()})]));this._moveManipulation=new na.MoveManipulation({tool:b,view:d,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&oa.canMoveZ(c),snapToScene:!1,radius:na.MoveManipulation.radiusForSymbol(c.symbol)});this._moveManipulation.forEachManipulator((h,k)=>{a.add([this._watchAndUpdateGrabState(h,!1),h.events.on("immediate-click",m=>
{this._moveManipulation.zManipulation.hasManipulator(h)||this._manipulatorInfos.some(n=>n.manipulator.selected)||this.emit("immediate-click",{...m,graphic:c});m.stopPropagation()})]);a.add(h.events.on("focus-changed",({action:m})=>{"focus"===m&&this._tooltipOptions.enabled?this._updateTranslateTooltip(k===ka.ManipulatorType.TRANSLATE_Z?na.ManipulationType.Z:na.ManipulationType.XY):this._tooltip.clear()}))});this._moveManipulation.elevationInfo={mode:"absolute-height",offset:0};var g=u.unwrap(c.geometry).spatialReference;
a.add([this._moveManipulation.createDragPipeline((h,k,m,n,p)=>{k=m.next(q=>this._trackNumDragging(q)).next(q=>{const r=this._manipulatorInfos.filter(v=>"vertex"===v.type&&v.manipulator.selected);return q.manipulatorType===ka.ManipulatorType.TRANSLATE_XY&&1===r.length?{...q,info:r[0],snapOrigin:r[0].handle.pos}:{...q,info:null}}).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:q=>!!q.info,cancel:n,snappingManager:b.snappingManager,snappingContext:new Ja.SnappingContext({editGeometryOperations:u.unwrap(this._editGeometryOperations),
elevationInfo:l,pointer:p,excludeFeature:c,visualizer:new ba.SnappingVisualizer3D}),updatingHandles:this.updatingHandles}),this._snappingPipelineHandle.next).next(Na.addMapDelta()).next(q=>this._perGraphicManipulatorDragAction(ha.SELECTED_OR_ALL,q)).next(q=>{this._updateTranslateTooltip(h,q);return q});n.next(this._cancelDragOperation());return k},l,g,c),P.watch(()=>null==e?void 0:e.displaying,()=>{this._updateMoveManipulationPosition()},P.initial),e.on("changed",()=>this._updateMoveManipulationPosition()),
P.watch(()=>null==e?void 0:e.isDraped,h=>{h?a.add(this.view.elevationProvider.on("elevation-change",()=>this._updateMoveManipulationPosition()),"align-move-manipulation"):a.remove("align-move-manipulation")},P.initial)]);this._updateMoveManipulationPosition();g=ra.createVisualElements({view:d,graphic:c,forEachManipulator:h=>{if(!this.destroyed){u.isSome(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(h);for(const k of this._manipulatorInfos)h(k.manipulator,ka.ManipulatorType.TRANSLATE_XY);
this._moveManipulation.forEachManipulator(h)}},onManipulatorsChanged:h=>this.on("manipulators-changed",h)});u.isSome(g)&&(this._outlineVisualElement=g.visualElement instanceof Ia.OutlineVisualElement?g.visualElement:null);u.isSome(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on("attachment-origin-changed",()=>{e.isDraped||this._updateMoveManipulationPosition()}),P.watch(()=>e.isDraped,()=>this._updateMoveManipulationPosition())]);this._manipulatorHandles.add(g)};
w._createEdgeOffsetManipulator=function(l,c=T.getGraphicEffectiveElevationInfo(this.graphic)){var a=fa.settings.reshapeManipulators.edgeOffset,b=a.size/2,d=b+a.collisionPadding;if(u.isNone(this._edgeOffsetManipulatorGeometryInside)||u.isNone(this._edgeOffsetManipulatorGeometryOutside)){b/=d;const g=b*Math.sqrt(3)/2;this._edgeOffsetManipulatorGeometryInside=Ba.createExtrudedTriangle(g,b/2,b/2,a.height,a.offset);this._edgeOffsetManipulatorGeometryOutside=Ba.createExtrudedTriangle(-g,b/2,b/2,a.height,
-a.offset)}d=new da.Manipulator3D({view:this.view,renderObjects:[{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorMaterial,stateMask:Ga.ManipulatorStateFlags.Unfocused},{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:Ga.ManipulatorStateFlags.Focused},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorMaterial,stateMask:Ga.ManipulatorStateFlags.Unfocused},{geometry:this._edgeOffsetManipulatorGeometryOutside,
material:this._edgeOffsetManipulatorHoverMaterial,stateMask:Ga.ManipulatorStateFlags.Focused}],elevationInfo:"on-the-ground"!==c.mode||W.isVolumetricSymbol(this.graphic.symbol)?{mode:"absolute-height",offset:0}:c,worldOriented:!1,focusMultiplier:1,radius:d,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionType:{type:"disc",direction:A.fromValues(0,0,1)},collisionPriority:1});b=new da.Manipulator3D({view:this.view,renderObjects:[],worldSized:!0,worldOriented:!1,available:!(!this.graphic.visible||
!this.graphic.layer.visible),collisionPriority:-10,cursor:this.enableMoveGraphic?"move":"default"});const e={manipulator:d,handle:l,locationUpdateHandle:null,type:"edge",selectedIndex:0,edgeManipulator:b,elevationInfo:c,visibilityHandle:null};this._autoHideEdgeOffsetManipulator(e,a.minSquaredEdgeLength);this._updateEdgeOffsetManipulator(e);l=this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator.events.on("location-update",()=>this._updateEdgeOffsetManipulator(e));a=this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator.events.on("location-update",
()=>this._updateEdgeOffsetManipulator(e));e.locationUpdateHandle=B.handlesGroup([l,a]);this._manipulatorHandles.add(e.locationUpdateHandle,d);this._manipulatorHandles.add([this._watchAndUpdateGrabState(d,!0),this._watchAndUpdateGrabState(b,!0)],d);this._manipulatorHandles.add(Na.createManipulatorDragEventPipeline(d,this._createEdgeOffsetPipeline(e,c)),d);this._manipulatorHandles.add(Na.createManipulatorDragEventPipeline(b,(g,h,k,m)=>{if("touch"===m)this._createEdgeOffsetPipeline(e,c)(g,h,k);else if(this.enableMoveGraphic){m=
this.graphic;const n=u.isSome(m.geometry)?m.geometry.spatialReference:null;h.next(p=>this._trackNumDragging(p)).next(Na.dragAtLocation(this.view,g.elevationAlignedLocation)).next(ca.screenToMapXYAtLocation(this.view,g.elevationAlignedLocation,c,n,m)).next(Na.addScreenDelta()).next(Na.addMapDelta()).next(p=>this._perGraphicManipulatorDragAction(ha.ALL,p)).next(p=>{this._updateTranslateGraphicTooltip(na.ManipulationType.XY,p);return p}).next(p=>{"end"===p.action&&this._tooltip.clear()});k.next(this._cancelDragOperation())}}),
d);l=g=>{this._manipulatorInfos.some(h=>h.manipulator.selected)?this._clearSelection():this.emit("immediate-click",{...g,graphic:this.graphic});g.stopPropagation()};this._manipulatorHandles.add([d.events.on("immediate-click",l),b.events.on("immediate-click",l),d.events.on("focus-changed",({action:g})=>{const h=this._tooltipOptions;"focus"===g&&h.enabled?this._tooltip.info=new pa.ReshapeEdgeOffsetTooltipInfo({tooltipOptions:h}):this._tooltip.clear()})],d);this._manipulatorInfos.push(e);this.manipulators.add(d);
this.manipulators.add(b);this.emit("manipulators-changed");return e};w._autoHideEdgeOffsetManipulator=function(l,c){const a=l.manipulator,b=l.edgeManipulator,d=()=>{u.removeMaybe(l.visibilityHandle);const e=Fa.screenEdgeLengthSquared(this._getManipulatorInfoFromHandle(l.handle.leftVertex).manipulator.renderLocation,this._getManipulatorInfoFromHandle(l.handle.rightVertex).manipulator.renderLocation,this.view.state.camera)<c;if(!a.focused&&!b.focused||e)a.grabbable=!e,b.grabbable=!e,l.visibilityHandle=
B.handlesGroup([a.disableDisplay(),{remove:()=>{a.grabbable=!0;b.grabbable=this.enableMoveGraphic}}])};this._manipulatorHandles.add([a.events.on("focus-changed",d),b.events.on("focus-changed",d),{remove:()=>{u.removeMaybe(l.visibilityHandle);this.manipulators.remove(b)}}],a);d()};w._updateEdgeOffsetManipulator=function(l){this._updateManipulatorPosition(l);var c=u.unwrap(this._editGeometryOperations).data.coordinateHelper,a=Fa.createEdgeOffsetIntersectionPlane(this.view,l.manipulator.elevationAlignedLocation,
Fa.createEdgeOffsetOperation(c,l.handle,u.unwrap(l.manipulator.elevationInfo)));c=this._getManipulatorInfoFromHandle(l.handle.leftVertex).manipulator.renderLocation;const b=this._getManipulatorInfoFromHandle(l.handle.rightVertex).manipulator.renderLocation;a=u.isSome(a)?Fa.edgeOffsetRotationMatrix(a,c,b):I.IDENTITY;l.manipulator.modelTransform=a;l.edgeManipulator.elevationAlignedLocation=l.manipulator.elevationAlignedLocation;l.edgeManipulator.modelTransform=a;c=x.length(x.subtract(Ra,c,b))/2;l.edgeManipulator.collisionType=
{type:"line",paths:[[[-c,0,0],[c,0,0]]]}};w._createEdgeOffsetPipeline=function(l,c){return(a,b,d)=>{this._clearSelection();const {step:e,cleanup:g}=this._initializeEdgeOffset(l,c);b.next(h=>this._trackNumDragging(h)).next(Na.dragAtLocation(this.view,a.elevationAlignedLocation)).next(e).next(ca.screenToRenderPlaneFromEvent(this.view)).next(ca.convertToMapCoordinates(this.view,u.unwrap(this._editGeometryOperations).data.spatialReference)).next(Na.addMapDelta()).next(this._applyComputeEdgeOffsetDistanceStep()).next(this._applyEdgeOffsetStep(l)).next(this._showEdgeOffsetTooltip()).next(h=>
{"end"===h.action&&g()});d.next(h=>{g();return h}).next(h=>{this._tooltip.clear();return h}).next(this._cancelDragOperation())}};w._initializeEdgeOffset=function(l,c){var a=u.unwrap(this._editGeometryOperations);const b=Fa.createEdgeOffsetOperation(a.data.coordinateHelper,l.handle,c);c=a.createUndoGroup();const d=Fa.createEdgeOffsetIntersectionPlane(this.view,l.manipulator.elevationAlignedLocation,b);b.requiresSplitEdgeLeft&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(l.handle.leftVertex.leftEdge),
1);b.requiresSplitEdgeRight&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(l.handle.rightVertex.rightEdge),0);const e=()=>new z({paths:[[l.handle.leftVertex.pos,l.handle.rightVertex.pos]],spatialReference:u.unwrap(this._editGeometryOperations).data.spatialReference}),g=new Ia.OutlineVisualElement({view:this.view,isDraped:this._graphicState.isDraped,geometry:e(),elevationInfo:l.elevationInfo,width:fa.settings.visualElements.lineGraphics.outline.width,color:fa.settings.colorToVec4(fa.colors.main),
attached:!0});let h;const k=()=>{this._cleanEdgeOffsetCollapsedEdges(l);h=u.removeMaybe(h)};a=this.on("undo",k);h=B.handlesGroup([B.destroyHandle(g),P.watch(()=>this._graphicState.isDraped,m=>g.isDraped=m),this._graphicState.on("changed",()=>g.geometry=e()),c,a]);return{step:m=>u.isNone(b)||u.isNone(d)?(k(),null):{...m,operation:b,plane:d},cleanup:k}};w._applyEdgeOffsetStep=function(l){return c=>{if(this.destroyed||u.isNone(c.operation))return c;this._updateEventState(qa.RESHAPING);const {mapDeltaX:a,
mapDeltaY:b,mapDeltaZ:d}=c;if(a||b||d)this._offsetEdge(l,c),this.emit("reshape",{type:"reshape",mover:this.graphic});return c}};w._applyComputeEdgeOffsetDistanceStep=function(){return l=>{const {operation:c,mapEnd:a}=l;if(u.isNone(c)||u.isNone(a))return l;const b=c.signedDistanceToPoint(a);return{...l,signedDistance:b}}};w._showEdgeOffsetTooltip=function(){return l=>{const {mapEnd:c,signedDistance:a,operation:b}=l,d=this._tooltip,e=this._tooltipOptions;if(!e.enabled||u.isNone(a))return d.clear(),
l;a:{var g=-a;var h=b.plane,k=u.unwrap(this._editGeometryOperations).data.coordinateHelper;if(this._graphicState.isDraped){const m=k.toXYZ(k.pointToVector(c));h=F.projectPoint(h,m,D.sv3d.get());k=Qa.geodesicDistance(h,m,k.spatialReference);if(u.isSome(k)){g=O.createLength(k.value*Math.sign(g),k.unit);break a}}g=O.createLength(g*K.getMetersPerUnitForSR(c.spatialReference),"meters")}u.isNone(d.info)||"reshape-edge-offset"!==d.info.type?d.info=new pa.ReshapeEdgeOffsetTooltipInfo({tooltipOptions:e,distance:g}):
d.info.distance=g;return l}};w._cleanEdgeOffsetCollapsedEdges=function(l){var c,a;const b=null==(c=l.handle.leftVertex.leftEdge)?void 0:c.leftVertex;c=l.handle.leftVertex;const d=null==(a=l.handle.rightVertex.rightEdge)?void 0:a.rightVertex;l=l.handle.rightVertex;a=u.unwrap(this._editGeometryOperations).data.coordinateHelper;const e=[];b&&1E-6>a.distance(b.pos,c.pos)&&e.push(this._getManipulatorInfoFromHandle(c));(1E-6>a.distance(c.pos,l.pos)||d&&1E-6>a.distance(d.pos,l.pos))&&e.push(this._getManipulatorInfoFromHandle(l));
e.length&&this._removeVertices(e)};w._computeVertexManipulatorSizeAndOutline=function(l){const c=l.size/2,a=c+l.collisionPadding;return{size:c/a,outlineSize:(c+l.outlineSize)/a}};w._createVertexOrEdgeManipulator=function(l,c=T.getGraphicEffectiveElevationInfo(this.graphic)){if("edge"===l.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(l,c);if(!this.enableMidpoints)return null}if(u.isNone(this._vertexManipulatorGeometry)||u.isNone(this._vertexManipulatorOutlineGeometry)){const {size:e,
outlineSize:g}=this._computeVertexManipulatorSizeAndOutline(fa.settings.reshapeManipulators.vertex);this._vertexManipulatorGeometry=Ba.createSphereGeometry(e,16,16);this._vertexManipulatorOutlineGeometry=Ba.createSphereGeometry(g,16,16)}if(u.isNone(this._edgeManipulatorGeometry)||u.isNone(this._edgeManipulatorOutlineGeometry)){const {size:e,outlineSize:g}=this._computeVertexManipulatorSizeAndOutline(fa.settings.reshapeManipulators.edge);this._edgeManipulatorGeometry=Ba.createSphereGeometry(e,16,16);
this._edgeManipulatorOutlineGeometry=Ba.createSphereGeometry(g,16,16)}var a=u.isSome(this.graphic.geometry)&&"point"===this.graphic.geometry.type?[]:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:Pa.Vertex|Ga.ManipulatorStateFlags.Unselected},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:Pa.Vertex|Ga.ManipulatorStateFlags.Unfocused|Ga.ManipulatorStateFlags.Unselected},{geometry:this._vertexManipulatorOutlineGeometry,
material:this._vertexManipulatorHoverOutlineMaterial,stateMask:Pa.Vertex|Ga.ManipulatorStateFlags.Focused|Ga.ManipulatorStateFlags.Unselected},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:Ga.ManipulatorStateFlags.Selected},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:Ga.ManipulatorStateFlags.Selected|Ga.ManipulatorStateFlags.Unfocused},{geometry:this._vertexManipulatorOutlineGeometry,
material:this._selectedManipulatorHoverOutlineMaterial,stateMask:Ga.ManipulatorStateFlags.Selected|Ga.ManipulatorStateFlags.Focused}];this.enableMidpoints&&a.push({geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:Pa.Edge|Ga.ManipulatorStateFlags.Focused|Ga.ManipulatorStateFlags.Unselected},{geometry:this._edgeManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:Pa.Edge|Ga.ManipulatorStateFlags.Focused|Ga.ManipulatorStateFlags.Unselected},
{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:Pa.Edge|Ga.ManipulatorStateFlags.Unfocused|Ga.ManipulatorStateFlags.Unselected},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:Pa.Edge|Ga.ManipulatorStateFlags.Unfocused|Ga.ManipulatorStateFlags.Unselected});const b=new da.Manipulator3D({view:this.view,renderObjects:a,elevationInfo:c,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||
!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(b,l,c);const d="edge"===l.type?{manipulator:b,handle:l,locationUpdateHandle:null,type:"edge",selectedIndex:0}:{manipulator:b,handle:l,type:"vertex",selectedIndex:0};this._manipulatorInfos.push(d);this.manipulators.add(b);this._updateManipulatorPosition(d);"edge"===d.type&&(l=this._getManipulatorInfoFromHandle(d.handle.leftVertex).manipulator.events.on("location-update",()=>this._updateManipulatorPosition(d)),a=this._getManipulatorInfoFromHandle(d.handle.rightVertex).manipulator.events.on("location-update",
()=>this._updateManipulatorPosition(d)),d.locationUpdateHandle=B.handlesGroup([l,a]),this._manipulatorHandles.add(d.locationUpdateHandle,b));this._manipulatorHandles.add(this._watchAndUpdateGrabState(b,!0),b);l=Na.createManipulatorDragEventPipeline(b,(e,g,h,k)=>{let m=null;g.next(n=>this._trackNumDragging(n)).next(n=>{"start"===n.action&&(m=u.unwrap(this._editGeometryOperations).createUndoGroup());if("edge"===d.type){const p=this._splitEdgeManipulator(d);return{...n,info:p,snapOrigin:p.handle.pos}}return{...n,
info:d,snapOrigin:d.handle.pos}}).next(Na.dragAtLocation(this.view,e.elevationAlignedLocation)).next(ca.screenToMapXYForGraphicAtLocation(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this._isMultiVertexSelection(),cancel:h,snappingManager:this.tool.snappingManager,snappingContext:new Ja.SnappingContext({editGeometryOperations:u.unwrap(this._editGeometryOperations),elevationInfo:c,
pointer:k,excludeFeature:this.graphic,visualizer:new ba.SnappingVisualizer3D}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(Na.addMapDelta()).next(n=>{this._perVertexManipulatorDragAction(n);"end"===n.action&&(m=u.removeMaybe(m));this._updateTranslateVertexTooltip(e,na.ManipulationType.XY,n)});h.next(this._cancelDragOperation(()=>m=u.removeMaybe(m)))});this._manipulatorHandles.add([l,b.events.on("immediate-click",e=>this._manipulatorClickCallback(e,d)),b.events.on("select-changed",
()=>{d.selectedIndex=++this._selectedIndex;this._updateMoveManipulationPosition()}),b.events.on("focus-changed",({action:e})=>{"focus"===e&&"edge"!==d.type?this._updateTranslateVertexTooltip(b,na.ManipulationType.XY):this._tooltip.clear()})],b);this.emit("manipulators-changed");return d};w._trackNumDragging=function(l){switch(l.action){case "start":this._numDragging++;break;case "end":this._numDragging--}return l};w._cancelDragOperation=function(l){return()=>{this._numDragging--;this.undo();this.outputGeometry=
u.isSome(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null;u.isSome(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping();this._tooltip.clear();switch(this._reshapeEventState){case qa.MOVING:this.emit("move",{type:"move",dx:0,dy:0,mover:this.graphic});break;case qa.RESHAPING:this.emit("reshape",{type:"reshape",mover:this.graphic})}l&&l();this.destroyed||this._updateEventState(qa.NONE)}};w._setTypeSpecificManipulatorSettings=function(l,c,a){switch(c.type){case "vertex":l.state=
Pa.Vertex;l.selectable=!0;l.cursor="move";l.collisionPriority=2;l.radius=fa.settings.reshapeManipulators.vertex.size/2+fa.settings.reshapeManipulators.vertex.collisionPadding;l.elevationInfo=a;l.interactive=u.isSome(this.graphic.geometry)&&"point"!==this.graphic.geometry.type;break;case "edge":l.state=Pa.Edge,l.selectable=!1,l.cursor="copy",l.collisionPriority=-1,l.radius=fa.settings.reshapeManipulators.edge.size/2+fa.settings.reshapeManipulators.edge.collisionPadding,l.elevationInfo="on-the-ground"!==
a.mode||W.isVolumetricSymbol(this.graphic.symbol)?{mode:"absolute-height",offset:0}:a}};w._watchAndUpdateGrabState=function(l,c){return l.events.on("grab-changed",a=>this._onGrabStateChanged(l,c,a.action,a.pointerType))};w._onGrabStateChanged=function(l,c,a,b="mouse"){if("start"===a)c&&this._updateSelection(l),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(qa.NONE),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing;if("touch"!==b||this.enableEdgeOffset)this._manipulatorInfos.forEach(d=>
{d.manipulator.interactive=!this._numGrabbing&&u.isSome(this.graphic.geometry)&&"point"!==this.graphic.geometry.type;"edgeManipulator"in d&&(d.edgeManipulator.interactive=!this._numGrabbing)}),u.unwrap(this._graphicMoveManipulation).forEachManipulator(d=>d.interactive=!this._numGrabbing)};w._clearSelection=function(){for(const l of this._manipulatorInfos)l.manipulator.grabbing||(l.manipulator.selected=!1)};w._updateSelection=function(l){l.grabbing&&!l.selected&&l.selectable&&(this._clearSelection(),
l.selected=!0,this.emit("manipulators-changed"))};w._removeManipulator=function(l){l&&(l.manipulator.grabbing&&this._onGrabStateChanged(l.manipulator,!1,"end"),this._manipulatorHandles.remove(l.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(l),1),this.manipulators.remove(l.manipulator),this.emit("manipulators-changed"))};w._getManipulatorInfoFromHandle=function(l){if(l)for(const c of this._manipulatorInfos)if(l===c.handle)return c;return null};w._updateManipulatorPosition=
function(l){if(l){var c=u.unwrap(this._editGeometryOperations);if("vertex"===l.type)l.manipulator.location=c.data.coordinateHelper.vectorToDehydratedPoint(l.handle.pos,Ua),l.manipulator.grabbing&&u.isSome(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=l.manipulator.renderLocation);else if("edge"===l.type){var a=this._getManipulatorInfoFromHandle(l.handle.leftVertex).manipulator,b=this._getManipulatorInfoFromHandle(l.handle.rightVertex).manipulator;
u.isSome(l.manipulator.elevationInfo)&&"on-the-ground"===l.manipulator.elevationInfo.mode?(a=a.location,b=b.location,l.manipulator.location=U.makeDehydratedPoint(a.x+.5*(b.x-a.x),a.y+.5*(b.y-a.y),a.hasZ&&b.hasZ?0:void 0,c.data.spatialReference)):(x.lerp(Ra,a.renderLocation,b.renderLocation,.5),l.manipulator.renderLocation=Ra)}}};w._splitEdgeManipulator=function(l,c=.5){var a=u.unwrap(this._editGeometryOperations);c=u.unwrap(a.splitEdge(l.handle,c).createdVertex);l.locationUpdateHandle.remove();l.locationUpdateHandle=
void 0;var b=T.getGraphicEffectiveElevationInfo(this.graphic);let d;this.enableEdgeOffset?(this._removeManipulator(l),d=this._createVertexOrEdgeManipulator(c)):(d=l,d.handle=c,d.type="vertex",this._setTypeSpecificManipulatorSettings(l.manipulator,l.handle,b));c.leftEdge&&this._createVertexOrEdgeManipulator(c.leftEdge);c.rightEdge&&this._createVertexOrEdgeManipulator(c.rightEdge);this.outputGeometry=a.data.geometry;this._updateManipulatorPosition(d);this.enableEdgeOffset||this._updateTranslateVertexTooltip(d.manipulator,
na.ManipulationType.XY);this._updateSelection(l.manipulator);l=this._updateEventState(qa.RESHAPING);b=a.data.coordinateHelper.vectorToArray(d.handle.pos);a=a.data.components.indexOf(c.component);this.emit("vertex-add",{type:"vertex-add",vertices:[{coordinates:b,componentIndex:a,vertexIndex:u.unwrap(c.index)}],added:b});l&&this._updateEventState(qa.NONE);return d};w._updateMoveManipulationPosition=function(){const l=x.set(Ra,0,0,0);let c=0,a=!1;var b=null;let d=null;for(var e of this._manipulatorInfos)if("vertex"===
e.type)if(e.manipulator.selected)if(c++,x.add(l,l,e.manipulator.renderLocation),u.isNone(b)||e.selectedIndex>b.selectedIndex)d=b,b=e;else{if(u.isNone(d)||e.selectedIndex>d.selectedIndex)d=e}else a=!0;0!==c?(e=this._graphicState.displaying,this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZVertex&&oa.canMoveZ(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=
e&&1!==c):(e=this._graphicState.displaying&&this.enableMoveGraphic,this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZShape&&oa.canMoveZ(this.graphic));if(0!==c){e=0;if(u.isSome(b)){const g=b.handle.pos,h=u.isSome(d)?d.handle.pos:b.handle.leftEdge&&b.handle.leftEdge.leftVertex?b.handle.leftEdge.leftVertex.pos:null;b=u.isNone(d)&&
b.handle.rightEdge&&b.handle.rightEdge.rightVertex?b.handle.rightEdge.rightVertex.pos:null;h&&b?this._moveManipulation.xyAxisManipulation.available=!1:h?e=Math.atan2(g[1]-h[1],g[0]-h[0])+Math.PI/2:b&&(e=Math.atan2(b[1]-g[1],b[0]-g[0])+Math.PI/2)}this._moveManipulation.angle=e;this._moveManipulation.radius=ua.DISC_RADIUS_SMALL}else this._moveManipulation.angleDeferred=()=>ta.shapeOrientation(u.unwrap(this.graphic.geometry)),this._moveManipulation.radius=na.MoveManipulation.radiusForSymbol(this.graphic.symbol);
0!==c&&a?(x.scale(l,l,1/c),Ua.spatialReference=u.unwrap(this._editGeometryOperations).data.spatialReference,Ua.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(l,Ua),this._moveManipulation.elevationAlignedLocation=Ua):u.isSome(this._outlineVisualElement)&&!this._graphicState.isDraped&&u.isSome(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:aa.placeAtGraphic(this.view,this._moveManipulation,this.graphic)};
w._removeVertices=function(l){var c=[];const a=u.unwrap(this._editGeometryOperations);for(var b of l)"vertex"===b.type&&a.canRemoveVertex()&&(c.push(b.handle),this._removeManipulator(b),this._removeManipulator(this._getManipulatorInfoFromHandle(b.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(b.handle.rightEdge)),(l=u.unwrap(a.removeVertices([b.handle]).removedVertices[0].createdEdge))&&this._createVertexOrEdgeManipulator(l));if(0<c.length&&(c=c.map(d=>{const e=a.data.components.indexOf(d.component);
return{coordinates:a.data.coordinateHelper.vectorToArray(d.pos),componentIndex:e,vertexIndex:u.unwrap(d.index)}}),this.outputGeometry=a.data.geometry,b=this._updateEventState(qa.RESHAPING),!this.destroyed&&(this.emit("vertex-remove",{type:"vertex-remove",removed:c.map(d=>d.coordinates),vertices:c}),!this.destroyed))){if(b&&(this._updateEventState(qa.NONE),this.destroyed))return;this._updateMoveManipulationPosition()}};w._moveVertices=function(l,c,a="start"===c.action?wa.AccumulationBehaviour.NEW_STEP:
wa.AccumulationBehaviour.ACCUMULATE_STEPS){const b=u.unwrap(this._editGeometryOperations);b.moveVertices(l.map(d=>d.handle),c.mapDeltaX,c.mapDeltaY,c.mapDeltaZ,a);this.outputGeometry=b.data.geometry;for(const d of l)this._updateManipulatorPosition(d)};w._offsetEdge=function(l,c){if(!u.isNone(c.operation)&&!u.isNone(c.signedDistance)){var a=u.unwrap(this._editGeometryOperations),b=c.operation.clone();b.distance=c.signedDistance;a.updateVertices([l.handle.leftVertex,l.handle.rightVertex],b);this.outputGeometry=
a.data.geometry;this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(l.handle.leftVertex));this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(l.handle.rightVertex))}};w._manipulatorClickCallback=function(l,c){l.shiftKey||this._clearSelection();"vertex"===c.type&&(c.manipulator.selected=!c.manipulator.selected,l.button===Va.MouseButton.Right&&this._removeVertices([c]));"edge"===c.type&&l.button===Va.MouseButton.Left&&this._splitEdgeManipulator(c);l.stopPropagation()};
w._updateTranslateTooltip=function(l,c){const a=this._manipulatorInfos.filter(b=>"vertex"===b.type&&b.manipulator.selected);1===a.length?this._updateTranslateVertexTooltip(a[0].manipulator,l,c):this._updateTranslateGraphicTooltip(l,c)};w._updateTranslateGraphicTooltip=function(l,c){var a=this._tooltipOptions;if(a.enabled){a=(l=l===na.ManipulationType.Z)?new Ea.TranslateZTooltipInfo({tooltipOptions:a}):new Ea.TranslateGraphicTooltipInfo({tooltipOptions:a});if(u.isSome(c)&&"end"!==c.action){const {mapStart:b,
mapEnd:d}=c;c=l?Ha.verticalSignedDistanceBetweenPoints(b,d):Ca.autoHorizontalDistanceByElevationModeBetweenPoints(b,d,this._graphicState.isDraped?"on-the-ground":"absolute-height");a.distance=u.isSome(c)?c:O.zeroMeters}this._tooltip.info=a}};w._updateTranslateVertexTooltip=function(l,c,a){var b=this._tooltipOptions;if(b.enabled){c=c===na.ManipulationType.Z;b=new Ea.TranslateVertexTooltipInfo({tooltipOptions:b});if(u.isSome(a)&&"end"!==a.action){const {mapStart:d,mapEnd:e}=a;a=c?Ha.verticalSignedDistanceBetweenPoints(d,
e):Ca.autoHorizontalDistanceByElevationModeBetweenPoints(d,e,this._graphicState.isDraped?"on-the-ground":"absolute-height");b.distance=u.isSome(a)?a:O.zeroMeters}l=Ha.elevationOfPoint(l.elevationAlignedLocation);u.isSome(l)&&(b.elevation={mode:"absolute-height",...l});({geometry:l}=this.graphic);u.isSome(l)&&!c&&(b.area="polygon"===l.type?Y.autoAreaByDrapedStatus(l,this._graphicState.isDraped):null,b.totalLength="polyline"===l.type?Ca.autoLengthByElevationMode(l,this._graphicState.isDraped?"on-the-ground":
"absolute-height"):null);this._tooltip.info=b}};Q._createClass(f,[{key:"inputGeometry",get:function(){return u.isSome(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null},set:function(l){this._recreateEditGeometryAndManipulators(l)}},{key:"updating",get:function(){return this.updatingHandles.updating}},{key:"manipulators",get:function(){return this.tool.manipulators}},{key:"view",get:function(){return this.tool.view}},{key:"graphic",get:function(){return this.tool.graphic}},
{key:"enableZShape",get:function(){return this.tool.enableZShape}},{key:"enableZVertex",get:function(){return this.tool.enableZVertex}},{key:"enableMoveGraphic",get:function(){return this.tool.enableMoveGraphic}},{key:"enableMidpoints",get:function(){return this.tool.enableMidpoints}},{key:"enableEdgeOffset",get:function(){return this.tool.enableEdgeOffset}},{key:"_labelOptions",get:function(){return this.tool.labelOptions}},{key:"_tooltipOptions",get:function(){return this.tool.tooltipOptions}},
{key:"canRedo",get:function(){return u.isSome(this._editGeometryOperations)&&this._editGeometryOperations.canRedo}},{key:"canUndo",get:function(){return u.isSome(this._editGeometryOperations)&&this._editGeometryOperations.canUndo}},{key:"test",get:function(){return{segmentLabels:this._segmentLabels,tooltip:this._tooltip}}}]);return f}(H.EventedMixin(E.HandleOwner));y.__decorate([J.property()],t.ReshapeOperation.prototype,"_segmentLabels",void 0);y.__decorate([J.property({constructOnly:!0})],t.ReshapeOperation.prototype,
"tool",void 0);y.__decorate([J.property()],t.ReshapeOperation.prototype,"_tooltip",void 0);y.__decorate([J.property()],t.ReshapeOperation.prototype,"inputGeometry",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"outputGeometry",void 0);y.__decorate([J.property({readOnly:!0})],t.ReshapeOperation.prototype,"updating",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"manipulators",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"view",null);y.__decorate([J.property()],
t.ReshapeOperation.prototype,"graphic",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"enableZShape",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"enableZVertex",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"enableMoveGraphic",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"enableMidpoints",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"enableEdgeOffset",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,
"_labelOptions",null);y.__decorate([J.property()],t.ReshapeOperation.prototype,"_tooltipOptions",null);t.ReshapeOperation=y.__decorate([R.subclass("esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation")],t.ReshapeOperation);const Ua=U.makeDehydratedPoint(0,0,null,null),Ra=A.create();var Pa;(function(la){la.Vertex=Ga.ManipulatorStateCustomFlags.Custom1;la.Edge=Ga.ManipulatorStateCustomFlags.Custom2})(Pa||(Pa={}));var qa;(function(la){la[la.NONE=0]="NONE";la[la.MOVING=1]="MOVING";
la[la.RESHAPING=2]="RESHAPING"})(qa||(qa={}));var ha;(function(la){la[la.ALL=0]="ALL";la[la.SELECTED_OR_ALL=1]="SELECTED_OR_ALL"})(ha||(ha={}));Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/edgeOffsetUtils":function(){define("exports ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/plane ../../../../../layers/graphics/dehydratedFeatures ../../../../interactive/editGeometry/operations/OffsetEdgeVertex".split(" "),
function(t,Q,y,M,H,E,C,B,u){function O(P,K,J){J=B.makeDehydratedPoint(K.x+J[0],K.y+J[1],K.z+J[2],K.spatialReference);const N=E.create(),L=E.create();return P.renderCoordsHelper.toRenderCoords(K,N)&&P.renderCoordsHelper.toRenderCoords(J,L)?H.direction(L,N,L):null}t.createEdgeOffsetIntersectionPlane=function(P,K,J){const N=E.create();if(!P.renderCoordsHelper.toRenderCoords(K,N))return null;var L=O(P,K,C.normal(J.plane));P=O(P,K,J.edgeDirection);if(Q.isNone(L)||Q.isNone(P))return null;L=H.cross(E.create(),
L,P);return C.fromPositionAndNormal(N,L,C.create())};t.createEdgeOffsetOperation=function(P,K,J){return new u.OffsetEdgeVertex(P,"on-the-ground"===J.mode?u.PlaneType.XY:u.PlaneType.XYZ,K,0)};t.edgeOffsetRotationMatrix=function(P,K,J){P=C.normal(P);K=H.direction(E.create(),K,J);J=H.cross(E.create(),K,P);P=H.cross(E.create(),K,J);return M.fromValues(K[0],K[1],K[2],0,J[0],J[1],J[2],0,P[0],P[1],P[2],0,0,0,0,1)};t.screenEdgeLengthSquared=function(P,K,J){P=J.projectToRenderScreen(P,y.createRenderScreenPointArray3());
K=J.projectToRenderScreen(K,y.createRenderScreenPointArray3());return Q.isSome(P)&&Q.isSome(K)?H.squaredLength(H.subtract(P,P,K)):0};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/ReshapeTooltipInfos":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/quantityUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./SketchTooltipInfo".split(" "),
function(t,Q,y,M,H,E,C,B,u,O){t.ReshapeEdgeOffsetTooltipInfo=function(P){function K(J){J=P.call(this,J)||this;J.type="reshape-edge-offset";J.distance=M.zeroMeters;return J}Q._inheritsLoose(K,P);return K}(O.SketchTooltipInfo);y.__decorate([H.property()],t.ReshapeEdgeOffsetTooltipInfo.prototype,"type",void 0);y.__decorate([H.property()],t.ReshapeEdgeOffsetTooltipInfo.prototype,"distance",void 0);t.ReshapeEdgeOffsetTooltipInfo=y.__decorate([u.subclass("esri.views.interactive.tooltip.ReshapeEdgeOffsetTooltipInfo")],
t.ReshapeEdgeOffsetTooltipInfo);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Evented ../../../../../core/HandleOwner ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../geometry/Point ../../../../../support/elevationInfoUtils ../../../../ViewingMode ../../Manipulator3D ../../manipulatorUtils ../../SnappingVisualizer3D ../ManipulatorType ../manipulatorUtils ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ./GraphicScaleRotateTransform ./ScaleRotateMeshAdapter ./ScaleRotateObjectSymbol3DAdapter ./undoRecords ../../../layers/graphics/GraphicState ../../../../interactive/InteractiveToolBase ../../../../interactive/editGeometry/EditGeometryOperations ../../../../interactive/sketch/SketchTooltipOptions ../../../../interactive/snapping/SnappingContext ../../../../interactive/snapping/SnappingDragPipelineStep ../../../../interactive/tooltip/Tooltip ../../../../interactive/tooltip/TranslateTooltipInfos ../../../../support/automaticLengthMeasurementUtils ../../../../support/euclideanLengthMeasurementUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da,aa,ea,ba,ca,ka,oa,fa,ra,ua,na,ta,ya){t.GraphicTransformTool=function(Fa){function Ia(Ba){Ba=Fa.call(this,Ba)||this;Ba.enableZ=!0;Ba.enableRotation=!0;Ba.enableScaling=!0;Ba.tooltipOptions=new oa;Ba.type="transform-3d";Ba._scaleRotate=null;Ba._snappingPipeline=new ra.SnappingPipeline;Ba._tooltip=null;return Ba}Q._inheritsLoose(Ia,Fa);var La=Ia.prototype;La.initialize=function(){const {graphic:Ba,view:Va}=this;this.graphicState=new ba.GraphicState({graphic:Ba});
this.own(B.watch(()=>this.tooltipOptions.enabled,Ga=>{this._tooltip=Ga?new ua.Tooltip({view:Va}):C.destroyMaybe(this._tooltip)},B.syncAndInitial));this._moveManipulation=new T.MoveManipulation({tool:this,view:Va,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&F.canMoveZ(Ba),radius:T.MoveManipulation.radiusForSymbol(Ba.symbol)});this._moveManipulation.forEachManipulator((Ga,Da)=>this.handles.add([Ga.events.on("immediate-click",wa=>{this.emit("immediate-click",
{...wa,graphic:Ba});wa.stopPropagation()}),Ga.events.on("focus-changed",({action:wa})=>{const {tooltipOptions:Ja,_tooltip:Ka}=this;C.isNone(Ka)||(Ka.clear(),"focus"===wa&&(Ka.info=new (Da===z.ManipulatorType.TRANSLATE_Z?na.TranslateZTooltipInfo:na.TranslateGraphicTooltipInfo)({tooltipOptions:Ja})))})]));this._moveManipulation.elevationInfo=L.getGraphicEffectiveElevationInfo(Ba);const Na=Ba.geometry;this._moveManipulation.createGraphicDragPipeline((Ga,Da,wa,Ja,Ka)=>{C.isSome(Na)&&Ga===T.ManipulationType.XY&&
(wa=wa.next(this._snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new fa.SnappingContext({elevationInfo:L.getGraphicEffectiveElevationInfo(Ba),pointer:Ka,editGeometryOperations:ka.EditGeometryOperations.fromGeometry(new N({spatialReference:Na.spatialReference}),Va.state.viewingMode),visualizer:new A.SnappingVisualizer3D,excludeFeature:Ba}),snappingManager:this.snappingManager,updatingHandles:this.updatingHandles,cancel:Ja}),this._snappingPipeline.next));return wa=wa.next(pa=>{const {tooltipOptions:xa,
_tooltip:Ea}=this;if(C.isNone(Ea))return pa;const {mapStart:Y,mapEnd:Ca}=pa;Ea.clear();const Ha=Ga===T.ManipulationType.Z?na.TranslateZTooltipInfo:na.TranslateGraphicTooltipInfo;if("end"===pa.action)Ea.info=new Ha({tooltipOptions:xa});else{const Qa=Ga===T.ManipulationType.Z?ya.verticalSignedDistanceBetweenPoints(Y,Ca):ta.autoHorizontalDistanceByElevationModeBetweenPoints(Y,Ca,this.graphicState.isDraped?"on-the-ground":"absolute-height");C.isSome(Qa)&&(Ea.info=new Ha({tooltipOptions:xa,distance:Qa}))}return pa})},
this.graphicState,Ga=>{const {action:Da,graphic:wa,dxScreen:Ja,dyScreen:Ka}=Ga;Ga={graphic:wa,dxScreen:Ja,dyScreen:Ka};switch(Da){case "start":this.emit("graphic-translate-start",Ga);this.emit("record-undo",{record:this._createGeometryUndoRecord()});break;case "update":this.emit("graphic-translate",Ga);break;case "end":this.emit("graphic-translate-stop",Ga)}});this._moveManipulation.angle=C.isSome(this._scaleRotate)?this._scaleRotate.angle:0;this._scaleRotateAdapter=this._createScaleRotateAdapter();
this.handles.add(B.watch(()=>this._scaleRotateAdapter.angle,()=>this._updateMoveAngle()));if(this.enableScaling||this.enableRotation)this._scaleRotate=new W.GraphicScaleRotateTransform({tool:this,mode:this.enableScaling&&this.enableRotation?null:this.enableScaling?"scale":"rotate",adapter:this._scaleRotateAdapter,tooltipOptions:this.tooltipOptions}),this.handles.add(this._scaleRotate.events.on("scale-changed",()=>this._onScaleChanged()));this.handles.add([D.createVisualElements({view:this.view,graphic:this.graphic,
forEachManipulator:Ga=>this._forEachManipulator(Ga),onManipulatorsChanged:()=>E.makeHandle()}),this.graphicState.on("changed",()=>this._onGeometryChanged()),this._hideManipulatorsForGraphicState(),B.watch(()=>Va.scale,()=>this._updateMoveAngle())]);this.handles.add(this.view.trackGraphicState(this.graphicState));this._onGeometryChanged();this._updateMoveAngle();this._forEachManipulator(Ga=>{Ga instanceof I.Manipulator3D&&this.handles.add(Ga.events.on("grab-changed",()=>this._updateManipulatorsInteractive()))});
this.finishToolCreation()};La.destroy=function(){this._tooltip=C.destroyMaybe(this._tooltip);this._moveManipulation.destroy();this._scaleRotate=C.destroyMaybe(this._scaleRotate);this._scaleRotateAdapter=C.destroyMaybe(this._scaleRotateAdapter);this._set("view",null);this._set("graphic",null)};La._updateManipulatorsInteractive=function(){C.isNone(this._scaleRotate)||(this._scaleRotate.interactive=!this._moveManipulation.grabbing,this._moveManipulation.interactive=!this._scaleRotate.grabbing)};La._createScaleRotateAdapter=
function(){return C.isSome(this.graphic.geometry)&&"mesh"===this.graphic.geometry.type?new da.ScaleRotateMeshAdapter({graphic:this.graphic,geometry:this.graphic.geometry,viewingMode:this.view.state.viewingMode}):new aa.ScaleRotateObjectSymbol3DAdapter({graphic:this.graphic,sizeFilter:Ba=>this._enforceNonZeroSize(Ba),findLayerView:()=>this.view.allLayerViews.find(Ba=>Ba.layer===this.graphic.layer),sizeAxis:C.isSome(this.tooltipOptions.visualVariables)&&C.isSome(this.tooltipOptions.visualVariables.size)?
this.tooltipOptions.visualVariables.size.axis:null})};La._forEachManipulator=function(Ba){this._moveManipulation.forEachManipulator(Ba);C.isSome(this._scaleRotate)&&this._scaleRotate.forEachManipulator(Ba)};La._hideManipulatorsForGraphicState=function(){return B.watch(()=>this.graphicState.displaying,Ba=>{this._forEachManipulator(Va=>Va.available=Ba);this._moveManipulation.zManipulation.available=Ba&&this.enableZ&&F.canMoveZ(this.graphic)})};La._createGeometryUndoRecord=function(){return ea.createGraphicGeometryUndoRecord(this.graphic)};
La.reset=function(){};La.onHide=function(){C.isSome(this._scaleRotate)&&this._scaleRotate.cancelActiveAnimation()};La._onScaleChanged=function(){if(!C.isNone(this._scaleRotate)){var Ba=this._scaleRotate.getScale();this._moveManipulation.displayScale=Ba}};La._updateMoveAngle=function(){this._moveManipulation.angle=this.view.state.viewingMode===R.ViewingMode.Local||this.view.scale<U.ALIGN_ARROWS_SCALE_THRESHOLD?this._scaleRotateAdapter.angle:0};La._onGeometryChanged=function(){x.placeAtGraphic(this.view,
this,this.graphic)};La._enforceNonZeroSize=function(Ba){return Ba||this.view.state.camera.computeRenderPixelSizeAt(this._moveManipulation.renderLocation)};Q._createClass(Ia,[{key:"snapToScene",set:function(Ba){this._moveManipulation&&(this._moveManipulation.snapToScene=Ba);this._set("snapToScene",Ba)}},{key:"updating",get:function(){return this.updatingHandles.updating}},{key:"location",set:function(Ba){this._moveManipulation.location=Ba;C.isSome(this._scaleRotate)&&(this._scaleRotate.location=Ba)}},
{key:"elevationAlignedLocation",set:function(Ba){this._moveManipulation.elevationAlignedLocation=Ba;C.isSome(this._scaleRotate)&&(this._scaleRotate.elevationAlignedLocation=Ba)}},{key:"test",get:function(){return{discManipulator:this._moveManipulation.xyManipulation.test.discManipulator,zManipulator:this._moveManipulation.zManipulation.test.manipulator,ringManipulator:C.isSome(this._scaleRotate)?this._scaleRotate.test.ringManipulator:null,arrowManipulators:this._moveManipulation.xyAxisManipulation.test.arrowManipulators,
scaleRotateAdapter:this._scaleRotateAdapter,scaleRotateTransform:this._scaleRotate,tooltip:this._tooltip}}}]);return Ia}(H.HandleOwnerMixin(M.EventedMixin(ca.InteractiveToolBase)));y.__decorate([u.property({constructOnly:!0,nonNullable:!0})],t.GraphicTransformTool.prototype,"view",void 0);y.__decorate([u.property({constructOnly:!0,nonNullable:!0})],t.GraphicTransformTool.prototype,"graphic",void 0);y.__decorate([u.property({constructOnly:!0,nonNullable:!0})],t.GraphicTransformTool.prototype,"enableZ",
void 0);y.__decorate([u.property()],t.GraphicTransformTool.prototype,"enableRotation",void 0);y.__decorate([u.property()],t.GraphicTransformTool.prototype,"enableScaling",void 0);y.__decorate([u.property({constructOnly:!0,type:oa})],t.GraphicTransformTool.prototype,"tooltipOptions",void 0);y.__decorate([u.property()],t.GraphicTransformTool.prototype,"graphicState",void 0);y.__decorate([u.property({value:!1})],t.GraphicTransformTool.prototype,"snapToScene",null);y.__decorate([u.property({constructOnly:!0})],
t.GraphicTransformTool.prototype,"snappingManager",void 0);y.__decorate([u.property({readOnly:!0})],t.GraphicTransformTool.prototype,"type",void 0);y.__decorate([u.property({readOnly:!0})],t.GraphicTransformTool.prototype,"updating",null);t.GraphicTransformTool=y.__decorate([J.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool")],t.GraphicTransformTool);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/Cyclical ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/quantityUtils ../../../../../core/reactiveUtils ../../../../../core/scheduling ../../../../../core/screenUtils ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../chunks/vec4f64 ../../../../../geometry/support/plane ../../../../../geometry/support/ray ../../../../../geometry/support/vectorStacks ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../ManipulatorType ../manipulations/config ../../../webgl-engine/lib/basicInterfaces ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/lib/Material ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline ../../../../interactive/interfaces ../../../../interactive/tooltip/Tooltip ../../../../interactive/tooltip/TransformTooltipInfos".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da,aa,ea,ba,ca,ka,oa,fa){function ra(Na,Ga){var Da=N.subtract(A.sv3d.get(),Ga.renderStart,Na.origin);Na=N.subtract(A.sv3d.get(),Ga.renderEnd,Na.origin);Da=N.length(Da);Na=N.length(Na);return 0===Da?0:Na/Da}function ua(Na,Ga,Da,wa){const {renderStart:Ja,renderEnd:Ka}=Na;var pa=na(Ja,wa,A.sv3d.get());Na=na(Ka,wa,A.sv3d.get());if(N.squaredDistance(pa,Na)<W.DRAG_THRESHOLD_PX*W.DRAG_THRESHOLD_PX)return null;const xa=N.subtract(A.sv3d.get(),Ja,
Da);Ga=N.cross(A.sv3d.get(),xa,I.normal(Ga));Ga=N.add(A.sv3d.get(),Ja,Ga);Da=na(Da,wa,A.sv3d.get());wa=na(Ga,wa,A.sv3d.get());Ga=N.subtract(A.sv3d.get(),wa,pa);wa=N.subtract(A.sv3d.get(),pa,Da);pa=x.wrap(pa,Ga);wa=x.wrap(Da,wa);return x.distance2(pa,Na)<x.distance2(wa,Na)?"rotate":"scale"}function na(Na,Ga,Da){Ga.projectToScreen(Na,Va);return N.set(Da,Va[0],Va[1],0)}function ta(Na,Ga){let Da=null,wa=1;const Ja=()=>wa;return{start:()=>{wa=Na.getScale();Da=Na.getScale;Na.getScale=Ja;Ga()},update:Ka=>
{wa+=((wa+1)/2-wa)*Math.min(Ka*W.RING_RESET_ANIMATION_SPEED_FACTOR,1);Ga();return.01>Math.abs(wa-1)?Ba.STOP:Ba.CONTINUE},destroy:()=>{Na.getScale=Da;Ga()}}}function ya(Na,Ga){let Da=0,wa=null;const Ja=()=>!1;return{start:()=>{wa=Na.getFocused;Na.getFocused=Ja;Da=0;Ga()},update:Ka=>{Da+=Ka;return!wa()||Da>W.RING_INDICATOR_DELAY_MS?Ba.STOP:Ba.CONTINUE},destroy:()=>{Na.getFocused=wa;Ga()}}}function Fa(Na){switch(Na){case "integer":case "long":return 0;default:return null}}var Ia;(function(Na){Na.ScaleIn=
ka.ManipulatorStateCustomFlags.Custom2;Na.ScaleOut=ka.ManipulatorStateCustomFlags.Custom3;Na.RotateLeft=ka.ManipulatorStateCustomFlags.Custom4;Na.RotateRight=ka.ManipulatorStateCustomFlags.Custom5;Na.Unlocked=ka.ManipulatorStateCustomFlags.Custom7;Na.DelayedFocused=ka.ManipulatorStateCustomFlags.Custom8;Na.TouchInput=ka.ManipulatorStateCustomFlags.Custom12})(Ia||(Ia={}));let La=function(){function Na({adapter:Da,tooltipOptions:wa,mode:Ja,tool:Ka}){this.mode=null;this._handles=new H;this._activeAnimation=
this._scaleRotateDragData=null;this.events=new M;this.getFocused=()=>this._ringManipulator.focused;this.getScale=()=>C.isSome(this._scaleRotateDragData)&&"scale"===this._scaleRotateDragData.mode?this.adapter.scale:1;this.tool=Ka;this.mode=Ja;this.adapter=Da;this._tooltipOptions=wa;this._tooltip=new oa.Tooltip({view:Ka.view});this._createManipulator();this._updateDragState();this._updateManipulatorTransform();this._handles.add(u.when(()=>!this._tooltipOptions.enabled,()=>this._tooltip.clear(),u.initial))}
var Ga=Na.prototype;Ga.destroy=function(){C.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null);this._handles=C.destroyMaybe(this._handles);this.tool.manipulators.remove(this._ringManipulator);this._ringManipulator=null;this._tooltip=C.destroyMaybe(this._tooltip)};Ga.startAnimation=function(Da){this.cancelActiveAnimation();Da.start();const wa=O.addFrameTask({update:({deltaTime:Ja})=>{Da.update(Ja)&&this.cancelActiveAnimation()}});this._activeAnimation=
{...Da,frameTask:wa}};Ga.cancelActiveAnimation=function(){C.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=C.destroyMaybe(this._activeAnimation))};Ga.forEachManipulator=function(Da){Da(this._ringManipulator,T.ManipulatorType.SCALE_ROTATE)};Ga._createManipulator=function(){const Da=this._createRingManipulator();this._ringManipulator=Da;this.tool.manipulators.add(Da);const wa=this.tool.graphicState.graphic,Ja=ca.createManipulatorDragEventPipeline(Da,(Ka,
pa,xa)=>{this._scaleRotateDragData=null;const Ea=this.adapter.startInteraction(),Y={mode:"none",origin:L.clone(Ka.renderLocation),initialAngle:this.adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=Y;this._updateDragState();const Ca=A.sv3d.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(Ka.renderLocation,Ca);pa.next(U.screenToRenderPlane(this.tool.view,I.fromPositionAndNormal(Ka.renderLocation,Ca,I.create()))).next(Ha=>{var Qa=I.normal(Ha.plane);Qa=D.calculateInputRotationTransform(Ha.renderStart,
Ha.renderEnd,Y.origin,Qa);var Ua=y.cyclicalPI.shortestSignedDiff(Y.angle,Qa);Y.angleDir=E.clamp(Y.angleDir+Ua,-W.ROTATE_INDICATOR_DIRECTION_BUFFER,W.ROTATE_INDICATOR_DIRECTION_BUFFER);Y.angle=Qa;Ua=ra(Y,Ha);Y.scaleDir=E.clamp(Y.scaleDir+(Ua-this.adapter.scale),-W.SCALE_INDICATOR_DIRECTION_BUFFER,W.SCALE_INDICATOR_DIRECTION_BUFFER);this._onScaleChanged();if("none"===Y.mode){const Ra=this.mode||ua(Ha,Ha.plane,Y.origin,this.tool.view.state.camera);if(C.isSome(Ra)){switch(Ra){case "rotate":this.tool.emit("graphic-rotate-start",
{graphic:wa,angle:0});this.tool.emit("record-undo",{record:this.adapter.createUndoRecord()});break;case "scale":this.tool.emit("graphic-scale-start",{graphic:wa,xScale:1,yScale:1}),this.tool.emit("record-undo",{record:this.adapter.createUndoRecord()})}Y.mode=Ra}}switch(Y.mode){case "rotate":Ea.state.angle=Y.initialAngle+Qa;break;case "scale":Ea.state.scale=Ua,this._onScaleChanged()}this._updateDragState();this._updateManipulatorTransform();switch(Ha.action){case "start":case "update":switch(Y.mode){case "rotate":this.tool.emit("graphic-rotate",
{graphic:wa,angle:E.rad2deg(Y.angle)});break;case "scale":this.tool.emit("graphic-scale",{graphic:wa,xScale:Ua,yScale:Ua})}break;case "end":switch(Y.mode){case "rotate":this.tool.emit("graphic-rotate-stop",{graphic:wa,angle:E.rad2deg(Y.angle)});break;case "scale":this.tool.emit("graphic-scale-stop",{graphic:wa,xScale:Ua,yScale:Ua})}}"end"===Ha.action&&(this.startAnimation(ta(this,()=>this._onScaleChanged())),this._scaleRotateDragData=null,this._updateDragState(),Ea.done());return Ha}).next(this._updateTooltipPipelineStep(Y));
xa.next(()=>{Ea.cancel();if(C.isSome(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case "rotate":this.tool.emit("graphic-rotate-stop",{graphic:wa,angle:0});break;case "scale":this.tool.emit("graphic-scale-stop",{graphic:wa,xScale:1,yScale:1})}this.startAnimation(ta(this,()=>this._onScaleChanged()));this._scaleRotateDragData=null;this._updateDragState()}this._updateFocusTooltip()})});this._handles.add([Ja,Da.events.on("focus-changed",Ka=>{"focus"===Ka.action?this.startAnimation(ya(this,
()=>this._updateDelayedFocusedState())):this._updateDelayedFocusedState()}),Da.events.on("immediate-click",Ka=>{Ka.stopPropagation()}),u.watch(()=>{var Ka;return null==(Ka=this.tool.graphicState)?void 0:Ka.displaying},Ka=>this._ringManipulator.available=Ka,u.initial)])};Ga._updateTooltipPipelineStep=function(Da){return wa=>{const Ja=this._tooltipOptions;if(!Ja.enabled)return wa;if("end"===wa.action)return this._updateFocusTooltip(),wa;const Ka=this._tooltip;var pa=this._tooltipOptions.visualVariables,
xa=C.isSome(pa)?pa.size:null;pa=C.isSome(pa)?pa.rotation:null;switch(Da.mode){case "scale":Ka.info=new fa.TransformScaleTooltipInfo({tooltipOptions:Ja,scale:{value:this.adapter.scale},size:B.createLength(C.unwrapOr(this.adapter.size,-1),"meters"),sizeUnit:C.isSome(xa)?xa.unit:null,sizePrecision:C.isSome(xa)?Fa(xa.valueType):null});break;case "rotate":xa=C.isSome(pa)?Fa(pa.valueType):null,pa=C.isSome(pa)?pa.rotationType:"geographic",Ka.info=new fa.TransformRotateTooltipInfo({tooltipOptions:Ja,rotation:B.createAngle(C.unwrapOr(-this.adapter.relativeAngle,
0),"radians","geographic"),rotationPrecision:xa,orientation:B.createAngle(-this.adapter.angle,"radians","geographic"),orientationPrecision:xa,rotationType:pa})}return wa}};Ga._updateFocusTooltip=function(){if(this._tooltipOptions.enabled)if(this.getFocused()){var Da=this._tooltipOptions.visualVariables;const wa=C.isSome(Da)?Da.rotation:null;Da=C.isSome(Da)?Da.size:null;this._tooltip.info=new fa.TransformAbsoluteTooltipInfo({tooltipOptions:this._tooltipOptions,orientation:B.createAngle(-this.adapter.angle,
"radians","geographic"),orientationEnabled:null==this.mode||"rotate"===this.mode,orientationPrecision:C.isSome(wa)?Fa(wa.valueType):null,rotationType:C.isSome(wa)?wa.rotationType:"geographic",size:B.createLength(C.unwrapOr(this.adapter.size,-1),"meters"),sizeUnit:C.isSome(Da)?Da.unit:null,sizeEnabled:null==this.mode||"scale"===this.mode,sizePrecision:C.isSome(Da)?Fa(Da.valueType):null})}else this._tooltip.clear()};Ga._onScaleChanged=function(){this.events.emit("scale-changed");this._updateManipulatorTransform()};
Ga._updateDelayedFocusedState=function(){this._ringManipulator.updateStateEnabled(Ia.DelayedFocused,this.getFocused());this._updateFocusTooltip()};Ga._updateDragState=function(){this._ringManipulator.updateStateEnabled(Ia.Unlocked,!(C.isSome(this._scaleRotateDragData)&&"none"!==this._scaleRotateDragData.mode));if(C.isSome(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case "rotate":this._ringManipulator.updateStateEnabled(Ia.ScaleIn|Ia.ScaleOut,!1);this._ringManipulator.updateStateEnabled(Ia.RotateLeft,
0>this._scaleRotateDragData.angleDir);this._ringManipulator.updateStateEnabled(Ia.RotateRight,0<=this._scaleRotateDragData.angleDir);break;case "scale":this._ringManipulator.updateStateEnabled(Ia.RotateLeft|Ia.RotateRight,!1),this._ringManipulator.updateStateEnabled(Ia.ScaleIn,0>this._scaleRotateDragData.scaleDir),this._ringManipulator.updateStateEnabled(Ia.ScaleOut,0<=this._scaleRotateDragData.scaleDir)}else this._ringManipulator.updateStateEnabled(Ia.ScaleIn|Ia.ScaleOut|Ia.RotateLeft|Ia.RotateRight,
!1)};Ga._updateManipulatorTransform=function(){const Da=K.fromRotation(A.sm4d.get(),this.adapter.angle,L.fromValues(0,0,1));if(!C.isNone(Da)){var wa=this.getScale();wa=K.fromScaling(A.sm4d.get(),N.set(A.sv3d.get(),wa,wa,wa));this._ringManipulator.modelTransform=K.multiply(A.sm4d.get(),wa,Da)}};Ga._createRingManipulator=function(){var Da=(ha,la,f)=>{const w=[],l=Math.ceil(W.GEOMETRY_SEGMENTS*(la-ha)/(2*Math.PI));for(let c=0;c<l+1;c++){const a=ha+c*(la-ha)/l;w.push(L.fromValues(f*Math.cos(a),f*Math.sin(a),
0))}return w},wa=(ha,la)=>aa.createPathExtrusionGeometry([[-la/2,0],[la/2,0],[la/2,W.RING_HEIGHT/2],[-la/2,W.RING_HEIGHT/2]],ha,[],[],!1),Ja=Da(0,2*Math.PI,W.RING_RADIUS),Ka=wa(Ja,W.RING_THICKNESS),pa=[],xa=[];const Ea=[];for(var Y=0;2>Y;Y++){var Ca=Y*Math.PI-Math.PI/4,Ha=Math.PI/2-W.ROTATE_INDICATOR_ARC_LENGTH,Qa=Ca+Ha;Ca=Ca+Math.PI/2-Ha;Ha=Da(Qa,Ca,W.INNER_INDICATOR_RADIUS);var Ua=wa(Ha,W.INDICATOR_THICKNESS);Ea.push(Ha);Ea.push(Da(Qa,Ca,W.OUTER_INDICATOR_RADIUS-W.RING_THICKNESS/2));pa.push(Ua);
xa.push(Ua);for(Ua=0;2>Ua;Ua++){var Ra=0===Ua,Pa=J.create();if(Ra){K.scale(Pa,Pa,[1,-1,1]);K.rotate(Pa,Pa,-Qa,[0,0,1]);var qa=Math.round(W.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE*(Ha.length-1));Pa[12]=Ha[qa][0];Pa[13]=Ha[qa][1];Pa[14]=Ha[qa][2]}else K.rotate(Pa,Pa,Ca,[0,0,1]),qa=Math.round((1-W.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE)*(Ha.length-1)),Pa[12]=Ha[qa][0],Pa[13]=Ha[qa][1],Pa[14]=Ha[qa][2];qa=aa.createExtrudedTriangle(W.ROTATE_INDICATOR_ARROW_TIP_LENGTH,0,W.ROTATE_INDICATOR_ARROW_TIP_RADIUS,
W.RING_HEIGHT);aa.transformInPlace(qa,Pa);(Ra?pa:xa).push(qa)}}Y=[];for(Qa=0;2>Qa;Qa++)Ca=Qa*Math.PI-Math.PI/4,Ha=Math.PI/2-W.SCALE_INDICATOR_ARC_LENGTH,Ca=Da(Ca+Ha,Ca+Math.PI/2-Ha,W.OUTER_INDICATOR_RADIUS),Y.push(wa(Ca,W.INDICATOR_THICKNESS));Qa=Da(0,2*Math.PI,W.RING_RADIUS+W.SCALE_INDICATOR_OFFSET1);Ca=Da(0,2*Math.PI,W.RING_RADIUS+W.SCALE_INDICATOR_OFFSET2);Qa=wa(Qa,W.INDICATOR_THICKNESS);Ca=wa(Ca,W.INDICATOR_THICKNESS);Ha=Da(0,2*Math.PI,W.RING_RADIUS-W.SCALE_INDICATOR_OFFSET1);Ua=Da(0,2*Math.PI,
W.RING_RADIUS-W.SCALE_INDICATOR_OFFSET2);Da=wa(Ha,W.INDICATOR_THICKNESS);wa=wa(Ua,W.INDICATOR_THICKNESS);Ha=this._createMaterial();Ua=this._createMaterial(.66);Pa=this._createMaterial(.5);Ra=this._createMaterial(.33);Ka=[{geometry:Ka,material:Ha,stateMask:Ia.DelayedFocused},{geometry:Ka,material:Pa,stateMask:ka.ManipulatorStateFlags.None}];this.mode&&"scale"!==this.mode||(Ka=Ka.concat([{geometry:Y,material:Ha,stateMask:Ia.DelayedFocused|Ia.Unlocked},{geometry:Qa,material:Ua,stateMask:Ia.DelayedFocused|
Ia.ScaleIn},{geometry:Ca,material:Ra,stateMask:Ia.DelayedFocused|Ia.ScaleIn},{geometry:Da,material:Ua,stateMask:Ia.DelayedFocused|Ia.ScaleOut},{geometry:wa,material:Ra,stateMask:Ia.DelayedFocused|Ia.ScaleOut}]));this.mode&&"rotate"!==this.mode||(Ka=Ka.concat([{geometry:xa,material:Ha,stateMask:Ia.DelayedFocused|Ia.Unlocked},{geometry:pa,material:Ha,stateMask:Ia.DelayedFocused|Ia.RotateLeft},{geometry:xa,material:Ha,stateMask:Ia.DelayedFocused|Ia.RotateRight}]));Ja=[Ja,...Ea];return new F.Manipulator3D({view:this.tool.view,
renderObjects:Ka,autoScaleRenderObjects:!1,worldOriented:!0,radius:W.RING_THICKNESS,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:z.getGraphicEffectiveElevationInfo(this.tool.graphicState.graphic),collisionType:{type:"ribbon",paths:Ja,direction:L.fromValues(0,0,1)}})};Ga._createMaterial=function(Da=1){const wa=R.fromArray([...W.HANDLE_COLOR,Da]);return new ba.ColorMaterial({color:wa,transparent:1!==Da,cullFace:da.CullFaceOptions.Back,renderOccluded:ea.RenderOccludedFlag.Transparent})};Q._createClass(Na,
[{key:"angle",get:function(){return this.adapter.angle}},{key:"scale",get:function(){return this.adapter.scale}},{key:"location",set:function(Da){this._ringManipulator.location=Da}},{key:"elevationAlignedLocation",set:function(Da){this._ringManipulator.elevationAlignedLocation=Da}},{key:"grabbing",get:function(){return this._ringManipulator.grabbing}},{key:"interactive",set:function(Da){this._ringManipulator.interactive=Da}},{key:"test",get:function(){return{ringManipulator:this._ringManipulator,
tooltip:this._tooltip}}}]);return Na}();var Ba;(function(Na){Na[Na.CONTINUE=0]="CONTINUE";Na[Na.STOP=1]="STOP"})(Ba||(Ba={}));const Va=P.createScreenPointArray();t.GraphicScaleRotateTransform=La;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/TransformTooltipInfos":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./SketchTooltipInfo".split(" "),
function(t,Q,y,M,H,E,C,B,u){t.TransformRotateTooltipInfo=function(O){function P(K){K=O.call(this,K)||this;K.type="transform-rotate";K.rotationType="geographic";return K}Q._inheritsLoose(P,O);return P}(u.SketchTooltipInfo);y.__decorate([M.property()],t.TransformRotateTooltipInfo.prototype,"type",void 0);y.__decorate([M.property()],t.TransformRotateTooltipInfo.prototype,"rotation",void 0);y.__decorate([M.property()],t.TransformRotateTooltipInfo.prototype,"rotationPrecision",void 0);y.__decorate([M.property()],
t.TransformRotateTooltipInfo.prototype,"orientation",void 0);y.__decorate([M.property()],t.TransformRotateTooltipInfo.prototype,"orientationPrecision",void 0);y.__decorate([M.property()],t.TransformRotateTooltipInfo.prototype,"rotationType",void 0);t.TransformRotateTooltipInfo=y.__decorate([B.subclass("esri.views.interactive.tooltip.TransformRotateTooltipInfo")],t.TransformRotateTooltipInfo);t.TransformScaleTooltipInfo=function(O){function P(K){K=O.call(this,K)||this;K.type="transform-scale";K.sizeUnit=
null;K.sizePrecision=null;return K}Q._inheritsLoose(P,O);return P}(u.SketchTooltipInfo);y.__decorate([M.property()],t.TransformScaleTooltipInfo.prototype,"type",void 0);y.__decorate([M.property()],t.TransformScaleTooltipInfo.prototype,"scale",void 0);y.__decorate([M.property()],t.TransformScaleTooltipInfo.prototype,"size",void 0);y.__decorate([M.property()],t.TransformScaleTooltipInfo.prototype,"sizeUnit",void 0);y.__decorate([M.property()],t.TransformScaleTooltipInfo.prototype,"sizePrecision",void 0);
t.TransformScaleTooltipInfo=y.__decorate([B.subclass("esri.views.interactive.tooltip.TransformScaleTooltipInfo")],t.TransformScaleTooltipInfo);t.TransformAbsoluteTooltipInfo=function(O){function P(K){K=O.call(this,K)||this;K.type="transform-absolute";K.orientationEnabled=!0;K.orientationPrecision=null;K.rotationType="geographic";K.sizeUnit=null;K.sizeEnabled=!0;K.sizePrecision=null;return K}Q._inheritsLoose(P,O);return P}(u.SketchTooltipInfo);y.__decorate([M.property()],t.TransformAbsoluteTooltipInfo.prototype,
"type",void 0);y.__decorate([M.property()],t.TransformAbsoluteTooltipInfo.prototype,"orientation",void 0);y.__decorate([M.property()],t.TransformAbsoluteTooltipInfo.prototype,"orientationEnabled",void 0);y.__decorate([M.property()],t.TransformAbsoluteTooltipInfo.prototype,"orientationPrecision",void 0);y.__decorate([M.property()],t.TransformAbsoluteTooltipInfo.prototype,"rotationType",void 0);y.__decorate([M.property()],t.TransformAbsoluteTooltipInfo.prototype,"size",void 0);y.__decorate([M.property()],
t.TransformAbsoluteTooltipInfo.prototype,"sizeUnit",void 0);y.__decorate([M.property()],t.TransformAbsoluteTooltipInfo.prototype,"sizeEnabled",void 0);y.__decorate([M.property()],t.TransformAbsoluteTooltipInfo.prototype,"sizePrecision",void 0);t.TransformAbsoluteTooltipInfo=y.__decorate([B.subclass("esri.views.interactive.tooltip.TransformAbsoluteTooltipInfo")],t.TransformAbsoluteTooltipInfo);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/transformGraphic/ScaleRotateMeshAdapter":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Accessor ../../../../../core/HandleOwner ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../geometry/support/axisAngleDegrees ../../../../ViewingMode ./undoRecords".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R){t.ScaleRotateMeshAdapter=function(x){function A(F){F=x.call(this,F)||this;F.interactionState=null;return F}Q._inheritsLoose(A,x);var z=A.prototype;z.initialize=function(){this.own([B.when(()=>C.isSome(this.interactionState)&&this.interactionState.angle!==this.interactionState.previousAngle?{interactionState:this.interactionState,angle:this.interactionState.state.angle}:null,({interactionState:F})=>{this._updateMeshRotation(F)},B.sync),B.when(()=>C.isSome(this.interactionState)&&
this.interactionState.scale!==this.interactionState.previousScale?{interactionState:this.interactionState,scale:this.interactionState.state.scale}:null,({interactionState:F})=>{this._updateMeshSize(F)},B.sync)])};z.startInteraction=function(){const F=new I({angle:this.angle});this.interactionState=F;const D=()=>this.interactionState=null;return{state:F,done:D,cancel:()=>{F.cancel();D()}}};z.createUndoRecord=function(){return R.createGraphicGeometryUndoRecord(this.graphic)};z._updateMeshRotation=function(F){const D=
this.geometry.anchor,U=this.viewingMode===L.ViewingMode.Global,{angle:T,previousAngle:W}=F;this.geometry.rotate(0,0,E.rad2deg(T-W),{origin:D,geographic:U});F.previousAngle=T;C.isSome(this.geometry.transform)&&this.graphic.notifyMeshTransformChanged();this.graphic.notifyGeometryChanged()};z._updateMeshSize=function(F){const D=this.geometry.anchor,U=this.viewingMode===L.ViewingMode.Global,{scale:T,previousScale:W}=F;this.geometry.scale(T/W,{origin:D,geographic:U});F.previousScale=T;C.isSome(this.geometry.transform)&&
this.graphic.notifyMeshTransformChanged();this.graphic.notifyGeometryChanged()};Q._createClass(A,[{key:"angle",get:function(){const F=this.geometry.transform;if(C.isNone(F))return 0;const D=N.axis(F.rotation)[2];return.999999<Math.abs(D)?E.deg2rad(N.angle(F.rotation))*Math.sign(D):0}},{key:"scale",get:function(){return C.isSome(this.interactionState)?this.interactionState.scale:1}}]);return A}(H.HandleOwner);y.__decorate([u.property({constructOnly:!0})],t.ScaleRotateMeshAdapter.prototype,"graphic",
void 0);y.__decorate([u.property({constructOnly:!0})],t.ScaleRotateMeshAdapter.prototype,"geometry",void 0);y.__decorate([u.property({constructOnly:!0})],t.ScaleRotateMeshAdapter.prototype,"viewingMode",void 0);y.__decorate([u.property()],t.ScaleRotateMeshAdapter.prototype,"angle",null);y.__decorate([u.property()],t.ScaleRotateMeshAdapter.prototype,"scale",null);y.__decorate([u.property()],t.ScaleRotateMeshAdapter.prototype,"interactionState",void 0);t.ScaleRotateMeshAdapter=y.__decorate([J.subclass("esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateMeshAdapter")],
t.ScaleRotateMeshAdapter);let I=function(x){function A(z){var F=x.call(this,z)||this;F.angle=0;F.initialAngle=0;F.previousAngle=0;F.previousScale=1;F.scale=1;F.initialAngle=z.angle;F.previousAngle=z.angle;return F}Q._inheritsLoose(A,x);A.prototype.cancel=function(){this.angle=this.initialAngle;this.scale=1};Q._createClass(A,[{key:"state",get:function(){const {angle:z,scale:F}=this;return{angle:z,scale:F}}}]);return A}(M);y.__decorate([u.property()],I.prototype,"angle",void 0);y.__decorate([u.property()],
I.prototype,"initialAngle",void 0);y.__decorate([u.property()],I.prototype,"previousAngle",void 0);y.__decorate([u.property()],I.prototype,"previousScale",void 0);y.__decorate([u.property()],I.prototype,"scale",void 0);y.__decorate([u.property()],I.prototype,"state",null);I=y.__decorate([J.subclass("InteractionState")],I);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/axisAngleDegrees":function(){define(["exports","../../core/mathUtils",
"../../chunks/quat","../../chunks/quatf64","../../chunks/vec3"],function(t,Q,y,M,H){function E(N=O){return[N[0],N[1],N[2],N[3]]}function C(N,L,R,I,x=E()){x[0]=N;x[1]=L;x[2]=R;x[3]=I;return x}function B(N){return Q.deg2rad(N[3])}function u(N,L){N[3]=L;return N}const O=[0,0,1,0],P=M.create(),K=M.create(),J=E();t.UP=O;t.angle=function(N){return N[3]};t.angleRad=B;t.axis=function(N){return N};t.compose=function(N,L,R=E()){y.setAxisAngle(P,N,B(N));y.setAxisAngle(K,L,B(L));y.multiply(P,K,P);return u(R,
Q.rad2deg(y.getAxisAngle(R,P)))};t.copy=function(N,L=E()){return C(N[0],N[1],N[2],N[3],L)};t.create=E;t.fromAxisAndAngle=function(N,L,R=E()){H.copy(R,N);R[3]=L;return R};t.fromPoints=function(N,L,R=E()){H.cross(R,N,L);H.normalize(R,R);R[3]=-H.angle(N,L);return R};t.fromValues=C;t.setAngle=u;t.wrap=function(N,L,R,I){return C(N,L,R,I,J)};t.wrapAxisAngle=function(N,L){return C(N[0],N[1],N[2],L,J)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/transformGraphic/undoRecords":function(){define(["exports",
"../../../../../core/maybe"],function(t,Q){function y(E){let C=E.geometry,B=Q.none;return{undo(u){B=u.geometry;u.geometry=C},redo(u){C=u.geometry;u.geometry=B}}}function M(E,C){let B=C.clone(),u=null;return{undo:O=>{u=Q.isSome(E.transform)?E.transform.clone():null;E.transform=B;O.notifyGeometryChanged()},redo:O=>{B=Q.isSome(E.transform)?E.transform.clone():null;E.transform=u;O.notifyGeometryChanged()}}}function H(E){let C=E.vertexAttributes.clonePositional(),B;return{undo:u=>{B=E.vertexAttributes.clonePositional();
E.vertexAttributes=C;u.notifyGeometryChanged()},redo:u=>{C=E.vertexAttributes.clonePositional();E.vertexAttributes=B;u.notifyGeometryChanged()}}}t.createGraphicGeometryUndoRecord=function(E){Q.isSome(E.geometry)&&"mesh"===E.geometry.type?(E=E.geometry,E=Q.isSome(E.transform)?M(E,E.transform):H(E)):E=y(E);return E};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/transformGraphic/ScaleRotateObjectSymbol3DAdapter":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Accessor ../../../../../core/HandleOwner ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J){function N(I){return-E.deg2rad(I)}t.ScaleRotateObjectSymbol3DAdapter=function(I){function x(z){z=I.call(this,z)||this;z.sizeAxis=null;z.interactionState=null;return z}Q._inheritsLoose(x,I);var A=x.prototype;A.initialize=function(){this.own(B.when(()=>C.isSome(this.interactionState)?this.interactionState.state:null,z=>{this._updateSymbol(z)},B.sync))};A.startInteraction=function(){const z=this._graphicSymbol,F=this.findLayerView();if(C.isSome(this.interactionState)||
C.isNone(z)||C.isNone(F))return L;var D=z.symbolLayers.map(W=>"object"===W.type?F.getSymbolLayerSize(z,W):null).toArray();const U=z.clone();this.interactionState=D=new R({originalSymbol:U,angle:this.angle,initialSizes:D});const T=()=>this.interactionState=null;return{state:D,done:T,cancel:()=>{this._graphicSymbol=U;T()}}};A.createUndoRecord=function(){let z=this.graphic.symbol,F=null;return{undo:D=>{F=D.symbol;D.symbol=z},redo:D=>{z=D.symbol;D.symbol=F}}};A._updateSymbol=function({scale:z,angle:F,
originalSymbol:D,initialSizes:U}){var T=this._graphicSymbol;if(!C.isNone(T)&&"point-3d"===T.type){T=T.clone();var W=-E.rad2deg(F-this.initialAngle),da=!1;this._forEachObjectSymbolLayerPair(D,T,(aa,ea,ba)=>{aa=C.unwrapOr(aa.heading,0)+W;ea.heading!==aa&&(ea.heading=aa,da=!0);ba=U[ba];C.isSome(ba)&&"width"in ba&&(ba.width=this.sizeFilter(ba.width),ba.height=this.sizeFilter(ba.height),ba.depth=this.sizeFilter(ba.depth),aa=ba.width*z,ea.width!==aa&&(ea.width=aa,da=!0),aa=ba.depth*z,ea.depth!==aa&&(ea.depth=
aa,da=!0),ba=ba.height*z,ea.height!==ba&&(ea.height=ba,da=!0))});da&&(this._graphicSymbol=T)}};A._forEachObjectSymbolLayerPair=function(z,F,D){z.symbolLayers.forEach((U,T)=>{const W=F.symbolLayers.getItemAt(T);"object"===U.type&&"object"===W.type&&D(U,W,T)})};Q._createClass(x,[{key:"angle",get:function(){return C.isSome(this.interactionState)?this.interactionState.angle:C.isSome(this._orientationReferenceSymbolLayer)?N(this._orientationReferenceSymbolLayer.heading):0}},{key:"scale",get:function(){return C.isSome(this.interactionState)?
this.interactionState.scale:1}},{key:"relativeAngle",get:function(){return this.angle-this.initialAngle}},{key:"initialAngle",get:function(){return C.isSome(this.interactionState)?this.interactionState.initialAngle:0}},{key:"size",get:function(){const z=this._sizeReferenceSymbolLayer;if(C.isNone(z))return null;var F=this.findLayerView(),D=this._graphicSymbol;if(C.isNone(F)||C.isNone(D)||"point-3d"!==D.type)return null;F=F.getSymbolLayerSize(D,z);if("size"in F&&C.isSome(F.size))return F.size;D=this.sizeAxis;
return"width"in F&&C.isSome(F.width)&&(C.isNone(D)||"width"===D||"all"===D||"width-and-depth"===D)?F.width:"depth"in F&&C.isSome(z.depth)&&(C.isNone(D)||"depth"===D||"all"===D||"width-and-depth"===D)?F.depth:"height"in F&&C.isSome(z.height)&&(C.isNone(D)||"height"===D||"all"===D)?F.height:null}},{key:"_sizeReferenceSymbolLayer",get:function(){const z=this._graphicSymbol;return C.isNone(z)||0===z.symbolLayers.length?null:z.symbolLayers.find(F=>"object"===F.type)}},{key:"_orientationReferenceSymbolLayer",
get:function(){const z=this._graphicSymbol;return C.isNone(z)||0===z.symbolLayers.length?null:z.symbolLayers.find(F=>"object"===F.type&&C.isSome(F.heading))}},{key:"_graphicSymbol",get:function(){return C.isSome(this.graphic)&&C.isSome(this.graphic.symbol)&&"point-3d"===this.graphic.symbol.type?this.graphic.symbol:null},set:function(z){this.graphic.symbol=z}}]);return x}(H.HandleOwner);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,"angle",null);y.__decorate([u.property()],
t.ScaleRotateObjectSymbol3DAdapter.prototype,"scale",null);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,"relativeAngle",null);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,"initialAngle",null);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,"size",null);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,"sizeAxis",void 0);y.__decorate([u.property({constructOnly:!0})],t.ScaleRotateObjectSymbol3DAdapter.prototype,
"graphic",void 0);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,"interactionState",void 0);y.__decorate([u.property({constructOnly:!0})],t.ScaleRotateObjectSymbol3DAdapter.prototype,"findLayerView",void 0);y.__decorate([u.property({constructOnly:!0})],t.ScaleRotateObjectSymbol3DAdapter.prototype,"sizeFilter",void 0);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,"_sizeReferenceSymbolLayer",null);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,
"_orientationReferenceSymbolLayer",null);y.__decorate([u.property()],t.ScaleRotateObjectSymbol3DAdapter.prototype,"_graphicSymbol",null);t.ScaleRotateObjectSymbol3DAdapter=y.__decorate([J.subclass("esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateObjectSymbol3DAdapter")],t.ScaleRotateObjectSymbol3DAdapter);const L={state:{angle:0,scale:0},done:()=>{},cancel:()=>{}};let R=function(I){function x(A){var z=I.call(this,A)||this;z.angle=0;z.initialAngle=0;z.scale=1;z.initialAngle=A.angle;
return z}Q._inheritsLoose(x,I);Q._createClass(x,[{key:"state",get:function(){const {originalSymbol:A,angle:z,initialAngle:F,scale:D,initialSizes:U}=this;return{originalSymbol:A,angle:z,initialAngle:F,scale:D,initialSizes:U}}}]);return x}(M);y.__decorate([u.property()],R.prototype,"originalSymbol",void 0);y.__decorate([u.property()],R.prototype,"angle",void 0);y.__decorate([u.property()],R.prototype,"initialAngle",void 0);y.__decorate([u.property()],R.prototype,"initialSizes",void 0);y.__decorate([u.property()],
R.prototype,"scale",void 0);y.__decorate([u.property()],R.prototype,"state",null);R=y.__decorate([J.subclass("InteractionState")],R);t.headingToAngle=N;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/quantityUtils ../../../../../core/reactiveUtils ../../../../../core/screenUtils ../../../../../core/unitUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/mat4 ../../../../../chunks/vec2 ../../../../../chunks/vec2f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/aaBoundingRect ../../../../../chunks/boundedPlane ../../../../../geometry/support/plane ../../../../../geometry/support/ray ../../../../../geometry/support/vectorStacks ../../../../../support/elevationInfoUtils ../../../analysis/Slice/sliceToolUtils ../../../analysis/Slice/images/Factory ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../ManipulatorType ../manipulatorUtils ../visualElementUtils ../manipulations/MoveManipulation ../manipulations/MoveXYGraphicManipulation ./PreserveAspectRatio ../../visualElements/OutlineVisualElement ../../../layers/graphics/elevationAlignmentUtils ../../../layers/graphics/ElevationContext ../../../layers/graphics/GraphicState ../../../support/geometryUtils/ray ../../../../interactive/dragEventPipeline ../../../../interactive/InteractiveToolBase ../../../../interactive/editGeometry/EditGeometryOperations ../../../../interactive/editGeometry/interfaces ../../../../interactive/editGeometry/operations/UpdateVertices ../../../../interactive/editGeometry/support/editPlaneUtils ../../../../interactive/sketch/SketchTooltipOptions ../../../../interactive/tooltip/ExtentTooltipInfos ../../../../interactive/tooltip/Tooltip ../../../../interactive/tooltip/TranslateTooltipInfos ../../../../support/automaticLengthMeasurementUtils ../../../../support/euclideanLengthMeasurementUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da,aa,ea,ba,ca,ka,oa,fa,ra,ua,na,ta,ya,Fa,Ia,La,Ba,Va,Na,Ga,Da,wa,Ja,Ka,pa,xa,Ea,Y,Ca,Ha,Qa){t.ExtentTransformTool=function(Ua){function Ra(qa){qa=Ua.call(this,qa)||this;qa.enableZ=!0;qa.enableRotation=!0;qa.enableScaling=!0;qa.tooltipOptions=new xa;qa._preserveAspectRatio=new Fa.PreserveAspectRatio;qa.grabbing=!1;qa.inputState=null;qa.type="transform-3d";qa.handles=new H;qa.moveZManipulator=null;qa.resizeManipulators=null;qa.rotateManipulator=
null;qa.attachmentOrigin=null;qa.outlineVisualElement=null;qa.mapBounds=T.create();qa.mapBoundsStart=T.create();qa.zmax=0;qa.sizeStart=null;qa.displayBounds=T.create();qa.displayBoundsStart=T.create();qa.displayBoundsMarginStart=0;qa.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}];qa._moveXYTooltipInfo=null;qa._moveZTooltipInfo=null;qa._rotateTooltipInfo=null;qa._scaleTooltipInfo=
null;qa._startAngle=0;qa._endAngle=0;qa._startScale=z.create();qa._endScale=z.create();return qa}Q._inheritsLoose(Ra,Ua);var Pa=Ra.prototype;Pa.initialize=function(){const {view:qa,graphic:ha,manipulators:la,handles:f}=this,w=this.graphicState=new Va.GraphicState({graphic:ha});this.editGeometryOperations=wa.EditGeometryOperations.fromGeometry(ha.geometry,qa.state.viewingMode);this.graphicMoveManipulation=new ya.MoveXYGraphicManipulation({tool:this,view:qa,graphicState:w});this.moveZManipulator=ba.createShiftManipulator(qa,
ba.OffsetMode.CENTER_ON_CALLOUT);this.moveZManipulator.state|=ba.IsShiftEdgeOnScreenFlag;f.add([this._createMoveXYGraphicDragPipeline(),O.watch(()=>this.enableZ,()=>this._updateManipulatorAvailability(this.moveZManipulator,ra.ManipulatorType.TRANSLATE_Z)),this._createMoveZDragPipeline()]);la.add(this.moveZManipulator);this.resizeManipulators=this.resizeHandles.map(a=>{const b=ba.createResizeManipulator(qa,a);f.add([O.watch(()=>this.enableScaling,()=>this._updateManipulatorAvailability(b,ra.ManipulatorType.SCALE)),
b.events.on("grab-changed",d=>this._onResizeGrab(d)),this._createResizeDragPipeline(b,a)]);return b});la.addMany(this.resizeManipulators);this.rotateManipulatorTexture=ca.getRotateHeadingTexture(qa.toolViewManager.textures);this.rotateManipulator=ba.createRotateManipulator(qa,this.rotateManipulatorTexture.texture);f.add([O.watch(()=>this.enableRotation,()=>this._updateManipulatorAvailability(this.rotateManipulator,ra.ManipulatorType.ROTATE)),this.rotateManipulator.events.on("grab-changed",a=>{this._onRotateGrab(a)}),
this._createRotateDragPipeline(this.rotateManipulator)]);la.add(this.rotateManipulator);this._calculateMapBounds();this._updateDisplayBounds();const l=na.createVisualElements({view:qa,graphic:ha,forEachManipulator:a=>this._forEachManipulator(a),onManipulatorsChanged:()=>E.makeHandle()});B.isSome(l)&&(this.outlineVisualElement=l.visualElement instanceof Ia.OutlineVisualElement?l.visualElement:null);B.isSome(this.outlineVisualElement)&&f.add(this.outlineVisualElement.events.on("attachment-origin-changed",
()=>this._updateDisplayBounds()));f.add(l);f.add([w.on("changed",()=>this._onGeometryChanged()),O.watch(()=>w.displaying,()=>this._updateAllManipulatorAvailability()),O.watch(()=>w.isDraped,()=>this._graphicDrapedChanged(),O.initial),qa.trackGraphicState(w)]);const c=qa.pointsOfInterest;c&&f.add(O.watch(()=>c.centerOnSurfaceFrequent.location,()=>this._updateDisplayBounds()));this._forEachManipulator(a=>{f.add(a.events.on("grab-changed",()=>{this.grabbing=a.grabbing;this._updateAllManipulatorAvailability()}))});
this._forEachManipulator((a,b)=>{f.add(a.events.on("immediate-click",d=>{b===ra.ManipulatorType.TRANSLATE_XY&&this.emit("immediate-click",{...d,graphic:ha});d.stopPropagation()}))});this._onGeometryChanged();this._updateAllManipulatorAvailability();this._initializeTooltip();this.finishToolCreation()};Pa.destroy=function(){this.displayBounds=this.mapBounds=null;this.rotateManipulatorTexture.release();this.handles.destroy();this.graphicMoveManipulation.destroy();this.editGeometryOperations.destroy();
this._tooltip.destroy();this._set("view",null);this._set("graphic",null)};Pa._initializeTooltip=function(){const {handles:qa,view:ha}=this,la=this._tooltip=new Y.Tooltip({view:ha}),f=()=>{la.info=this._getUpdatedTooltipInfo()};qa.add([this.on("graphic-translate-start",f),this.on("graphic-translate",f),this.on("graphic-translate-stop",()=>{this._moveZTooltipInfo=this._moveXYTooltipInfo=null;this._tooltip.clear()}),this.on("graphic-rotate-start",w=>{this._startAngle=w.angle;f()}),this.on("graphic-rotate",
w=>{this._endAngle=w.angle;f()}),this.on("graphic-rotate-stop",()=>{this._endAngle=this._startAngle=0;f()}),this.on("graphic-scale-start",w=>{A.set(this._startScale,w.xScale,w.yScale);A.set(this._endScale,w.xScale,w.yScale);f()}),this.on("graphic-scale",w=>{A.set(this._endScale,w.xScale,w.yScale);f()}),this.on("graphic-scale-stop",()=>{A.set(this._startScale,0,0);A.set(this._endScale,0,0);f()})]);this._forEachManipulator(w=>{qa.add([w.events.on("focus-changed",f),w.events.on("grab-changed",f),w.events.on("drag",
l=>{"cancel"===l.action?this._tooltip.clear():f()})])})};Pa._getUpdatedTooltipInfo=function(){return this.tooltipOptions.enabled?this.graphicMoveManipulation.grabbing||this.graphicMoveManipulation.dragging?this._computeMoveXYTooltipInfo():this.moveZManipulator.focused?this._computeMoveZTooltipInfo():this.rotateManipulator.focused?this._computeRotateTooltipInfo():this.resizeManipulators.some(qa=>qa.focused)?this._computeScaleTooltipInfo():null:null};Pa._computeMoveXYTooltipInfo=function(){return this._moveXYTooltipInfo=
B.unwrapOr(this._moveXYTooltipInfo,()=>new Ca.TranslateGraphicTooltipInfo({tooltipOptions:this.tooltipOptions}))};Pa._computeMoveZTooltipInfo=function(){const qa=this._moveZTooltipInfo=B.unwrapOr(this._moveZTooltipInfo,()=>new Ca.TranslateZTooltipInfo({tooltipOptions:this.tooltipOptions}));var ha=this._moveUnit;if(this.moveZManipulator.dragging){ha=Qa.verticalSignedDistance(this.mapBoundsStart.origin,this.mapBounds.origin,this.view.spatialReference);if(B.isNone(ha))return null;qa.distance=ha}else qa.distance=
u.createLength(0,ha);return qa};Pa._computeRotateTooltipInfo=function(){const qa=this._rotateTooltipInfo=B.unwrapOr(this._rotateTooltipInfo,()=>new Ea.ExtentRotateTooltipInfo({tooltipOptions:this.tooltipOptions}));qa.angle=this._startAngle-this._endAngle;return qa};Pa._computeScaleTooltipInfo=function(){var qa=this.graphic.geometry;if(B.isNone(qa))return null;const ha=this._scaleTooltipInfo=B.unwrapOr(this._scaleTooltipInfo,()=>new Ea.ExtentScaleTooltipInfo({tooltipOptions:this.tooltipOptions}));
qa=pa.mapPlaneAutoHorizontalSizeByElevationMode(this.mapBounds,this.zmax,qa.spatialReference,this.graphicState.isDraped);if(B.isNone(qa))return null;ha.xSize=qa[0];ha.ySize=qa[1];B.isSome(this.sizeStart)&&this.resizeManipulators.some(la=>la.dragging)?(ha.xScale=qa[0].value/this.sizeStart[0].value,ha.yScale=qa[1].value/this.sizeStart[1].value):(ha.xScale=1,ha.yScale=1);return ha};Pa._graphicDrapedChanged=function(){this.handles.remove("draped-elevation-changes");this._updateDisplayBounds();this.graphicState.isDraped&&
this.handles.add(this.view.elevationProvider.on("elevation-change",qa=>{B.isSome(this.attachmentOrigin)&&U.containsXY(qa.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this._updateDisplayBounds()}),"draped-elevation-changes")};Pa._updateAllManipulatorAvailability=function(){this._forEachManipulator((qa,ha)=>this._updateManipulatorAvailability(qa,ha))};Pa._updateManipulatorAvailability=function(qa,ha){const la=this.grabbing&&!qa.grabbing;qa.interactive=!la;if(qa instanceof ka.Manipulator3D){const f=
this.graphicState.displaying,w=this.enableZ&&ua.canMoveZ(this.graphic);switch(ha){case ra.ManipulatorType.ROTATE:qa.available=f&&this.enableRotation;break;case ra.ManipulatorType.SCALE:qa.available=f&&(this.enableScaling||this.enableRotation||w);qa.interactive=!la&&this.enableScaling;qa.state=this.enableScaling?ba.resizeNormal:ba.resizeOutlineOnly;break;case ra.ManipulatorType.TRANSLATE_Z:qa.available=f&&w;break;default:qa.available=f}}};Pa._forEachManipulator=function(qa){this.graphicMoveManipulation.forEachManipulator(qa);
this.resizeManipulators.forEach(ha=>qa(ha,ra.ManipulatorType.SCALE));qa(this.rotateManipulator,ra.ManipulatorType.ROTATE);qa(this.moveZManipulator,ra.ManipulatorType.TRANSLATE_Z)};Pa.reset=function(){};Pa._onGeometryChanged=function(){this._updateDisplayBounds()};Pa._calculateMapBounds=function(){const qa=this.graphic.geometry,ha=this.editGeometryOperations.data;var la=ha.components[0].edges[0];la=A.subtract(aa.sv2d.get(),la.leftVertex.pos,la.rightVertex.pos);A.normalize(la,la);var f=B.unwrapOr(oa.getGraphicAttachmentOrigin(this.view,
this.graphic),()=>qa.extent.center);f=80*this.view.pixelSizeAt(f);const w=this.view.spatialReference,l=qa.spatialReference;w.equals(l)||(f*=K.getMetersPerUnitForSR(w)/K.getMetersPerUnitForSR(l));pa.calculateOrientedBounds(la,ha,f,this.mapBounds);this._calculateZMax()};Pa._calculateZMax=function(){var qa=this.editGeometryOperations.data;if(qa.geometry.hasZ){var ha=qa.coordinateHelper,la=Number.NEGATIVE_INFINITY;for(const f of qa.components)for(const w of f.vertices)qa=ha.getZ(w.pos),la=Math.max(qa,
la);this.zmax=la}else this.zmax=0};Pa._updateDisplayBounds=function(){const qa=this.graphic.geometry;if(!B.isNone(qa)){var ha=B.isSome(this.outlineVisualElement)&&!this.graphicState.isDraped&&B.isSome(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:oa.getGraphicAttachmentOrigin(this.view,this.graphic);this.attachmentOrigin=B.unwrapOr(ha,qa.extent.center);ha=B.isSome(ha)?ha.z:La.evaluateElevationAlignmentAtPoint(this.mapBounds.origin,this.view.elevationProvider,
Ba.ElevationContext.fromElevationInfo(ea.getGraphicEffectiveElevationInfo(this.graphic)),this.view.renderCoordsHelper);var la=T.copy(this.mapBounds);la.origin[2]=ha;pa.mapPlaneToRenderPlane(la,this.view.renderCoordsHelper,qa.spatialReference,this.displayBoundsMargin,this.displayBounds);this._updateManipulators()}};Pa._createMoveXYGraphicDragPipeline=function(){return this.graphicMoveManipulation.createDragPipeline((qa,ha,la)=>this._applyGraphicMoveSteps(ha,la,ta.ManipulationType.XY))};Pa._createMoveZDragPipeline=
function(){const qa=this.view,ha=this.editGeometryOperations.data.spatialReference;return Ga.createManipulatorDragEventPipeline(this.moveZManipulator,(la,f,w)=>{la=D.clone(la.renderLocation);f=f.next(fa.screenToZConstrained(qa,la,ha)).next(Ga.addScreenDelta());this._applyGraphicMoveSteps(f,w,ta.ManipulationType.Z)})};Pa._applyGraphicMoveSteps=function(qa,ha,la){qa=qa.next(f=>{"start"===f.action&&(this.inputState={type:"move"},T.copy(this.mapBounds,this.mapBoundsStart),this._calculateSizeStart(),this.emit("graphic-translate-start",
{graphic:this.graphic,dxScreen:f.screenDeltaX,dyScreen:f.screenDeltaY}));return f}).next(Ga.addMapDelta()).next(this._moveDragUpdateGeometry()).next(f=>{const w={graphic:this.graphic,dxScreen:f.screenDeltaX,dyScreen:f.screenDeltaY};switch(f.action){case "start":case "update":(f.mapEnd.x-f.mapStart.x||f.mapEnd.y-f.mapStart.y||f.mapEnd.z-f.mapStart.z)&&this.emit("graphic-translate",w);break;case "end":this.inputState=null,this.emit("graphic-translate-stop",w)}return f}).next(f=>this._updateMoveTooltip(f,
la));ha.next(()=>{B.isSome(this.inputState)&&this.emit("graphic-translate-stop",{graphic:this.graphic,dxScreen:0,dyScreen:0});this._cancel()});return qa};Pa._calculateSizeStart=function(){B.isNone(this.graphic.geometry)?this.sizeStart=null:this.sizeStart=pa.mapPlaneAutoHorizontalSizeByElevationMode(this.mapBoundsStart,this.zmax,this.graphic.geometry.spatialReference,this.graphicState.isDraped)};Pa._moveDragUpdateGeometry=function(){return qa=>{if(B.isNone(this.inputState)||"move"!==this.inputState.type)return qa;
var ha=[];for(const la of this.editGeometryOperations.data.components)ha.push(...la.vertices);ha=this.editGeometryOperations.moveVertices(ha,qa.mapDeltaX,qa.mapDeltaY,qa.mapDeltaZ,"start"===qa.action?Ja.AccumulationBehaviour.NEW_STEP:Ja.AccumulationBehaviour.ACCUMULATE_STEPS);pa.apply(ha,this.mapBounds);this.graphic.geometry=this.editGeometryOperations.data.geometry;return qa}};Pa._updateMoveTooltip=function(qa,ha){if(ha===ta.ManipulationType.XY||ha===ta.ManipulationType.XY_AXIS)ha=Ha.autoHorizontalDistanceByElevationModeBetweenPoints(qa.mapStart,
qa.mapEnd,this.graphicState.isDraped?"on-the-ground":"absolute-height"),B.isSome(ha)&&B.isSome(this._moveXYTooltipInfo)&&(this._moveXYTooltipInfo.distance=ha);return qa};Pa._onResizeGrab=function(qa){"start"===qa.action&&(qa=this._calculatePickRay(qa.screenPoint),W.intersectRay(this.displayBounds.plane,qa,aa.sv3d.get())&&(T.copy(this.displayBounds,this.displayBoundsStart),T.copy(this.mapBounds,this.mapBoundsStart),this._calculateSizeStart(),this.displayBoundsMarginStart=this.displayBoundsMargin,this.inputState=
{type:"resize"}))};Pa._createResizeDragPipeline=function(qa,ha){return Ga.createManipulatorDragEventPipeline(qa,(la,f,w)=>{B.isNone(this.inputState)||(f.next(l=>{"start"===l.action&&this.emit("graphic-scale-start",{graphic:this.graphic,xScale:1,yScale:1});return l}).next(fa.screenToRenderPlane(this.view,this.displayBoundsStart.plane)).next(l=>({...l,handle:ha})).next(this._resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this._resizeDragUpdateGeometry()).next(l=>
{const c={graphic:this.graphic,xScale:l.factor1,yScale:l.factor2};switch(l.action){case "start":case "update":this.emit("graphic-scale",c);break;case "end":this.inputState=null,this.emit("graphic-scale-stop",c)}return l}),w.next(()=>{B.isSome(this.inputState)&&this.emit("graphic-scale-stop",{graphic:this.graphic,xScale:1,yScale:1});this._cancel()}))})};Pa._resizeDragRenderPlaneToFactors=function(){return qa=>{const ha=this.displayBoundsStart,la=qa.handle.direction,f=this.displayBoundsMargin,w=this.displayBoundsMarginStart;
var l=F.copy(aa.sv3d.get(),ha.origin);F.scaleAndAdd(l,l,ha.basis1,-la[0]);F.scaleAndAdd(l,l,ha.basis2,-la[1]);const c=F.subtract(aa.sv3d.get(),qa.renderEnd,l),a=F.subtract(aa.sv3d.get(),qa.renderStart,l),b=ba.isDiagonalResizeHandle(qa.handle);l=ba.calculateDiagonalResizeHandleScale(ha);const d=ba.calculateDiagonalResizeHandleScale(this.displayBounds)/l;l=(e,g)=>{if(0===e)return 1;let h=F.length(g),k=.5*e*F.dot(g,c)/h;const m=0>k?-1:1;b&&(e=h-.5*e*F.dot(g,a)/h,k+=e*m*d);e=h<1.5*w?1:1E-6;h=Math.max(h-
w,1E-6);0<m&&(k-=f);return m*Math.max(k/h*m,e)};return{...qa,factor1:l(la[0],ha.basis1),factor2:l(la[1],ha.basis2)}}};Pa._resizeDragUpdateGeometry=function(){return qa=>{var ha=F.copy(D.create(),this.mapBoundsStart.origin);F.scaleAndAdd(ha,ha,this.mapBoundsStart.basis1,-qa.handle.direction[0]);F.scaleAndAdd(ha,ha,this.mapBoundsStart.basis2,-qa.handle.direction[1]);const la=A.set(z.create(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);A.normalize(la,la);const f=[];for(const w of this.editGeometryOperations.data.components)f.push(...w.vertices);
ha=this.editGeometryOperations.scaleVertices(f,ha,la,qa.factor1,qa.factor2,"start"===qa.action?Ja.AccumulationBehaviour.NEW_STEP:Ja.AccumulationBehaviour.ACCUMULATE_STEPS,Ka.AccumulationType.REPLACE);T.copy(this.mapBoundsStart,this.mapBounds);pa.apply(ha,this.mapBounds);this.graphic.geometry=this.editGeometryOperations.data.geometry;return qa}};Pa._onRotateGrab=function(qa){if("start"===qa.action){var ha=ba.createRotatePlane(this.displayBounds,this.view.renderCoordsHelper,ba.RotationAxis.HEADING,
W.create());qa=this._calculatePickRay(qa.screenPoint);W.intersectRay(ha,qa,aa.sv3d.get())&&(T.copy(this.displayBounds,this.displayBoundsStart),T.copy(this.mapBounds,this.mapBoundsStart),this._calculateSizeStart(),this.inputState={type:"rotate",rotatePlane:ha})}};Pa._createRotateDragPipeline=function(qa){return Ga.createManipulatorDragEventPipeline(qa,(ha,la,f)=>{ha=this.inputState;B.isNone(ha)||(la.next(w=>{"start"===w.action&&this.emit("graphic-rotate-start",{graphic:this.graphic,angle:0});return w}).next(fa.screenToRenderPlane(this.view,
ha.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(ha)).next(this._rotateDragUpdateGeometry()).next(w=>{const l={graphic:this.graphic,angle:C.rad2deg(w.rotateAngle)};switch(w.action){case "start":case "update":this.emit("graphic-rotate",l);break;case "end":this.inputState=null,this.emit("graphic-rotate-stop",l)}return w}),f.next(()=>{B.isSome(this.inputState)&&this.emit("graphic-rotate-stop",{graphic:this.graphic,angle:0});this._cancel()}))})};Pa._rotateDragRenderPlaneToRotate=function(qa){return ha=>
{const la=W.normal(qa.rotatePlane),f=oa.calculateInputRotationTransform(ha.renderStart,ha.renderEnd,this.displayBounds.origin,la);return{...ha,rotateAxis:la,rotateAngle:f}}};Pa._rotateDragUpdateGeometry=function(){return qa=>{var ha=F.copy(D.create(),this.mapBoundsStart.origin);const la=[];for(const f of this.editGeometryOperations.data.components)la.push(...f.vertices);ha=this.editGeometryOperations.rotateVertices(la,ha,qa.rotateAngle,"start"===qa.action?Ja.AccumulationBehaviour.NEW_STEP:Ja.AccumulationBehaviour.ACCUMULATE_STEPS,
Ka.AccumulationType.REPLACE);T.copy(this.mapBoundsStart,this.mapBounds);pa.apply(ha,this.mapBounds);this.graphic.geometry=this.editGeometryOperations.data.geometry;return qa}};Pa._calculatePickRay=function(qa){const ha=da.create();qa=P.screenPointObjectToArray(qa);Na.fromScreen(this.view.state.camera,qa,ha);F.normalize(ha.direction,ha.direction);return ha};Pa._updateManipulators=function(){if(this.visible){var qa=ba.calculateBoundedPlaneTranslateRotate(this.displayBounds,aa.sm4d.get());ba.updateRotateHeadingHandle(this.rotateManipulator,
qa,this.displayBounds,this.view.renderCoordsHelper);this._updateZMoveHandle(this.moveZManipulator,qa);this.resizeManipulators.forEach((ha,la)=>{ba.updateResizeHandle(ha,this.resizeHandles[la],qa,this.displayBounds)})}};Pa._updateZMoveHandle=function(qa,ha){var la=this.displayBounds;la=F.subtract(aa.sv3d.get(),la.origin,la.basis1);const f=aa.sm4d.get();x.rotateZ(f,ha,2*Math.PI/2);f[12]=0;f[13]=0;f[14]=0;qa.modelTransform=f;qa.renderLocation=la};Pa._cancel=function(){const qa=this.editGeometryOperations.lastOperation;
B.isNone(qa)||(this.editGeometryOperations.undo(),this.graphic.geometry=this.editGeometryOperations.data.geometry,pa.unapply(qa,this.mapBounds),this._updateDisplayBounds(),this.inputState=null)};Pa.undo=function(){if(B.isSome(this.inputState))this.view.activeTool=null;else if(this.canUndo){const qa=this.editGeometryOperations.undo();this.graphic.geometry=this.editGeometryOperations.data.geometry;pa.unapply(B.unwrap(qa),this.mapBounds);this._updateDisplayBounds()}};Pa.redo=function(){if(this.canRedo){const qa=
this.editGeometryOperations.redo();this.graphic.geometry=this.editGeometryOperations.data.geometry;pa.apply(B.unwrap(qa),this.mapBounds);this._updateDisplayBounds()}};Q._createClass(Ra,[{key:"preserveAspectRatio",get:function(){return this._preserveAspectRatio.enabled},set:function(qa){this._preserveAspectRatio.enabled=qa;this._set("preserveAspectRatio",qa)}},{key:"_moveUnit",get:function(){return B.unwrapOr(K.lengthUnitFromSpatialReference(this.view.spatialReference),"meters")}},{key:"displayBoundsMargin",
get:function(){const qa=this.view.pointsOfInterest;return 10*this.view.pixelSizeAt(qa?qa.centerOnSurfaceFrequent.location:this.editGeometryOperations.data.geometry.extent.center)}},{key:"canUndo",get:function(){return this.editGeometryOperations.canUndo}},{key:"canRedo",get:function(){return this.editGeometryOperations.canRedo}},{key:"test",get:function(){return{resizeManipulators:this.resizeManipulators,rotateManipulator:this.rotateManipulator,moveZManipulator:this.moveZManipulator,tooltip:this._tooltip}}}]);
return Ra}(M.EventedMixin(Da.InteractiveToolBase));y.__decorate([J.property({constructOnly:!0,nonNullable:!0})],t.ExtentTransformTool.prototype,"view",void 0);y.__decorate([J.property({constructOnly:!0,nonNullable:!0})],t.ExtentTransformTool.prototype,"graphic",void 0);y.__decorate([J.property({constructOnly:!0,nonNullable:!0})],t.ExtentTransformTool.prototype,"enableZ",void 0);y.__decorate([J.property()],t.ExtentTransformTool.prototype,"enableRotation",void 0);y.__decorate([J.property()],t.ExtentTransformTool.prototype,
"enableScaling",void 0);y.__decorate([J.property({constructOnly:!0,type:xa})],t.ExtentTransformTool.prototype,"tooltipOptions",void 0);y.__decorate([J.property()],t.ExtentTransformTool.prototype,"preserveAspectRatio",null);y.__decorate([J.property()],t.ExtentTransformTool.prototype,"grabbing",void 0);y.__decorate([J.property()],t.ExtentTransformTool.prototype,"inputState",void 0);y.__decorate([J.property({readOnly:!0})],t.ExtentTransformTool.prototype,"type",void 0);y.__decorate([J.property()],t.ExtentTransformTool.prototype,
"_moveUnit",null);t.ExtentTransformTool=y.__decorate([I.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool")],t.ExtentTransformTool);t.EPSILON=1E-6;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/analysis/Slice/sliceToolUtils":function(){define("exports ../../../../geometry ../../../../analysis/SlicePlane ../../../../core/has ../../../../core/Logger ../../../../core/mathUtils ../../../../core/maybe ../../../../core/screenUtils ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/quat ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/projection ../../../../geometry/support/Axis ../../../../chunks/boundedPlane ../../../../geometry/support/plane ../../../../geometry/support/ray ../../../../geometry/support/vector ../../../../geometry/support/vectorStacks ./sliceToolConfig ../support/projectionUtils ../../interactive/Manipulator3D ../../interactive/manipulatorUtils ../../interactive/visualElements/LineVisualElement ../../interactive/visualElements/SlicePlaneVisualElement ../../support/RenderCoordsHelper ../../support/geometryUtils/ray ../../webgl-engine/lib/basicInterfaces ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Material ../../webgl-engine/lib/VertexAttribute ../../webgl-engine/materials/ColorMaterial ../../webgl-engine/materials/ImageMaterial ../../webgl-engine/materials/NativeLineMaterial ../../webgl-engine/materials/RibbonLineMaterial ../../../interactive/interfaces ../../../../geometry/Extent".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x,A,z,F,D,U,T,W,da,aa,ea,ba,ca,ka,oa,fa,ra,ua,na,ta,ya,Fa){function Ia(ha,la,f,w,l,c){const a=K.dot(ha,la),b=z.sv3d.get(),d=z.sv3d.get();switch(w===t.SliceOrientation.HORIZONTAL_OR_VERTICAL?Math.abs(a)>F.VERTICAL_DOT_THRESHOLD?t.SliceOrientation.HORIZONTAL:t.SliceOrientation.VERTICAL:w){case t.SliceOrientation.VERTICAL:K.cross(b,Math.abs(a)<=F.SMALL_ANGLE_DOT_THRESHOLD?ha:f.viewUp,la);K.copy(d,la);break;case t.SliceOrientation.HORIZONTAL:K.cross(b,f.viewUp,
la);K.cross(d,la,b);break;case t.SliceOrientation.TILTED:K.cross(b,Math.abs(a)<=F.SMALL_ANGLE_DOT_THRESHOLD?la:f.viewUp,ha),K.cross(d,ha,b)}ha=K.cross(z.sv3d.get(),b,d);0<K.dot(ha,f.viewForward)&&K.scale(d,d,-1);K.normalize(l,b);K.normalize(c,d)}function La(ha,la,f){var w=la.worldUpAtPosition(ha.origin,z.sv3d.get());la=ha.basis1;w=A.angleAroundAxis(w,ha.basis2,ha.basis1)+Ra;return R.rotate(ha,Math.round(w/Ra)*Ra-w,la,f)}function Ba(ha,la){switch(la){case Ca.POSITIVE_X:return{basis:ha.basis1,direction:1,
position:K.add(z.sv3d.get(),ha.origin,ha.basis1),edge:la};case Ca.POSITIVE_Y:return{basis:ha.basis2,direction:1,position:K.add(z.sv3d.get(),ha.origin,ha.basis2),edge:la};case Ca.NEGATIVE_X:return{basis:ha.basis1,direction:-1,position:K.subtract(z.sv3d.get(),ha.origin,ha.basis1),edge:la};case Ca.NEGATIVE_Y:return{basis:ha.basis2,direction:-1,position:K.subtract(z.sv3d.get(),ha.origin,ha.basis2),edge:la}}}function Va(ha,la,f){const w=f.projectToRenderScreen(K.add(z.sv3d.get(),ha,la),B.castRenderScreenPointArray3(z.sv3d.get()));
ha=f.projectToRenderScreen(K.subtract(z.sv3d.get(),ha,la),B.castRenderScreenPointArray3(z.sv3d.get()));return K.squaredLength(K.subtract(w,w,ha))}function Na(ha){const la=K.length(ha.basis1);ha=K.length(ha.basis2);return F.RESIZE_HANDLE_EDGE_PADDING_FRAC*Math.min(la,ha)}function Ga(ha){return 0!==ha.direction[0]&&0!==ha.direction[1]}function Da(ha,la,f){const w=l=>{const c=(l?la:ha).slice(0);var a=K.subtract(z.sv3d.get(),c[0],c[1]);K.normalize(a,a);var b=K.subtract(z.sv3d.get(),c[c.length-1],c[c.length-
2]);K.normalize(b,b);if(0<f.padding){var d=K.scale(J.create(),b,-f.padding);c[c.length-1]=K.add(d,d,c[c.length-1]);f.bothEnds&&(d=K.scale(J.create(),a,-f.padding),c[0]=K.add(d,d,c[0]))}var e=l?f.tipFocusMultiplier:1;d=f.tipLength*(f.focusTipLength?e:1);const g=f.tipRadius*e;e=u.identity(z.sm4d.get());if(0<f.padding){var h=d/4,k=K.set(z.sv3d.get(),0,h,0);h=1+f.padding/h;u.translate(e,e,k);u.scale(e,e,K.set(z.sv3d.get(),h,h,h));u.translate(e,e,K.scale(k,k,-1/h))}h=u.identity(O.create());k=J.fromValues(0,
1,0);b=u.fromQuat(O.create(),P.rotationTo(z.sq4d.get(),k,b));b[12]=c[c.length-1][0];b[13]=c[c.length-1][1];b[14]=c[c.length-1][2];u.multiply(b,b,e);{l=f.tubeRadius*(l?f.tubeFocusMultiplier:1)+f.padding;var m=f.flat;const p=[];if(C.isSome(m))p.push([l,m.thickness/2],[-l,m.thickness/2],[-l,-m.thickness/2],[l,-m.thickness/2]);else for(m=0;12>m;m++){const q=m/12*2*Math.PI;p.push([Math.cos(q)*l,Math.sin(q)*l])}l=ka.createPathExtrusionGeometry(p,c,[],[],!1)}l=[{part:"tube",geometry:l,transform:h}];let n;
C.isSome(f.flat)?h=ka.createExtrudedTriangle(d,g,g,f.flat.thickness):(h=ka.createConeGeometry(d,g,24,!1,!1,!0),n=ka.createConeGeometry(d,g,24,!1,!0,!1));l.push({part:"tip",geometry:h,transform:b});n&&l.push({part:"cap",geometry:n,transform:b});f.bothEnds&&(a=u.fromQuat(O.create(),P.rotationTo(z.sq4d.get(),k,a)),a[12]=c[0][0],a[13]=c[0][1],a[14]=c[0][2],u.multiply(a,a,e),l.push({part:"tip",geometry:h,transform:a}),n&&l.push({part:"cap",geometry:n,transform:a}));return l};return{normal:w(!1),focused:w(!0)}}
function wa(ha,la){const f=K.subtract(J.create(),ha[ha.length-1],ha[ha.length-2]);K.normalize(f,f);K.scale(f,f,F.ROTATE_HEADING_TIP_LENGTH);K.add(f,f,ha[ha.length-1]);return la?(la=K.subtract(J.create(),ha[0],ha[1]),K.normalize(la,la),K.scale(la,la,F.ROTATE_HEADING_TIP_LENGTH),K.add(la,la,ha[0]),[la,...ha,f]):[...ha,f]}function Ja(ha,la,f){if(C.isNone(ha))return null;const w=ha.origin,l=z.sv3d.get(),c=z.sv3d.get(),a=z.sv3d.get(),b=z.sv3d.get();K.add(l,w,ha.basis1);K.add(l,l,ha.basis2);K.add(c,w,ha.basis1);
K.sub(c,c,ha.basis2);K.sub(a,w,ha.basis1);K.sub(a,a,ha.basis2);K.sub(b,w,ha.basis1);K.add(b,b,ha.basis2);let d,e,g,h,k,m;for(const n of[l,c,a,b]){ha=la.fromRenderCoords(n,n,f);if(C.isNone(ha))return null;d=null==d?ha[0]:Math.min(d,ha[0]);e=null==e?ha[0]:Math.max(e,ha[0]);g=null==g?ha[1]:Math.min(g,ha[1]);h=null==h?ha[1]:Math.max(h,ha[1]);k=null==k?ha[2]:Math.min(k,ha[2]);m=null==m?ha[2]:Math.max(m,ha[2])}return new Fa({xmin:d,xmax:e,ymin:g,ymax:h,zmin:k,zmax:m,spatialReference:f})}function Ka(ha,
la,f,w,l,c,a=R.create()){if(!c.toRenderCoords(ha,a.origin))return Y.error(`Failed to project slice plane position, projection from ${ha.spatialReference.wkid} is not supported`),null;c.worldBasisAtPosition(a.origin,L.Axis.X,a.basis1);c.worldBasisAtPosition(a.origin,L.Axis.Y,a.basis2);I.fromVectorsAndPoint(a.basis2,a.basis1,a.origin,a.plane);R.rotate(a,-E.deg2rad(la),R.normal(a),a);R.rotate(a,E.deg2rad(f),a.basis1,a);K.scale(a.basis1,a.basis1,w/2);K.scale(a.basis2,a.basis2,l/2);R.updateUnboundedPlane(a);
return a}function pa(ha,la){if(C.isNone(ha)||C.isNone(ha.position))return null;const f=D.applyProjectionAndElevationAlignment(ha.position,la.spatialReference,la.elevationProvider);if(C.isNone(f))return null;la=aa.RenderCoordsHelper.renderUnitScaleFactor(ha.position.spatialReference,la.spatialReference);return{position:f,heading:ha.heading,tilt:ha.tilt,renderWidth:ha.width*la,renderHeight:ha.height*la}}function xa(ha,la,f,w=R.create()){ha=pa(ha,la);return C.isNone(ha)?null:Ea(ha,la,f,w)}function Ea(ha,
la,f,w=R.create()){if(C.isNone(ha))return null;ha=Ka(ha.position,ha.heading,ha.tilt,ha.renderWidth,ha.renderHeight,la.renderCoordsHelper,w);!f.tiltEnabled&&C.isSome(ha)&&La(ha,la.renderCoordsHelper,ha);return ha}const Y=H.getLogger("esri.views.3d.interactive.analysisTools.slice.sliceToolUtils");var Ca;(function(ha){ha[ha.POSITIVE_X=0]="POSITIVE_X";ha[ha.POSITIVE_Y=1]="POSITIVE_Y";ha[ha.NEGATIVE_X=2]="NEGATIVE_X";ha[ha.NEGATIVE_Y=3]="NEGATIVE_Y"})(Ca||(Ca={}));const Ha=ya.ManipulatorStateCustomFlags.Custom1;
t.RotationAxis=void 0;(function(ha){ha[ha.HEADING=1]="HEADING";ha[ha.TILT=2]="TILT"})(t.RotationAxis||(t.RotationAxis={}));t.SliceOrientation=void 0;(function(ha){ha[ha.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL";ha[ha.HORIZONTAL=1]="HORIZONTAL";ha[ha.VERTICAL=2]="VERTICAL";ha[ha.TILTED=3]="TILTED"})(t.SliceOrientation||(t.SliceOrientation={}));const Qa=ya.ManipulatorStateCustomFlags.Custom2,Ua=x.create(),Ra=Math.PI/2,Pa=ya.ManipulatorStateCustomFlags.Custom1,qa=ya.ManipulatorStateCustomFlags.Custom2;
t.OffsetMode=void 0;(function(ha){ha[ha.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT";ha[ha.CENTER_ON_ARROW=1]="CENTER_ON_ARROW"})(t.OffsetMode||(t.OffsetMode={}));t.DidPointerMoveRecentlyFlag=Ha;t.IsShiftEdgeOnScreenFlag=Qa;t.addArrowTips=wa;t.calculateBoundedPlaneTranslateRotate=function(ha,la){return T.calculateTranslateRotateFromBases(ha.basis1,ha.basis2,ha.origin,la)};t.calculateDiagonalResizeHandleScale=function(ha){return Na(ha)};t.calculatePlaneHalfSize=function(ha,la){return F.INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION*
Math.min(la.width,la.height)*la.computeRenderPixelSizeAt(ha)};t.calculateResizeHandlePadding=Na;t.calculateScreenSpaceBasisLength2=Va;t.createArrowGeometry=Da;t.createGridVisualElement=function(ha){return new da.SlicePlaneVisualElement({view:ha,attached:!0,backgroundColor:[...F.PLANE_BACKGROUND_COLOR],gridColor:F.GRID_COLOR,gridWidth:4,renderOccluded:oa.RenderOccludedFlag.OccludeAndTransparent})};t.createOutlineVisualElement=function(ha){return new W.LineVisualElement({view:ha,attached:!0,color:F.PLANE_OUTLINE_COLOR,
width:F.PLANE_OUTLINE_WIDTH,writeDepthEnabled:!1,renderOccluded:oa.RenderOccludedFlag.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})};t.createPlane=function(ha,la,f,w,l,c,a,b){a=a.worldUpAtPosition(ha,z.sv3d.get());Ia(la,a,l,c,b.basis1,b.basis2);K.scale(b.basis1,b.basis1,f);K.scale(b.basis2,b.basis2,w);K.copy(b.origin,ha);I.fromVectorsAndPoint(b.basis2,b.basis1,b.origin,b.plane);return b};t.createResizeManipulator=function(ha,la){const f=(la=Ga(la))?[J.fromValues(1,
0,0),J.fromValues(0,0,0),J.fromValues(0,1,0)]:[J.fromValues(1,0,0),J.fromValues(-1,0,0)];var w=ka.createPolylineGeometry(f);const l=F.RESIZE_HANDLE_COLOR,c=g=>new ta.RibbonLineMaterial({color:l,width:g,renderOccluded:oa.RenderOccludedFlag.OccludeAndTransparent}),a=()=>new na.NativeLineMaterial({color:l,renderOccluded:oa.RenderOccludedFlag.OccludeAndTransparent}),b=la?F.RESIZE_HANDLE_CORNER_WIDTH:F.RESIZE_HANDLE_EDGE_WIDTH,d=b*F.DISPLAY_FOCUS_MULTIPLIER,e=F.RESIZE_HANDLE_EDGE_WIDTH;w=[{geometry:w,
material:1<b?c(b):a(),stateMask:ya.ManipulatorStateFlags.Unfocused|Pa},{geometry:w,material:1<d?c(d):a(),stateMask:ya.ManipulatorStateFlags.Focused|Pa},{geometry:w,material:1<e?c(e):a(),stateMask:qa}];ha=new U.Manipulator3D({view:ha,renderObjects:w,collisionType:{type:"line",paths:[f]},autoScaleRenderObjects:!1,worldSized:!0,radius:la?F.RESIZE_HANDLE_CORNER_INPUT_RADIUS:F.RESIZE_HANDLE_EDGE_INPUT_RADIUS});ha.state=Pa;return ha};t.createRotateManipulator=function(ha,la){var f=new ua.ImageMaterial({transparent:!0,
writeDepth:!1,textureId:la.id,renderOccluded:oa.RenderOccludedFlag.Opaque});const w=F.ROTATE_HEADING_OFFSET_DISTANCE;la=F.ROTATE_HEADING_DISC_RADIUS;const l=la*F.ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,c=e=>{const g=new Uint32Array([0,1,2,2,3,0]);return new ca.Geometry([[fa.VertexAttribute.POSITION,{size:3,data:[w-e,-e,0,w+e,-e,0,w+e,e,0,w-e,e,0],exclusive:!0}],[fa.VertexAttribute.UV0,{size:2,data:[0,0,1,0,1,1,0,1]}]],[[fa.VertexAttribute.POSITION,g],[fa.VertexAttribute.UV0,g]])},a=ka.createPolylineGeometry([[0,
0,0],[w-la,0,0]]),b=ka.createPolylineGeometry([[0,0,0],[w-l,0,0]]),d=new na.NativeLineMaterial({color:F.ROTATE_HEADING_CALLOUT_COLOR,renderOccluded:oa.RenderOccludedFlag.OccludeAndTransparent});f=[{geometry:c(la),material:f,stateMask:ya.ManipulatorStateFlags.Unfocused|Ha},{geometry:a,material:d,stateMask:ya.ManipulatorStateFlags.Unfocused|Ha},{geometry:c(l),material:f,stateMask:ya.ManipulatorStateFlags.Focused|Ha},{geometry:b,material:d,stateMask:ya.ManipulatorStateFlags.Focused|Ha}];return new U.Manipulator3D({view:ha,
renderObjects:f,autoScaleRenderObjects:!1,collisionType:{type:"disc",direction:[0,0,1],offset:[w,0,0]},collisionPriority:1,radius:la/2,state:Ha})};t.createRotatePlane=function(ha,la,f,w){la=la.worldUpAtPosition(ha.origin,z.sv3d.get());const l=z.sv3d.get();switch(f){case t.RotationAxis.HEADING:K.copy(l,la);break;case t.RotationAxis.TILT:K.copy(l,ha.basis1)}return I.fromPositionAndNormal(ha.origin,l,w)};t.createShiftManipulator=function(ha,la=t.OffsetMode.CENTER_ON_ARROW){var f=la===t.OffsetMode.CENTER_ON_CALLOUT?
F.SHIFT_RESTART_OFFSET_DISTANCE:0;const w=[J.fromValues(f,0,-F.SHIFT_RESTART_ARROW_LENGTH/2),J.fromValues(f,0,F.SHIFT_RESTART_ARROW_LENGTH/2)];la=wa(w,!0);var l=(k,m)=>Da(w,w,{tubeRadius:F.SHIFT_RESTART_TUBE_RADIUS,tipRadius:F.SHIFT_RESTART_TIP_RADIUS,tipLength:F.SHIFT_RESTART_TIP_LENGTH,tubeFocusMultiplier:F.SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,tipFocusMultiplier:F.SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,padding:k,bothEnds:!0,flat:null,focusTipLength:!0,addCap:m});const c=l(0,!1);l=l(F.SHIFT_RESTART_ARROW_OUTLINE_WIDTH,
!0);const a=new ra.ColorMaterial({color:F.SHIFT_RESTART_ARROW_TIP_COLOR,cullFace:ba.CullFaceOptions.Back,renderOccluded:oa.RenderOccludedFlag.Opaque}),b=new ra.ColorMaterial({color:F.SHIFT_RESTART_ARROW_CAP_COLOR,cullFace:ba.CullFaceOptions.Back,renderOccluded:oa.RenderOccludedFlag.Opaque}),d=new ra.ColorMaterial({color:F.SHIFT_RESTART_TUBE_COLOR,cullFace:ba.CullFaceOptions.Back,renderOccluded:oa.RenderOccludedFlag.Opaque}),e=new ra.ColorMaterial({color:F.SHIFT_RESTART_OUTLINE_COLOR,transparent:!0,
writeDepth:!1,cullFace:ba.CullFaceOptions.Front,renderOccluded:oa.RenderOccludedFlag.Transparent}),g=ka.createPolylineGeometry([[f,0,0],[f-F.SHIFT_RESTART_OFFSET_DISTANCE,0,0]]);f=ka.createPolylineGeometry([[f,0,0],[f-F.SHIFT_RESTART_OFFSET_DISTANCE,0,0]]);const h=new na.NativeLineMaterial({color:F.SHIFT_RESTART_CALLOUT_COLOR,renderOccluded:oa.RenderOccludedFlag.OccludeAndTransparent});return new U.Manipulator3D({view:ha,renderObjects:[...c.normal.map(({part:k,geometry:m,transform:n})=>({geometry:m,
material:"tip"===k?a:"cap"===k?b:d,transform:n,stateMask:ya.ManipulatorStateFlags.Unfocused|Ha})),...l.normal.map(({geometry:k,transform:m})=>({geometry:k,material:e,transform:m,stateMask:ya.ManipulatorStateFlags.Unfocused|Ha})),{geometry:g,material:h,stateMask:ya.ManipulatorStateFlags.Unfocused|Ha|Qa},...c.focused.map(({part:k,geometry:m,transform:n})=>({geometry:m,material:"tip"===k?a:"cap"===k?b:d,transform:n,stateMask:ya.ManipulatorStateFlags.Focused|Ha})),...l.focused.map(({geometry:k,transform:m})=>
({geometry:k,material:e,transform:m,stateMask:ya.ManipulatorStateFlags.Focused|Ha})),{geometry:f,material:h,stateMask:ya.ManipulatorStateFlags.Focused|Ha|Qa}],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[la]},collisionPriority:1,radius:F.SHIFT_RESTART_TIP_RADIUS,state:Ha})};t.createShiftPlane=function(ha,la,f,w){f=K.cross(z.sv3d.get(),la,f);K.cross(f,f,la);return I.fromPositionAndNormal(ha,f,w)};t.forceHorizontalOrVertical=La;t.isDiagonalResizeHandle=Ga;t.isIBuildingSceneLayerView3D=
function(ha){return C.isSome("building-scene-3d"===ha.type?ha:null)};t.normalToBases=Ia;t.planeToExtent=Ja;t.planeToShape=function(ha,la,f,w=new y){if(C.isNone(ha))return null;var {renderCoordsHelper:l}=la,c=l.fromRenderCoords(ha.origin,la.spatialReference);if(C.isNone(c))return null;c=N.tryProjectWithZConversion(c,f);if(C.isNone(c))return null;w.position=c;c=l.worldUpAtPosition(ha.origin,z.sv3d.get());l=l.worldBasisAtPosition(ha.origin,L.Axis.Y,z.sv3d.get());const a=2*K.length(ha.basis1),b=2*K.length(ha.basis2);
la=aa.RenderCoordsHelper.renderUnitScaleFactor(la.spatialReference,f);w.width=a*la;w.height=b*la;w.tilt=E.rad2deg(A.angleAroundAxis(c,ha.basis2,ha.basis1)+Ra);w.heading=E.rad2deg(A.angleAroundAxis(ha.basis1,l,c)-Ra);return w};t.projectAndElevationAlignShape=pa;t.projectedShapeToPlane=Ea;t.resizeNormal=Pa;t.resizeOutlineOnly=qa;t.resizePlane=function(ha,la,f,w,l,c){const a=K.copy(z.sv3d.get(),l.origin);K.add(a,a,K.scale(z.sv3d.get(),l.basis1,0>ha.direction[0]?1:-1));K.add(a,a,K.scale(z.sv3d.get(),
l.basis2,0>ha.direction[1]?1:-1));var b=K.length(l.basis1);const d=K.length(l.basis2);f=K.subtract(z.sv3d.get(),f,a);var e=K.subtract(z.sv3d.get(),la,a);let g=0;la=0;if(Ga(ha)){var h=Na(l);const k=Na(c);g=b-.5*ha.direction[0]*K.dot(l.basis1,e)/b;la=d-.5*ha.direction[1]*K.dot(l.basis2,e)/d;e=k/h;g*=e;la*=e}e=.5*ha.direction[0]*K.dot(l.basis1,f)/b;h=.5*ha.direction[1]*K.dot(l.basis2,f)/d;f=g+e;la+=h;b=K.scale(z.sv3d.get(),l.basis1,f/b);l=K.scale(z.sv3d.get(),l.basis2,la/d);(0>=f||Va(c.origin,b,w)<=
F.PLANE_MIN_BASIS_SCREEN_LEN2)&&K.copy(b,c.basis1);(0>=la||Va(c.origin,l,w)<=F.PLANE_MIN_BASIS_SCREEN_LEN2)&&K.copy(l,c.basis2);w=K.copy(z.sv3d.get(),a);K.add(w,w,K.scale(z.sv3d.get(),b,0>ha.direction[0]?-1:1));K.add(w,w,K.scale(z.sv3d.get(),l,0>ha.direction[1]?-1:1));return R.fromValues(w,b,l,c)};t.shapeToExtent=function(ha,la,f){if(C.isNone(ha)||C.isNone(ha.position))return null;const {spatialReference:w}=ha.position;f=xa(ha,{renderCoordsHelper:la,spatialReference:w},f);la=Ja(f,la,w);!ha.position.hasZ&&
C.isSome(la)&&(la.zmin=null,la.zmax=null);return la};t.shapeToPlane=xa;t.updateResizeHandle=function(ha,la,f,w){var l=K.length(w.basis1);const c=K.length(w.basis2);var a=Na(w);const b=Na(w),d=K.set(z.sv3d.get(),0,0,0);K.add(d,K.scale(z.sv3d.get(),w.basis1,la.direction[0]),K.scale(z.sv3d.get(),w.basis2,la.direction[1]));K.add(d,w.origin,d);w=0;let e=1;Ga(la)?(1===la.direction[0]&&-1===la.direction[1]?w=Ra:1===la.direction[0]&&1===la.direction[1]?w=Math.PI:-1===la.direction[0]&&1===la.direction[1]&&
(w=3*Math.PI/2),e=b):(la=0!==la.direction[0]?1:2,l=1===la?c:l,w=1===la?Ra:0,e=l-a);a=u.fromZRotation(z.sm4d.get(),w);u.scale(a,a,K.set(z.sv3d.get(),e,e,e));u.multiply(a,f,a);a[12]=0;a[13]=0;a[14]=0;ha.modelTransform=a;ha.renderLocation=d};t.updateRotateHeadingHandle=function(ha,la,f,w){w=w.worldUpAtPosition(f.origin,z.sv3d.get());const l=Ba(f,Ca.POSITIVE_X),c=u.fromZRotation(z.sm4d.get(),l.edge*Math.PI/2);u.rotateX(c,c,-(A.angleAroundAxis(w,f.basis2,f.basis1)+Ra));u.multiply(c,la,c);c[12]=0;c[13]=
0;c[14]=0;ha.modelTransform=c;ha.renderLocation=l.position};t.updateRotateTiltHandle=function(ha,la,f){f=Ba(f,Ca.POSITIVE_Y);const w=u.fromZRotation(z.sm4d.get(),f.edge*Math.PI/2);u.rotateX(w,w,Ra);u.multiply(w,la,w);w[12]=0;w[13]=0;w[14]=0;ha.modelTransform=w;ha.renderLocation=f.position};t.updateShiftRestartHandle=function(ha,la,f,w){var l=Ba(f,Ca.NEGATIVE_X);const c=z.sm4d.get();u.rotateZ(c,la,l.edge*Math.PI/2);la=K.normalize(z.sv3d.get(),l.basis);la=K.scale(z.sv3d.get(),la,l.direction*w.computeScreenPixelSizeAt(l.position)*
F.SHIFT_RESTART_OFFSET_DISTANCE);K.add(la,la,l.position);l=w.projectToRenderScreen(la,B.castRenderScreenPointArray3(z.sv3d.get()));{const [b,d,e,g]=w.viewport;var a=Math.min(e,g)/16;let h=!0;l[0]<b+a?(l[0]=b+a,h=!1):l[0]>b+e-a&&(l[0]=b+e-a,h=!1);l[1]<d+a?(l[1]=d+a,h=!1):l[1]>d+g-a&&(l[1]=d+g-a,h=!1);a=h}ea.fromRender(w,l,Ua);K.normalize(Ua.direction,Ua.direction);w=z.sv3d.get();!a&&R.intersectRay(f,Ua,w)&&(la=w);c[12]=0;c[13]=0;c[14]=0;ha.modelTransform=c;ha.renderLocation=J.clone(la);ha.state=a?
ha.state|Qa:ha.state&~Qa};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/analysis/SlicePlane":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../geometry ../core/Clonable ../core/Cyclical ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/persistable ../geometry/Point".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L){y=function(R){function I(x){x=R.call(this,x)||this;x.type="plane";x.position=null;x.heading=0;x.tilt=0;x.width=10;x.height=10;return x}t._inheritsLoose(I,R);I.prototype.equals=function(x){return this.heading===x.heading&&this.tilt===x.tilt&&C.equalsMaybe(this.position,x.position)&&this.width===x.width&&this.height===x.height};return I}(M.ClonableMixin(E.JSONSupport));Q.__decorate([B.property({readOnly:!0,json:{read:!1,write:!0}})],y.prototype,"type",void 0);
Q.__decorate([B.property({type:L}),N.persistable()],y.prototype,"position",void 0);Q.__decorate([B.property({type:Number,nonNullable:!0,range:{min:0,max:360}}),N.persistable(),P.cast(R=>H.cyclicalDegrees.normalize(J.ensureNumber(R),0,!0))],y.prototype,"heading",void 0);Q.__decorate([B.property({type:Number,nonNullable:!0,range:{min:0,max:360}}),N.persistable(),P.cast(R=>H.cyclicalDegrees.normalize(J.ensureNumber(R),0,!0))],y.prototype,"tilt",void 0);Q.__decorate([B.property({type:Number,nonNullable:!0}),
N.persistable()],y.prototype,"width",void 0);Q.__decorate([B.property({type:Number,nonNullable:!0}),N.persistable()],y.prototype,"height",void 0);return y=Q.__decorate([K.subclass("esri.analysis.SlicePlane")],y)})},"esri/views/3d/analysis/Slice/sliceToolConfig":function(){define(["exports","../../../../core/has","../../../../core/mathUtils","../../../../chunks/vec3f64","../../../../chunks/vec4f64"],function(t,Q,y,M,H){Q=Q("mac")?"Meta":"Control";const E=Math.cos(y.deg2rad(45));y=Math.cos(y.deg2rad(5));
const C=M.fromValues(1,.5,0);M=H.fromArray([...C,.7]);const B=H.fromArray([...C,.5]),u=H.fromArray([...C,1]),O=H.fromValues(1,1,1,1),P=H.fromValues(1,.8,.6,1),K=H.fromValues(1,.93,.86,1),J=H.fromArray([...C,1]),N=H.fromArray([...C,1]);H=H.fromArray([...C,1]);t.DISPLAY_FOCUS_MULTIPLIER=2;t.GRID_COLOR=B;t.INITIAL_DEPTH_OFFSET_FRAC=.02;t.INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION=.4;t.PLANE_BACKGROUND_COLOR=[0,0,0,.04];t.PLANE_MIN_BASIS_SCREEN_LEN2=1600;t.PLANE_OUTLINE_COLOR=M;t.PLANE_OUTLINE_WIDTH=1;t.PLANE_PREVIEW_OUTLINE_WIDTH=
2;t.POINTER_MOVE_TIMER_MS=2500;t.PREVIEW_FADE_DOT_THRESHOLD=.95;t.PREVIEW_FADE_DURATION_SECONDS=.3;t.RESIZE_HANDLE_COLOR=H;t.RESIZE_HANDLE_CORNER_INPUT_RADIUS=6;t.RESIZE_HANDLE_CORNER_WIDTH=4;t.RESIZE_HANDLE_EDGE_INPUT_RADIUS=4;t.RESIZE_HANDLE_EDGE_PADDING_FRAC=.3;t.RESIZE_HANDLE_EDGE_WIDTH=1;t.ROTATE_HEADING_CALLOUT_COLOR=u;t.ROTATE_HEADING_DISC_RADIUS=27;t.ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER=1.1;t.ROTATE_HEADING_OFFSET_DISTANCE=40;t.ROTATE_HEADING_TIP_LENGTH=12;t.SHIFT_RESTART_ARROW_CAP_COLOR=
P;t.SHIFT_RESTART_ARROW_LENGTH=48;t.SHIFT_RESTART_ARROW_OUTLINE_WIDTH=2.25;t.SHIFT_RESTART_ARROW_TIP_COLOR=O;t.SHIFT_RESTART_CALLOUT_COLOR=J;t.SHIFT_RESTART_OFFSET_DISTANCE=40;t.SHIFT_RESTART_OUTLINE_COLOR=N;t.SHIFT_RESTART_TIP_FOCUS_MULTIPLIER=1.15;t.SHIFT_RESTART_TIP_LENGTH=22.5;t.SHIFT_RESTART_TIP_RADIUS=11;t.SHIFT_RESTART_TUBE_COLOR=K;t.SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER=1.15;t.SHIFT_RESTART_TUBE_RADIUS=3;t.SMALL_ANGLE_DOT_THRESHOLD=y;t.VERTICAL_DOT_THRESHOLD=E;t.forceHorizontalModifier=Q;t.forceVerticalModifier=
"Shift";Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/analysis/support/projectionUtils":function(){define(["exports","../../../../core/maybe","../../../../geometry/projection","../../support/ElevationProvider"],function(t,Q,y,M){t.applyProjectionAndElevationAlignment=function(H,E,C,B=!1){H=y.tryProjectWithZConversion(H,E);if(Q.isNone(H))return null;H.hasZ&&!B||!Q.isSome(C)||(H.z=Q.unwrapOr(M.getElevationAtPoint(C,H),0));return H};t.logFailedGeometryProjectionError=
function(H,E,C){C.warnOnce(`Failed to project analysis geometry (id: '${H.id}'), projection from spatial reference `+`(wkid: '${E.wkid}') to view spatial reference is not supported. `+"Projection may be possible after calling projection.load().")};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/LineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ./Object3DVisualElement ../../layers/graphics/lineUtils ../../webgl-engine/lib/Material ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J){O=function(L){function R(x){var A=L.call(this,x)||this;A._renderOccluded=K.RenderOccludedFlag.OccludeAndTransparent;A._width=1;A._color=u.fromValues(1,0,1,1);A._innerWidth=1;A._innerColor=null;A._stipplePattern=null;A._stippleOffColor=null;A._stipplePreferContinuous=!0;A._writeDepthEnabled=!0;A._falloff=0;A._polygonOffset=!1;A.applyProps(x);return A}Q._inheritsLoose(R,L);var I=R.prototype;I.setGeometryFromRenderSpacePoint=function(x,A=1E3){const z=[];z.push([[x[0]-
A,x[1]+0,x[2]+0],[x[0]+A,x[1]+0,x[2]+0]]);z.push([[x[0]-0,x[1]-A,x[2]+0],[x[0]+0,x[1]+A,x[2]+0]]);z.push([[x[0]-0,x[1]+0,x[2]-A],[x[0]+0,x[1]+0,x[2]+A]]);this.geometry=z};I.setGeometryFromExtent=function(x){const A=this.view.spatialReference,z=C.create(),F=C.create(),D=[];E.set(z,x[0],x[1],100);this.view.renderCoordsHelper.toRenderCoords(z,A,F);D.push([F[0],F[1],F[2]]);E.set(z,x[2],x[1],100);this.view.renderCoordsHelper.toRenderCoords(z,A,F);D.push([F[0],F[1],F[2]]);E.set(z,x[2],x[3],100);this.view.renderCoordsHelper.toRenderCoords(z,
A,F);D.push([F[0],F[1],F[2]]);E.set(z,x[0],x[3],100);this.view.renderCoordsHelper.toRenderCoords(z,A,F);D.push([F[0],F[1],F[2]]);E.set(z,x[0],x[1],100);this.view.renderCoordsHelper.toRenderCoords(z,A,F);D.push([F[0],F[1],F[2]]);E.set(z,x[0],x[1],100);this.view.renderCoordsHelper.toRenderCoords(z,A,F);D.push([F[0],F[1],F[2]]);this.geometry=[D]};I.setGeometryFromFrustum=function(x){const A=[];x.lines.forEach(z=>{A.push([z.origin[0],z.origin[1],z.origin[2]]);A.push([z.endpoint[0],z.endpoint[1],z.endpoint[2]])});
this.geometry=[A]};I.setGeometryFromBoundedPlane=function(x){const A=[],z=x.origin,F=x.basis1;x=x.basis2;const D=C.create(),U=C.create(),T=C.create(),W=C.create();D[0]=z[0]-.5*F[0]-.5*x[0];D[1]=z[1]-.5*F[1]-.5*x[1];D[2]=z[2]-.5*F[2]-.5*x[2];U[0]=z[0]-.5*F[0]+.5*x[0];U[1]=z[1]-.5*F[1]+.5*x[1];U[2]=z[2]-.5*F[2]+.5*x[2];T[0]=z[0]+.5*F[0]+.5*x[0];T[1]=z[1]+.5*F[1]+.5*x[1];T[2]=z[2]+.5*F[2]+.5*x[2];W[0]=z[0]+.5*F[0]-.5*x[0];W[1]=z[1]+.5*F[1]-.5*x[1];W[2]=z[2]+.5*F[2]-.5*x[2];A.push([D[0],D[1],D[2]]);A.push([U[0],
U[1],U[2]]);A.push([T[0],T[1],T[2]]);A.push([W[0],W[1],W[2]]);A.push([D[0],D[1],D[2]]);this.geometry=[A]};I.setGeometryFromSegment=function(x){const A=x.endRenderSpace;this.transform=M.fromTranslation(N,A);({points:x}=x.createRenderGeometry(A,this.view.renderCoordsHelper));this.geometry=[x]};I.setGeometryFromSegments=function(x,A=C.ZEROS){this.transform=M.fromTranslation(N,A);this.geometry=x.map(z=>z.createRenderGeometry(A,this.view.renderCoordsHelper).points)};I.getTransformedGeometry=function(){return y.isNone(this._geometry)?
null:this._geometry.map(x=>x.map(A=>E.transformMat4(C.create(),A,this.transform)))};I.createExternalResources=function(){this._material=new J.RibbonLineMaterial(this.materialParameters)};I.destroyExternalResources=function(){this._material=null};I.createGeometries=function(x){const A=this._createLineGeometries();if(0!==A.length)for(let z=0;z<A.length;++z){const F=P.createGeometry(A[z]);x.addGeometry(F,this._material)}};I.forEachExternalMaterial=function(x){x(this._material)};I._updateMaterial=function(){this.attached&&
this._material.setParameters(this.materialParameters)};I._createLineGeometries=function(){const x=this.geometry;if(y.isNone(x)||0===x.length)return[];const A=[];x.forEach(z=>{const F=new Float64Array(3*z.length);z.forEach((D,U)=>{F[3*U]=D[0];F[3*U+1]=D[1];F[3*U+2]=D[2]});A.push({overlayInfo:null,attributeData:{position:F},removeDuplicateStartEnd:P.RemoveDuplicateStartEnd.KEEP})});return A};Q._createClass(R,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(x){x!==this._renderOccluded&&
(this._renderOccluded=x,this._updateMaterial())}},{key:"geometry",get:function(){return this._geometry},set:function(x){this._geometry=x;this.recreateGeometry()}},{key:"width",get:function(){return this._width},set:function(x){x!==this._width&&(this._width=x,this._updateMaterial())}},{key:"color",get:function(){return this._color},set:function(x){B.exactEquals(x,this._color)||(B.copy(this._color,x),this._updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(x){x!==
this._innerWidth&&(this._innerWidth=x,this._updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(x){if(y.isSome(x)){if(y.isNone(this._innerColor)||!B.exactEquals(x,this._innerColor))this._innerColor=B.copy(u.create(),x),this._updateMaterial()}else y.isSome(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(x){const A=y.isSome(x)!==y.isSome(this._stipplePattern);this._stipplePattern=
x;A?this.recreate():this._updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(x){if(y.isNone(x)||y.isNone(this._stippleOffColor)||!B.exactEquals(x,this._stippleOffColor))this._stippleOffColor=y.isSome(x)?u.clone(x):null,this._updateMaterial()}},{key:"stipplePreferContinuous",get:function(){return this._stipplePreferContinuous},set:function(x){this._stipplePreferContinuous!==x&&(this._stipplePreferContinuous=x,this._updateMaterial())}},{key:"writeDepthEnabled",
get:function(){return this._writeDepthEnabled},set:function(x){this._writeDepthEnabled!==x&&(this._writeDepthEnabled=x,this._updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(x){x!==this._falloff&&(this._falloff=x,this._updateMaterial())}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(x){x!==this._polygonOffset&&(this._polygonOffset=x,this._updateMaterial())}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,
stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}}]);return R}(O.Object3DVisualElement);const N=H.create();t.LineVisualElement=O;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/interactive/visualElements/SlicePlaneVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec4 ../../../../chunks/vec4f64 ./Object3DVisualElement ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Material ../../webgl-engine/materials/SlicePlaneMaterial".split(" "),
function(t,Q,y,M,H,E,C,B,u){E=function(O){function P(J){var N=O.call(this,J)||this;N._material=null;N._renderOccluded=B.RenderOccludedFlag.OccludeAndTransparent;N._gridWidth=1;N._gridColor=H.fromValues(1,0,0,1);N._backgroundColor=H.fromValues(1,0,0,1);N.applyProps(J);return N}Q._inheritsLoose(P,O);var K=P.prototype;K.createExternalResources=function(){this._material=new u.SlicePlaneMaterial(this.materialParameters)};K.destroyExternalResources=function(){this._material=null};K.forEachExternalMaterial=
function(J){y.isSome(this._material)&&J(this._material)};K.createGeometries=function(J){if(y.isSome(this._material)){const N=C.createSquareGeometry();J.addGeometry(N,this._material)}};K._updateMaterial=function(){y.isSome(this._material)&&this._material.setParameters(this.materialParameters)};Q._createClass(P,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(J){J!==this._renderOccluded&&(this._renderOccluded=J,this._updateMaterial())}},{key:"gridWidth",get:function(){return this._gridWidth},
set:function(J){this._gridWidth!==J&&(this._gridWidth=J,this._updateMaterial())}},{key:"gridColor",get:function(){return this._gridColor},set:function(J){M.copy(this._gridColor,J);this._updateMaterial()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(J){M.copy(this._backgroundColor,J);this._updateMaterial()}},{key:"materialParameters",get:function(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}}]);
return P}(E.Object3DVisualElement);t.SlicePlaneVisualElement=E;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/webgl-engine/materials/SlicePlaneMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../core/shaderLibrary/ShaderOutputOptions ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/GLMaterial ../lib/Material ../lib/RenderSlot ./internal/DefaultBufferWriter ./internal/MaterialUtil ../shaders/SlicePlaneMaterialTechnique".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P){let K=function(L){function R(x){x=L.call(this,x,new N)||this;x._config=new H.ShaderTechniqueConfiguration;return x}Q._inheritsLoose(R,L);var I=R.prototype;I.intersect=function(x,A,z,F,D,U,T){return O.intersectTriangleGeometry(x,A,F,D,U,void 0,T)};I.createBufferWriter=function(){return new u.DefaultBufferWriter(u.PositionUVLayout)};I.requiresSlot=function(x){return x===B.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL};I.createGLMaterial=function(x){return x.output===
M.ShaderOutput.Color?new J(x):null};I.getConfiguration=function(){return this._config};return R}(C.Material),J=function(L){function R(I){I=L.call(this,I)||this;I.ensureTechnique(P.SlicePlaneMaterialTechnique,null);return I}Q._inheritsLoose(R,L);R.prototype.beginSlot=function(){return y.unwrap(this.technique)};return R}(E),N=function(L){function R(){var I=L.apply(this,arguments)||this;I.renderOccluded=C.RenderOccludedFlag.Occlude;return I}Q._inheritsLoose(R,L);return R}(P.SlicePlaneMaterialPassParameters);
t.Parameters=N;t.SlicePlaneMaterial=K;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/vec4f64 ../core/shaderModules/interfaces ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/DefaultVertexAttributeLocations ../lib/Program ../../../../chunks/SlicePlaneMaterial.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K){H=function(J){function N(){var L=J.apply(this,arguments)||this;L.backgroundColor=M.fromValues(1,0,0,.5);L.gridColor=M.fromValues(0,1,0,.5);L.gridWidth=4;return L}y._inheritsLoose(N,J);return N}(H.NoParameters);C=function(J){function N(){return J.apply(this,arguments)||this}y._inheritsLoose(N,J);var L=N.prototype;L.initializeProgram=function(R){const I=N.shader.get().build(this.configuration);return new u.Program(R.rctx,I,B.Default3D)};L.initializePipeline=function(){return K.makePipelineState({blending:K.separateBlendingParams(P.BlendFactor.ONE,
P.BlendFactor.ONE,P.BlendFactor.ONE_MINUS_SRC_ALPHA,P.BlendFactor.ONE_MINUS_SRC_ALPHA),depthTest:{func:P.CompareFunction.LESS},colorWrite:K.defaultColorWriteParams})};return N}(C.ShaderTechnique);C.shader=new E.ReloadableShaderModule(O.SlicePlaneMaterial,()=>new Promise((J,N)=>t(["./SlicePlaneMaterial.glsl"],J,N)));Q.SlicePlaneMaterialPassParameters=H;Q.SlicePlaneMaterialTechnique=C;Object.defineProperties(Q,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/SlicePlaneMaterial.glsl":function(){define("exports ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder ../views/3d/webgl-engine/lib/VertexAttribute".split(" "),
function(t,Q,y,M,H,E,C){function B(O){const P=new E.ShaderBuilder;P.extensions.add("GL_OES_standard_derivatives");Q.addProjViewLocalOrigin(P,O);P.attributes.add(C.VertexAttribute.POSITION,"vec3");P.attributes.add(C.VertexAttribute.UV0,"vec2");P.varyings.add("vUV","vec2");P.vertex.code.add(H.glsl`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`);P.fragment.uniforms.add([new y.Float4PassUniform("backgroundColor",K=>K.backgroundColor),new y.Float4PassUniform("gridColor",K=>K.gridColor),new M.FloatPassUniform("gridWidth",K=>K.gridWidth)]);P.fragment.code.add(H.glsl`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
gl_FragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`);return P}const u=Object.freeze(Object.defineProperty({__proto__:null,build:B},Symbol.toStringTag,{value:"Module"}));t.SlicePlaneMaterial=u;t.build=B})},"esri/views/3d/webgl-engine/materials/ImageMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderLibrary/ShaderOutputOptions ../lib/basicInterfaces ../lib/GLMaterials ../lib/GLTextureMaterial ../lib/Material ../lib/OrderIndependentTransparency ../lib/RenderSlot ./internal/DefaultBufferWriter ./internal/MaterialUtil ../shaders/ImageMaterialTechnique".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K){let J=function(R){function I(A){A=R.call(this,A,new L)||this;A.supportsEdges=!0;A.techniqueConfig=new K.ImageMaterialTechniqueConfiguration;return A}Q._inheritsLoose(I,R);var x=I.prototype;x.getConfiguration=function(A,z){this.techniqueConfig.output=A;this.techniqueConfig.cullFace=this.parameters.cullFace;this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane;this.techniqueConfig.transparent=this.parameters.transparent;this.techniqueConfig.writeDepth=this.parameters.writeDepth;
this.techniqueConfig.hasOccludees=this.parameters.hasOccludees;this.techniqueConfig.transparencyPassType=z.transparencyPassType;this.techniqueConfig.enableOffset=z.camera.relativeElevation<B.OITPolygonOffsetLimit;this.techniqueConfig.hasMultipassTerrain=z.multipassTerrain.enabled;this.techniqueConfig.cullAboveGround=z.multipassTerrain.cullAboveGround;return this.techniqueConfig};x.intersect=function(A,z,F,D,U,T,W){P.intersectTriangleGeometry(A,z,D,U,T,void 0,W)};x.requiresSlot=function(A,z){return A===
u.RenderSlot.DRAPED_MATERIAL?!0:H.outputFromPass(z)===y.ShaderOutput.Highlight?A===u.RenderSlot.OPAQUE_MATERIAL:A===(this.parameters.transparent?this.parameters.writeDepth?u.RenderSlot.TRANSPARENT_MATERIAL:u.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:u.RenderSlot.OPAQUE_MATERIAL)};x.createGLMaterial=function(A){return A.output===y.ShaderOutput.Color||A.output===y.ShaderOutput.Alpha||A.output===y.ShaderOutput.Highlight?new N(A):void 0};x.createBufferWriter=function(){return new O.DefaultBufferWriter(O.PositionUVLayout)};
return I}(C.Material),N=function(R){function I(A){return R.call(this,{...A,...A.material.parameters})||this}Q._inheritsLoose(I,R);var x=I.prototype;x._updateParameters=function(A){this.updateTexture(this._material.parameters.textureId);this._material.setParameters(this.textureBindParameters);return this.ensureTechnique(K.ImageMaterialTechnique,A)};x._updateOccludeeState=function(A){A.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:A.hasOccludees}),
this._updateParameters(A))};x.beginSlot=function(A){this._output!==y.ShaderOutput.Color&&this._output!==y.ShaderOutput.Alpha||this._updateOccludeeState(A);return this._updateParameters(A)};return I}(E.GLTextureMaterial),L=function(R){function I(){var x=R.apply(this,arguments)||this;x.transparent=!1;x.writeDepth=!0;x.hasSlicePlane=!1;x.cullFace=M.CullFaceOptions.None;x.hasOccludees=!1;x.opacity=1;x.textureId=null;x.initTextureTransparent=!0;return x}Q._inheritsLoose(I,R);return I}(C.MaterialParameters);
t.ImageMaterial=J;t.Parameters=L;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/webgl-engine/shaders/ImageMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderLibrary/ShaderOutputOptions ../core/shaderModules/interfaces ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/basicInterfaces ../lib/DefaultVertexAttributeLocations ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../materials/DefaultTechniqueConfiguration ../../../../chunks/ImageMaterial.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I,x){E=function(z){function F(){return z.apply(this,arguments)||this}y._inheritsLoose(F,z);return F}(E.NoParameters);B=function(z){function F(){return z.apply(this,arguments)||this}y._inheritsLoose(F,z);var D=F.prototype;D.initializeProgram=function(U){const T=F.shader.get().build(this.configuration);return new J.Program(U.rctx,T,P.Default3D)};D._setPipelineState=function(U,T){const W=this.configuration,da=U===O.TransparencyPassType.NONE,aa=U===O.TransparencyPassType.FrontFace;
return x.makePipelineState({blending:W.output!==H.ShaderOutput.Color&&W.output!==H.ShaderOutput.Alpha||!W.transparent?null:da?A:K.oitBlending(U),culling:x.cullingParams(W.cullFace),depthTest:{func:K.oitDepthTest(U)},depthWrite:da?W.writeDepth&&x.defaultDepthWriteParams:K.oitDepthWrite(U),colorWrite:x.defaultColorWriteParams,stencilWrite:W.hasOccludees?N.stencilWriteMaskOn:null,stencilTest:W.hasOccludees?T?N.stencilToolMaskBaseParams:N.stencilBaseAllZerosParams:null,polygonOffset:da||aa?null:K.getOITPolygonOffset(W.enableOffset)})};
D.initializePipeline=function(){this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0);return this._setPipelineState(this.configuration.transparencyPassType,!1)};D.getPipelineState=function(U,T){return T?this._occludeePipelineState:z.prototype.getPipelineState.call(this,U,T)};return F}(B.ShaderTechnique);B.shader=new C.ReloadableShaderModule(R.ImageMaterial,()=>new Promise((z,F)=>t(["./ImageMaterial.glsl"],z,F)));const A=x.simpleBlendingParams(I.BlendFactor.ONE,
I.BlendFactor.ONE_MINUS_SRC_ALPHA);C=function(z){function F(){var D=z.apply(this,arguments)||this;D.output=H.ShaderOutput.Color;D.cullFace=O.CullFaceOptions.None;D.hasSlicePlane=!1;D.transparent=!1;D.enableOffset=!0;D.writeDepth=!0;D.hasOccludees=!1;D.transparencyPassType=O.TransparencyPassType.NONE;D.hasMultipassTerrain=!1;D.cullAboveGround=!1;return D}y._inheritsLoose(F,z);return F}(L.DefaultTechniqueConfiguration);M.__decorate([u.parameter({count:H.ShaderOutput.COUNT})],C.prototype,"output",void 0);
M.__decorate([u.parameter({count:O.CullFaceOptions.COUNT})],C.prototype,"cullFace",void 0);M.__decorate([u.parameter()],C.prototype,"hasSlicePlane",void 0);M.__decorate([u.parameter()],C.prototype,"transparent",void 0);M.__decorate([u.parameter()],C.prototype,"enableOffset",void 0);M.__decorate([u.parameter()],C.prototype,"writeDepth",void 0);M.__decorate([u.parameter()],C.prototype,"hasOccludees",void 0);M.__decorate([u.parameter({count:O.TransparencyPassType.COUNT})],C.prototype,"transparencyPassType",
void 0);M.__decorate([u.parameter()],C.prototype,"hasMultipassTerrain",void 0);M.__decorate([u.parameter()],C.prototype,"cullAboveGround",void 0);Q.ImageMaterialPassParameters=E;Q.ImageMaterialTechnique=B;Q.ImageMaterialTechniqueConfiguration=C;Object.defineProperties(Q,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/ImageMaterial.glsl":function(){define("exports ../core/maybe ./vec2f64 ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform ../views/3d/webgl-engine/lib/basicInterfaces ../views/3d/webgl-engine/lib/VertexAttribute".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J,N,L,R,I){function x(z){const F=new N.ShaderBuilder;O.addProjViewLocalOrigin(F,z);F.include(E.Transform);F.attributes.add(I.VertexAttribute.POSITION,"vec3");F.attributes.add(I.VertexAttribute.UV0,"vec2");F.varyings.add("vpos","vec3");z.hasMultipassTerrain&&F.varyings.add("depth","float");const {vertex:D,fragment:U}=F;D.uniforms.add(new P.Float2PassUniform("textureCoordinateScaleFactor",T=>Q.isSome(T.texture)&&Q.isSome(T.texture.descriptor.textureCoordinateScaleFactor)?
T.texture.descriptor.textureCoordinateScaleFactor:y.ONES));D.code.add(J.glsl`
    void main(void) {
      vpos = position;
      ${z.hasMultipassTerrain?"depth \x3d (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0 * textureCoordinateScaleFactor;
      gl_Position = transformPosition(proj, view, vpos);
    }
  `);F.include(H.SliceDraw,z);F.include(C.multipassTerrainTest,z);U.uniforms.add([new L.Texture2DPassUniform("tex",T=>T.texture),new K.FloatPassUniform("opacity",T=>T.opacity)]);F.varyings.add("vTexCoord","vec2");z.output===M.ShaderOutput.Alpha?U.code.add(J.glsl`
    void main() {
      discardBySlice(vpos);
      ${z.hasMultipassTerrain?"terrainDepthTest(gl_FragCoord, depth);":""}

      float alpha = texture2D(tex, vTexCoord).a * opacity;
      if (alpha  < ${J.glsl.float(B.defaultMaskAlphaCutoff)}) {
        discard;
      }

      gl_FragColor = vec4(alpha);
    }
    `):(U.include(u.ColorConversion),U.code.add(J.glsl`
    void main() {
      discardBySlice(vpos);
      ${z.hasMultipassTerrain?"terrainDepthTest(gl_FragCoord, depth);":""}
      gl_FragColor = texture2D(tex, vTexCoord) * opacity;

      if (gl_FragColor.a < ${J.glsl.float(B.defaultMaskAlphaCutoff)}) {
        discard;
      }

      gl_FragColor = highlightSlice(gl_FragColor, vpos);
      ${z.transparencyPassType===R.TransparencyPassType.Color?"gl_FragColor \x3d premultiplyAlpha(gl_FragColor);":""}
    }
    `));return F}const A=Object.freeze(Object.defineProperty({__proto__:null,build:x},Symbol.toStringTag,{value:"Module"}));t.ImageMaterial=A;t.build=x})},"esri/views/3d/analysis/Slice/images/Factory":function(){define(["exports","./heading-rotate-png","./tilt-rotate-png","../../../webgl-engine/lib/Texture"],function(t,Q,y,M){const H={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};t.getRotateHeadingTexture=function(E){return E.fromData(Q,()=>new M.Texture(Q,H))};t.getTiltRotateTexture=function(E){return E.fromData(y,
()=>new M.Texture(y,H))};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/analysis/Slice/images/heading-rotate-png":function(){define(function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAnFBMVEUAAAD/gAD/gAD/cAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fAD/gAD/fAD/fQD/fQD/fQD/fQD/fQD/fgD/jR7/mjn/mjf/p1H/plH/smf/sWb/vHr/u3n/xYz/xIv/zZz/zJv/zJr/1Kv/1Kr/06r/06n/27n/27f/4cX/4cT/59D/7dr/8uX/9u7/+/f////u2EN0AAAAM3RSTlMACBAQICAoKDAwODhAQEhIUFBYYGhweICIkJCXmJ+gp6ivsLe4uL+/wMDHx8/P19/n7/cWvjXwAAACeUlEQVR42tWX3XqiMBCGY2pbtbrUnzhhdak/lHWliJD7v7fdJ+KG5AMhh30P8zCTmS+TycDaeBoHi5Wgf4jVYvbKmRfPgSAHMX9mPRnM1tSIGHM/c2QddLp4c8wxCvYIvqROBPfbHlm/sRYC6smMNTKn3sxZAyvyYNW1v38MM/IkcPQnZHPMLtciz9P9hhqwzoLD+cnfpTIUaYinyZlBkE2YKZcMXCyN/YhsPkuFlMfWJLiwo89VMxfpJDForMCwuG+Zx7ttGO2S/w4LJ42ZURDty5M0a4dqsZAQAihQfXqWdlhnpcmdEPAI0tv2EbnsbsKmdgi6/1GN7T1XJLx5sF0P9SWABMC+co5JBE4Ge/1NTM3EGIJgjFONXCdAbeQYwhN7pRrRV20LJNIhWOczdu+xPFzIBiQ62iIsyIOTvlZUY+HXySLQaMUEeSC1CPYxENIlwk+q8e0clFAIfiKG+qpaIvod4wfU8sqvkDLda+xCCqgDaAk7uyeNqD+feFlfGCcg3Hzsk+xS7Nz1Aq4CcauhhMc0uxaqIgcFsF0J+1WQyoCN7Y9ezeCVH5LhSxmyRvsihKbK1m7LafpSpkpj6yJgtsiVBh6AX5UyCVmMbrNpcwj5/h6DPN79JjAiQAhXVeN6SZI0q5bQnn4wBiHEqpUybp1ZJzWxStVCHhKhAhVLp/Emh6trHpGLaB6yZHk7wu3Z+ChOxhwUNEmYYjpUvqJDksSHraQmJm2DdqQK6sGUObybYtpSN+8Phm3pN2xjDH33R6b0CKxAZNLvl8foD3BBnSw5e8RI+G2P8GD9wHw6YN3wkfA0R4Zz8CGCIfOCv8zM738walXuLw6nXBvPr8wvAAAAAElFTkSuQmCC"})},
"esri/views/3d/analysis/Slice/images/tilt-rotate-png":function(){define(function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACtVBMVEUAAAD/AAD/gAD/VQD/gAD/gAD/bQD/gAD/cQD/gAD/dAD/gAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/fAD/gAD/gAD/fAD/gAD/fQD/fQD/gAD/fQD/egD/fQD/gAD/egD/fQD/gAD/ewD/gAD/ewD/gAD/ewD/fQD/fQD/gAD/ewD/fQD/gAD/fAD/gAD/fAD/fgD/gAD/fAD/fgD/fAD/fgD/gAD/fAD/fgD/fAD/fgD/fQD/fQD/fgD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fQD/fgD/gAL/fgD/gAb/gAT/gwr/hAz/hxH/hQ//iBX/iBP/ixn/iRf/jBr/jR7/jyP/jyL/kif/kCX/kyr/lS7/lCz/ljH/li//mTX/nDr/mjn/nTz/oEL/okf/o0r/pU3/pU7/qFL/plH/qFX/q1j/q1r/rl7/sGL/rmH/s2v/tW//tW7/t3L/uHL/unb/unf/vHv/vX3/v4D/vX7/v4D/wYT/v4L/wYX/x4//x5H/yZX/y5n/zZv/y5n/zJv/zZ3/zp//0aL/z6H/1Kr/1av/06r/1q//17H/2bT/2LP/2rb/27n/3bz/3r7/37//4MH/38D/4ML/4sX/4sb/4sf/48n/5cv/48r/5cz/5s7/6dT/6tb/69j/69n/7Nn/7dv/7dz/7t7/7t3/7+H/7+D/7+H/8eL/8uX/8uX/8ub/8+j/8+f/9On/9er/9Or/9ez/9e3/9ez/9u7/9e3/9+//9+7/+PD/+PH/+fT/+fL/+vb/+vX/+vb/+/f/+vb//Pn/+/j//Pr//Pn//fv//Pr//fv//v3//fz//////v7//v3///8ZYzD6AAAA5nRSTlMAAQIDBAYHCAkKCwwQERITGBkaGyUmKCkqKy0uLzAxMjIzNDQ2Njg4OTs+Pj9AQEJCQ0RERUZHUlJTVFVWWFlfYGFiY2RlZmdoaWprbG1ucHFyc3R1dnd4eXp8f4CAgYGCg4SEhYWGhoeIiYmKiouMjI2Nj5CQkZOUlZaXmJiZmpudnp6io6OkpaanqKmqqqusrK2xs7W2t7e4ubq7u7/AwMLExcXGyMrLzM3NztDR0tPU1NXW29zd3t/g4eLi5OTl5ufo6erq6+zs7e7u7+/w8PHy9PT29vf4+Pn5+vr7+/z9/f7+/pNrFTEAAAO8SURBVHjaldf5W1RVGAfwl4kGxa2yIDPbF82EJhkVUEOiUiDMcJa482XCijStNLLVpoWCbLHFaZUoMSkq2wgtW8mobFcryiiWkffv6J557jh3zj33zvD56f3h3vM873nP+z7nkJ3cPE9JxdX+OgSWX15aMG0CjcnUoiuRSls2byplyH1eDZSqZrkz+d0ThC1/QQ45c521Eo58p5GTSZcirbIpZGtGEBkI5pNaVhEyo3mzSCF7ITJW7CKLYxbDTsPG5qe33QezxdkkySqGndYY615CilI5Cy9sRVjYgVRzKcXJGmzdwsKHkEwnkylB2AsNse5zSIITKWkJnPzCut8gW5IsxRlw9CnrRuohO5MM43xw9D4Lt0JWm2jOOXD2Ogv3w6LQaGA/nL3AwuOwCLpJmIU0nmDheVidQ0IV0niAhQ5YVcfnH2zcCMNtLLwHheOJaB5s7OxuQlx4hHV7oeAhokrYaOeBjkYIv7LuJyhUEU3QYONFZj4YrQfwGeuGQrDSxtM0KK2N7h5koa8V+ICFdVA4SX2Kbt5xmA2j7SHsZGETFOZQqarwhzjhUAuAl1nYDIUFdAVkoe0s/LiLmT9eD91TLDwHhXJaDtmbrPvyEWzg4dfCEB5kYTsUrqIgJK8w8/C2MHDDgWYgromFXVDwkQbDRsRFhpkHWyHcBMO1oyzSgcI1VGdEd8V6o6uA8D7m2BZIDrJuPxTqKGBEnczc33nHFmZ+A7IvWDegTmEF4lb1s3Dk+wH+oxGyj1hYC6saqkDcVk74u6cJsk4W7oXVZVSCuK84aXTP5pBcGeFRWM2nQmMPOw+zyQ9t62DyLAtRWM2mPBgao1+zyVD3wyEkPMTCq7DKo/Gmdo50DbDJd22JbbudhXdgoeUSVcNkTfRbNvnv3U0QGmKs2w2LpUR0MVI1d4+wSW/0egC/i7APFkXKobq+7Wc2+avrHvSK4B/1UKUaWNQ/1nOEk2Kf7GdhNSTLSDgfKhvaDrDsbkhmkuAOQKnhmb2cqkVuBDfFeWDnzo4/2WQrUl2QuB7XwtZ1T+7ho9qRYmUOGc6Gk8hb/xoLvI0Up1KCqxyOVkf3sdADs0soaVIQaUS6Bpm/gUlgMplMR1pron39SNLyKcVcpBduCQMJXpLMx5gsdJEkexHGYJGLLFzFyFhJNilkeTVkxkM28oPIQOAUsjW5DGmVTSQnM3xwVHt6FjnLudAPW4GLMnq7zqyEUvW5x1KGTvAulSqiVRYeR2OSmz+7uKLGpwX8K8oXFJw4zu67/wFaspwc84wT2QAAAABJRU5ErkJggg\x3d\x3d"})},
"esri/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe","../../../analysis/Slice/sliceToolUtils","../../../../interactive/dragEventPipeline"],function(t,Q,y,M,H){let E=function(){function C(){this.lastDragEvent=null;this.next=new H.EventPipeline;this._enabled=!1}var B=C.prototype;B.createDragEventPipelineStep=function(){this.lastDragEvent=null;return u=>{this.lastDragEvent=
"end"!==u.action?{...u}:null;this._enabled&&this._adjustScaleFactors(u);return u}};B._adjustScaleFactors=function(u){const O=M.isDiagonalResizeHandle(u.handle)?Math.max(Math.abs(u.factor1),Math.abs(u.factor2)):0===u.handle.direction[0]?Math.abs(u.factor2):Math.abs(u.factor1);u.factor1=0>u.factor1?-O:O;u.factor2=0>u.factor2?-O:O};Q._createClass(C,[{key:"enabled",get:function(){return this._enabled},set:function(u){if(this._enabled!==u&&y.isSome(this.lastDragEvent)){const O={...this.lastDragEvent,action:"update"};
u&&this._adjustScaleFactors(O);this.next.execute(O)}this._enabled=u}},{key:"test",get:function(){return{_adjustScaleFactors:u=>this._adjustScaleFactors(u)}}}]);return C}();t.PreserveAspectRatio=E;Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/editGeometry/support/editPlaneUtils":function(){define("exports ../../../../core/maybe ../../../../core/quantityUtils ../../../../chunks/vec2 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/boundedPlane ../../../../geometry/support/vectorStacks ../operations/MoveVertex ../operations/RotateVertex ../operations/ScaleVertex ../operations/UpdateVertices ../../../support/automaticLengthMeasurementUtils".split(" "),
function(t,Q,y,M,H,E,C,B,u,O,P,K,J){function N(x,A,z){if(x instanceof K.UpdateVertices){if(x.operation instanceof u.MoveVertex)return L(x.operation,A,z),!0;if(x.operation instanceof O.RotateVertex)return R(x.operation,A,z),!0;if(x.operation instanceof P.ScaleVertex)return I(x.operation,A,z),!0}return!1}function L(x,A,z=!1){z=z?-1:1;x=E.fromValues(z*x.dx,z*x.dy,z*x.dz);H.add(A.origin,A.origin,x)}function R(x,A,z=!1){x=z?-x.angle:x.angle;H.rotateZ(A.basis1,A.basis1,E.ZEROS,x);H.rotateZ(A.basis2,A.basis2,
E.ZEROS,x)}function I(x,A,z=!1){const F=z?1/x.factor1:x.factor1;z=z?1/x.factor2:x.factor2;H.scale(A.basis1,A.basis1,F);H.scale(A.basis2,A.basis2,z);M.projectAndScale(A.origin,A.origin,x.origin,x.axis1,F);M.projectAndScale(A.origin,A.origin,x.origin,x.axis2,z)}t.apply=function(x,A){return N(x,A,!1)};t.calculateOrientedBounds=function(x,A,z,F){F||(F=C.create());const D=M.set(B.sv2d.get(),x[1],-x[0]),U=M.set(B.sv2d.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),T=M.set(B.sv2d.get(),Number.NEGATIVE_INFINITY,
Number.NEGATIVE_INFINITY),W=B.sv2d.get();A.components.forEach(da=>da.vertices.forEach(aa=>{aa=aa.pos;M.set(W,M.dot(x,aa),M.dot(D,aa));M.min(U,U,W);M.max(T,T,W)}));A=M.set(B.sv2d.get(),1E-6>T[0]-U[0]?z/2:0,1E-6>T[1]-U[1]?z/2:0);M.subtract(U,U,A);M.add(T,T,A);M.scale(F.basis1,x,(T[0]-U[0])/2);M.scale(F.basis2,D,(T[1]-U[1])/2);M.set(F.origin,U[0]*x[0]+U[1]*D[0],U[0]*x[1]+U[1]*D[1]);M.add(F.origin,F.origin,F.basis1);M.add(F.origin,F.origin,F.basis2);return F};t.mapPlaneAutoHorizontalSizeByElevationMode=
function(x,A,z,F){const D=B.sv3d.get();H.subtract(D,H.subtract(D,x.origin,x.basis1),x.basis2);const U=B.sv3d.get();H.scaleAndAdd(U,D,x.basis1,2);const T=B.sv3d.get();H.scaleAndAdd(T,U,x.basis2,2);const W=B.sv3d.get();H.scaleAndAdd(W,D,x.basis2,2);D[2]=U[2]=T[2]=W[2]=A;A=F?"on-the-ground":"absolute-height";x=y.max(J.autoHorizontalDistanceByElevationMode(D,U,z,A),J.autoHorizontalDistanceByElevationMode(W,T,z,A));z=y.max(J.autoHorizontalDistanceByElevationMode(U,T,z,A),J.autoHorizontalDistanceByElevationMode(D,
W,z,A));return Q.isNone(z)||Q.isNone(x)?null:[x,z]};t.mapPlaneToRenderPlane=function(x,A,z,F=0,D){D||(D=C.create());A.toRenderCoords(x.origin,z,D.origin);var U=B.sv3d.get();H.add(U,x.origin,x.basis1);H.add(U,U,x.basis2);A.toRenderCoords(U,z,U);var T=B.sv3d.get();H.add(T,x.origin,x.basis1);H.subtract(T,T,x.basis2);A.toRenderCoords(T,z,T);const W=B.sv3d.get();H.subtract(W,x.origin,x.basis1);H.subtract(W,W,x.basis2);A.toRenderCoords(W,z,W);const da=B.sv3d.get();H.subtract(da,x.origin,x.basis1);H.add(da,
da,x.basis2);A.toRenderCoords(da,z,da);x=H.lerp(B.sv3d.get(),U,T,.5);H.subtract(x,x,D.origin);A=H.lerp(B.sv3d.get(),W,da,.5);H.subtract(A,D.origin,A);H.lerp(D.basis1,x,A,.5);U=H.lerp(B.sv3d.get(),da,U,.5);H.subtract(U,U,D.origin);T=H.lerp(B.sv3d.get(),T,W,.5);H.subtract(T,D.origin,T);H.lerp(D.basis2,U,T,.5);T=H.cross(B.sv3d.get(),D.basis1,D.basis2);T=H.cross(T,T,D.basis1);H.normalize(T,T);H.scale(D.basis2,T,H.dot(D.basis2,T));H.scale(D.basis1,D.basis1,1+F/H.length(D.basis1));H.scale(D.basis2,D.basis2,
1+F/H.length(D.basis2));C.updateUnboundedPlane(D);return D};t.unapply=function(x,A){return N(x,A,!0)};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/interactive/tooltip/ExtentTooltipInfos":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/quantityUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ./SketchTooltipInfo".split(" "),
function(t,Q,y,M,H,E,C){t.ExtentRotateTooltipInfo=function(B){function u(O){O=B.call(this,O)||this;O.type="extent-rotate";O.angle=0;return O}Q._inheritsLoose(u,B);return u}(C.SketchTooltipInfo);y.__decorate([H.property()],t.ExtentRotateTooltipInfo.prototype,"type",void 0);y.__decorate([H.property()],t.ExtentRotateTooltipInfo.prototype,"angle",void 0);t.ExtentRotateTooltipInfo=y.__decorate([E.subclass("esri.views.interactive.tooltip.ExtentRotateTooltipInfo")],t.ExtentRotateTooltipInfo);t.ExtentScaleTooltipInfo=
function(B){function u(O){O=B.call(this,O)||this;O.type="extent-scale";O.xScale=0;O.yScale=0;O.xSize=M.zeroMeters;O.ySize=M.zeroMeters;return O}Q._inheritsLoose(u,B);return u}(C.SketchTooltipInfo);y.__decorate([H.property()],t.ExtentScaleTooltipInfo.prototype,"type",void 0);y.__decorate([H.property()],t.ExtentScaleTooltipInfo.prototype,"xScale",void 0);y.__decorate([H.property()],t.ExtentScaleTooltipInfo.prototype,"yScale",void 0);y.__decorate([H.property()],t.ExtentScaleTooltipInfo.prototype,"xSize",
void 0);y.__decorate([H.property()],t.ExtentScaleTooltipInfo.prototype,"ySize",void 0);t.ExtentScaleTooltipInfo=y.__decorate([E.subclass("esri.views.interactive.tooltip.ExtentScaleTooltipInfo")],t.ExtentScaleTooltipInfo);Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"*noref":1}});
define("exports ./editingTools/draw/DrawGraphicTool3D ./editingTools/moveGraphic/GraphicMoveTool ./editingTools/reshapeGraphic/GraphicReshapeTool ./editingTools/transformGraphic/GraphicTransformTool ./editingTools/transformGraphic/ExtentTransformTool".split(" "),function(t,Q,y,M,H,E){Object.defineProperty(t,"DrawGraphicTool3D",{enumerable:!0,get:()=>Q.DrawGraphicTool3D});Object.defineProperty(t,"GraphicMoveTool",{enumerable:!0,get:()=>y.GraphicMoveTool});Object.defineProperty(t,"GraphicReshapeTool",
{enumerable:!0,get:()=>M.GraphicReshapeTool});Object.defineProperty(t,"GraphicTransformTool",{enumerable:!0,get:()=>H.GraphicTransformTool});Object.defineProperty(t,"ExtentTransformTool",{enumerable:!0,get:()=>E.ExtentTransformTool});Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});