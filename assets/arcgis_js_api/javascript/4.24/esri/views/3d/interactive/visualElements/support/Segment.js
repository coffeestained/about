// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/projection ../../../../../geometry/projectionEllipsoid ../../../../../geometry/support/vectorStacks ../../../support/mathUtils".split(" "),function(t,d,e,p,y,z,v){let w=function(){function f(c=e.create(),a=e.create()){this.startRenderSpace=c;this.endRenderSpace=a;this.type="euclidean"}var g=f.prototype;g.eval=function(c,a,b){d.lerp(a,this.startRenderSpace,this.endRenderSpace,c);b&&(d.subtract(b,this.endRenderSpace,
this.startRenderSpace),d.normalize(b,b));return a};g.createRenderGeometry=function(c,a){const b=[],k=[],m=(q,l)=>{const h=u;d.subtract(h,q,c);b.push([h[0],h[1],h[2]]);k.push([l[0],l[1],l[2]])};a=a.worldUpAtPosition(this.eval(.5,n),z.sv3d.get());m(this.startRenderSpace,a);m(this.endRenderSpace,a);return{points:b,normals:k}};f.fromPositionAndVector=function(c,a,b=1){d.scale(n,a,b);d.add(n,c,n);return new f(e.clone(c),e.clone(n))};return f}(),x=function(){function f(c,a,b){this.startRenderSpace=c;this.endRenderSpace=
a;this.renderSpatialReference=b;this.type="geodesic";this._start=e.create();this._end=e.create();this._pcpf=y.getSphericalPCPF(b);this._project=p.canProjectWithoutEngine(b,this._pcpf);this._projectIn(c,this._start);this._projectIn(a,this._end)}var g=f.prototype;g._projectIn=function(c,a){this._project?p.projectVectorToVector(c,this.renderSpatialReference,a,this._pcpf):d.copy(a,c)};g.eval=function(c,a,b){if(this._project)if(b){const k=u;v.slerpTangent(this._start,this._end,c,a,k);d.add(r,a,k);p.projectVectorToVector(a,
this._pcpf,a,this.renderSpatialReference);p.projectVectorToVector(r,this._pcpf,r,this.renderSpatialReference);d.subtract(b,r,a);d.normalize(b,b)}else v.slerp(this._start,this._end,c,a),p.projectVectorToVector(a,this._pcpf,a,this.renderSpatialReference);else d.lerp(a,this._start,this._end,c),b&&(d.subtract(b,this._end,this._start),d.normalize(b,b));return a};g.createRenderGeometry=function(c,a){const b=[],k=[];for(let q=0;128>q;++q){const l=n;var m=u;this.eval(q/127,l);a.worldUpAtPosition(l,m);{const h=
r;d.subtract(h,l,c);b.push([h[0],h[1],h[2]]);k.push([m[0],m[1],m[2]])}}return{points:b,normals:k}};return f}();const n=e.create(),u=e.create(),r=e.create();t.EuclideanSegment=w;t.GeodesicSegment=x;t.createSegment=function(f,g,c,a){switch(f){case "euclidean":return new w(g,c);case "geodesic":return new x(g,c,a)}};Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});