// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/vec3f64 ../../../../geometry/support/aaBoundingBox ../../../../chunks/sphere ../../layers/i3s/Intersector ../../terrain/Intersector ./intersectorUtils ./lodRendering/Intersector".split(" "),function(f,d,r,t,u,v,g,m,e,n){function p(a,b){return d.isNone(a)?null:e.isObjectIntersectorResult(a)||e.isHudIntersectorResult(a)?q(a.target.object.metadata,b):g.isPclIntersectorResult(a)?(a=a.target.createGraphic(),{type:"graphic",
graphic:a,layer:a.layer}):m.isOverlayIntersectorResult(a)||n.isLodIntersectorResult(a)?q(a.target,b):g.isI3sIntersectorResult(a)?w(a.target,b):null}function q(a,b){if(d.isNone(a)||d.isNone(a.graphicUid))return null;const c=h(a,b);if(d.isNone(c))return null;if(c===b.graphics)return d.isNone(b.graphicsView)||"number"!==typeof a.graphicUid?null:b.graphicsView.getHit(a.graphicUid);b=b.allLayerViews.find(k=>k.layer===c);return!b||b.suspended||d.isNone(a.graphicUid)?null:"getHit"in b?b.getHit(a.graphicUid):
null}function w(a,b){const c=h(a,b);return d.isNone(c)?null:(b=b.allLayerViews.find(k=>k.layer===c))&&!b.suspended&&"getGraphicFromIntersectorTarget"in b?x(b.getGraphicFromIntersectorTarget(a)):null}function y(a,b){const c=h(a,b);return d.isNone(c)?null:(b=b.allLayerViews.find(k=>k.layer===c))&&!b.suspended&&"getAABBFromIntersectorTarget"in b?b.getAABBFromIntersectorTarget(a):null}function x(a){return d.isSome(a)?{type:"graphic",graphic:a,layer:a.layer}:null}function h(a,b){return d.isNone(a.layerUid)?
null:d.isSome(b.graphicsView)&&a.layerUid===b.graphicsView.processor.layer.id?b.graphics:b.map.findLayerByUid(a.layerUid)}const l=t.create();f.getIntersectedFeatureBSRadius=function(a,b){return e.isObjectIntersectorResult(a)||e.isHudIntersectorResult(a)?v.getRadius(a.target.object.boundingVolumeWorldSpace.bounds):n.isLodIntersectorResult(a)?(r.getScaling(l,a.transformation),a.target.baseBoundingSphere.radius*Math.max(l[0],l[1],l[2])):g.isI3sIntersectorResult(a)?d.applySome(y(a.target,b),c=>.5*u.diameter(c)):
null};f.hasLod=function(a){return e.isObjectIntersectorResult(a)||e.isHudIntersectorResult(a)?!1:n.isLodIntersectorResult(a)?1<a.target.numLodLevels:g.isI3sIntersectorResult(a)?!0:!1};f.toGraphic=function(a,b){a=p(a,b);return d.isSome(a)&&"graphic"===a.type?a.graphic:null};f.toHit=p;f.toOwner=function(a,b){if(e.isObjectIntersectorResult(a)||e.isHudIntersectorResult(a))return h(a.target.object.metadata,b);if(m.isTerrainIntersectorResult(a)){var c;return null==(c=b.map)?void 0:c.ground}return g.isPclIntersectorResult(a)||
g.isI3sIntersectorResult(a)||m.isOverlayIntersectorResult(a)?h(a.target,b):null};Object.defineProperties(f,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});