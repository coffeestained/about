// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec2f32 ../../../../chunks/vec2f64 ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutputOptions ../core/shaderLibrary/hud/HUD.glsl ../lib/GLMaterial ../lib/Material ../lib/RenderSlot ../lib/VertexAttribute ./internal/bufferWriterUtils ../shaders/LineCalloutTechnique ../shaders/LineCalloutTechniqueConfiguration".split(" "),function(l,h,p,g,v,w,x,q,y,r,m,d,n,z,A){let D=function(e){function c(b){b=
e.call(this,b,new t)||this;b.techniqueConfig=new A.LineCalloutTechniqueConfiguration;b._uniqueMaterialIdentifier=c.uniqueMaterialIdentifier(b.parameters);return b}h._inheritsLoose(c,e);var a=c.prototype;a.getPassParameters=function(){return this.parameters};a.getConfiguration=function(b,f){b=(null==f?void 0:f.slot)!==m.RenderSlot.LINE_CALLOUTS;this.techniqueConfig.occlusionTestEnabled=this.parameters.occlusionTest;this.techniqueConfig.hasVerticalOffset=p.isSome(this.parameters.verticalOffset);this.techniqueConfig.hasScreenSizePerspective=
p.isSome(this.parameters.screenSizePerspective);this.techniqueConfig.depthHudEnabled=b;this.techniqueConfig.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart;this.techniqueConfig.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits?q.HUDSpace.Screen:q.HUDSpace.World;this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane;this.techniqueConfig.hasMultipassGeometry=f?f.multipassGeometry.enabled:!1;return this.techniqueConfig};a.intersect=function(){};a.requiresSlot=
function(b){switch(b){case m.RenderSlot.LINE_CALLOUTS:case m.RenderSlot.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1};a.createGLMaterial=function(b){return b.output===x.ShaderOutput.Color?new B(b):null};a.createBufferWriter=function(){return new C};a.validateParameters=function(b){b=c.uniqueMaterialIdentifier(b);b!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=b)};c.uniqueMaterialIdentifier=function(b){return JSON.stringify({screenOffset:b.screenOffset||[0,0],centerOffsetUnits:b.centerOffsetUnits||
"world"})};h._createClass(c,[{key:"uniqueMaterialIdentifier",get:function(){return this._uniqueMaterialIdentifier}}]);return c}(r.Material),B=function(e){function c(){return e.apply(this,arguments)||this}h._inheritsLoose(c,e);c.prototype.beginSlot=function(a){return this.ensureTechnique(z.LineCalloutTechnique,a)};return c}(y),t=function(e){function c(){var a=e.apply(this,arguments)||this;a.screenOffset=v.ZEROS;a.color=[0,0,0,1];a.size=1;a.occlusionTest=!1;a.shaderPolygonOffset=1E-5;a.depthHUDAlignStart=
!1;a.centerOffsetUnits="world";a.hasSlicePlane=!1;return a}h._inheritsLoose(c,e);return c}(r.MaterialParameters);const E=w.newLayout().vec3f(d.VertexAttribute.POSITION).vec3f(d.VertexAttribute.NORMAL).vec2f(d.VertexAttribute.UV0).vec4f(d.VertexAttribute.AUXPOS1),u=[g.fromValues(0,0),g.fromValues(1,0),g.fromValues(0,1),g.fromValues(1,0),g.fromValues(1,1),g.fromValues(0,1)];let C=function(){function e(){this.vertexBufferLayout=E}var c=e.prototype;c.allocate=function(a){return this.vertexBufferLayout.createBuffer(a)};
c.elementCount=function(a){return 6*a.indices.get(d.VertexAttribute.POSITION).length};c.write=function(a,b,f,k){n.writePosition(b.indices.get(d.VertexAttribute.POSITION),b.vertexAttributes.get(d.VertexAttribute.POSITION).data,a.transformation,f.position,k,6);n.writeNormal(b.indices.get(d.VertexAttribute.NORMAL),b.vertexAttributes.get(d.VertexAttribute.NORMAL).data,a.invTranspTransformation,f.normal,k,6);n.writeBufferVec4(b.indices.get(d.VertexAttribute.AUXPOS1),b.vertexAttributes.get(d.VertexAttribute.AUXPOS1).data,
f.auxpos1,k,6);for(a=0;a<u.length;++a)f.uv0.setVec(k+a,u[a])};return e}();l.LineCalloutMaterial=D;l.Parameters=t;Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});