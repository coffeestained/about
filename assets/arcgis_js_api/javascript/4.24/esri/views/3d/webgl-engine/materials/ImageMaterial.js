// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderLibrary/ShaderOutputOptions ../lib/basicInterfaces ../lib/GLMaterials ../lib/GLTextureMaterial ../lib/Material ../lib/OrderIndependentTransparency ../lib/RenderSlot ./internal/DefaultBufferWriter ./internal/MaterialUtil ../shaders/ImageMaterialTechnique".split(" "),function(h,k,f,q,r,t,l,u,g,m,v,n){let B=function(d){function c(a){a=d.call(this,a,new p)||this;a.supportsEdges=!0;a.techniqueConfig=new n.ImageMaterialTechniqueConfiguration;
return a}k._inheritsLoose(c,d);var b=c.prototype;b.getConfiguration=function(a,e){this.techniqueConfig.output=a;this.techniqueConfig.cullFace=this.parameters.cullFace;this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane;this.techniqueConfig.transparent=this.parameters.transparent;this.techniqueConfig.writeDepth=this.parameters.writeDepth;this.techniqueConfig.hasOccludees=this.parameters.hasOccludees;this.techniqueConfig.transparencyPassType=e.transparencyPassType;this.techniqueConfig.enableOffset=
e.camera.relativeElevation<u.OITPolygonOffsetLimit;this.techniqueConfig.hasMultipassTerrain=e.multipassTerrain.enabled;this.techniqueConfig.cullAboveGround=e.multipassTerrain.cullAboveGround;return this.techniqueConfig};b.intersect=function(a,e,C,w,x,y,z){v.intersectTriangleGeometry(a,e,w,x,y,void 0,z)};b.requiresSlot=function(a,e){return a===g.RenderSlot.DRAPED_MATERIAL?!0:r.outputFromPass(e)===f.ShaderOutput.Highlight?a===g.RenderSlot.OPAQUE_MATERIAL:a===(this.parameters.transparent?this.parameters.writeDepth?
g.RenderSlot.TRANSPARENT_MATERIAL:g.RenderSlot.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:g.RenderSlot.OPAQUE_MATERIAL)};b.createGLMaterial=function(a){return a.output===f.ShaderOutput.Color||a.output===f.ShaderOutput.Alpha||a.output===f.ShaderOutput.Highlight?new A(a):void 0};b.createBufferWriter=function(){return new m.DefaultBufferWriter(m.PositionUVLayout)};return c}(l.Material),A=function(d){function c(a){return d.call(this,{...a,...a.material.parameters})||this}k._inheritsLoose(c,d);var b=c.prototype;
b._updateParameters=function(a){this.updateTexture(this._material.parameters.textureId);this._material.setParameters(this.textureBindParameters);return this.ensureTechnique(n.ImageMaterialTechnique,a)};b._updateOccludeeState=function(a){a.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:a.hasOccludees}),this._updateParameters(a))};b.beginSlot=function(a){this._output!==f.ShaderOutput.Color&&this._output!==f.ShaderOutput.Alpha||this._updateOccludeeState(a);
return this._updateParameters(a)};return c}(t.GLTextureMaterial),p=function(d){function c(){var b=d.apply(this,arguments)||this;b.transparent=!1;b.writeDepth=!0;b.hasSlicePlane=!1;b.cullFace=q.CullFaceOptions.None;b.hasOccludees=!1;b.opacity=1;b.textureId=null;b.initTextureTransparent=!0;return b}k._inheritsLoose(c,d);return c}(l.MaterialParameters);h.ImageMaterial=B;h.Parameters=p;Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});