// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/mat3f64 ../../../../chunks/vec3f64 ../../../../chunks/vec4f64 ../../../ViewingMode ../core/shaderLibrary/ShaderOutputOptions ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl ../core/shaderLibrary/attributes/VertexNormal.glsl ../core/shaderLibrary/util/AlphaCutoff ../core/shaderLibrary/util/DoublePrecision.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/basicInterfaces ../lib/DefaultVertexAttributeLocations ../lib/Material ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../../../../chunks/DefaultMaterial.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(y,k,q,z,h,A,B,u,v,l,C,D,E,m,g,F,G,n,H,r,I,w,p){let J=function(f){function e(){var a=f.apply(this,arguments)||this;a.isSchematic=!1;a.usePBR=!1;a.mrrFactors=h.fromValues(0,1,.5);a.hasVertexColors=!1;a.hasSymbolColors=!1;a.doubleSided=!1;a.doubleSidedType="normal";a.cullFace=g.CullFaceOptions.Back;a.emissiveFactor=h.fromValues(0,0,0);a.instancedDoublePrecision=!1;a.normals="default";a.receiveSSAO=!0;a.receiveShadows=!0;a.castShadows=!0;a.shadowMappingEnabled=!1;a.ambient=h.fromValues(.2,.2,
.2);a.diffuse=h.fromValues(.8,.8,.8);a.externalColor=A.fromValues(1,1,1,1);a.colorMixMode="multiply";a.opacity=1;a.layerOpacity=1;a.origin=h.create();a.hasSlicePlane=!1;a.hasSliceHighlight=!0;a.offsetTransparentBackfaces=!1;a.vvSizeEnabled=!1;a.vvSizeMinSize=[1,1,1];a.vvSizeMaxSize=[100,100,100];a.vvSizeOffset=[0,0,0];a.vvSizeFactor=[1,1,1];a.vvSizeValue=[1,1,1];a.vvColorEnabled=!1;a.vvColorValues=[0,0,0,0,0,0,0,0];a.vvColorColors=[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0];
a.vvSymbolAnchor=[0,0,0];a.vvSymbolRotationMatrix=z.create();a.vvOpacityEnabled=!1;a.vvOpacityValues=[];a.vvOpacityOpacities=[];a.transparent=!1;a.writeDepth=!0;a.customDepthTest=g.DepthTestFunction.Less;a.textureAlphaMode=g.AlphaDiscardMode.Blend;a.textureAlphaCutoff=C.defaultMaskAlphaCutoff;a.textureAlphaPremultiplied=!1;a.hasOccludees=!1;a.renderOccluded=G.RenderOccludedFlag.Occlude;return a}q._inheritsLoose(e,f);return e}(l.VertexNormalPassParameters);l=function(f){function e(){var a=f.apply(this,
arguments)||this;a.origin=h.create();a.slicePlaneLocalOrigin=a.origin;return a}q._inheritsLoose(e,f);return e}(l.VertexNormalDrawParameters);m=function(f){function e(){return f.apply(this,arguments)||this}q._inheritsLoose(e,f);var a=e.prototype;a.initializeConfiguration=function(c,b){b.spherical=c.viewingMode===B.ViewingMode.Global;b.doublePrecisionRequiresObfuscation=D.doublePrecisionRequiresObfuscation(c.rctx);b.textureCoordinateType=b.hasColorTexture||b.hasMetalnessAndRoughnessTexture||b.hasEmissionTexture||
b.hasOcclusionTexture||b.hasNormalTexture?v.TextureCoordinateAttributeType.Default:v.TextureCoordinateAttributeType.None};a.initializeProgram=function(c){return this._initializeProgram(c,e.shader)};a._initializeProgram=function(c,b){b=b.get().build(this.configuration);return new H.Program(c.rctx,b,F.Default3D)};a._convertDepthTestFunction=function(c){return c===g.DepthTestFunction.Lequal?w.CompareFunction.LEQUAL:w.CompareFunction.LESS};a._setPipeline=function(c,b){const d=this.configuration,t=c===
g.TransparencyPassType.NONE,x=c===g.TransparencyPassType.FrontFace;return p.makePipelineState({blending:d.output!==u.ShaderOutput.Color&&d.output!==u.ShaderOutput.Alpha||!d.transparent?null:t?n.blendingDefault:n.oitBlending(c),culling:(d.cullFace!==g.CullFaceOptions.None?!0:d.hasSlicePlane?!1:!d.transparent&&!d.doubleSidedMode)&&p.cullingParams(d.cullFace),depthTest:{func:n.oitDepthTest(c,this._convertDepthTestFunction(d.customDepthTest))},depthWrite:t||x?d.writeDepth&&p.defaultDepthWriteParams:null,
colorWrite:p.defaultColorWriteParams,stencilWrite:d.hasOccludees?r.stencilWriteMaskOn:null,stencilTest:d.hasOccludees?b?r.stencilToolMaskBaseParams:r.stencilBaseAllZerosParams:null,polygonOffset:t||x?null:n.getOITPolygonOffset(d.enableOffset)})};a.initializePipeline=function(){this._occludeePipelineState=this._setPipeline(this.configuration.transparencyPassType,!0);return this._setPipeline(this.configuration.transparencyPassType,!1)};a.getPipelineState=function(c,b){return b?this._occludeePipelineState:
f.prototype.getPipelineState.call(this,c,b)};return e}(m.ShaderTechnique);m.shader=new E.ReloadableShaderModule(I.DefaultMaterial,()=>new Promise((f,e)=>y(["./DefaultMaterial.glsl"],f,e)));k.DefaultMaterialDrawParameters=l;k.DefaultMaterialPassParameters=J;k.DefaultMaterialTechnique=m;Object.defineProperties(k,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});