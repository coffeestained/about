// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderLibrary/ShaderOutputOptions ../core/shaderModules/interfaces ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/basicInterfaces ../lib/DefaultVertexAttributeLocations ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../materials/DefaultTechniqueConfiguration ../../../../chunks/ImageMaterial.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),
function(y,n,t,e,p,u,b,q,f,k,z,r,A,v,B,C,x,m){u=function(d){function c(){return d.apply(this,arguments)||this}t._inheritsLoose(c,d);return c}(u.NoParameters);q=function(d){function c(){return d.apply(this,arguments)||this}t._inheritsLoose(c,d);var a=c.prototype;a.initializeProgram=function(g){const l=c.shader.get().build(this.configuration);return new A.Program(g.rctx,l,z.Default3D)};a._setPipelineState=function(g,l){const h=this.configuration,w=g===k.TransparencyPassType.NONE,D=g===k.TransparencyPassType.FrontFace;
return m.makePipelineState({blending:h.output!==p.ShaderOutput.Color&&h.output!==p.ShaderOutput.Alpha||!h.transparent?null:w?E:r.oitBlending(g),culling:m.cullingParams(h.cullFace),depthTest:{func:r.oitDepthTest(g)},depthWrite:w?h.writeDepth&&m.defaultDepthWriteParams:r.oitDepthWrite(g),colorWrite:m.defaultColorWriteParams,stencilWrite:h.hasOccludees?v.stencilWriteMaskOn:null,stencilTest:h.hasOccludees?l?v.stencilToolMaskBaseParams:v.stencilBaseAllZerosParams:null,polygonOffset:w||D?null:r.getOITPolygonOffset(h.enableOffset)})};
a.initializePipeline=function(){this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0);return this._setPipelineState(this.configuration.transparencyPassType,!1)};a.getPipelineState=function(g,l){return l?this._occludeePipelineState:d.prototype.getPipelineState.call(this,g,l)};return c}(q.ShaderTechnique);q.shader=new b.ReloadableShaderModule(C.ImageMaterial,()=>new Promise((d,c)=>y(["./ImageMaterial.glsl"],d,c)));const E=m.simpleBlendingParams(x.BlendFactor.ONE,
x.BlendFactor.ONE_MINUS_SRC_ALPHA);b=function(d){function c(){var a=d.apply(this,arguments)||this;a.output=p.ShaderOutput.Color;a.cullFace=k.CullFaceOptions.None;a.hasSlicePlane=!1;a.transparent=!1;a.enableOffset=!0;a.writeDepth=!0;a.hasOccludees=!1;a.transparencyPassType=k.TransparencyPassType.NONE;a.hasMultipassTerrain=!1;a.cullAboveGround=!1;return a}t._inheritsLoose(c,d);return c}(B.DefaultTechniqueConfiguration);e.__decorate([f.parameter({count:p.ShaderOutput.COUNT})],b.prototype,"output",void 0);
e.__decorate([f.parameter({count:k.CullFaceOptions.COUNT})],b.prototype,"cullFace",void 0);e.__decorate([f.parameter()],b.prototype,"hasSlicePlane",void 0);e.__decorate([f.parameter()],b.prototype,"transparent",void 0);e.__decorate([f.parameter()],b.prototype,"enableOffset",void 0);e.__decorate([f.parameter()],b.prototype,"writeDepth",void 0);e.__decorate([f.parameter()],b.prototype,"hasOccludees",void 0);e.__decorate([f.parameter({count:k.TransparencyPassType.COUNT})],b.prototype,"transparencyPassType",
void 0);e.__decorate([f.parameter()],b.prototype,"hasMultipassTerrain",void 0);e.__decorate([f.parameter()],b.prototype,"cullAboveGround",void 0);n.ImageMaterialPassParameters=u;n.ImageMaterialTechnique=q;n.ImageMaterialTechniqueConfiguration=b;Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});