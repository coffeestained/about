// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../core/compilerUtils ../../../core/maybe ../../../core/uid ../../../geometry/SpatialReference ../../../geometry/support/zscale ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field".split(" "),function(c,E,B,y,D,N,L,O,H){function q(v,F){return F}function t(v,F,d,k){switch(d){case 0:return r(v,F+k,0);case 1:return"lowerLeft"===v.originPosition?
r(v,F+k,1):a(v,F+k,1)}}function J(v,F,d,k){switch(d){case 2:return r(v,F,2);default:return t(v,F,d,k)}}function P(v,F,d,k){switch(d){case 2:return r(v,F,3);default:return t(v,F,d,k)}}function f(v,F,d,k){switch(d){case 3:return r(v,F,3);default:return J(v,F,d,k)}}function r({translate:v,scale:F},d,k){return v[k]+d*F[k]}function a({translate:v,scale:F},d,k){return v[k]-d*F[k]}let g=function(){function v(d){this.options=d;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=
[0,0];this.transform=null;this.applyTransform=q;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this._attributesConstructor=()=>{}}var F=v.prototype;F.createFeatureResult=function(){return new L.DehydratedFeatureSetClass};F.finishFeatureResult=function(d){this.options.applyTransform&&(d.transform=null);this._attributesConstructor=()=>{};this.coordinateBuffer=null;this.lengths.length=0;if(d.hasZ){var k=N.getGeometryZScaler(d.geometryType,
this.options.sourceSpatialReference,d.spatialReference);if(!B.isNone(k))for(const C of d.features)k(C.geometry)}};F.createSpatialReference=function(){return new D};F.addField=function(d,k){d.fields.push(H.fromJSON(k));const C=d.fields.map(T=>T.name);this._attributesConstructor=function(){for(const T of C)this[T]=null}};F.addFeature=function(d,k){const C=this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<C)for(const T in k.attributes){const V=k.attributes[T];"string"===
typeof V&&V.length>C&&(k.attributes[T]="")}d.features.push(k)};F.addQueryGeometry=function(d,k){const {queryGeometry:C,queryGeometryType:T}=k;k=O.unquantizeOptimizedGeometry(C.clone(),C,!1,!1,this.transform);k=O.convertToGeometry(k,T,!1,!1);let V=null;switch(T){case "esriGeometryPoint":V="point";break;case "esriGeometryPolygon":V="polygon";break;case "esriGeometryPolyline":V="polyline";break;case "esriGeometryMultipoint":V="multipoint"}k.type=V;d.queryGeometryType=T;d.queryGeometry=k};F.prepareFeatures=
function(d){this.transform=d.transform;this.options.applyTransform&&d.transform&&(this.applyTransform=this._deriveApplyTransform(d));this.vertexDimension=2;d.hasZ&&this.vertexDimension++;d.hasM&&this.vertexDimension++;switch(d.geometryType){case "point":this.addCoordinate=(k,C,T)=>this.addCoordinatePoint(k,C,T);this.createGeometry=k=>this.createPointGeometry(k);break;case "polygon":this.addCoordinate=(k,C,T)=>this._addCoordinatePolygon(k,C,T);this.createGeometry=k=>this._createPolygonGeometry(k);
break;case "polyline":this.addCoordinate=(k,C,T)=>this._addCoordinatePolyline(k,C,T);this.createGeometry=k=>this._createPolylineGeometry(k);break;case "multipoint":this.addCoordinate=(k,C,T)=>this._addCoordinateMultipoint(k,C,T);this.createGeometry=k=>this._createMultipointGeometry(k);break;case "mesh":case "extent":break;default:E.neverReached(d.geometryType)}};F.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;return new L.DehydratedFeatureClass(y.generateUID(),
null,new this._attributesConstructor)};F.allocateCoordinates=function(){const d=this.lengths.reduce((k,C)=>k+C,0);this.coordinateBuffer=new Float64Array(d*this.vertexDimension);this.coordinateBufferPtr=0};F.addLength=function(d,k,C){0===this.lengths.length&&(this.toAddInCurrentPath=k);this.lengths.push(k)};F.createPointGeometry=function(d){d={type:"point",x:0,y:0,spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM};d.hasZ&&(d.z=0);d.hasM&&(d.m=0);return d};F.addCoordinatePoint=function(d,
k,C){k=this.applyTransform(this.transform,k,C,0);switch(C){case 0:d.x=k;break;case 1:d.y=k;break;case 2:d.hasZ?d.z=k:d.m=k;break;case 3:d.m=k}};F._transformPathLikeValue=function(d,k){let C=0;1>=k&&(C=this.previousCoordinate[k],this.previousCoordinate[k]+=d);return this.applyTransform(this.transform,d,k,C)};F._addCoordinatePolyline=function(d,k,C){this._dehydratedAddPointsCoordinate(d.paths,k,C)};F._addCoordinatePolygon=function(d,k,C){this._dehydratedAddPointsCoordinate(d.rings,k,C)};F._addCoordinateMultipoint=
function(d,k,C){0===C&&d.points.push([]);k=this._transformPathLikeValue(k,C);d.points[d.points.length-1].push(k)};F._createPolygonGeometry=function(d){return{type:"polygon",rings:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};F._createPolylineGeometry=function(d){return{type:"polyline",paths:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};F._createMultipointGeometry=function(d){return{type:"multipoint",points:[],spatialReference:d.spatialReference,hasZ:!!d.hasZ,
hasM:!!d.hasM}};F._dehydratedAddPointsCoordinate=function(d,k,C){0===C&&0===this.toAddInCurrentPath--&&(d.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);k=this._transformPathLikeValue(k,C);d=d[d.length-1];0===C&&d.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=k};F._deriveApplyTransform=
function(d){const {hasZ:k,hasM:C}=d;return k&&C?f:k?J:C?P:t};return v}();c.DehydratedFeatureSetParserContext=g;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(c,E){c.neverReached=function(B){};c.neverReachedSilent=function(B){};c.tuple=(...B)=>B;c.typeCast=function(B){return()=>B};Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/zscale":function(){define(["exports",
"../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(c,E,B,y){c.getGeometryZScaler=function(D,N,L){if(E.isNone(N)||E.isNone(L)||L.vcsWkid||y.equals(N,L))return null;N=B.getMetersPerVerticalUnitForSR(N);L=B.getMetersPerVerticalUnitForSR(L);const O=N/L;if(1===O)return null;switch(D){case "point":case "esriGeometryPoint":return H=>{H&&null!=H.z&&(H.z*=O)};case "polyline":case "esriGeometryPolyline":return H=>{if(H)for(const q of H.paths)for(const t of q)2<t.length&&(t[2]*=O)};
case "polygon":case "esriGeometryPolygon":return H=>{if(H)for(const q of H.rings)for(const t of q)2<t.length&&(t[2]*=O)};case "multipoint":case "esriGeometryMultipoint":return H=>{if(H)for(const q of H.points)2<q.length&&(q[2]*=O)};case "extent":case "esriGeometryExtent":return H=>{H&&null!=H.zmin&&null!=H.zmax&&(H.zmin*=O,H.zmax*=O)};default:return null}};Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ./maybe ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(c,E,B,y,D,N,L,O,H){function q(x){x=ea[x];if(!x)throw Error("unknown type");return x}function t(x){return ca[x].baseUnit}function J(x,Q=null){Q=Q||q(x);return ca[Q].baseUnit===x}function P(x,Q,W){if(Q===W)return x;const Y=q(Q);if(Y!==q(W))throw Error("incompatible units");x=J(Q,Y)?x:x*ca[Y].units[Q].inBaseUnits;return J(W,Y)?x:x/ca[Y].units[W].inBaseUnits}function f(x,Q){x=P(x,Q,"meters");return 3E3>Math.abs(x)?"meters":"kilometers"}function r(x,Q){x=P(x,Q,"meters");return 1E5>Math.abs(x)?
"meters":"kilometers"}function a(x,Q){x=P(x,Q,"feet");return 1E3>Math.abs(x)?"feet":"miles"}function g(x,Q){x=P(x,Q,"feet");return 1E5>Math.abs(x)?"feet":"miles"}function v(x,Q){x=P(x,Q,"square-meters");return 3E6>Math.abs(x)?"square-meters":"square-kilometers"}function F(x,Q){x=P(x,Q,"square-feet");return 1E6>Math.abs(x)?"square-feet":"square-miles"}function d(x){return Z.fromJSON(x.toLowerCase())||null}function k(x){const Q=C(x),W=x instanceof N?D.getReferenceEllipsoid(x).metersPerDegree:1E5;return Q>=
W?"meters":m(x)}function C(x,Q=L.earth.metersPerDegree){return y.unwrapOr(T(x,!0),Q)}function T(x,Q=!1){let W,Y,ha=null;null!=x&&("object"===typeof x?(W=x.wkid,Y=x.wkt):"number"===typeof x?W=x:"string"===typeof x&&(Y=x));if(W){if(O.isWKIDFromMars(W))return L.mars.metersPerDegree;if(O.isWKIDFromMoon(W))return L.moon.metersPerDegree;ha=u.values[u[W]];!ha&&Q&&R.has(W)&&(ha=h)}else Y&&(/^PROJCS/i.test(Y)?ha=V(p.exec(Y),ha):/^GEOCCS/i.test(Y)&&(ha=V(M.exec(Y),ha)));return ha}function V(x,Q){return x&&
x[1]?parseFloat(x[1].split(",")[1]):Q}function m(x){var Q=null;if(null!=x)if("object"===typeof x){var W=x.wkid;var Y=x.wkt}else"number"===typeof x?W=x:"string"===typeof x&&(Y=x);if(W)Q=u.units[u[W]];else if(Y&&(x=/^PROJCS/i.test(Y)?p:/^GEOCCS/i.test(Y)?M:null)&&(Y=x.exec(Y))&&Y[1]&&(Y=Y[1],Q=(Q=/[\\"\\']{1}([^\\"\\']+)/.exec(Y))&&Q[1],!Q||!u.units.includes(Q)))for(Y=parseFloat(Y.split(",")[1]),Q=null,x=u.values,W=0;W<x.length;++W)if(1E-7>Math.abs(Y-x[W])){Q=u.units[W];break}return y.isSome(Q)?d(Q):
null}function z(x){x=m(x);if(y.isNone(x))return null;switch(x){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null}const h=L.earth.radius*Math.PI/200,p=/UNIT\[([^\]]+)\]\]$/i,u=H,
M=/UNIT\[([^\]]+)\]/i,R=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),Z=B.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",
"50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});E={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};H={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(x=>x*x)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const ca={length:{baseUnit:"meters",units:E},area:{baseUnit:"square-meters",units:H},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},
"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},ea=(()=>{const x={};for(const Q in ca)for(const W in ca[Q].units)x[W]=
Q;return x})(),fa="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),ja=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]),ma={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",
esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},oa={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};E=B.strict()(ma);H=B.strict()(oa);B=B.strict()({...ma,...oa});c.areaUnitFromSpatialReference=function(x){x=m(x);return y.isNone(x)?null:ja.get(x)};
c.areaUnitsJSONMap=E;c.baseUnitForUnit=function(x){return t(q(x))};c.baseUnitForUnitType=t;c.convertUnit=P;c.getDefaultUnitForView=function(x){var Q;if(y.isNone(x))return"metric";var W=x.map;if(W=W&&"portalItem"in W?null==(Q=W.portalItem)?void 0:Q.portal:null){var Y,ha;switch(null!=(Y=null==W?void 0:null==(ha=W.user)?void 0:ha.units)?Y:W.units){case "metric":return"metric";case "english":return"imperial"}}return y.unwrapOr(z(x.spatialReference),"metric")};c.getDefaultUnitSystem=z;c.getMetersPerUnit=
T;c.getMetersPerUnitForSR=C;c.getMetersPerVerticalUnitForSR=function(x){if(x&&"object"===typeof x&&!O.isEarth(x))return 1;x=C(x);return 1E5<x?1:x};c.getUnitString=m;c.getVerticalUnitStringForSR=k;c.inchesPerMeter=39.37;c.isBaseUnit=J;c.isMeasurementSystem=function(x){return"imperial"===x||"metric"===x};c.lengthToDegrees=function(x,Q,W){return P(x,Q,"meters")/(W*Math.PI/180)};c.lengthUnitFromSpatialReference=function(x){x=m(x);return y.isNone(x)||!fa.includes(x)?null:x};c.lengthUnitsJSONMap=H;c.measurementAreaUnits=
"metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");c.measurementLengthUnits=fa;c.preferredAreaUnit=function(x,Q,W){switch(W){case "metric":return v(x,Q);case "imperial":return F(x,Q);default:return W}};c.preferredImperialAreaUnit=F;c.preferredImperialLengthUnit=a;c.preferredImperialVerticalLengthUnit=g;c.preferredLengthUnit=function(x,Q,W){switch(W){case "metric":return f(x,Q);case "imperial":return a(x,
Q);default:return W}};c.preferredMetricAreaUnit=v;c.preferredMetricLengthUnit=f;c.preferredMetricVerticalLengthUnit=r;c.preferredVerticalLengthUnit=function(x,Q,W){switch(W){case "metric":return r(x,Q);case "imperial":return g(x,Q);default:return W}};c.unitFromRESTJSON=d;c.unitToRESTJSON=function(x){return Z.toJSON(x)||null};c.unitType=q;c.unitsJSONMap=B;c.verticalLengthUnitFromSpatialReference=function(x){x=k(x);return y.isNone(x)||!fa.includes(x)?null:x};Object.defineProperties(c,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],function(c,E,B,y){function D(q){return new E({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${q.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}
const N=D(B.earth),L=D(B.mars),O=D(B.moon),H=new E({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${B.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});c.SphericalECEFSpatialReference=N;c.SphericalPCPFMars=
L;c.SphericalPCPFMoon=O;c.WGS84ECEFSpatialReference=H;c.createSphericalPCPF=D;c.getReferenceEllipsoid=function(q){return q&&(y.isMars(q)||q===L)?B.mars:q&&(y.isMoon(q)||q===O)?B.moon:B.earth};c.getReferenceEllipsoidFromWKID=function(q){return y.isWKIDFromMars(q)?B.mars:y.isWKIDFromMoon(q)?B.moon:B.earth};c.getSphericalPCPF=function(q){return q&&(y.isMars(q)||q===L)?L:q&&(y.isMoon(q)||q===O)?O:N};c.getSphericalPCPFForEllipsoid=function(q){return q&&q===B.mars?L:q&&q===B.moon?O:N};Object.defineProperties(c,
{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/byteSizeEstimations ../../core/has ../../core/maybe ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),function(c,E,B,y,D,N,L,
O,H,q,t,J,P){function f(d,k,C){if(y.isNone(d))return null;switch(k){case "point":return{x:d.x,y:d.y,z:d.z,m:d.m,hasZ:null!=d.z,hasM:null!=d.m,type:"point",spatialReference:C};case "polyline":return{paths:d.paths,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"polyline",spatialReference:C};case "polygon":return{rings:d.rings,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"polygon",spatialReference:C};case "multipoint":return{points:d.points,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"multipoint",spatialReference:C}}}function r(d){if(y.isNone(d))return 0;
let k=32;switch(d.type){case "point":k+=42;break;case "polyline":case "polygon":{var C=0;const T=2+(d.hasZ?1:0)+(d.hasM?1:0);d="polyline"===d.type?d.paths:d.rings;for(const V of d)C+=V.length;k+=8*C*T+64;k+=128*C;k=k+34+32*(d.length+1);break}case "multipoint":C=d.points.length;k+=8*C*(2+(d.hasZ?1:0)+(d.hasM?1:0))+64;k+=128*C;k=k+34+32;break;case "extent":k+=98;d.hasM&&(k+=32);d.hasZ&&(k+=32);break;case "mesh":k+=D.estimateSize(d.vertexAttributes.position),k+=D.estimateSize(d.vertexAttributes.normal),
k+=D.estimateSize(d.vertexAttributes.uv),k+=D.estimateSize(d.vertexAttributes.tangent)}return k}function a(d,k){O.empty(k);"mesh"===d.type&&(d=d.extent);switch(d.type){case "point":k[0]=k[3]=d.x;k[1]=k[4]=d.y;d.hasZ&&(k[2]=k[5]=d.z);break;case "polyline":for(var C=0;C<d.paths.length;C++)O.expandWithNestedArray(k,d.paths[C],d.hasZ);break;case "polygon":for(C=0;C<d.rings.length;C++)O.expandWithNestedArray(k,d.rings[C],d.hasZ);break;case "multipoint":O.expandWithNestedArray(k,d.points,d.hasZ);break;
case "extent":k[0]=d.xmin,k[1]=d.ymin,k[3]=d.xmax,k[4]=d.ymax,null!=d.zmin&&(k[2]=d.zmin),null!=d.zmax&&(k[5]=d.zmax)}}function g(d,k){H.empty(k);"mesh"===d.type&&(d=d.extent);switch(d.type){case "point":k[0]=k[2]=d.x;k[1]=k[3]=d.y;break;case "polyline":for(var C=0;C<d.paths.length;C++)H.expandWithNestedArray(k,d.paths[C]);break;case "polygon":for(C=0;C<d.rings.length;C++)H.expandWithNestedArray(k,d.rings[C]);break;case "multipoint":H.expandWithNestedArray(k,d.points);break;case "extent":k[0]=d.xmin,
k[1]=d.ymin,k[2]=d.xmax,k[3]=d.ymax}}const v=O.create(),F=H.create();c.equals=P.equals;c.DehydratedFeatureClass=function(d,k,C){this.uid=d;this.geometry=k;this.attributes=C;this.visible=!0;this.centroid=this.objectId=null};c.DehydratedFeatureSetClass=function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null};c.computeAABB=
a;c.computeAABR=g;c.estimateGeometryObjectSize=r;c.estimateSize=function(d){let k;k=32+E.estimateAttributesObjectSize(d.attributes);return k=k+3+(8+r(d.geometry))};c.expandAABB=function(d,k){a(d,v);O.expandWithAABB(k,v)};c.expandAABR=function(d,k){y.isSome(d)&&(g(d,F),H.expand(k,F,k))};c.fromFeatureSetJSON=function(d){const k=t.featureGeometryTypeKebabDictionary.fromJSON(d.geometryType),C=L.fromJSON(d.spatialReference),T=d.transform,V=d.features.map(m=>{var z=d.objectIdFieldName;m={uid:N.generateUID(),
objectId:z&&m.attributes?m.attributes[z]:null,attributes:m.attributes,geometry:f(m.geometry,k,C),visible:!0};z=m.geometry;if(y.isSome(z)&&T)switch(z.type){case "point":m.geometry=q.unquantizePoint(T,z,z,z.hasZ,z.hasM);break;case "multipoint":m.geometry=q.unquantizeMultipoint(T,z,z,z.hasZ,z.hasM);break;case "polygon":m.geometry=q.unquantizePolygon(T,z,z,z.hasZ,z.hasM);break;case "polyline":m.geometry=q.unquantizePolyline(T,z,z,z.hasZ,z.hasM);break;case "extent":m.geometry=z;break;case "mesh":m.geometry=
z}return m});return{geometryType:k,features:V,spatialReference:C,fields:d.fields?d.fields.map(m=>J.fromJSON(m)):null,objectIdFieldName:d.objectIdFieldName,globalIdFieldName:d.globalIdFieldName,geohashFieldName:d.geohashFieldName,geometryProperties:d.geometryProperties,hasZ:d.hasZ,hasM:d.hasM,exceededTransferLimit:d.exceededTransferLimit,transform:null}};c.fromJSONGeometry=f;c.getObjectId=function(d,k){return null!=d.objectId?d.objectId:d.attributes&&k?d.attributes[k]:null};c.hasGeometry=function(d){return y.isSome(d.geometry)};
c.hasVertices=function(d){if(y.isNone(d))return!1;switch(d.type){case "extent":case "point":return!0;case "polyline":for(const k of d.paths)if(0<k.length)return!0;return!1;case "polygon":for(const k of d.rings)if(0<k.length)return!0;return!1;case "multipoint":return 0<d.points.length;case "mesh":return!d.loaded||0<d.vertexAttributes.position.length}};c.isFeatureGeometry=function(d){return t.isFeatureGeometryType(d.type)};c.makeDehydratedPoint=function(d,k,C,T){return{x:d,y:k,z:C,hasZ:null!=C,hasM:!1,
spatialReference:T,type:"point"}};c.numVertices=function(d){if(y.isNone(d))return 0;switch(d.type){case "point":return 1;case "polyline":var k=0;for(var C of d.paths)k+=C.length;return k;case "polygon":C=0;for(k of d.rings)C+=k.length;return C;case "multipoint":return d.points.length;case "extent":return 2;case "mesh":return(d=d.vertexAttributes&&d.vertexAttributes.position)?d.length/3:0}};Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/byteSizeEstimations":function(){define(["exports"],
function(c){function E(B){return 32+B.length}c.ByteSizeUnit=void 0;(function(B){B[B.KILOBYTES=1024]="KILOBYTES";B[B.MEGABYTES=1048576]="MEGABYTES";B[B.GIGABYTES=1073741824]="GIGABYTES"})(c.ByteSizeUnit||(c.ByteSizeUnit={}));c.estimateAttributesObjectSize=function(B){if(!B)return 0;let y=32;for(const D in B)if(B.hasOwnProperty(D)){const N=B[D];switch(typeof N){case "string":y+=E(N);break;case "number":y+=16;break;case "boolean":y+=4}}return y};c.estimateFixedArraySize=function(B,y){return 32+B.length*
y};c.estimateNumberByteSize=function(){return 16};c.estimateStringByteSize=E;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(c,E,B,y){function D(a=f){return[a[0],a[1],a[2],a[3],a[4],a[5]]}function N(a,g,v,F,d,k,C=D()){C[0]=a;C[1]=g;C[2]=v;C[3]=F;C[4]=d;C[5]=k;return C}function L(a){return a[0]>=a[3]?0:a[3]-a[0]}function O(a){return a[1]>=
a[4]?0:a[4]-a[1]}function H(a){return a[2]>=a[5]?0:a[5]-a[2]}function q(a,g){return Math.max(g[0],a[0])<=Math.min(g[3],a[3])&&Math.max(g[1],a[1])<=Math.min(g[4],a[4])&&Math.max(g[2],a[2])<=Math.min(g[5],a[5])}function t(a,g){a[0]=g[0];a[1]=g[1];a[2]=g[2];a[3]=g[3];a[4]=g[4];a[5]=g[5];return a}function J(a){return 6===a.length}const P=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],f=[0,0,0,0,0,0],r=D();c.NEGATIVE_INFINITY=P;c.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,
Infinity];c.ZERO=f;c.allFinite=function(a){for(let g=0;6>g;g++)if(!isFinite(a[g]))return!1;return!0};c.center=function(a,g=[0,0,0]){g[0]=a[0]+L(a)/2;g[1]=a[1]+O(a)/2;g[2]=a[2]+H(a)/2;return g};c.contains=function(a,g){return g[0]>=a[0]&&g[1]>=a[1]&&g[2]>=a[2]&&g[3]<=a[3]&&g[4]<=a[4]&&g[5]<=a[5]};c.containsPoint=function(a,g){return g[0]>=a[0]&&g[1]>=a[1]&&g[2]>=a[2]&&g[0]<=a[3]&&g[1]<=a[4]&&g[2]<=a[5]};c.containsPointWithMargin=function(a,g,v){return g[0]>=a[0]-v&&g[1]>=a[1]-v&&g[2]>=a[2]-v&&g[0]<=
a[3]+v&&g[1]<=a[4]+v&&g[2]<=a[5]+v};c.create=D;c.depth=O;c.diameter=function(a){const g=L(a),v=H(a);a=O(a);return Math.sqrt(g*g+v*v+a*a)};c.empty=function(a){return a?t(a,P):D(P)};c.equals=function(a,g,v){if(E.isNone(a)||E.isNone(g))return a===g;if(!J(a)||!J(g))return!1;if(v)for(let F=0;F<a.length;F++){if(!v(a[F],g[F]))return!1}else for(v=0;v<a.length;v++)if(a[v]!==g[v])return!1;return!0};c.expandWithAABB=function(a,g){a[0]=Math.min(a[0],g[0]);a[1]=Math.min(a[1],g[1]);a[2]=Math.min(a[2],g[2]);a[3]=
Math.max(a[3],g[3]);a[4]=Math.max(a[4],g[4]);a[5]=Math.max(a[5],g[5])};c.expandWithBuffer=function(a,g,v=0,F=g.length/3){let d=a[0],k=a[1],C=a[2],T=a[3],V=a[4],m=a[5];for(let z=0;z<F;z++)d=Math.min(d,g[v+3*z]),k=Math.min(k,g[v+3*z+1]),C=Math.min(C,g[v+3*z+2]),T=Math.max(T,g[v+3*z]),V=Math.max(V,g[v+3*z+1]),m=Math.max(m,g[v+3*z+2]);a[0]=d;a[1]=k;a[2]=C;a[3]=T;a[4]=V;a[5]=m};c.expandWithNestedArray=function(a,g,v){const F=g.length;let d=a[0],k=a[1],C=a[2],T=a[3],V=a[4],m=a[5];if(v)for(v=0;v<F;v++){var z=
g[v];d=Math.min(d,z[0]);k=Math.min(k,z[1]);C=Math.min(C,z[2]);T=Math.max(T,z[0]);V=Math.max(V,z[1]);m=Math.max(m,z[2])}else for(v=0;v<F;v++)z=g[v],d=Math.min(d,z[0]),k=Math.min(k,z[1]),T=Math.max(T,z[0]),V=Math.max(V,z[1]);a[0]=d;a[1]=k;a[2]=C;a[3]=T;a[4]=V;a[5]=m};c.expandWithOffset=function(a,g,v,F){a[0]=Math.min(a[0],a[0]+g);a[3]=Math.max(a[3],a[3]+g);a[1]=Math.min(a[1],a[1]+v);a[4]=Math.max(a[4],a[4]+v);a[2]=Math.min(a[2],a[2]+F);a[5]=Math.max(a[5],a[5]+F)};c.expandWithRect=function(a,g){a[0]=
Math.min(a[0],g[0]);a[1]=Math.min(a[1],g[1]);a[3]=Math.max(a[3],g[2]);a[4]=Math.max(a[4],g[3])};c.expandWithVec3=function(a,g){a[0]=Math.min(a[0],g[0]);a[1]=Math.min(a[1],g[1]);a[2]=Math.min(a[2],g[2]);a[3]=Math.max(a[3],g[0]);a[4]=Math.max(a[4],g[1]);a[5]=Math.max(a[5],g[2])};c.fromExtent=function(a,g=D()){g[0]=a.xmin;g[1]=a.ymin;g[2]=a.zmin;g[3]=a.xmax;g[4]=a.ymax;g[5]=a.zmax;return g};c.fromMinMax=function(a,g,v=D()){v[0]=a[0];v[1]=a[1];v[2]=a[2];v[3]=g[0];v[4]=g[1];v[5]=g[2];return v};c.fromRect=
function(a,g){a[0]=g[0];a[1]=g[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=g[2];a[4]=g[3];a[5]=Number.POSITIVE_INFINITY;return a};c.fromValues=N;c.getMax=function(a,g){g[0]=a[3];g[1]=a[4];g[2]=a[5];return g};c.getMin=function(a,g){g[0]=a[0];g[1]=a[1];g[2]=a[2];return g};c.height=H;c.intersects=q;c.intersectsClippingArea=function(a,g){return E.isNone(g)?!0:q(a,g)};c.is=J;c.isPoint=function(a){return 0===L(a)&&0===O(a)&&0===H(a)};c.maximumDimension=function(a){return Math.max(L(a),H(a),O(a))};c.offset=function(a,
g,v,F,d=a){d[0]=a[0]+g;d[1]=a[1]+v;d[2]=a[2]+F;d[3]=a[3]+g;d[4]=a[4]+v;d[5]=a[5]+F;return d};c.scale=function(a,g,v=a){const F=a[0]+L(a)/2,d=a[1]+O(a)/2,k=a[2]+H(a)/2;v[0]=F+(a[0]-F)*g;v[1]=d+(a[1]-d)*g;v[2]=k+(a[2]-k)*g;v[3]=F+(a[3]-F)*g;v[4]=d+(a[4]-d)*g;v[5]=k+(a[5]-k)*g;return v};c.set=t;c.setMax=function(a,g,v=a){v[3]=g[0];v[4]=g[1];v[5]=g[2];v!==a&&(v[0]=a[0],v[1]=a[1],v[2]=a[2]);return a};c.setMin=function(a,g,v=a){v[0]=g[0];v[1]=g[1];v[2]=g[2];v!==a&&(v[3]=a[3],v[4]=a[4],v[5]=a[5]);return v};
c.size=function(a,g=[0,0,0]){g[0]=L(a);g[1]=O(a);g[2]=H(a);return g};c.toExtent=function(a,g){return isFinite(a[2])||isFinite(a[5])?new B({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:g}):new B({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:g})};c.toRect=function(a,g){g||(g=y.create());g[0]=a[0];g[1]=a[1];g[2]=a[3];g[3]=a[4];return g};c.width=L;c.wrap=function(a,g,v,F,d,k){return N(a,g,v,F,d,k,r)};Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(c,E,B,y,D){function N(f=P){return[f[0],f[1],f[2],f[3]]}function L(f,r){f!==r&&(f[0]=r[0],f[1]=r[1],f[2]=r[2],f[3]=r[3]);return f}function O(f){return y.isNone(f)||f[0]>=f[2]?0:f[2]-f[0]}function H(f){return f[1]>=f[3]?0:f[3]-f[1]}function q(f,r,a){return r>=f[0]&&a>=f[1]&&r<=f[2]&&a<=f[3]}function t(f){return null!=f&&4===f.length}const J=[Infinity,Infinity,
-Infinity,-Infinity],P=[0,0,0,0];c.NEGATIVE_INFINITY=J;c.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];c.UNIT=[0,0,1,1];c.ZERO=P;c.allFinite=function(f){for(let r=0;4>r;r++)if(!isFinite(f[r]))return!1;return!0};c.area=function(f){return O(f)*H(f)};c.center=function(f,r=[0,0]){r[0]=(f[0]+f[2])/2;r[1]=(f[1]+f[3])/2;return r};c.clone=function(f){return[f[0],f[1],f[2],f[3]]};c.contains=function(f,r){return r[0]>=f[0]&&r[2]<=f[2]&&r[1]>=f[1]&&r[3]<=f[3]};c.containsPoint=function(f,r){return q(f,
r[0],r[1])};c.containsPointObject=function(f,r){return q(f,r.x,r.y)};c.containsPointWithMargin=function(f,r,a){return r[0]>=f[0]-a&&r[1]>=f[1]-a&&r[0]<=f[2]+a&&r[1]<=f[3]+a};c.containsXY=q;c.containsXYWithMargin=function(f,r,a,g){return r>=f[0]-g&&a>=f[1]-g&&r<=f[2]+g&&a<=f[3]+g};c.copy=L;c.create=N;c.distance=function(f,r){const a=(f[1]+f[3])/2,g=Math.max(Math.abs(r[0]-(f[0]+f[2])/2)-O(f)/2,0);f=Math.max(Math.abs(r[1]-a)-H(f)/2,0);return Math.sqrt(g*g+f*f)};c.empty=function(f){return f?L(f,J):N(J)};
c.equals=function(f,r){return t(f)&&t(r)?f[0]===r[0]&&f[1]===r[1]&&f[2]===r[2]&&f[3]===r[3]:f===r};c.expand=function(f,r,a){if(y.isNone(r))L(a,f);else if("length"in r)if(t(r))a[0]=Math.min(f[0],r[0]),a[1]=Math.min(f[1],r[1]),a[2]=Math.max(f[2],r[2]),a[3]=Math.max(f[3],r[3]);else{if(2===r.length||3===r.length)a[0]=Math.min(f[0],r[0]),a[1]=Math.min(f[1],r[1]),a[2]=Math.max(f[2],r[0]),a[3]=Math.max(f[3],r[1])}else switch(r.type){case "extent":a[0]=Math.min(f[0],r.xmin);a[1]=Math.min(f[1],r.ymin);a[2]=
Math.max(f[2],r.xmax);a[3]=Math.max(f[3],r.ymax);break;case "point":a[0]=Math.min(f[0],r.x),a[1]=Math.min(f[1],r.y),a[2]=Math.max(f[2],r.x),a[3]=Math.max(f[3],r.y)}};c.expandPointInPlace=function(f,r){r[0]<f[0]&&(f[0]=r[0]);r[0]>f[2]&&(f[2]=r[0]);r[1]<f[1]&&(f[1]=r[1]);r[1]>f[3]&&(f[3]=r[1])};c.expandWithNestedArray=function(f,r,a=f){const g=r.length;let v=f[0],F=f[1],d=f[2];f=f[3];for(let k=0;k<g;k++){const C=r[k];v=Math.min(v,C[0]);F=Math.min(F,C[1]);d=Math.max(d,C[0]);f=Math.max(f,C[1])}a[0]=v;
a[1]=F;a[2]=d;a[3]=f;return a};c.fromExtent=function(f,r=N()){r[0]=f.xmin;r[1]=f.ymin;r[2]=f.xmax;r[3]=f.ymax;return r};c.fromValues=function(f,r,a,g,v=N()){v[0]=f;v[1]=r;v[2]=a;v[3]=g;return v};c.height=H;c.intersection=function(f,r,a){if(y.isNone(r))return L(a,f);const g=r[0],v=r[1],F=r[2];r=r[3];a[0]=B.clamp(f[0],g,F);a[1]=B.clamp(f[1],v,r);a[2]=B.clamp(f[2],g,F);a[3]=B.clamp(f[3],v,r);return a};c.intersects=function(f,r){return Math.max(r[0],f[0])<=Math.min(r[2],f[2])&&Math.max(r[1],f[1])<=Math.min(r[3],
f[3])};c.intersectsSegment=function(f,r,a){const g=f[0],v=f[1],F=f[2];f=f[3];const {x:d,y:k}=r,{x:C,y:T}=a;var V=(z,h)=>0>(T-k)*z+(d-C)*h+(C*k-d*T);r=V(g,f);a=V(F,f);const m=V(F,v);V=V(g,v);return r===a&&a===m&&m===V&&V===r||d<g&&C<g||d>F&&C>F||k>f&&T>f||k<v&&T<v?!1:!0};c.intersectsSphere=function(f,r){const a=r[3];var g=Math.abs(r[0]-.5*(f[0]+f[2]));const v=.5*(f[2]-f[0]);if(g>a+v)return!1;var F=.5*(f[3]-f[1]);f=Math.abs(r[1]-.5*(f[1]+f[3]));if(f>a+F)return!1;if(g<v||f<F)return!0;g-=v;F=f-F;return g*
g+F*F<=a*a};c.is=t;c.isPoint=function(f){return(0===O(f)||!isFinite(f[0]))&&(0===H(f)||!isFinite(f[1]))};c.offset=function(f,r,a,g=f){g[0]=f[0]+r;g[1]=f[1]+a;g[2]=f[2]+r;g[3]=f[3]+a;return g};c.pad=function(f,r,a=f){a[0]=f[0]-r;a[1]=f[1]-r;a[2]=f[2]+r;a[3]=f[3]+r;return a};c.setMax=function(f,r,a=f){a[2]=r[0];a[3]=r[1];a!==f&&(a[0]=f[0],a[1]=f[1]);return f};c.setMin=function(f,r,a=f){a[0]=r[0];a[1]=r[1];a!==f&&(a[2]=f[2],a[3]=f[3]);return a};c.size=function(f,r){r[0]=f[2]-f[0];r[1]=f[3]-f[1]};c.toExtent=
function(f,r){return new D({xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3],spatialReference:r})};c.width=O;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","../../core/maybe","./jsonUtils"],function(c,E,B){function y({scale:h,translate:p},u){return Math.round((u-p[0])/h[0])}function D({scale:h,translate:p},u){return Math.round((p[1]-u)/h[1])}function N(h,p,u){const M=[];let R,Z,ca,ea;for(let fa=
0;fa<u.length;fa++){const ja=u[fa];if(0<fa){if(ca=y(h,ja[0]),ea=D(h,ja[1]),ca!==R||ea!==Z)M.push(p(ja,ca-R,ea-Z)),R=ca,Z=ea}else R=y(h,ja[0]),Z=D(h,ja[1]),M.push(p(ja,R,Z))}return 0<M.length?M:null}function L(h,p,u,M){return N(h,u?M?z:m:M?m:V,p)}function O(h,p,u,M){const R=[];u=u?M?z:m:M?m:V;for(M=0;M<p.length;M++){const Z=N(h,u,p[M]);Z&&3<=Z.length&&R.push(Z)}return R.length?R:null}function H(h,p,u,M){const R=[];u=u?M?z:m:M?m:V;for(M=0;M<p.length;M++){const Z=N(h,u,p[M]);Z&&2<=Z.length&&R.push(Z)}return R.length?
R:null}function q({scale:h,translate:p},u){return u*h[0]+p[0]}function t({scale:h,translate:p},u){return p[1]-u*h[1]}function J(h,p,u){const M=Array(u.length);if(!u.length)return M;const [R,Z]=h.scale;let ca=q(h,u[0][0]);h=t(h,u[0][1]);M[0]=p(u[0],ca,h);for(let ea=1;ea<u.length;ea++){const fa=u[ea];ca+=fa[0]*R;h-=fa[1]*Z;M[ea]=p(fa,ca,h)}return M}function P(h,p,u){const M=Array(u.length);for(let R=0;R<u.length;R++)M[R]=J(h,p,u[R]);return M}function f(h,p,u,M){return J(h,u?M?z:m:M?m:V,p)}function r(h,
p,u,M){return P(h,u?M?z:m:M?m:V,p)}function a(h,p,u,M){return P(h,u?M?z:m:M?m:V,p)}function g(h,p,u){let [M,R]=u[0],Z=Math.min(M,p[0]),ca=Math.min(R,p[1]),ea=Math.max(M,p[2]);p=Math.max(R,p[3]);for(let fa=1;fa<u.length;fa++){const [ja,ma]=u[fa];M+=ja;R+=ma;0>ja&&(Z=Math.min(Z,M));0<ja&&(ea=Math.max(ea,M));0>ma?ca=Math.min(ca,R):0<ma&&(p=Math.max(p,R))}h[0]=Z;h[1]=ca;h[2]=ea;h[3]=p;return h}function v(h,p){if(!p.length)return null;h[0]=h[1]=Number.POSITIVE_INFINITY;h[2]=h[3]=Number.NEGATIVE_INFINITY;
for(let u=0;u<p.length;u++)g(h,h,p[u]);return h}function F(h,p,u,M,R){p.xmin=y(h,u.xmin);p.ymin=D(h,u.ymin);p.xmax=y(h,u.xmax);p.ymax=D(h,u.ymax);p!==u&&(M&&(p.zmin=u.zmin,p.zmax=u.zmax),R&&(p.mmin=u.mmin,p.mmax=u.mmax));return p}function d(h,p,u,M,R){p.points=L(h,u.points,M,R);return p}function k(h,p,u,M,R){p.x=y(h,u.x);p.y=D(h,u.y);p!==u&&(M&&(p.z=u.z),R&&(p.m=u.m));return p}function C(h,p,u,M,R){h=O(h,u.rings,M,R);if(!h)return null;p.rings=h;return p}function T(h,p,u,M,R){h=H(h,u.paths,M,R);if(!h)return null;
p.paths=h;return p}const V=(h,p,u)=>[p,u],m=(h,p,u)=>[p,u,h[2]],z=(h,p,u)=>[p,u,h[2],h[3]];c.equals=function(h,p){if(h===p||null==h&&null==p)return!0;if(null==h||null==p)return!1;let u,M,R,Z;h&&"upperLeft"===h.originPosition?(u=h.translate[0],M=h.translate[1],h=h.scale[0]):(u=E.isSome(h.extent)?h.extent.xmin:0,M=E.isSome(h.extent)?h.extent.ymax:0,h=h.tolerance);p&&"upperLeft"===p.originPosition?(R=p.translate[0],Z=p.translate[1],p=p.scale[0]):(R=E.isSome(p.extent)?p.extent.xmin:0,Z=E.isSome(p.extent)?
p.extent.ymax:0,p=p.tolerance);return u===R&&M===Z&&h===p};c.getQuantizedBoundsCoordsArray=g;c.getQuantizedBoundsCoordsArrayArray=v;c.getQuantizedBoundsPaths=function(h){return v([0,0,0,0],h)};c.getQuantizedBoundsPoints=function(h){const p=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return g(p,p,h)};c.getQuantizedBoundsRings=function(h){return v([0,0,0,0],h)};c.quantizeBounds=function(h,p,u){p[0]=y(h,u[0]);p[3]=D(h,u[1]);p[2]=y(h,u[2]);p[1]=
D(h,u[3]);return p};c.quantizeExtent=F;c.quantizeGeometry=function(h,p){return h&&p?B.isPoint(p)?k(h,{},p,!1,!1):B.isPolyline(p)?T(h,{},p,!1,!1):B.isPolygon(p)?C(h,{},p,!1,!1):B.isMultipoint(p)?d(h,{},p,!1,!1):B.isExtent(p)?F(h,{},p,!1,!1):null:null};c.quantizeMultipoint=d;c.quantizePaths=H;c.quantizePoint=k;c.quantizePoints=L;c.quantizePolygon=C;c.quantizePolyline=T;c.quantizeRings=O;c.quantizeX=y;c.quantizeY=D;c.toQuantizationTransform=function(h){return h?{originPosition:"upper-left"===h.originPosition?
"upperLeft":"lower-left"===h.originPosition?"lowerLeft":h.originPosition,scale:h.tolerance?[h.tolerance,h.tolerance]:[1,1],translate:E.isSome(h.extent)?[h.extent.xmin,h.extent.ymax]:[0,0]}:null};c.unquantizeBounds=function(h,p,u){return u?(p[0]=q(h,u[0]),p[1]=t(h,u[3]),p[2]=q(h,u[2]),p[3]=t(h,u[1]),p):[q(h,p[0]),t(h,p[3]),q(h,p[2]),t(h,p[1])]};c.unquantizeCoordsArray=J;c.unquantizeCoordsArrayArray=P;c.unquantizeExtent=function(h,p,u,M,R){p.xmin=q(h,u.xmin);p.ymin=t(h,u.ymin);p.xmax=q(h,u.xmax);p.ymax=
t(h,u.ymax);p!==u&&(M&&(p.zmin=u.zmin,p.zmax=u.zmax),R&&(p.mmin=u.mmin,p.mmax=u.mmax));return p};c.unquantizeMultipoint=function(h,p,u,M,R){E.isSome(u)&&(p.points=f(h,u.points,M,R));return p};c.unquantizePaths=r;c.unquantizePoint=function(h,p,u,M,R){if(E.isNone(u))return p;p.x=q(h,u.x);p.y=t(h,u.y);p!==u&&(M&&(p.z=u.z),R&&(p.m=u.m));return p};c.unquantizePoints=f;c.unquantizePolygon=function(h,p,u,M,R){E.isSome(u)&&(p.rings=a(h,u.rings,M,R));return p};c.unquantizePolyline=function(h,p,u,M,R){E.isSome(u)&&
(p.paths=r(h,u.paths,M,R));return p};c.unquantizeRings=a;c.unquantizeX=q;c.unquantizeY=t;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(c,E,B,y,D,N,L,O,H,q,t,J,P){var f;const r=new B.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});B=f=function(a){function g(F){F=a.call(this,F)||this;
F.alias=null;F.defaultValue=void 0;F.description=null;F.domain=null;F.editable=!0;F.length=-1;F.name=null;F.nullable=!0;F.type=null;F.valueType=null;return F}c._inheritsLoose(g,a);var v=g.prototype;v.readDescription=function(F,{description:d}){let k;try{k=JSON.parse(d)}catch(C){}return k?k.value:null};v.readValueType=function(F,{description:d}){let k;try{k=JSON.parse(d)}catch(C){}return k?r.fromJSON(k.fieldValueType):null};v.clone=function(){return new f({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return g}(y.JSONSupport);E.__decorate([D.property({type:String,json:{write:!0}})],B.prototype,"alias",void 0);E.__decorate([D.property({type:[String,Number],json:{write:{allowNull:!0}}})],B.prototype,"defaultValue",void 0);E.__decorate([D.property()],B.prototype,"description",void 0);E.__decorate([q.reader("description")],
B.prototype,"readDescription",null);E.__decorate([D.property({types:J.types,json:{read:{reader:J.fromJSON},write:!0}})],B.prototype,"domain",void 0);E.__decorate([D.property({type:Boolean,json:{write:!0}})],B.prototype,"editable",void 0);E.__decorate([D.property({type:O.Integer,json:{write:!0}})],B.prototype,"length",void 0);E.__decorate([D.property({type:String,json:{write:!0}})],B.prototype,"name",void 0);E.__decorate([D.property({type:Boolean,json:{write:!0}})],B.prototype,"nullable",void 0);E.__decorate([H.enumeration(P.kebabDict)],
B.prototype,"type",void 0);E.__decorate([D.property()],B.prototype,"valueType",void 0);E.__decorate([q.reader("valueType",["description"])],B.prototype,"readValueType",null);return B=f=E.__decorate([t.subclass("esri.layers.support.Field")],B)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(c,E,B){c.enumeration=function(y,D={}){var N;y=y instanceof E.JSONMap?y:new E.JSONMap(y,D);y={type:(null!=(N=null==D?void 0:D.ignoreUnknown)?
N:1)?y.apiValues:String,json:{type:y.jsonValues,read:null!=D&&D.readOnly?!1:{reader:y.read},write:{writer:y.write}}};void 0!==(null==D?void 0:D.readOnly)&&(y.readOnly=!!D.readOnly);void 0!==(null==D?void 0:D.default)&&(y.json.default=D.default);void 0!==(null==D?void 0:D.name)&&(y.json.name=D.name);return B.property(y)};Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(c,E,B,y,D,N){E={key:"type",base:y,typeMap:{range:N,"coded-value":B,inherited:D}};c.CodedValueDomain=B;c.DomainBase=y;c.InheritedDomain=D;c.RangeDomain=N;c.fromJSON=function(L){if(!L||!L.type)return null;switch(L.type){case "range":return N.fromJSON(L);case "codedValue":return B.fromJSON(L);case "inherited":return D.fromJSON(L)}return null};c.types=E;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(c,E,B,y,D,N,L,O,H){var q;D=q=function(t){function J(f){f=t.call(this,f)||this;f.codedValues=null;f.type="coded-value";return f}c._inheritsLoose(J,t);var P=J.prototype;P.getName=function(f){let r=null;if(this.codedValues){const a=String(f);this.codedValues.some(g=>{String(g.code)===a&&(r=g.name);return!!r})}return r};P.clone=function(){return new q({codedValues:B.clone(this.codedValues),name:this.name})};return J}(H);E.__decorate([y.property({type:[O.CodedValue],json:{write:!0}})],D.prototype,
"codedValues",void 0);E.__decorate([N.enumeration({codedValue:"coded-value"})],D.prototype,"type",void 0);return D=q=E.__decorate([L.subclass("esri.layers.support.CodedValueDomain")],D)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,E,B,y,D,N,L,O,H){var q;c.CodedValue=q=function(t){function J(P){P=t.call(this,P)||this;P.name=null;P.code=null;return P}E._inheritsLoose(J,t);J.prototype.clone=function(){return new q({name:this.name,code:this.code})};return J}(y.JSONSupport);B.__decorate([D.property({type:String,json:{write:!0}})],c.CodedValue.prototype,"name",void 0);B.__decorate([D.property({type:[String,Number],json:{write:!0}})],c.CodedValue.prototype,"code",void 0);c.CodedValue=q=B.__decorate([H.subclass("esri.layers.support.CodedValue")],
c.CodedValue);Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(c,E,
B,y,D,N,L,O,H,q){B=new B.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});y=function(t){function J(P){P=t.call(this,P)||this;P.name=null;P.type=null;return P}c._inheritsLoose(J,t);return J}(y.JSONSupport);E.__decorate([D.property({type:String,json:{write:!0}})],y.prototype,"name",void 0);E.__decorate([H.enumeration(B)],y.prototype,"type",void 0);return y=E.__decorate([q.subclass("esri.layers.support.Domain")],y)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,E,B,y,D,N,L,O,H,q){var t;B=t=function(J){function P(f){f=J.call(this,f)||this;f.type="inherited";return f}c._inheritsLoose(P,J);P.prototype.clone=function(){return new t};return P}(q);E.__decorate([O.enumeration({inherited:"inherited"})],B.prototype,"type",void 0);return B=t=E.__decorate([H.subclass("esri.layers.support.InheritedDomain")],B)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,E,B,y,D,N,L,O,H){var q;y=q=function(t){function J(P){P=t.call(this,P)||this;P.maxValue=null;P.minValue=null;P.type="range";return P}c._inheritsLoose(J,t);J.prototype.clone=function(){return new q({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return J}(H);E.__decorate([B.property({type:Number,json:{type:[Number],read:{source:"range",reader(t,J){return J.range&&J.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(t,J,P){J[P]=[this.minValue||0,t]}}}})],y.prototype,"maxValue",void 0);E.__decorate([B.property({type:Number,json:{type:[Number],read:{source:"range",reader(t,J){return J.range&&J.range[0]}},write:{target:"range",writer(t,J,P){J[P]=[t,this.maxValue||0]}}}})],y.prototype,"minValue",void 0);E.__decorate([L.enumeration({range:"range"})],y.prototype,"type",void 0);return y=q=E.__decorate([O.subclass("esri.layers.support.RangeDomain")],y)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(c,E){E=new E.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});c.kebabDict=E;Object.defineProperties(c,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../core/maybe"],function(c,E,B){function y(q,t){if(q===t)return!0;if(null==q||null==t||q.length!==t.length)return!1;for(let J=0;J<q.length;J++){const P=q[J],f=t[J];if(P.length!==f.length)return!1;for(let r=0;r<P.length;r++)if(P[r]!==f[r])return!1}return!0}function D(q,t){if(q===t)return!0;if(null==q||null==t||q.length!==t.length)return!1;for(let J=0;J<q.length;J++)if(!y(q[J],
t[J]))return!1;return!0}function N(q,t){return L(q.spatialReference,t.spatialReference)?q.x===t.x&&q.y===t.y&&q.z===t.z&&q.m===t.m:!1}function L(q,t){return q===t||q&&t&&q.equals(t)}function O(q,t){if(q===t)return!0;if(B.isNone(q)||B.isNone(t)||q.type!==t.type)return!1;switch(q.type){case "point":return N(q,t);case "extent":return q=q.hasZ!==t.hasZ||q.hasM!==t.hasM?!1:L(q.spatialReference,t.spatialReference)?q.xmin===t.xmin&&q.ymin===t.ymin&&q.zmin===t.zmin&&q.xmax===t.xmax&&q.ymax===t.ymax&&q.zmax===
t.zmax:!1,q;case "polyline":return q=q.hasZ!==t.hasZ||q.hasM!==t.hasM?!1:L(q.spatialReference,t.spatialReference)?D(q.paths,t.paths):!1,q;case "polygon":return q=q.hasZ!==t.hasZ||q.hasM!==t.hasM?!1:L(q.spatialReference,t.spatialReference)?D(q.rings,t.rings):!1,q;case "multipoint":return q=q.hasZ!==t.hasZ||q.hasM!==t.hasM?!1:L(q.spatialReference,t.spatialReference)?y(q.points,t.points):!1,q;case "mesh":return!1}}function H(q,t){if(q===t)return!0;if(!q||!t)return!1;const J=Object.keys(q),P=Object.keys(t);
if(J.length!==P.length)return!1;for(const f of J)if(q[f]!==t[f])return!1;return!0}c.equals=function(q,t){return q===t?!0:null!=q&&null!=t&&q.objectId===t.objectId&&O(q.geometry,t.geometry)&&H(q.attributes,t.attributes)?!0:!1};c.pointEquals=N;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(c,E,B,y,D,N,L,O){function H(b,e){return b?e?4:3:e?3:2}function q(b,e,n,l){if(b){if(n)return e&&l?ta:ra;if(e&&l)return va}else if(e&&l)return ra;return ua}function t({scale:b,translate:e},n){return Math.round((n-e[0])/b[0])}function J({scale:b,translate:e},n){return Math.round((e[1]-n)/b[1])}function P({scale:b,translate:e},n){return n*b[0]+e[0]}function f({scale:b,translate:e},n){return e[1]-n*b[1]}function r(b){b=b.coords;return{x:b[0],y:b[1]}}function a(b,e){b.coords[0]=e.x;b.coords[1]=
e.y;return b}function g(b){b=b.coords;return{x:b[0],y:b[1],z:b[2]}}function v(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.z;return b}function F(b){b=b.coords;return{x:b[0],y:b[1],m:b[2]}}function d(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.m;return b}function k(b){b=b.coords;return{x:b[0],y:b[1],z:b[2],m:b[3]}}function C(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.z;b.coords[3]=e.m;return b}function T(b,e){return b&&e?C:b?v:e?d:a}function V(b,e,n,l,A){n=T(n,l);for(const w of e){const {geometry:I,
attributes:G}=w;let K;I&&(K=n(new O,I));b.push(new N.OptimizedFeature(K,G,null,G[A]))}return b}function m(b,e,n,l){for(const A of e){const {geometry:w,attributes:I}=A;let G;w&&(G=z(w,n,l));b.push({attributes:I,geometry:G})}return b}function z(b,e,n){if(y.isNone(b))return null;const l=H(e,n),A=[];for(let w=0;w<b.coords.length;w+=l){const I=[];for(let G=0;G<l;G++)I.push(b.coords[w+G]);A.push(I)}return e?n?{points:A,hasZ:e,hasM:n}:{points:A,hasZ:e}:n?{points:A,hasM:n}:{points:A}}function h(b,e,n,l,A){n=
H(n,l);for(const w of e){e=w.geometry;l=w.attributes;let I;e&&(I=p(new O,e,n));b.push(new N.OptimizedFeature(I,l,null,l[A]))}return b}function p(b,e,n=H(e.hasZ,e.hasM)){b.lengths[0]=e.points.length;const l=b.coords;let A=0;for(const w of e.points)for(e=0;e<n;e++)l[A++]=w[e];return b}function u(b,e,n){if(!b)return null;const l=H(e,n),{coords:A,lengths:w}=b;b=[];let I=0;for(const G of w){const K=[];for(let S=0;S<G;S++){const U=[];for(let X=0;X<l;X++)U.push(A[I++]);K.push(U)}b.push(K)}return e?n?{paths:b,
hasZ:e,hasM:n}:{paths:b,hasZ:e}:n?{paths:b,hasM:n}:{paths:b}}function M(b,e,n,l,A){n=H(n,l);for(const w of e){e=w.geometry;l=w.attributes;let I;e&&(I=R(new O,e,n));b.push(new N.OptimizedFeature(I,l,null,l[A]))}return b}function R(b,e,n=H(e.hasZ,e.hasM)){const {lengths:l,coords:A}=b;let w=0;for(const I of e.paths){for(const G of I)for(e=0;e<n;e++)A[w++]=G[e];l.push(I.length)}return b}function Z(b,e,n){if(!b)return null;const l=H(e,n),{coords:A,lengths:w}=b;b=[];let I=0;for(const G of w){const K=[];
for(let S=0;S<G;S++){const U=[];for(let X=0;X<l;X++)U.push(A[I++]);K.push(U)}b.push(K)}return e?n?{rings:b,hasZ:e,hasM:n}:{rings:b,hasZ:e}:n?{rings:b,hasM:n}:{rings:b}}function ca(b,e,n,l,A){for(const w of e){e=w.geometry;const I=w.centroid,G=w.attributes;let K;e&&(K=ea(new O,e,n,l));y.isSome(I)?b.push(new N.OptimizedFeature(K,G,a(new O,I),G[A])):b.push(new N.OptimizedFeature(K,G,null,G[A]))}return b}function ea(b,e,n=e.hasZ,l=e.hasM){fa(b,e.rings,n,l);return b}function fa(b,e,n,l){n=H(n,l);const {lengths:A,
coords:w}=b;l=0;A.length=w.length=0;for(const I of e){for(const G of I)for(e=0;e<n;e++)w[l++]=G[e];A.push(I.length)}return b}function ja(b,e,n,l,A,w){b.length=0;if(!n){for(const I of e)b.push(new N.OptimizedFeature(null,I.attributes,null,I.attributes[w]));return b}switch(n){case "esriGeometryPoint":return V(b,e,l,A,w);case "esriGeometryMultipoint":return h(b,e,l,A,w);case "esriGeometryPolyline":return M(b,e,l,A,w);case "esriGeometryPolygon":return ca(b,e,l,A,w);default:ha.error("convertToFeatureSet:unknown-geometry",
new E(`Unable to parse unknown geometry type '${n}'`)),b.length=0}return b}function ma(b,e,n,l){b=b&&("coords"in b?b:b.geometry);if(y.isNone(b))return null;switch(e){case "esriGeometryPoint":return e=r,n&&l?e=k:n?e=g:l&&(e=F),e(b);case "esriGeometryMultipoint":return z(b,n,l);case "esriGeometryPolyline":return u(b,n,l);case "esriGeometryPolygon":return Z(b,n,l);default:ha.error("convertToGeometry:unknown-geometry",new E(`Unable to parse unknown geometry type '${e}'`))}}function oa(b,e,n,l,A){b.length=
0;if(y.isNone(n)){for(const G of e)b.push({attributes:G.attributes});return b}switch(n){case "esriGeometryPoint":var w=r;l&&A?w=k:l?w=g:A&&(w=F);for(var I of e){const {geometry:G,attributes:K}=I;l=y.isSome(G)?w(G):null;b.push({attributes:K,geometry:l})}break;case "esriGeometryMultipoint":return m(b,e,l,A);case "esriGeometryPolyline":for(const G of e){const {geometry:K,attributes:S}=G;let U;y.isSome(K)&&(U=u(K,l,A));b.push({attributes:S,geometry:U})}break;case "esriGeometryPolygon":for(w of e){const {geometry:G,
attributes:K,centroid:S}=w;let U;y.isSome(G)&&(U=Z(G,l,A));y.isSome(S)?(I=r(S),b.push({attributes:K,centroid:I,geometry:U})):b.push({attributes:K,geometry:U})}break;default:ha.error("convertToFeatureSet:unknown-geometry",new E(`Unable to parse unknown geometry type '${n}'`))}return b}function x(b,e,n,l,A,w,I=n,G=l){b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(y.isNone(e)||!e.coords.length)return null;A=sa[A];const {coords:K,lengths:S}=e;e=H(n,l);const U=H(n&&I,l&&
G);n=q(n,l,I,G);if(!S.length)return n(b.coords,K,0,0,t(w,K[0]),J(w,K[1])),b.lengths.length&&(b.lengths.length=0),b.coords.length=e,b;let X,ba=0,aa,da=0;for(const la of S){if(la<A)continue;let ka=0;aa=da;G=l=t(w,K[ba]);X=I=J(w,K[ba+1]);n(b.coords,K,aa,ba,G,X);ka++;ba+=e;aa+=U;for(let ia=1;ia<la;ia++,ba+=e)if(G=t(w,K[ba]),X=J(w,K[ba+1]),G!==l||X!==I)n(b.coords,K,aa,ba,G-l,X-I),aa+=U,ka++,l=G,I=X;ka>=A&&(b.lengths.push(ka),da=aa)}b.coords.length=da;return b.coords.length?b:null}function Q(b,e,n,l,A,
w,I){let G=l,K=0;for(let U=w+n;U<I;U+=n){{var S=e[U];const X=e[U+1],ba=e[I],aa=e[I+1];let da=e[w],la=e[w+1],ka=ba-da,ia=aa-la;if(0!==ka||0!==ia){const na=((S-da)*ka+(X-la)*ia)/(ka*ka+ia*ia);1<na?(da=ba,la=aa):0<na&&(da+=ka*na,la+=ia*na)}ka=S-da;ia=X-la;S=ka*ka+ia*ia}S>G&&(K=U,G=S)}G>l&&(K-w>n&&Q(b,e,n,l,A,w,K),A(b,e,b.length,K,e[K],e[K+1]),I-K>n&&Q(b,e,n,l,A,K,I))}function W(b,e,n,l,A){const {coords:w,lengths:I}=e,G=n?l?ta:ra:l?ra:ua;n=H(n,l);if(!w.length)return b!==e&&(b.lengths.length=0,b.coords.length=
0),b;if(!I.length)return G(b.coords,w,0,0,P(A,w[0]),f(A,w[1])),b!==e&&(b.lengths.length=0,b.coords.length=n),b;const [K,S]=A.scale;l=0;for(let U=0;U<I.length;U++){const X=I[U];b.lengths[U]=X;let ba=P(A,w[l]),aa=f(A,w[l+1]);G(b.coords,w,l,l,ba,aa);l+=n;for(let da=1;da<X;da++,l+=n)ba+=w[l]*K,aa-=w[l+1]*S,G(b.coords,w,l,l,ba,aa)}b!==e&&(b.lengths.length=I.length,b.coords.length=w.length);return b}function Y(b,e,n,l){let A=0,w=b[l*e],I=b[l*(e+1)];for(let G=1;G<n;G++){const K=w+b[l*(e+G)],S=I+b[l*(e+G)+
1],U=(K-w)*(S+I);w=K;I=S;A+=U}return.5*A}const ha=B.getLogger("esri.layers.graphics.featureConversionUtils"),sa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},ua=(b,e,n,l,A,w)=>{b[n]=A;b[n+1]=w},ra=(b,e,n,l,A,w)=>{b[n]=A;b[n+1]=w;b[n+2]=e[l+2]},va=(b,e,n,l,A,w)=>{b[n]=A;b[n+1]=w;b[n+2]=e[l+3]},ta=(b,e,n,l,A,w)=>{b[n]=A;b[n+1]=w;b[n+2]=e[l+2];b[n+3]=e[l+3]},pa=[],qa=[];c.convertFromFeature=function(b,e,n,l,A){pa[0]=b;[b]=ja(qa,pa,e,n,l,A);pa.length=qa.length=
0;return b};c.convertFromFeatureSet=function(b,e){const n=new L,{hasM:l,hasZ:A,features:w,objectIdFieldName:I,spatialReference:G,geometryType:K,exceededTransferLimit:S,transform:U,fields:X}=b;X&&(n.fields=X);n.geometryType=K;n.objectIdFieldName=I||e;n.spatialReference=G;if(!n.objectIdFieldName)return ha.error(new E("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n;w&&ja(n.features,w,K,A,l,n.objectIdFieldName);S&&(n.exceededTransferLimit=S);l&&(n.hasM=l);A&&(n.hasZ=
A);U&&(n.transform=U);return n};c.convertFromFeatures=ja;c.convertFromGeometry=function(b,e,n){if(y.isNone(b))return null;const l=new O;"hasZ"in b&&null==e&&(e=b.hasZ);"hasM"in b&&null==n&&(n=b.hasM);if(D.isPoint(b))return T(null!=e?e:null!=b.z,null!=n?n:null!=b.m)(l,b);if(D.isPolygon(b))return ea(l,b,e,n);if(D.isPolyline(b))return R(l,b,H(e,n));if(D.isMultipoint(b))return p(l,b,H(e,n));ha.error("convertFromGeometry:unknown-geometry",new E(`Unable to parse unknown geometry type '${b}'`))};c.convertFromGraphics=
function(b,e,n,l,A,w){const I=b.length;switch(n){case "esriGeometryPoint":V(b,e,l,A,w);break;case "esriGeometryMultipoint":h(b,e,l,A,w);break;case "esriGeometryPolyline":M(b,e,l,A,w);break;case "esriGeometryPolygon":ca(b,e,l,A,w);break;default:ha.error("convertToFeatureSet:unknown-geometry",new E(`Unable to parse unknown geometry type '${n}'`))}for(l=0;l<e.length;l++)b[l+I].geometryType=n,b[l+I].insertAfter=e[l].insertAfter,b[l+I].groupId=e[l].groupId;return b};c.convertFromMultipoint=p;c.convertFromMultipointFeatures=
h;c.convertFromNestedArray=fa;c.convertFromPoint=function(b,e,n=T(null!=e.z,null!=e.m)){return n(b,e)};c.convertFromPointFeatures=V;c.convertFromPolygon=ea;c.convertFromPolyline=R;c.convertFromPolylineFeatures=M;c.convertToFeature=function(b,e,n,l){qa[0]=b;oa(pa,qa,e,n,l);b=pa[0];pa.length=qa.length=0;return b};c.convertToFeatureSet=function(b){const {objectIdFieldName:e,spatialReference:n,transform:l,fields:A,hasM:w,hasZ:I,features:G,geometryType:K,exceededTransferLimit:S,uniqueIdField:U,queryGeometry:X,
queryGeometryType:ba}=b;b=oa([],G,K,I,w);const aa=ma(X,ba,!1,!1);b={features:b,fields:A,geometryType:K,objectIdFieldName:e,spatialReference:n,uniqueIdField:U,queryGeometry:aa};l&&(b.transform=l);S&&(b.exceededTransferLimit=S);w&&(b.hasM=w);I&&(b.hasZ=I);return b};c.convertToFeatures=oa;c.convertToGeometry=ma;c.convertToMultipoint=z;c.convertToMultipointFeatures=m;c.convertToPoint=function(b,e,n){return b?e?n?k(b):g(b):n?F(b):r(b):null};c.convertToPolygon=Z;c.convertToPolyline=u;c.deltaDecodeGeometry=
function(b,e){if(y.isNone(b))return null;const n=b.clone(),l=b.coords;b=b.lengths;let A=0;for(let G=0;G<b.length;G++){const K=b[G];var w=l[e*A],I=l[e*A+1];for(let S=1;S<K;S++)w+=l[e*(A+S)],I+=l[e*(A+S)+1],n.coords[e*(A+S)]=w,n.coords[e*(A+S)+1]=I;A+=K}return n};c.deltaEncodeGeometry=function(b,e){const n=b.clone(),l=b.coords;b=b.lengths;let A=0;for(let I=0;I<b.length;I++){const G=b[I];let K=l[e*A];var w=l[e*A+1];for(let S=1;S<G;S++){const U=l[e*(A+S)],X=l[e*(A+S)+1];w=X-w;n.coords[e*(A+S)]=U-K;n.coords[e*
(A+S)+1]=w;K=U;w=X}A+=G}return n};c.generalizeOptimizedGeometry=function(b,e,n,l,A,w,I=n,G=l){b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(!e||!e.coords.length)return null;A=sa[A];const {coords:K,lengths:S}=e;e=H(n,l);const U=H(n&&I,l&&G);n=q(n,l,I,G);if(!S.length)return n(b.coords,K,0,0,K[0],K[1]),b.lengths.length&&(b.lengths.length=0),b.coords.length=e,b;l=0;w*=w;for(const X of S){if(X<A){l+=X*e;continue}I=b.coords.length/U;G=l;const ba=l+(X-1)*e;n(b.coords,K,b.coords.length,
G,K[G],K[G+1]);Q(b.coords,K,e,w,n,G,ba);n(b.coords,K,b.coords.length,ba,K[ba],K[ba+1]);G=b.coords.length/U-I;G>=A?b.lengths.push(G):b.coords.length=I*U;l+=X*e}return b.coords.length?b:null};c.getBoundsOptimizedGeometry=function(b,e,n,l){if(y.isNone(e)||!e.coords||!e.coords.length)return null;n=H(n,l);let A=l=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,I=Number.NEGATIVE_INFINITY;if(e&&e.coords){e=e.coords;for(let G=0;G<e.length;G+=n){const K=e[G],S=e[G+1];l=Math.min(l,K);w=Math.max(w,K);A=
Math.min(A,S);I=Math.max(I,S)}}b[0]=l;b[1]=A;b[2]=w;b[3]=I;return b};c.getQuantizedArea=function(b,e){const {coords:n,lengths:l}=b;let A=b=0;for(let w=0;w<l.length;w++)A+=Y(n,b,l[w],e),b+=w;return Math.abs(A)};c.getQuantizedBoundsOptimizedGeometry=function(b,e,n,l){n=H(n,l);const {lengths:A,coords:w}=e;l=e=Number.POSITIVE_INFINITY;let I=Number.NEGATIVE_INFINITY,G=Number.NEGATIVE_INFINITY,K=0;for(const S of A){let U=w[K],X=w[K+1];e=Math.min(U,e);l=Math.min(X,l);I=Math.max(U,I);G=Math.max(X,G);K+=n;
for(let ba=1;ba<S;ba++,K+=n){const aa=w[K],da=w[K+1];U+=aa;X+=da;0>aa&&(e=Math.min(e,U));0<aa&&(I=Math.max(I,U));0>da?l=Math.min(l,X):0<da&&(G=Math.max(G,X))}}b[0]=e;b[1]=l;b[2]=I;b[3]=G;return b};c.getSignedQuantizedRingArea=Y;c.quantizeOptimizedFeatureSet=function(b,e){const {geometryType:n,features:l,hasM:A,hasZ:w}=e;if(!b)return e;for(let I=0;I<l.length;I++){const G=l[I],K=G.weakClone();K.geometry=new O;x(K.geometry,G.geometry,A,w,n,b);G.centroid&&(K.centroid=new O,x(K.centroid,G.centroid,A,w,
"esriGeometryPoint",b));l[I]=K}e.transform=b;return e};c.quantizeOptimizedGeometry=x;c.quantizeX=t;c.quantizeY=J;c.removeCollinearVectices=function(b,e,n,l,A){if(!e||!e.coords||!e.coords.length)return null;n=sa[n];const {coords:w,lengths:I}=e;e=q(l,A,l,A);l=H(l,A);let G=A=0,K=0,S=0;for(const ba of I){G=S;e(b.coords,w,G,A,w[A],w[A+1]);A+=l;var U=w[A];let aa=w[A+1],da=U,la=aa;var X=aa/U;G+=l;e(b.coords,w,G,A,da,la);A+=l;for(let ka=2;ka<ba;ka++){U=w[A];aa=w[A+1];const ia=aa/U,na=X===ia||!isFinite(X)&&
!isFinite(ia);X=na&&isFinite(ia)?0<=X&&0<=ia||0>=X&&0>=ia:0<=la&&0<=aa||0>=la&&0>=aa;na&&X?(da+=U,la+=aa):(da=U,la=aa,G+=l);e(b.coords,w,G,A,da,la);A+=l;X=ia}G+=l;U=(G-S)/l;U>=n&&(b.lengths[K]=U,S=G,K++)}b.coords.length>S&&(b.coords.length=S);b.lengths.length>K&&(b.lengths.length=K);return b.coords.length&&b.lengths.length?b:null};c.removeZMValues=function(b,e,n,l,A,w){const I=H(n,l);n=q(n,l,A,w);l=e.coords;b.coords.length=0;b.lengths.length=0;b.lengths.push(...e.lengths);for(e=0;e<l.length;e+=I)n(b.coords,
l,b.coords.length,e,l[e],l[e+1]);return b};c.unquantizeOptimizedFeatureSet=function(b){const {transform:e,features:n,hasM:l,hasZ:A}=b;if(!e)return b;for(const w of n)y.isSome(w.geometry)&&W(w.geometry,w.geometry,l,A,e),y.isSome(w.centroid)&&W(w.centroid,w.centroid,l,A,e);b.transform=null;return b};c.unquantizeOptimizedGeometry=W;c.unquantizeX=P;c.unquantizeY=f;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(c,E,B){let y=function(){function N(L=null,O={},H,q){this.geometry=L;this.attributes=O;this.centroid=H;this.objectId=q;this.geohashY=this.geohashX=this.displayId=0}N.prototype.weakClone=function(){const L=new N(this.geometry,this.attributes,this.centroid,this.objectId);L.displayId=this.displayId;L.geohashX=this.geohashX;L.geohashY=this.geohashY;return L};return N}(),D=function(N){function L(){return N.apply(this,arguments)||this}
E._inheritsLoose(L,N);return L}(y);c.OptimizedFeature=y;c.OptimizedFeatureWithGeometry=D;c.hasGeometry=function(N){return!(B.isNone(N.geometry)||!N.geometry.coords||!N.geometry.coords.length)};Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function c(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=
null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}c.prototype.weakClone=function(){const E=new c;E.objectIdFieldName=this.objectIdFieldName;E.globalIdFieldName=this.globalIdFieldName;E.geohashFieldName=this.geohashFieldName;E.geometryProperties=this.geometryProperties;E.geometryType=this.geometryType;E.spatialReference=this.spatialReference;E.hasZ=this.hasZ;E.hasM=this.hasM;
E.features=this.features;E.fields=this.fields;E.transform=this.transform;E.exceededTransferLimit=this.exceededTransferLimit;E.uniqueIdField=this.uniqueIdField;E.queryGeometry=this.queryGeometry;E.queryGeometryType=this.queryGeometryType;return E};return c}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(c){return function(){function E(y=[],D=[],N=!1){this.lengths=null!=y?y:[];this.coords=null!=D?D:[];this.hasIndeterminateRingOrder=
N}E.fromRect=function(y){const [D,N,L,O]=y;y=L-D;const H=O-N;return new E([5],[D,N,y,0,0,H,-y,0,0,-H])};var B=E.prototype;B.forEachVertex=function(y){let D=0;this.lengths.length||y(this.coords[0],this.coords[1]);for(let N=0;N<this.lengths.length;N++){const L=this.lengths[N];for(let O=0;O<L;O++)y(this.coords[2*(O+D)],this.coords[2*(O+D)+1]);D+=L}};B.clone=function(y){return y?(y.set(this.coords),new E(this.lengths.slice(),y,this.hasIndeterminateRingOrder)):new E(this.lengths.slice(),this.coords.slice(),
this.hasIndeterminateRingOrder)};c._createClass(E,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((y,D)=>y+D)}}]);return E}()})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(c,E){c.parsePBFFeatureQuery=function(B,y){var D=E.parseFeatureQuery(B,y);B=D.queryResult.featureResult;y=D.queryResult.queryGeometry;
D=D.queryResult.queryGeometryType;if(B&&B.features&&B.features.length&&B.objectIdFieldName){const N=B.objectIdFieldName;for(const L of B.features)L.attributes&&(L.objectId=L.attributes[N])}B&&(B.queryGeometry=y,B.queryGeometryType=D);return B};Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),
function(c,E,B,y,D,N){function L(m){return m>=C.length?null:C[m]}function O(m,z,h){for(h=z.createPointGeometry(h);m.next();)switch(m.tag()){case 3:{var p=m.getUInt32();p=m.pos()+p;let u=0;for(;m.pos()<p;)z.addCoordinatePoint(h,m.getSInt64(),u++);break}default:m.skip()}return h}function H(m,z,h){const p=z.createGeometry(h);for(h=2+(h.hasZ?1:0)+(h.hasM?1:0);m.next();)switch(m.tag()){case 2:var u=m.getUInt32();u=m.pos()+u;for(var M=0;m.pos()<u;)z.addLength(p,m.getUInt32(),M++);break;case 3:u=m.getUInt32();
u=m.pos()+u;M=0;for(z.allocateCoordinates(p);m.pos()<u;)z.addCoordinate(p,m.getSInt64(),M),M++,M===h&&(M=0);break;default:m.skip()}return p}function q(m){const z=new D;let h="esriGeometryPoint";for(;m.next();)switch(m.tag()){case 2:var p=m.getUInt32();for(p=m.pos()+p;m.pos()<p;)z.lengths.push(m.getUInt32());break;case 3:p=m.getUInt32();for(p=m.pos()+p;m.pos()<p;)z.coords.push(m.getSInt64());break;case 1:h=N.OPTIMIZED_GEOMETRY_TYPES[m.getEnum()];break;default:m.skip()}return{queryGeometry:z,queryGeometryType:h}}
function t(m){for(;m.next();)switch(m.tag()){case 1:return m.getString();case 2:return m.getFloat();case 3:return m.getDouble();case 4:return m.getSInt32();case 5:return m.getUInt32();case 6:return m.getInt64();case 7:return m.getUInt64();case 8:return m.getSInt64();case 9:return m.getBool();default:return m.skip(),null}return null}function J(m){const z={type:L(0)};for(;m.next();)switch(m.tag()){case 1:z.name=m.getString();break;case 2:z.type=L(m.getEnum());break;case 3:z.alias=m.getString();break;
case 4:var h=m.getEnum();h=h>=T.length?null:T[h];z.sqlType=h;break;case 5:m.skip();break;case 6:z.defaultValue=m.getString();break;default:m.skip()}return z}function P(m){const z={};for(;m.next();)switch(m.tag()){case 1:z.name=m.getString();break;case 2:z.isSystemMaintained=m.getBool();break;default:m.skip()}return z}function f(m,z,h,p){const u=z.createFeature(h);let M=0;for(;m.next();)switch(m.tag()){case 1:{const R=p[M++].name;u.attributes[R]=m.processMessage(t);break}case 2:u.geometry=m.processMessageWithArgs(H,
z,h);break;case 4:u.centroid=m.processMessageWithArgs(O,z,h);break;default:m.skip()}return u}function r(m){const z=[1,1,1,1];for(;m.next();)switch(m.tag()){case 1:z[0]=m.getDouble();break;case 2:z[1]=m.getDouble();break;case 4:z[2]=m.getDouble();break;case 3:z[3]=m.getDouble();break;default:m.skip()}return z}function a(m){const z=[0,0,0,0];for(;m.next();)switch(m.tag()){case 1:z[0]=m.getDouble();break;case 2:z[1]=m.getDouble();break;case 4:z[2]=m.getDouble();break;case 3:z[3]=m.getDouble();break;
default:m.skip()}return z}function g(m){const z={originPosition:0>=V.length?null:V[0]};for(;m.next();)switch(m.tag()){case 1:var h=m.getEnum();z.originPosition=h>=V.length?null:V[h];break;case 2:z.scale=m.processMessage(r);break;case 3:z.translate=m.processMessage(a);break;default:m.skip()}return z}function v(m){const z={};for(;m.next();)switch(m.tag()){case 1:z.shapeAreaFieldName=m.getString();break;case 2:z.shapeLengthFieldName=m.getString();break;case 3:z.units=m.getString();break;default:m.skip()}return z}
function F(m,z){for(z=z.createSpatialReference();m.next();)switch(m.tag()){case 1:z.wkid=m.getUInt32();break;case 5:z.wkt=m.getString();break;case 2:z.latestWkid=m.getUInt32();break;case 3:z.vcsWkid=m.getUInt32();break;case 4:z.latestVcsWkid=m.getUInt32();break;default:m.skip()}return z}function d(m,z){const h=z.createFeatureResult();h.geometryType=0>=z.geometryTypes.length?null:z.geometryTypes[0];let p=!1;for(;m.next();)switch(m.tag()){case 1:h.objectIdFieldName=m.getString();break;case 3:h.globalIdFieldName=
m.getString();break;case 4:h.geohashFieldName=m.getString();break;case 5:h.geometryProperties=m.processMessage(v);break;case 7:var u=m.getEnum();h.geometryType=u>=z.geometryTypes.length?null:z.geometryTypes[u];break;case 8:h.spatialReference=m.processMessageWithArgs(F,z);break;case 10:h.hasZ=m.getBool();break;case 11:h.hasM=m.getBool();break;case 12:h.transform=m.processMessage(g);break;case 9:u=m.getBool();h.exceededTransferLimit=u;break;case 13:z.addField(h,m.processMessage(J));break;case 15:p||
(z.prepareFeatures(h),p=!0);z.addFeature(h,m.processMessageWithArgs(f,z,h,h.fields));break;case 2:h.uniqueIdField=m.processMessage(P);break;default:m.skip()}z.finishFeatureResult(h);return h}function k(m,z){const h={};let p=null;for(;m.next();)switch(m.tag()){case 4:p=m.processMessageWithArgs(q);break;case 1:h.featureResult=m.processMessageWithArgs(d,z);break;default:m.skip()}B.isSome(p)&&h.featureResult&&z.addQueryGeometry(h,p);return h}const C="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
T="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),V=["upperLeft","lowerLeft"];c.parseFeatureQuery=function(m,z){try{const h=new y(new Uint8Array(m),new DataView(m));
for(m={};h.next();)switch(h.tag()){case 2:m.queryResult=h.processMessageWithArgs(k,z);break;default:h.skip()}return m}catch(h){throw new E("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:h});}};c.parseFieldType=L;c.parseTransform=g;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(c,E,B,y,D,N){const L=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let O=function(){function H(t){this.options=t;this.geometryTypes=L;this._vertexDimension=this._coordinatePtr=0}var q=H.prototype;q.createFeatureResult=function(){return new D};q.prepareFeatures=function(t){this._vertexDimension=2;t.hasZ&&this._vertexDimension++;t.hasM&&this._vertexDimension++};q.finishFeatureResult=function(t){if(t&&t.features&&t.hasZ&&this.options.sourceSpatialReference&&
t.spatialReference&&!B.equals(t.spatialReference,this.options.sourceSpatialReference)&&!t.spatialReference.vcsWkid){var J=E.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),P=E.getMetersPerVerticalUnitForSR(t.spatialReference);J/=P;if(1!==J)for(const f of t.features)if(y.hasGeometry(f))for(t=f.geometry.coords,P=2;P<t.length;P+=3)t[P]*=J}};q.addFeature=function(t,J){t.features.push(J)};q.createFeature=function(){return new y.OptimizedFeature};q.createSpatialReference=function(){return{wkid:0}};
q.createGeometry=function(){return new N};q.addField=function(t,J){t.fields.push(J)};q.allocateCoordinates=function(t){t.coords.length=t.lengths.reduce((J,P)=>J+P,0)*this._vertexDimension;this._coordinatePtr=0};q.addCoordinate=function(t,J){t.coords[this._coordinatePtr++]=J};q.addCoordinatePoint=function(t,J){t.coords.push(J)};q.addLength=function(t,J){t.lengths.push(J)};q.addQueryGeometry=function(t,J){t.queryGeometry=J.queryGeometry;t.queryGeometryType=J.queryGeometryType};q.createPointGeometry=
function(){return new N};return H}();c.OPTIMIZED_GEOMETRY_TYPES=L;c.OptimizedFeatureSetParserContext=O;Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"*noref":1}});
define(["../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(c,E){let B=function(){function y(){}y.prototype._parseFeatureQuery=function(D){D=E.parsePBFFeatureQuery(D.buffer,new c.DehydratedFeatureSetParserContext(D.options));D={...D,spatialReference:D.spatialReference.toJSON(),fields:D.fields?D.fields.map(N=>N.toJSON()):void 0};return Promise.resolve(D)};return y}();return function(){return new B}});