// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f64 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/centroid ../../../../geometry/support/coordsUtils ../../../../layers/graphics/dehydratedFeatures ../../../../layers/graphics/hydratedFeatures ../../webgl-engine/lib/VertexAttribute".split(" "),
function(h,k,r,C,v,D,w,E,x,F,G,y,t,z,H){function A(a){var b=a.paths[0];if(!b||0===b.length)return null;b=y.getPointOnPath(b,y.getPathLength(b)/2);return t.makeDehydratedPoint(b[0],b[1],b[2],a.spatialReference)}function l(a,b,c){c=c?a:z.clonePoint(a);return b&&a?E.projectPoint(a,c,b)?c:null:c}function u(a){if(Array.isArray(a)){for(const b of a)if(!u(b))return!1;return!0}return null==a||0<=a}h.computeCentroid=function(a,b){if("point"===a.type)return l(a,b,!1);if(z.isHydratedGeometry(a))switch(a.type){case "extent":return l(a.center,
b,!1);case "polygon":return l(a.centroid,b,!1);case "polyline":return l(A(a),b,!0);case "mesh":return l(a.origin,b,!1)}else switch(a.type){case "extent":var c=isFinite(a.zmin);a=t.makeDehydratedPoint(.5*(a.xmax+a.xmin),.5*(a.ymax+a.ymin),c?.5*(a.zmax+a.zmin):void 0,a.spatialReference);return l(a,b,!0);case "polygon":return(c=a.rings[0])&&0!==c.length?(c=G.ringsCentroid(a.rings,a.hasZ),a=t.makeDehydratedPoint(c[0],c[1],c[2],a.spatialReference)):a=null,l(a,b,!0);case "polyline":return l(A(a),b,!0)}};
h.computeObjectRotation=function(a,b,c,d=C.create()){a=a||0;b=b||0;c=c||0;0!==a&&r.rotateZ(d,d,-a/180*Math.PI);0!==b&&r.rotateX(d,d,b/180*Math.PI);0!==c&&r.rotateY(d,d,c/180*Math.PI);return d};h.computeObjectScale=function(a=v.ONES,b,c,d=1){const e=Array(3);if(k.isNone(b)||k.isNone(c))e[0]=1,e[1]=1,e[2]=1;else{let g=0;for(let m=2;0<=m;m--){const n=a[m];let p;const B=null!=n,I=0===m&&!f&&!B,q=c[m];"symbol-value"===n||I?p=0!==q?b[m]/q:1:B&&"proportional"!==n&&isFinite(n)&&(p=0!==q?n/q:1);if(null!=p){var f=
e[m]=p;g=Math.max(g,Math.abs(p))}}for(a=2;0<=a;a--)null==e[a]?e[a]=f:0===e[a]&&(e[a]=.001*g)}for(f=2;0<=f;f--)e[f]/=d;return v.fromArray(e)};h.demResolutionForBoundingBox=function(a,b){return null!=b.minDemResolution?b.minDemResolution:x.isPoint(a)?b.minDemResolutionForPoints:.01*x.maximumDimension(a)};h.enlargeExtent=function(a,b,c,d=0){if(a){b||(b=F.create());let e=.5*a.width*(c-1);c=.5*a.height*(c-1);a.width<1E-7*a.height?e+=c/20:a.height<1E-7*a.width&&(c+=e/20);D.set(b,a.xmin-e-d,a.ymin-c-d,a.xmax+
e+d,a.ymax+c+d);return b}return null};h.isValidSize=u;h.mixinColorAndOpacity=function(a,b){const c=w.clone(w.ONES);k.isSome(a)&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);k.isSome(b)?c[3]=b:k.isSome(a)&&3<a.length&&(c[3]=a[3]);return c};h.overrideColor=function(a,b,c,d,e,f=[0,0,0,0]){for(let g=0;3>g;++g)k.isSome(a)&&null!=a[g]?f[g]=a[g]:k.isSome(c)&&null!=c[g]?f[g]=c[g]:f[g]=e[g];k.isSome(b)?f[3]=b:k.isSome(d)?f[3]=d:f[3]=e[3];return f};h.updateVertexAttributeAuxpos1w=function(a,b){for(let c=0;c<a.geometries.length;++c){const d=
a.geometries[c].getMutableAttribute(H.VertexAttribute.AUXPOS1);d&&d.data[3]!==b&&(d.data[3]=b,a.geometryVertexAttrsUpdated(a.geometryRecords[c]))}};h.validateSymbolLayerSize=function(a){null!=a.isPrimitive&&(a=[a.width,a.depth,a.height]);return u(a)?null:"Symbol sizes may not be negative values"};Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});