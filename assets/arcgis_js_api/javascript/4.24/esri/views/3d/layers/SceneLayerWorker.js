// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
require({cache:{"esri/libs/i3s/enums":function(){define(["exports"],function(e){e.IndexType=void 0;(function(w){w[w.None=0]="None";w[w.Int16=1]="Int16";w[w.Int32=2]="Int32"})(e.IndexType||(e.IndexType={}));e.ModificationType=void 0;(function(w){w[w.Replace=0]="Replace";w[w.Outside=1]="Outside";w[w.Inside=2]="Inside";w[w.Finished=3]="Finished"})(e.ModificationType||(e.ModificationType={}));Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/libs/i3s/I3SModule":function(){define(["require",
"exports","../../assets"],function(e,w,v){function A(r){return v.getAssetUrl(`esri/libs/i3s/${r}`)}let I;w.get=function(){I||(I=(new Promise(r=>(new Promise((q,t)=>e(["../../chunks/i3s"],q,t))).then(q=>q.i3s).then(({default:q})=>{const t=q({locateFile:A,onRuntimeInitialized:()=>r(t)});delete t.then}))).catch(r=>{throw r;}));return I};Object.defineProperties(w,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/views/3d/layers/i3s/I3SNode":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers",
"../../../../chunks/sphere"],function(e,w,v){let A=function(r,q){this.id=r;this.mbs=q;this.renderMbs=v.fromValues(0,0,0,-1);this.elevationRange=null};e.NodeFilterImpact=void 0;(function(r){r[r.Unmodified=0]="Unmodified";r[r.Culled=1]="Culled";r[r.NotChecked=2]="NotChecked"})(e.NodeFilterImpact||(e.NodeFilterImpact={}));e.NodeIMModificationImpact=void 0;(function(r){r[r.Unmodified=0]="Unmodified";r[r.PotentiallyModified=1]="PotentiallyModified";r[r.Culled=2]="Culled";r[r.Unknown=3]="Unknown";r[r.NotChecked=
4]="NotChecked"})(e.NodeIMModificationImpact||(e.NodeIMModificationImpact={}));let I=function(r){function q(t,N,V,C,J,E,W,M,U,T){t=r.call(this,t,V)||this;t.index=N;t.childCount=C;t.level=J;t.resources=E;t.version=W;t.lodMetric=M;t.maxError=U;t.numFeatures=T;t.failed=!1;t.cacheState=e.CacheState.Unknown;t.vertexCount=0;t.memory=0;t.childrenLoaded=0;t.hasModifications=!1;t.imModificationImpact=e.NodeIMModificationImpact.NotChecked;return t}w._inheritsLoose(q,r);return q}(A);e.CacheState=void 0;(function(r){r[r.Unknown=
0]="Unknown";r[r.Uncached=1]="Uncached";r[r.Cached=2]="Cached"})(e.CacheState||(e.CacheState={}));e.LodMetric=void 0;(function(r){r[r.None=0]="None";r[r.MaxScreenThreshold=1]="MaxScreenThreshold";r[r.ScreenSpaceRelative=2]="ScreenSpaceRelative";r[r.RemovedFeatureDiameter=3]="RemovedFeatureDiameter";r[r.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"})(e.LodMetric||(e.LodMetric={}));e.NodeState=void 0;(function(r){r[r.Hole=0]="Hole";r[r.Leaf=1]="Leaf"})(e.NodeState||(e.NodeState=
{}));e.ElevationRange=function(){this.min=Infinity;this.max=-Infinity;this.valid=!1};e.Node=I;e.NodeBase=A;e.NodeTraversalState=function(r,q,t,N){this.nodeHasLOD=r;this.isChosen=q;this.lodLevel=t;this.version=N};Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/maybe ./mat4 ./vec3 ./vec3f64 ./vec4 ./vec4f64 ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(e,w,v,A,I,r,q,t,N,V,C,J,E,W){function M(){return V.create()}function U(n,x=M()){return N.copy(x,n)}function T(n,x){return V.fromValues(n[0],n[1],n[2],x)}function fa(n){return n}function ha(n){n[0]=n[1]=n[2]=n[3]=0}function K(n,x){n[0]=n[1]=n[2]=0;n[3]=x;return n}function la(n){return n[3]}function y(n){return n}function L(n,x,F,ca){return V.fromValues(n,x,F,ca)}function X(n,x,F){n!==F&&q.copy(F,n);F[3]=n[3]+x;return F}function da(n,x,F){ja.error("sphere.setExtent is not yet supported");return n===
F?F:U(n,F)}function Z(n,x,F){if(I.isNone(x))return!1;const {origin:ca,direction:ea}=x;var ia=ka;ia[0]=ca[0]-n[0];ia[1]=ca[1]-n[1];ia[2]=ca[2]-n[2];x=ea[0]*ea[0]+ea[1]*ea[1]+ea[2]*ea[2];const a=2*(ea[0]*ia[0]+ea[1]*ia[1]+ea[2]*ia[2]);n=a*a-4*x*(ia[0]*ia[0]+ia[1]*ia[1]+ia[2]*ia[2]-n[3]*n[3]);if(0>n)return!1;ia=Math.sqrt(n);n=(-a-ia)/(2*x);x=(-a+ia)/(2*x);if(0>n||x<n&&0<x)n=x;if(0>n)return!1;F&&(F[0]=ca[0]+ea[0]*n,F[1]=ca[1]+ea[1]*n,F[2]=ca[2]+ea[2]*n);return!0}function wa(n,x){return Z(n,x,null)}function xa(n,
x,F){if(Z(n,x,F))return F;n=Ba(n,x,W.sv3d.get());q.add(F,x.origin,q.scale(W.sv3d.get(),x.direction,q.distance(x.origin,n)/q.length(x.direction)));return F}function Ba(n,x,F){const ca=W.sv3d.get(),ea=W.sm4d.get();q.cross(ca,x.origin,x.direction);const ia=n[3];q.cross(F,ca,x.origin);q.scale(F,F,1/q.length(F)*ia);n=Ca(n,x.origin);x=E.angle(x.origin,F);r.fromRotation(ea,x+n,ca);q.transformMat4(F,F,ea);return F}function ya(n,x,F){if(Z(n,x,F))return F;J.closestPoint(x,n,F);return za(n,F,F)}function za(n,
x,F){x=q.subtract(W.sv3d.get(),x,n);x=q.scale(W.sv3d.get(),x,n[3]/q.length(x));return q.add(F,x,n)}function Da(n,x){x=q.subtract(W.sv3d.get(),x,n);x=q.squaredLength(x);return Math.sqrt(Math.abs(x-n[3]*n[3]))}function Ca(n,x){x=q.subtract(W.sv3d.get(),x,n);x=q.length(x);n=n[3];return A.acosClamped(n/(n+Math.abs(n-x)))}function na(n,x,F,ca){n=q.subtract(Aa,x,n);switch(F){case C.Axis.X:return F=A.cartesianToSpherical(n,Aa)[2],q.set(ca,-Math.sin(F),Math.cos(F),0);case C.Axis.Y:return n=A.cartesianToSpherical(n,
Aa),F=n[1],n=n[2],x=Math.sin(F),q.set(ca,-x*Math.cos(n),-x*Math.sin(n),Math.cos(F));case C.Axis.Z:return q.normalize(ca,n)}}function oa(n,x){x=q.subtract(ma,x,n);return q.length(x)-n[3]}function P(n,x,F,ca){const ea=oa(n,x);n=na(n,x,C.Axis.Z,ma);F=q.scale(ma,n,F-ea);return q.add(ca,x,F)}function aa(n,x){x=q.squaredDistance(n,x);n=n[3];return x<=n*n}const ja=v.getLogger("esri.geometry.support.sphere"),ka=t.create(),Aa=t.create(),ma=t.create();w=M();v=Object.freeze(Object.defineProperty({__proto__:null,
create:M,copy:U,fromCenterAndRadius:T,wrap:fa,clear:ha,fromRadius:K,getRadius:la,getCenter:y,fromValues:L,elevate:X,setExtent:da,intersectRay:Z,intersectsRay:wa,intersectRayClosestSilhouette:xa,closestPointOnSilhouette:Ba,closestPoint:ya,projectPoint:za,distanceToSilhouette:Da,angleToSilhouette:Ca,axisAt:na,altitudeAt:oa,setAltitudeAt:P,containsPoint:aa,tmpSphere:w},Symbol.toStringTag,{value:"Module"}));e.altitudeAt=oa;e.angleToSilhouette=Ca;e.axisAt=na;e.clear=ha;e.closestPoint=ya;e.closestPointOnSilhouette=
Ba;e.containsPoint=aa;e.copy=U;e.create=M;e.distanceToSilhouette=Da;e.elevate=X;e.fromCenterAndRadius=T;e.fromRadius=K;e.fromValues=L;e.getCenter=y;e.getRadius=la;e.intersectRay=Z;e.intersectRayClosestSilhouette=xa;e.intersectsRay=wa;e.projectPoint=za;e.setAltitudeAt=P;e.setExtent=da;e.sphere=v;e.tmpSphere=w;e.wrap=fa})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(e,w,v){function A(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=
b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function I(a,b,c,d,f,g,k,l,h,m,p,u,B,z,G,D,H){a[0]=b;a[1]=c;a[2]=d;a[3]=f;a[4]=g;a[5]=k;a[6]=l;a[7]=h;a[8]=m;a[9]=p;a[10]=u;a[11]=B;a[12]=z;a[13]=G;a[14]=D;a[15]=H;return a}function r(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function q(a,b){if(a===b){const c=b[1],d=b[2],f=b[3],g=b[6],k=b[7],l=b[11];a[1]=b[4];
a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=g;a[11]=b[14];a[12]=f;a[13]=k;a[14]=l}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function t(a,b){const c=b[0],d=b[1],f=b[2],g=b[3],k=b[4],l=b[5],h=b[6],m=b[7],p=b[8],u=b[9],B=b[10],z=b[11],G=b[12],D=b[13],H=b[14];b=b[15];const Y=c*l-d*k,O=c*h-f*k,Q=c*m-g*k,R=d*h-f*l,S=d*m-g*l,pa=f*m-g*h,qa=p*D-u*
G,ra=p*H-B*G,sa=p*b-z*G,ta=u*H-B*D,ua=u*b-z*D,va=B*b-z*H;let ba=Y*va-O*ua+Q*ta+R*sa-S*ra+pa*qa;if(!ba)return null;ba=1/ba;a[0]=(l*va-h*ua+m*ta)*ba;a[1]=(f*ua-d*va-g*ta)*ba;a[2]=(D*pa-H*S+b*R)*ba;a[3]=(B*S-u*pa-z*R)*ba;a[4]=(h*sa-k*va-m*ra)*ba;a[5]=(c*va-f*sa+g*ra)*ba;a[6]=(H*Q-G*pa-b*O)*ba;a[7]=(p*pa-B*Q+z*O)*ba;a[8]=(k*ua-l*sa+m*qa)*ba;a[9]=(d*sa-c*ua-g*qa)*ba;a[10]=(G*S-D*Q+b*Y)*ba;a[11]=(u*Q-p*S-z*Y)*ba;a[12]=(l*ra-k*ta-h*qa)*ba;a[13]=(c*ta-d*ra+f*qa)*ba;a[14]=(D*O-G*R-H*Y)*ba;a[15]=(p*R-u*O+B*
Y)*ba;return a}function N(a,b){const c=b[0],d=b[1],f=b[2],g=b[3],k=b[4],l=b[5],h=b[6],m=b[7],p=b[8],u=b[9],B=b[10],z=b[11],G=b[12],D=b[13],H=b[14];b=b[15];a[0]=l*(B*b-z*H)-u*(h*b-m*H)+D*(h*z-m*B);a[1]=-(d*(B*b-z*H)-u*(f*b-g*H)+D*(f*z-g*B));a[2]=d*(h*b-m*H)-l*(f*b-g*H)+D*(f*m-g*h);a[3]=-(d*(h*z-m*B)-l*(f*z-g*B)+u*(f*m-g*h));a[4]=-(k*(B*b-z*H)-p*(h*b-m*H)+G*(h*z-m*B));a[5]=c*(B*b-z*H)-p*(f*b-g*H)+G*(f*z-g*B);a[6]=-(c*(h*b-m*H)-k*(f*b-g*H)+G*(f*m-g*h));a[7]=c*(h*z-m*B)-k*(f*z-g*B)+p*(f*m-g*h);a[8]=k*
(u*b-z*D)-p*(l*b-m*D)+G*(l*z-m*u);a[9]=-(c*(u*b-z*D)-p*(d*b-g*D)+G*(d*z-g*u));a[10]=c*(l*b-m*D)-k*(d*b-g*D)+G*(d*m-g*l);a[11]=-(c*(l*z-m*u)-k*(d*z-g*u)+p*(d*m-g*l));a[12]=-(k*(u*H-B*D)-p*(l*H-h*D)+G*(l*B-h*u));a[13]=c*(u*H-B*D)-p*(d*H-f*D)+G*(d*B-f*u);a[14]=-(c*(l*H-h*D)-k*(d*H-f*D)+G*(d*h-f*l));a[15]=c*(l*B-h*u)-k*(d*B-f*u)+p*(d*h-f*l);return a}function V(a){const b=a[0],c=a[1],d=a[2],f=a[3],g=a[4],k=a[5],l=a[6],h=a[7],m=a[8],p=a[9],u=a[10],B=a[11],z=a[12],G=a[13],D=a[14];a=a[15];return(b*k-c*g)*
(u*a-B*D)-(b*l-d*g)*(p*a-B*G)+(b*h-f*g)*(p*D-u*G)+(c*l-d*k)*(m*a-B*z)-(c*h-f*k)*(m*D-u*z)+(d*h-f*l)*(m*G-p*z)}function C(a,b,c){const d=b[0],f=b[1],g=b[2],k=b[3],l=b[4],h=b[5],m=b[6],p=b[7],u=b[8],B=b[9],z=b[10],G=b[11],D=b[12],H=b[13],Y=b[14];b=b[15];let O=c[0],Q=c[1],R=c[2],S=c[3];a[0]=O*d+Q*l+R*u+S*D;a[1]=O*f+Q*h+R*B+S*H;a[2]=O*g+Q*m+R*z+S*Y;a[3]=O*k+Q*p+R*G+S*b;O=c[4];Q=c[5];R=c[6];S=c[7];a[4]=O*d+Q*l+R*u+S*D;a[5]=O*f+Q*h+R*B+S*H;a[6]=O*g+Q*m+R*z+S*Y;a[7]=O*k+Q*p+R*G+S*b;O=c[8];Q=c[9];R=c[10];
S=c[11];a[8]=O*d+Q*l+R*u+S*D;a[9]=O*f+Q*h+R*B+S*H;a[10]=O*g+Q*m+R*z+S*Y;a[11]=O*k+Q*p+R*G+S*b;O=c[12];Q=c[13];R=c[14];S=c[15];a[12]=O*d+Q*l+R*u+S*D;a[13]=O*f+Q*h+R*B+S*H;a[14]=O*g+Q*m+R*z+S*Y;a[15]=O*k+Q*p+R*G+S*b;return a}function J(a,b,c){const d=c[0],f=c[1];c=c[2];if(b===a)a[12]=b[0]*d+b[4]*f+b[8]*c+b[12],a[13]=b[1]*d+b[5]*f+b[9]*c+b[13],a[14]=b[2]*d+b[6]*f+b[10]*c+b[14],a[15]=b[3]*d+b[7]*f+b[11]*c+b[15];else{const g=b[0],k=b[1],l=b[2],h=b[3],m=b[4],p=b[5],u=b[6],B=b[7],z=b[8],G=b[9],D=b[10],H=
b[11];a[0]=g;a[1]=k;a[2]=l;a[3]=h;a[4]=m;a[5]=p;a[6]=u;a[7]=B;a[8]=z;a[9]=G;a[10]=D;a[11]=H;a[12]=g*d+m*f+z*c+b[12];a[13]=k*d+p*f+G*c+b[13];a[14]=l*d+u*f+D*c+b[14];a[15]=h*d+B*f+H*c+b[15]}return a}function E(a,b,c){const d=c[0],f=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*f;a[5]=b[5]*f;a[6]=b[6]*f;a[7]=b[7]*f;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function W(a,b,c,d){let f=d[0],g=d[1];d=d[2];let k=Math.sqrt(f*
f+g*g+d*d);var l=void 0,h=void 0;let m=void 0,p=void 0,u=void 0,B=void 0,z=void 0,G=void 0,D=void 0,H=void 0,Y=void 0,O=void 0,Q=void 0,R=void 0,S=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0;h=l=void 0;if(k<v.EPSILON)return null;k=1/k;f*=k;g*=k;d*=k;l=Math.sin(c);h=Math.cos(c);m=1-h;p=b[0];u=b[1];B=b[2];z=b[3];G=b[4];D=b[5];H=b[6];Y=b[7];O=b[8];Q=b[9];R=b[10];S=b[11];pa=f*f*m+h;qa=g*f*m+d*l;ra=d*f*m-g*l;sa=f*g*m-d*l;ta=g*g*m+h;ua=d*g*m+f*l;va=f*d*m+g*l;l=g*d*m-f*l;
h=d*d*m+h;a[0]=p*pa+G*qa+O*ra;a[1]=u*pa+D*qa+Q*ra;a[2]=B*pa+H*qa+R*ra;a[3]=z*pa+Y*qa+S*ra;a[4]=p*sa+G*ta+O*ua;a[5]=u*sa+D*ta+Q*ua;a[6]=B*sa+H*ta+R*ua;a[7]=z*sa+Y*ta+S*ua;a[8]=p*va+G*l+O*h;a[9]=u*va+D*l+Q*h;a[10]=B*va+H*l+R*h;a[11]=z*va+Y*l+S*h;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function M(a,b,c){const d=Math.sin(c);c=Math.cos(c);const f=b[4],g=b[5],k=b[6],l=b[7],h=b[8],m=b[9],p=b[10],u=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=
b[14],a[15]=b[15]);a[4]=f*c+h*d;a[5]=g*c+m*d;a[6]=k*c+p*d;a[7]=l*c+u*d;a[8]=h*c-f*d;a[9]=m*c-g*d;a[10]=p*c-k*d;a[11]=u*c-l*d;return a}function U(a,b,c){const d=Math.sin(c);c=Math.cos(c);const f=b[0],g=b[1],k=b[2],l=b[3],h=b[8],m=b[9],p=b[10],u=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=f*c-h*d;a[1]=g*c-m*d;a[2]=k*c-p*d;a[3]=l*c-u*d;a[8]=f*d+h*c;a[9]=g*d+m*c;a[10]=k*d+p*c;a[11]=l*d+u*c;return a}function T(a,b,c){const d=Math.sin(c);c=
Math.cos(c);const f=b[0],g=b[1],k=b[2],l=b[3],h=b[4],m=b[5],p=b[6],u=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=f*c+h*d;a[1]=g*c+m*d;a[2]=k*c+p*d;a[3]=l*c+u*d;a[4]=h*c-f*d;a[5]=m*c-g*d;a[6]=p*c-k*d;a[7]=u*c-l*d;return a}function fa(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function ha(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=
b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function K(a,b,c){let d=c[0],f=c[1];c=c[2];let g=Math.sqrt(d*d+f*f+c*c),k=void 0,l=void 0,h=void 0;if(g<v.EPSILON)return null;g=1/g;d*=g;f*=g;c*=g;k=Math.sin(b);l=Math.cos(b);h=1-l;a[0]=d*d*h+l;a[1]=f*d*h+c*k;a[2]=c*d*h-f*k;a[3]=0;a[4]=d*f*h-c*k;a[5]=f*f*h+l;a[6]=c*f*h+d*k;a[7]=0;a[8]=d*c*h+f*k;a[9]=f*c*h-d*k;a[10]=c*c*h+l;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function la(a,b){const c=Math.sin(b);
b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function y(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function L(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function X(a,
b,c){var d=b[0],f=b[1],g=b[2],k=b[3],l=d+d,h=f+f;const m=g+g;b=d*l;const p=d*h;d*=m;const u=f*h;f*=m;g*=m;l*=k;h*=k;k*=m;a[0]=1-(u+g);a[1]=p+k;a[2]=d-h;a[3]=0;a[4]=p-k;a[5]=1-(b+g);a[6]=f+l;a[7]=0;a[8]=d+h;a[9]=f-l;a[10]=1-(b+u);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function da(a,b){const c=ia,d=-b[0],f=-b[1],g=-b[2],k=b[3],l=b[4],h=b[5],m=b[6],p=b[7],u=d*d+f*f+g*g+k*k;0<u?(c[0]=2*(l*k+p*d+h*g-m*f)/u,c[1]=2*(h*k+p*f+m*d-l*g)/u,c[2]=2*(m*k+p*g+l*f-h*d)/u):(c[0]=2*(l*k+p*d+h*g-m*
f),c[1]=2*(h*k+p*f+m*d-l*g),c[2]=2*(m*k+p*g+l*f-h*d));X(a,b,c);return a}function Z(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function wa(a,b){const c=b[0],d=b[1],f=b[2],g=b[4],k=b[5],l=b[6],h=b[8],m=b[9];b=b[10];a[0]=Math.sqrt(c*c+d*d+f*f);a[1]=Math.sqrt(g*g+k*k+l*l);a[2]=Math.sqrt(h*h+m*m+b*b);return a}function xa(a,b){const c=b[0]+b[5]+b[10];let d=0;0<c?(d=2*Math.sqrt(c+1),a[3]=.25*d,a[0]=(b[6]-b[9])/d,a[1]=(b[8]-b[2])/d,a[2]=(b[1]-b[4])/d):b[0]>b[5]&&b[0]>b[10]?(d=2*Math.sqrt(1+b[0]-b[5]-
b[10]),a[3]=(b[6]-b[9])/d,a[0]=.25*d,a[1]=(b[1]+b[4])/d,a[2]=(b[8]+b[2])/d):b[5]>b[10]?(d=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/d,a[0]=(b[1]+b[4])/d,a[1]=.25*d,a[2]=(b[6]+b[9])/d):(d=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/d,a[0]=(b[8]+b[2])/d,a[1]=(b[6]+b[9])/d,a[2]=.25*d);return a}function Ba(a,b,c,d){var f=b[0],g=b[1],k=b[2],l=b[3],h=f+f,m=g+g,p=k+k;b=f*h;const u=f*m;f*=p;const B=g*m;g*=p;k*=p;h*=l;m*=l;l*=p;p=d[0];const z=d[1];d=d[2];a[0]=(1-(B+k))*p;a[1]=(u+l)*p;a[2]=(f-m)*
p;a[3]=0;a[4]=(u-l)*z;a[5]=(1-(b+k))*z;a[6]=(g+h)*z;a[7]=0;a[8]=(f+m)*d;a[9]=(g-h)*d;a[10]=(1-(b+B))*d;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function ya(a,b,c,d,f){var g=b[0],k=b[1],l=b[2],h=b[3],m=g+g,p=k+k,u=l+l;b=g*m;var B=g*p,z=g*u;g=k*p;k*=u;var G=l*u;l=h*m;p*=h;const D=h*u;var H=d[0],Y=d[1];u=d[2];d=f[0];h=f[1];f=f[2];m=(1-(g+G))*H;const O=(B+D)*H;H*=z-p;B=(B-D)*Y;G=(1-(b+G))*Y;Y*=k+l;z=(z+p)*u;k=(k-l)*u;b=(1-(b+g))*u;a[0]=m;a[1]=O;a[2]=H;a[3]=0;a[4]=B;a[5]=G;a[6]=Y;a[7]=
0;a[8]=z;a[9]=k;a[10]=b;a[11]=0;a[12]=c[0]+d-(m*d+B*h+z*f);a[13]=c[1]+h-(O*d+G*h+k*f);a[14]=c[2]+f-(H*d+Y*h+b*f);a[15]=1;return a}function za(a,b){var c=b[0],d=b[1],f=b[2];b=b[3];var g=c+c,k=d+d;const l=f+f;c*=g;const h=d*g;d*=k;const m=f*g,p=f*k;f*=l;g*=b;k*=b;b*=l;a[0]=1-d-f;a[1]=h+b;a[2]=m-k;a[3]=0;a[4]=h-b;a[5]=1-c-f;a[6]=p+g;a[7]=0;a[8]=m+k;a[9]=p-g;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Da(a,b,c,d,f,g,k){const l=1/(c-b),h=1/(f-d),m=1/(g-k);a[0]=2*g*l;a[1]=0;a[2]=
0;a[3]=0;a[4]=0;a[5]=2*g*h;a[6]=0;a[7]=0;a[8]=(c+b)*l;a[9]=(f+d)*h;a[10]=(k+g)*m;a[11]=-1;a[12]=0;a[13]=0;a[14]=k*g*2*m;a[15]=0;return a}function Ca(a,b,c,d,f){b=1/Math.tan(b/2);let g=void 0;a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=f&&Infinity!==f?(g=1/(d-f),a[10]=(f+d)*g,a[14]=2*f*d*g):(a[10]=-1,a[14]=-2*d);return a}function na(a,b,c,d){const f=Math.tan(b.upDegrees*Math.PI/180),g=Math.tan(b.downDegrees*Math.PI/180),k=Math.tan(b.leftDegrees*
Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const l=2/(k+b),h=2/(f+g);a[0]=l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=h;a[6]=0;a[7]=0;a[8]=-((k-b)*l*.5);a[9]=(f-g)*h*.5;a[10]=d/(c-d);a[11]=-1;a[12]=0;a[13]=0;a[14]=d*c/(c-d);a[15]=0;return a}function oa(a,b,c,d,f,g,k){const l=1/(b-c),h=1/(d-f),m=1/(g-k);a[0]=-2*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*h;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*m;a[11]=0;a[12]=(b+c)*l;a[13]=(f+d)*h;a[14]=(k+g)*m;a[15]=1;return a}function P(a,b,c,d){let f=void 0,g=void 0;var k=
void 0,l=void 0;let h=void 0,m=void 0;var p=void 0,u=void 0;let B=void 0,z=void 0;const G=b[0],D=b[1];b=b[2];k=d[0];l=d[1];d=d[2];p=c[0];u=c[1];c=c[2];if(Math.abs(G-p)<v.EPSILON&&Math.abs(D-u)<v.EPSILON&&Math.abs(b-c)<v.EPSILON)return r(a);p=G-p;u=D-u;B=b-c;z=1/Math.sqrt(p*p+u*u+B*B);p*=z;u*=z;B*=z;f=l*B-d*u;g=d*p-k*B;k=k*u-l*p;(z=Math.sqrt(f*f+g*g+k*k))?(z=1/z,f*=z,g*=z,k*=z):k=g=f=0;l=u*k-B*g;h=B*f-p*k;m=p*g-u*f;(z=Math.sqrt(l*l+h*h+m*m))?(z=1/z,l*=z,h*=z,m*=z):m=h=l=0;a[0]=f;a[1]=l;a[2]=p;a[3]=
0;a[4]=g;a[5]=h;a[6]=u;a[7]=0;a[8]=k;a[9]=m;a[10]=B;a[11]=0;a[12]=-(f*G+g*D+k*b);a[13]=-(l*G+h*D+m*b);a[14]=-(p*G+u*D+B*b);a[15]=1;return a}function aa(a,b,c,d){const f=b[0],g=b[1];b=b[2];var k=d[0];const l=d[1];var h=d[2];d=f-c[0];let m=g-c[1];c=b-c[2];let p=d*d+m*m+c*c;0<p&&(p=1/Math.sqrt(p),d*=p,m*=p,c*=p);let u=l*c-h*m;h=h*d-k*c;k=k*m-l*d;p=u*u+h*h+k*k;0<p&&(p=1/Math.sqrt(p),u*=p,h*=p,k*=p);a[0]=u;a[1]=h;a[2]=k;a[3]=0;a[4]=m*k-c*h;a[5]=c*u-d*k;a[6]=d*h-m*u;a[7]=0;a[8]=d;a[9]=m;a[10]=c;a[11]=0;
a[12]=f;a[13]=g;a[14]=b;a[15]=1;return a}function ja(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function ka(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function Aa(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=
b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a}function ma(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a}function n(a,b,c){a[0]=b[0]*
c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;a[15]=b[15]*c;return a}function x(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;a[4]=b[4]+c[4]*d;a[5]=b[5]+c[5]*d;a[6]=b[6]+c[6]*d;a[7]=b[7]+c[7]*d;a[8]=b[8]+c[8]*d;a[9]=b[9]+c[9]*d;a[10]=b[10]+c[10]*d;a[11]=b[11]+c[11]*d;a[12]=b[12]+c[12]*d;a[13]=b[13]+c[13]*d;a[14]=b[14]+c[14]*d;a[15]=b[15]+
c[15]*d;return a}function F(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function ca(a,b){if(a===b)return!0;const c=a[0],d=a[1],f=a[2],g=a[3],k=a[4],l=a[5],h=a[6],m=a[7],p=a[8],u=a[9],B=a[10],z=a[11],G=a[12],D=a[13],H=a[14];a=a[15];const Y=b[0],O=b[1],Q=b[2],R=b[3],S=b[4],pa=b[5],qa=b[6],ra=b[7],sa=b[8],ta=b[9],ua=
b[10],va=b[11],ba=b[12],Ea=b[13],Fa=b[14];b=b[15];return Math.abs(c-Y)<=v.EPSILON*Math.max(1,Math.abs(c),Math.abs(Y))&&Math.abs(d-O)<=v.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(f-Q)<=v.EPSILON*Math.max(1,Math.abs(f),Math.abs(Q))&&Math.abs(g-R)<=v.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(k-S)<=v.EPSILON*Math.max(1,Math.abs(k),Math.abs(S))&&Math.abs(l-pa)<=v.EPSILON*Math.max(1,Math.abs(l),Math.abs(pa))&&Math.abs(h-qa)<=v.EPSILON*Math.max(1,Math.abs(h),Math.abs(qa))&&Math.abs(m-
ra)<=v.EPSILON*Math.max(1,Math.abs(m),Math.abs(ra))&&Math.abs(p-sa)<=v.EPSILON*Math.max(1,Math.abs(p),Math.abs(sa))&&Math.abs(u-ta)<=v.EPSILON*Math.max(1,Math.abs(u),Math.abs(ta))&&Math.abs(B-ua)<=v.EPSILON*Math.max(1,Math.abs(B),Math.abs(ua))&&Math.abs(z-va)<=v.EPSILON*Math.max(1,Math.abs(z),Math.abs(va))&&Math.abs(G-ba)<=v.EPSILON*Math.max(1,Math.abs(G),Math.abs(ba))&&Math.abs(D-Ea)<=v.EPSILON*Math.max(1,Math.abs(D),Math.abs(Ea))&&Math.abs(H-Fa)<=v.EPSILON*Math.max(1,Math.abs(H),Math.abs(Fa))&&
Math.abs(a-b)<=v.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}function ea(a){const b=v.EPSILON,c=a[0],d=a[1],f=a[2],g=a[4],k=a[5],l=a[6],h=a[8],m=a[9];a=a[10];return Math.abs(1-(c*c+g*g+h*h))<=b&&Math.abs(1-(d*d+k*k+m*m))<=b&&Math.abs(1-(f*f+l*l+a*a))<=b}const ia=w.create();w=Object.freeze(Object.defineProperty({__proto__:null,copy:A,set:I,identity:r,transpose:q,invert:t,adjoint:N,determinant:V,multiply:C,translate:J,scale:E,rotate:W,rotateX:M,rotateY:U,rotateZ:T,fromTranslation:fa,fromScaling:ha,
fromRotation:K,fromXRotation:la,fromYRotation:y,fromZRotation:L,fromRotationTranslation:X,fromQuat2:da,getTranslation:Z,getScaling:wa,getRotation:xa,fromRotationTranslationScale:Ba,fromRotationTranslationScaleOrigin:ya,fromQuat:za,frustum:Da,perspective:Ca,perspectiveFromFieldOfView:na,ortho:oa,lookAt:P,targetTo:aa,str:ja,frob:ka,add:Aa,subtract:ma,multiplyScalar:n,multiplyScalarAndAdd:x,exactEquals:F,equals:ca,isOrthoNormal:ea,mul:C,sub:ma},Symbol.toStringTag,{value:"Module"}));e.add=Aa;e.adjoint=
N;e.copy=A;e.determinant=V;e.equals=ca;e.exactEquals=F;e.frob=ka;e.fromQuat=za;e.fromQuat2=da;e.fromRotation=K;e.fromRotationTranslation=X;e.fromRotationTranslationScale=Ba;e.fromRotationTranslationScaleOrigin=ya;e.fromScaling=ha;e.fromTranslation=fa;e.fromXRotation=la;e.fromYRotation=y;e.fromZRotation=L;e.frustum=Da;e.getRotation=xa;e.getScaling=wa;e.getTranslation=Z;e.identity=r;e.invert=t;e.isOrthoNormal=ea;e.lookAt=P;e.mat4=w;e.mul=C;e.multiply=C;e.multiplyScalar=n;e.multiplyScalarAndAdd=x;e.ortho=
oa;e.perspective=Ca;e.perspectiveFromFieldOfView=na;e.rotate=W;e.rotateX=M;e.rotateY=U;e.rotateZ=T;e.scale=E;e.set=I;e.str=ja;e.sub=ma;e.subtract=ma;e.targetTo=aa;e.translate=J;e.transpose=q})},"esri/chunks/vec4f64":function(){define(["exports"],function(e){function w(){return[0,0,0,0]}function v(K){return[K[0],K[1],K[2],K[3]]}function A(K,la,y,L){return[K,la,y,L]}function I(K){const la=w(),y=Math.min(4,K.length);for(let L=0;L<y;++L)la[L]=K[L];return la}function r(K,la){return new Float64Array(K,
la,4)}function q(){return w()}function t(){return[1,1,1,1]}function N(){return[1,0,0,0]}function V(){return[0,1,0,0]}function C(){return[0,0,1,0]}function J(){return[0,0,0,1]}const E=w(),W=t(),M=N(),U=V(),T=C(),fa=J(),ha=Object.freeze(Object.defineProperty({__proto__:null,create:w,clone:v,fromValues:A,fromArray:I,createView:r,zeros:q,ones:t,unitX:N,unitY:V,unitZ:C,unitW:J,ZEROS:E,ONES:W,UNIT_X:M,UNIT_Y:U,UNIT_Z:T,UNIT_W:fa},Symbol.toStringTag,{value:"Module"}));e.ONES=W;e.UNIT_W=fa;e.UNIT_X=M;e.UNIT_Y=
U;e.UNIT_Z=T;e.ZEROS=E;e.clone=v;e.create=w;e.createView=r;e.fromArray=I;e.fromValues=A;e.ones=t;e.unitW=J;e.unitX=N;e.unitY=V;e.unitZ=C;e.vec4f64=ha;e.zeros=q})},"esri/geometry/support/Axis":function(){define(["exports"],function(e){e.Axis=void 0;var w=e.Axis||(e.Axis={});w[w.X=0]="X";w[w.Y=1]="Y";w[w.Z=2]="Z";Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),
function(e,w,v,A,I,r){function q(C){return C?{origin:I.clone(C.origin),direction:I.clone(C.direction)}:{origin:I.create(),direction:I.create()}}function t(C,J,E=q()){A.copy(E.origin,C);A.copy(E.direction,J);return E}function N(C,J){C=A.cross(r.sv3d.get(),A.normalize(r.sv3d.get(),C.direction),A.subtract(r.sv3d.get(),J,C.origin));return A.dot(C,C)}const V=new v.ObjectStack(function(){return{origin:null,direction:null}});e.closestPoint=function(C,J,E){J=A.dot(C.direction,A.subtract(E,J,C.origin));A.add(E,
C.origin,A.scale(E,C.direction,J));return E};e.copy=function(C,J=q()){return t(C.origin,C.direction,J)};e.create=q;e.distance=function(C,J){return Math.sqrt(N(C,J))};e.distance2=N;e.equals=function(C,J){return w.equals(C.origin,J.origin)&&w.equals(C.direction,J.direction)};e.fromPoints=function(C,J,E=q()){A.copy(E.origin,C);A.subtract(E.direction,J,C);return E};e.fromValues=t;e.wrap=function(C,J){const E=V.get();E.origin=C;E.direction=J;return E};Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"esri/core/ObjectStack":function(){define(["exports","./nextTick"],function(e,w){let v=function(){function A(r){this.allocator=r;this._items=[];this._itemsPtr=0;this._grow()}var I=A.prototype;I.get=function(){0===this._itemsPtr&&w.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]};I._reset=function(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0};I._grow=function(){for(let r=
0;r<Math.max(8,Math.min(this._items.length,1024));r++)this._items.push(this.allocator())};return A}();e.ObjectStack=v;Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(e,w){const v=w.VectorStack.createVec2f64(),A=w.VectorStack.createVec3f64(),I=w.VectorStack.createVec4f64(),r=w.VectorStack.createMat3f64(),q=w.VectorStack.createMat4f64();w=w.VectorStack.createQuatf64();
e.sm3d=r;e.sm4d=q;e.sq4d=w;e.sv2d=v;e.sv3d=A;e.sv4d=I;Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/VectorStack":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./byteSizeEstimations ./nextTick ../chunks/mat3f64 ../chunks/mat4f64 ../chunks/quatf64 ../chunks/vec2f64 ../chunks/vec3f64 ../chunks/vec4f64".split(" "),function(e,w,v,A,I,r,q,t,N,V){let C=function(){function E(M,U,T){this.itemByteSize=M;this.itemCreate=U;this._buffers=
[];this._items=[];this._itemsPtr=0;this._itemsPerBuffer=Math.ceil(T/this.itemByteSize)}var W=E.prototype;W.get=function(){0===this._itemsPtr&&A.nextTick(()=>this._reset());const M=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=M;){const U=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let T=0;T<this._itemsPerBuffer;++T)this._items.push(this.itemCreate(U,T*this.itemByteSize));this._buffers.push(U)}return this._items[this._itemsPtr++]};W._reset=function(){const M=
2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>M;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0};E.createVec2f64=function(M=J){return new E(16,t.createView,M)};E.createVec3f64=function(M=J){return new E(24,N.createView,M)};E.createVec4f64=function(M=J){return new E(32,V.createView,M)};E.createMat3f64=function(M=J){return new E(72,I.createView,M)};E.createMat4f64=function(M=J){return new E(128,r.createView,M)};E.createQuatf64=
function(M=J){return new E(32,q.createView,M)};w._createClass(E,[{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}]);return E}();const J=4*v.ByteSizeUnit.KILOBYTES;e.VectorStack=C;Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(e){function w(v){return 32+v.length}e.ByteSizeUnit=void 0;(function(v){v[v.KILOBYTES=1024]="KILOBYTES";v[v.MEGABYTES=
1048576]="MEGABYTES";v[v.GIGABYTES=1073741824]="GIGABYTES"})(e.ByteSizeUnit||(e.ByteSizeUnit={}));e.estimateAttributesObjectSize=function(v){if(!v)return 0;let A=32;for(const I in v)if(v.hasOwnProperty(I)){const r=v[I];switch(typeof r){case "string":A+=w(r);break;case "number":A+=16;break;case "boolean":A+=4}}return A};e.estimateFixedArraySize=function(v,A){return 32+v.length*A};e.estimateNumberByteSize=function(){return 16};e.estimateStringByteSize=w;Object.defineProperties(e,{__esModule:{value:!0},
[Symbol.toStringTag]:{value:"Module"}})})},"esri/chunks/mat3f64":function(){define(["exports"],function(e){function w(){return[1,0,0,0,1,0,0,0,1]}function v(q){return[q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8]]}function A(q,t,N,V,C,J,E,W,M){return[q,t,N,V,C,J,E,W,M]}function I(q,t){return new Float64Array(q,t,9)}const r=Object.freeze(Object.defineProperty({__proto__:null,create:w,clone:v,fromValues:A,createView:I},Symbol.toStringTag,{value:"Module"}));e.clone=v;e.create=w;e.createView=I;e.fromValues=
A;e.mat3f64=r})},"esri/chunks/mat4f64":function(){define(["exports"],function(e){function w(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function v(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function A(t,N,V,C,J,E,W,M,U,T,fa,ha,K,la,y,L){return[t,N,V,C,J,E,W,M,U,T,fa,ha,K,la,y,L]}function I(t,N){return new Float64Array(t,N,16)}const r=w(),q=Object.freeze(Object.defineProperty({__proto__:null,create:w,clone:v,fromValues:A,createView:I,IDENTITY:r},
Symbol.toStringTag,{value:"Module"}));e.IDENTITY=r;e.clone=v;e.create=w;e.createView=I;e.fromValues=A;e.mat4f64=q})},"esri/chunks/quatf64":function(){define(["exports"],function(e){function w(){return[0,0,0,1]}function v(t){return[t[0],t[1],t[2],t[3]]}function A(t,N,V,C){return[t,N,V,C]}function I(t,N){return new Float64Array(t,N,4)}const r=w(),q=Object.freeze(Object.defineProperty({__proto__:null,create:w,clone:v,fromValues:A,createView:I,IDENTITY:r},Symbol.toStringTag,{value:"Module"}));e.IDENTITY=
r;e.clone=v;e.create=w;e.createView=I;e.fromValues=A;e.quatf64=q})},"esri/chunks/vec2f64":function(){define(["exports"],function(e){function w(){return[0,0]}function v(U){return[U[0],U[1]]}function A(U,T){return[U,T]}function I(U){const T=[0,0],fa=Math.min(2,U.length);for(let ha=0;ha<fa;++ha)T[ha]=U[ha];return T}function r(U,T){return new Float64Array(U,T,2)}function q(){return[0,0]}function t(){return[1,1]}function N(){return[1,0]}function V(){return[0,1]}const C=[0,0],J=[1,1],E=[1,0],W=[0,1],M=
Object.freeze(Object.defineProperty({__proto__:null,create:w,clone:v,fromValues:A,fromArray:I,createView:r,zeros:q,ones:t,unitX:N,unitY:V,ZEROS:C,ONES:J,UNIT_X:E,UNIT_Y:W},Symbol.toStringTag,{value:"Module"}));e.ONES=J;e.UNIT_X=E;e.UNIT_Y=W;e.ZEROS=C;e.clone=v;e.create=w;e.createView=r;e.fromArray=I;e.fromValues=A;e.ones=t;e.unitX=N;e.unitY=V;e.vec2f64=M;e.zeros=q})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec3","../../chunks/vec3f64"],function(e,
w,v,A){const I=A.create(),r=A.create();e.angle=function(q,t){q=v.dot(q,t)/(v.length(q)*v.length(t));return-w.acosClamped(q)};e.angleAroundAxis=function(q,t,N){v.normalize(I,q);v.normalize(r,t);q=v.dot(I,r);q=w.acosClamped(q);t=v.cross(I,I,r);return 0>v.dot(t,N)?2*Math.PI-q:q};e.projectPoint=function(q,t,N){t=v.dot(q,t)/v.dot(q,q);return v.scale(N,q,t)};e.projectPointSignedLength=function(q,t){return v.dot(q,t)/v.length(q)};Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})},
"*noref":1}});
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../core/typedArrayUtil ../../../libs/i3s/enums ../../../libs/i3s/I3SModule ./i3s/I3SNode".split(" "),function(e,w,v,A,I,r,q){function t(){t=w._asyncToGenerator(function*(y){yield fa();const L=[y.geometryBuffer];return{result:W(y,L),transferList:L}});return t.apply(this,arguments)}function N(){N=w._asyncToGenerator(function*(y){var L;yield fa();const X=[y.geometryBuffer];var {geometryBuffer:da}=y,Z=da.byteLength;y=
K._malloc(Z);Z=new Uint8Array(K.HEAPU8.buffer,y,Z);Z.set(new Uint8Array(da));da=K.dracoDecompressPointCloudData(y,Z.byteLength);K._free(y);if(0<da.error.length)throw`i3s.wasm: ${da.error}`;y=0<(null==(L=da.featureIds)?void 0:L.length)?A.slice(da.featureIds):null;L=A.slice(da.positions);y&&X.push(y.buffer);X.push(L.buffer);return{result:{positions:L,featureIds:y},transferList:X}});return N.apply(this,arguments)}function V(){V=w._asyncToGenerator(function*(y){yield fa();M(y);y={buffer:y.buffer};return{result:y,
transferList:[y.buffer]}});return V.apply(this,arguments)}function C(){C=w._asyncToGenerator(function*(y){yield fa();E(y)});return C.apply(this,arguments)}function J(){J=w._asyncToGenerator(function*(y){yield fa();K.setLegacySchema(y.context,y.jsonSchema)});return J.apply(this,arguments)}function E(y){const L=y.modifications,X=K._malloc(8*L.length),da=new Float64Array(K.HEAPU8.buffer,X,L.length);for(let Z=0;Z<L.length;++Z)da[Z]=L[Z];K.setModifications(y.context,X,L.length,y.isGeodetic);K._free(X)}
function W(y,L){if(!K)return null;const {context:X,localOrigin:da,globalTrafo:Z,mbs:wa,obb:xa,elevationOffset:Ba,geometryBuffer:ya,geometryDescriptor:za,indexToVertexProjector:Da,vertexToRenderProjector:Ca}=y;var na=K._malloc(ya.byteLength),oa=K._malloc(33*Float64Array.BYTES_PER_ELEMENT),P=new Uint8Array(K.HEAPU8.buffer,na,ya.byteLength);P.set(new Uint8Array(ya));var aa=new Float64Array(K.HEAPU8.buffer,oa,33);T(aa,da);var ja=aa.byteOffset+3*aa.BYTES_PER_ELEMENT,ka=new Float64Array(aa.buffer,ja);T(ka,
Z);ja+=16*aa.BYTES_PER_ELEMENT;ka=new Float64Array(aa.buffer,ja);T(ka,wa);ja+=4*aa.BYTES_PER_ELEMENT;v.isSome(xa)&&(ka=new Float64Array(aa.buffer,ja),T(ka,xa.center),ja+=3*aa.BYTES_PER_ELEMENT,ka=new Float64Array(aa.buffer,ja),T(ka,xa.halfSize),ja+=3*aa.BYTES_PER_ELEMENT,ka=new Float64Array(aa.buffer,ja),T(ka,xa.quaternion));aa={isDraco:!1,isLegacy:!1,color:y.layouts.some(ma=>ma.some(n=>"color"===n.name)),normal:y.needNormals&&y.layouts.some(ma=>ma.some(n=>"normalCompressed"===n.name)),uv0:y.layouts.some(ma=>
ma.some(n=>"uv0"===n.name)),uvRegion:y.layouts.some(ma=>ma.some(n=>"uvRegion"===n.name)),featureIndex:za.featureIndex};P=K.process(X,!!y.obb,na,P.byteLength,za,aa,oa,Ba,Da,Ca,y.normalReferenceFrame);K._free(oa);K._free(na);if(0<P.error.length)throw`i3s.wasm: ${P.error}`;if(P.discarded)return null;na=0<P.componentOffsets.length?A.slice(P.componentOffsets):null;oa=0<P.featureIds.length?A.slice(P.featureIds):null;aa=A.slice(P.interleavedVertedData).buffer;ja=P.indicesType===I.IndexType.Int16?A.slice(new Uint16Array(P.indices.buffer,
P.indices.byteOffset,P.indices.byteLength/2)):A.slice(new Uint32Array(P.indices.buffer,P.indices.byteOffset,P.indices.byteLength/4));ka=A.slice(P.positions);const Aa=P.positionIndicesType===I.IndexType.Int16?A.slice(new Uint16Array(P.positionIndices.buffer,P.positionIndices.byteOffset,P.positionIndices.byteLength/2)):A.slice(new Uint32Array(P.positionIndices.buffer,P.positionIndices.byteOffset,P.positionIndices.byteLength/4));y={layout:y.layouts[0],interleavedVertexData:aa,indices:ja,hasColors:P.hasColors,
hasModifications:P.hasModifications,positionData:{data:ka,indices:Aa}};oa&&L.push(oa.buffer);na&&L.push(na.buffer);L.push(aa);L.push(ja.buffer);L.push(ka.buffer);L.push(Aa.buffer);return{componentOffsets:na,featureIds:oa,transformedGeometry:y,obb:P.obb}}function M(y){const {context:L,buffer:X}=y;y=K._malloc(X.byteLength);const da=X.byteLength/Float64Array.BYTES_PER_ELEMENT,Z=new Float64Array(K.HEAPU8.buffer,y,da),wa=new Float64Array(X);Z.set(wa);K.filterOBBs(L,y,da);wa.set(Z);K._free(y)}function U(y){K&&
K.destroy(y)}function T(y,L){for(let X=0;X<L.length;++X)y[X]=L[X]}function fa(){if(K)return Promise.resolve();ha||(ha=r.get().then(y=>{K=y;ha=null}));return ha}let ha,K;const la={transform:W,destroy:U};e.destroyContext=function(y){U(y)};e.dracoDecompressPointCloudData=function(y){return N.apply(this,arguments)};e.filterObbsForModifications=function(y){return V.apply(this,arguments)};e.filterObbsForModificationsSync=M;e.initialize=fa;e.interpretObbModificationResults=function(y){return 0===y?q.NodeIMModificationImpact.Unmodified:
1===y?q.NodeIMModificationImpact.PotentiallyModified:2===y?q.NodeIMModificationImpact.Culled:q.NodeIMModificationImpact.Unknown};e.process=function(y){return t.apply(this,arguments)};e.setLegacySchema=function(y){return J.apply(this,arguments)};e.setModifications=function(y){return C.apply(this,arguments)};e.setModificationsSync=E;e.test=la;Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});