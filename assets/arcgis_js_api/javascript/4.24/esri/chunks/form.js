// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define(["exports","./dom","./componentsUtils"],function(h,v,w){function x(a,b){let d=!1;a.addEventListener("calciteInternalFormComponentRegister",c=>{d=c.composedPath().some(e=>p.has(e));c.stopPropagation()},{once:!0});b.dispatchEvent(new CustomEvent("calciteInternalFormComponentRegister",{bubbles:!0,composed:!0}));return d}function y(){"checked"in this?this.checked=this.defaultChecked:this.value=this.defaultValue}function z(a){const {el:b,formEl:d,name:c,value:e}=a,{ownerDocument:k}=b,m=b.querySelectorAll('input[slot\x3d"hidden-form-input"]');
if(d&&c){var n=Array.isArray(e)?e:[e],q=[],t=new Set;m.forEach(f=>{const g=n.find(A=>A==f.value);null!=g?(t.add(g),u(a,f,g)):q.push(f)});var l;n.forEach(f=>{if(!t.has(f)){var g=q.pop();g||(g=k.createElement("input"),g.slot="hidden-form-input");l||(l=k.createDocumentFragment());l.append(g);u(a,g,f)}});l&&b.append(l);q.forEach(f=>f.remove())}else m.forEach(f=>f.remove())}function u(a,b,d){var c;const {defaultValue:e,disabled:k,name:m,required:n}=a;b.defaultValue=e;b.disabled=k;b.name=m;b.required=n;
b.tabIndex=-1;"checked"in a?(b.defaultChecked=a.defaultChecked,b.value=a.checked?d||"on":"",k||a.checked||(b.disabled=!0)):b.value=d||"";null===(c=a.syncHiddenFormInput)||void 0===c?void 0:c.call(a,b)}const r=new WeakMap,p=new WeakSet;h.HiddenFormInputSlot=({component:a})=>{z(a);return w.h("slot",{name:"hidden-form-input"})};h.afterConnectDefaultValueSet=function(a,b){a.defaultValue=b};h.connectForm=function(a){const {el:b,value:d}=a,c=v.closestElementCrossShadowBoundary(b,"form");if(c&&!x(c,b)){a.formEl=
c;a.defaultValue=d;"checked"in a&&(a.defaultChecked=a.checked);var e=(a.onFormReset||y).bind(a);c.addEventListener("reset",e);r.set(a.el,e);p.add(b)}};h.disconnectForm=function(a){const {el:b,formEl:d}=a;if(d){var c=r.get(b);d.removeEventListener("reset",c);r.delete(b);a.formEl=null;p.delete(b)}};h.resetForm=function(a){var b;null===(b=a.formEl)||void 0===b?void 0:b.reset()};h.submitForm=function(a){var b;null===(b=a.formEl)||void 0===b?void 0:b.requestSubmit()}});