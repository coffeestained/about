// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("require exports ./_rollupPluginBabelHelpers ../arcade/arcadeCompiler ../arcade/arcadeRuntime ../arcade/parser ../arcade/treeAnalysis ../core/has".split(" "),function(k,c,q,m,p,n,r,P){function Q(a,b){return!0===b.useAsync||!0===a.isAsync?fa(a,b):P("esri-csp-restrictions")?function(d){return p.executeScript(a,d)}:m.compileScript(a,b)}function fa(a,b){if(null===f)throw Error("Async Arcade must be enabled for this script");return P("esri-csp-restrictions")?function(d){return f.executeScript(a,
d)}:m.compileScript(a,b,!0)}function R(a){p.extend(a);m.extend(a,"sync");null===f?v.push(a):(m.extend(a,"async"),f.extend(a))}function w(a,b=[]){return n.parseScript(a,b)}function S(a,b,d=""){return n.validateScript(a,b,d)}function T(a,b,d,g=""){return n.scriptCheck(a,b,d,g)}function U(a,b,d=[]){a=n.parseScript(a,d);return x(a,b)}function x(a,b){if(!0===b.useAsync||!0===a.isAsync){if(null===f)throw Error("Async Arcade must be enabled for this script");return f.executeScript(a,b)}return p.executeScript(a,
b)}function y(a,b){return p.referencesMember(a,b)}function V(a,b){return p.referencesFunction(a,b)}function W(a,b){return n.extractFieldLiterals(a)}function X(a){return n.extractExpectedFieldLiterals(a)}function t(a,b=[]){void 0===a.usesGeometry&&r.findScriptDependencies(a,b);return!0===a.usesGeometry}function z(){return A?A:A=B()}function B(){return C.apply(this,arguments)}function C(){C=q._asyncToGenerator(function*(){const [a,b]=yield Promise.all([new Promise((d,g)=>k(["../geometry/geometryEngine"],
d,g)),new Promise((d,g)=>k(["../arcade/functions/geomsync"],d,g))]);D=!0;b.setGeometryEngine(a);return!0});return C.apply(this,arguments)}function u(){return null!==E?E:E=F()}function F(){return G.apply(this,arguments)}function G(){G=q._asyncToGenerator(function*(){yield m.enableAsyncSupport();f=yield new Promise((a,b)=>k(["../arcade/arcadeAsyncRuntime"],a,b));for(const a of v)f.extend(a),m.extend(a,"async");v=null;return!0});return G.apply(this,arguments)}function Y(){return H}function I(){return f?
!0:!1}function Z(){return D}function J(){return K?K:K=L()}function L(){return M.apply(this,arguments)}function M(){M=q._asyncToGenerator(function*(){yield u();const [a,b,d,g,l]=yield Promise.all([new Promise((e,h)=>k(["../arcade/featureSetUtils"],e,h)),new Promise((e,h)=>k(["../arcade/functions/featuresetbase"],e,h)),new Promise((e,h)=>k(["../arcade/functions/featuresetgeom"],e,h)),new Promise((e,h)=>k(["../arcade/functions/featuresetstats"],e,h)),new Promise((e,h)=>k(["../arcade/functions/featuresetstring"],
e,h))]);aa=a;f.extend([b,d,g,l]);m.extend([b,d,g,l],"async");return H=!0});return M.apply(this,arguments)}function N(a,b=[]){void 0===a.usesFeatureSet&&r.findScriptDependencies(a,b);return!0===a.usesFeatureSet}function ba(a,b=[]){void 0===a.isAsync&&r.findScriptDependencies(a,b);return!0===a.isAsync}function ca(a,b){return O.apply(this,arguments)}function O(){O=q._asyncToGenerator(function*(a,b,d=[],g=!1){a="string"===typeof a?w(a):a;const l=[];if(a&&(!1===D&&(t(a)||g)&&l.push(z()),!1===I()&&(!0===
a.isAsync||b)&&l.push(u()),!1===H)){if(!(b=N(a)))a:{if(d)for(const e of d)if(y(a,e)){b=!0;break a}b=!1}b&&l.push(J())}l.length&&(yield Promise.all(l));return!0});return O.apply(this,arguments)}function da(a){if(t(a))return!0;a=r.findFunctionCalls(a);let b=!1;for(let d=0;d<a.length;d++)if(ha.includes(a[d])){b=!0;break}return b}function ea(){return aa}const ha="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split(" ");let H=!1,D=!1,f=null,v=[],
A=null,E=null,K=null,aa=null;const ia=Object.freeze(Object.defineProperty({__proto__:null,compileScript:Q,extend:R,parseScript:w,validateScript:S,scriptCheck:T,parseAndExecuteScript:U,executeScript:x,referencesMember:y,referencesFunction:V,extractFieldLiterals:W,extractExpectedFieldLiterals:X,scriptUsesGeometryEngine:t,enableGeometrySupport:z,enableGeometrySupportImpl:B,enableAsyncSupport:u,enableAsyncSupportImpl:F,isFeatureSetSupportEnabled:Y,isAsyncEnabled:I,isGeometryEnabled:Z,enableFeatureSetSupport:J,
enableFeatureSetSupportImpl:L,scriptUsesFeatureSet:N,scriptIsAsync:ba,loadScriptDependencies:ca,scriptTouchesGeometry:da,featureSetUtils:ea},Symbol.toStringTag,{value:"Module"}));c.arcade=ia;c.compileScript=Q;c.enableAsyncSupport=u;c.enableAsyncSupportImpl=F;c.enableFeatureSetSupport=J;c.enableFeatureSetSupportImpl=L;c.enableGeometrySupport=z;c.enableGeometrySupportImpl=B;c.executeScript=x;c.extend=R;c.extractExpectedFieldLiterals=X;c.extractFieldLiterals=W;c.featureSetUtils=ea;c.isAsyncEnabled=I;
c.isFeatureSetSupportEnabled=Y;c.isGeometryEnabled=Z;c.loadScriptDependencies=ca;c.parseAndExecuteScript=U;c.parseScript=w;c.referencesFunction=V;c.referencesMember=y;c.scriptCheck=T;c.scriptIsAsync=ba;c.scriptTouchesGeometry=da;c.scriptUsesFeatureSet=N;c.scriptUsesGeometryEngine=t;c.validateScript=S});