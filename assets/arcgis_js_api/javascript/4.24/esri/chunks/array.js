// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.24/esri/copyright.txt for details.
//>>built
define("exports ./_rollupPluginBabelHelpers ../arcade/FunctionWrapper ../arcade/ImmutableArray ./languageUtils ../core/promiseUtils".split(" "),function(t,p,w,x,d,r){function u(h){function m(f,g){if(g instanceof w)return h.arcadeCustomFunctionHandler(g);if(g instanceof d.NativeFunction)return(...b)=>g.fn(f,{preparsed:!0,arguments:b});if(g instanceof d.SizzleFunction)return(...b)=>{if(b.length!==g.paramCount)throw Error("Invalid parameters");return g.fn(...b)};throw Error("Invalid Parameter");}function n(f){if(f instanceof
x)return f.toArray();if(d.isArray(f))return f;throw Error("Invalid Parameter");}h.functions.array=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,1,2);b=d.toNumber(a[0]);if(isNaN(b)||!1===d.isInteger(b))throw Error("Invalid Parameter");a=d.defaultUndefined(a[1],null);b=Array(b);b.fill(a);return b})};h.functions.front=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,1,1);if(d.isImmutableArray(a[0])){if(0>=a[0].length())throw Error("Array is empty");return a[0].get(0)}if(d.isArray(a[0])){if(0>=
a[0].length)throw Error("Array is empty");return a[0][0]}throw Error("Invalid Parameter");})};h.functions.back=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,1,1);if(d.isImmutableArray(a[0])){if(0>=a[0].length())throw Error("Array is empty");return a[0].get(a[0].length()-1)}if(d.isArray(a[0])){if(0>=a[0].length)throw Error("Array is empty");return a[0][a[0].length-1]}throw Error("Invalid Parameter");})};h.functions.push=function(f,g){return h.standardFunction(f,g,function(b,
c,a){d.pcCheck(a,1,2);if(d.isArray(a[0]))return a[0][a[0].length]=a[1],a[0].length;throw Error("Invalid Parameter");})};h.functions.pop=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,1,1);if(d.isArray(a[0])){if(0>=a[0].length)throw Error("Array is empty");b=a[0][a[0].length-1];--a[0].length;return b}throw Error("Invalid Parameter");})};h.functions.erase=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,2,2);if(d.isArray(a[0])){b=d.toNumber(a[1]);if(isNaN(b)||
!1===d.isInteger(b))throw Error("Invalid Parameter");a=a[0];if(0>=a.length)throw Error("Array is empty");0>b&&(b=a.length+b);if(0>b)throw Error("Element not found");if(b>=a.length)throw Error("Index is greater than array");a.splice(b,1);return d.voidOperation}throw Error("Invalid Parameter");})};h.functions.insert=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,3,3);if(d.isArray(a[0])){b=d.toNumber(a[1]);if(isNaN(b)||!1===d.isInteger(b))throw Error("Invalid Parameter");c=a[2];
a=a[0];if(b>a.length)throw Error("Index is greater than array");if(0>b&&b<-1*a.length)throw Error("Index is greater than array");if(b===a.length)return a[b]=c,d.voidOperation;a.splice(b,0,c);return d.voidOperation}throw Error("Invalid Parameter");})};h.functions.resize=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,2,3);if(d.isArray(a[0])){c=d.toNumber(a[1]);if(isNaN(c)||!1===d.isInteger(c))throw Error("Invalid Parameter");if(0>c)throw Error("Size cannot be negative");b=d.defaultUndefined(a[2],
null);a=a[0];if(a.length>=c)return a.length=c,d.voidOperation;const e=a.length;a.length=c;for(c=e;c<a.length;c++)a[c]=b;return d.voidOperation}throw Error("Invalid Parameter");})};h.functions.includes=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,2,2);if(d.isArray(a[0])){const e=a[1];return-1<a[0].findIndex(k=>d.equalityTest(k,e))?!0:!1}if(d.isImmutableArray(a[0])){const e=a[1];return-1<a[0].toArray().findIndex(k=>d.equalityTest(k,e))?!0:!1}throw Error("Invalid Parameter");
})};h.functions.slice=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,1,3);if(d.isArray(a[0])){b=d.toNumber(d.defaultUndefined(a[1],0));c=d.toNumber(d.defaultUndefined(a[2],a[0].length));if(isNaN(b)||!1===d.isInteger(b))throw Error("Invalid Parameter");if(isNaN(c)||!1===d.isInteger(c))throw Error("Invalid Parameter");return a[0].slice(b,c)}if(d.isImmutableArray(a[0])){b=a[0];c=d.toNumber(d.defaultUndefined(a[1],0));a=d.toNumber(d.defaultUndefined(a[2],b.length()));if(isNaN(c)||
!1===d.isInteger(c))throw Error("Invalid Parameter");if(isNaN(a)||!1===d.isInteger(a))throw Error("Invalid Parameter");return b.toArray().slice(c,a)}throw Error("Invalid Parameter");})};h.functions.splice=function(f,g){return h.standardFunction(f,g,function(b,c,a){b=[];for(c=0;c<a.length;c++)d.isArray(a[c])?b.push(...a[c]):d.isImmutableArray(a[c])?b.push(...a[c].toArray()):b.push(a[c]);return b})};"sync"===h.mode&&(h.functions.any=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,
2,2);b=m(f,a[1]);a=n(a[0]);for(const e of a)if(a=b(e),d.isBoolean(a)&&!0===a)return!0;return!1})},h.functions.all=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,2,2);b=m(f,a[1]);a=n(a[0]);for(const e of a)if(!0!==b(e))return!1;return!0})},h.functions.none=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,2,2);b=m(f,a[1]);a=n(a[0]);for(const e of a)if(!0===b(e))return!1;return!0})},h.functions.reduce=function(f,g){return h.standardFunction(f,g,function(b,
c,a){d.pcCheck(a,2,3);const e=m(f,a[1]);b=n(a[0]);return 2===a.length?0===b.length?null:b.reduce((k,l)=>{k=e(k,l);return k=void 0!==k&&k!==d.voidOperation?k:null}):b.reduce((k,l)=>{k=e(k,l);return k=void 0!==k&&k!==d.voidOperation?k:null},a[2])})},h.functions.map=function(f,g){return h.standardFunction(f,g,function(b,c,a){d.pcCheck(a,2,2);b=m(f,a[1]);c=n(a[0]);a=[];for(const e of c)c=b(e),void 0!==c&&c!==d.voidOperation?a.push(c):a.push(null);return a})},h.functions.filter=function(f,g){return h.standardFunction(f,
g,function(b,c,a){d.pcCheck(a,2,2);b=m(f,a[1]);a=n(a[0]);c=[];for(const e of a)!0===b(e)&&c.push(e);return c})});"async"===h.mode&&(h.functions.any=function(f,g){return h.standardFunctionAsync(f,g,function(){var b=p._asyncToGenerator(function*(c,a,e){d.pcCheck(e,2,2);c=m(f,e[1]);e=n(e[0]);for(const k of e)if(e=yield c(k),a=null,a=r.isPromiseLike(a)?yield e:e,d.isBoolean(a)&&!0===a)return!0;return!1});return function(c,a,e){return b.apply(this,arguments)}}())},h.functions.all=function(f,g){return h.standardFunctionAsync(f,
g,function(){var b=p._asyncToGenerator(function*(c,a,e){d.pcCheck(e,2,2);c=m(f,e[1]);e=n(e[0]);for(const k of e)if(e=yield c(k),a=null,a=r.isPromiseLike(a)?yield e:e,!0!==a)return!1;return!0});return function(c,a,e){return b.apply(this,arguments)}}())},h.functions.none=function(f,g){return h.standardFunctionAsync(f,g,function(){var b=p._asyncToGenerator(function*(c,a,e){d.pcCheck(e,2,2);c=m(f,e[1]);e=n(e[0]);for(const k of e)if(e=yield c(k),a=null,a=r.isPromiseLike(a)?yield e:e,!0===a)return!1;return!0});
return function(c,a,e){return b.apply(this,arguments)}}())},h.functions.filter=function(f,g){return h.standardFunctionAsync(f,g,function(){var b=p._asyncToGenerator(function*(c,a,e){d.pcCheck(e,2,2);c=m(f,e[1]);a=n(e[0]);e=[];for(const k of a){a=yield c(k);let l=null;l=r.isPromiseLike(l)?yield a:a;!0===l&&e.push(k)}return e});return function(c,a,e){return b.apply(this,arguments)}}())},h.functions.reduce=function(f,g){return h.standardFunctionAsync(f,g,function(b,c,a){d.pcCheck(a,2,3);const e=m(f,
a[1]);b=n(a[0]);c=null;if(2<a.length)a=d.defaultUndefined(a[2],null),c=b.reduce(function(){var k=p._asyncToGenerator(function*(l,q){l=yield l;if(void 0===l||l===d.voidOperation)l=null;return e(l,q)});return function(l,q){return k.apply(this,arguments)}}(),Promise.resolve(a));else{if(0===b.length)return null;c=b.reduce(function(){var k=p._asyncToGenerator(function*(l,q,v){if(1>=v)return e(l,q);l=yield l;if(void 0===l||l===d.voidOperation)l=null;return e(l,q)});return function(l,q,v){return k.apply(this,
arguments)}}())}return c.then(k=>void 0!==k&&k!==d.voidOperation?k:null)})},h.functions.map=function(f,g){return h.standardFunctionAsync(f,g,function(){var b=p._asyncToGenerator(function*(c,a,e){d.pcCheck(e,2,2);c=m(f,e[1]);a=n(e[0]);e=[];for(const k of a){a=yield c(k);let l=null;l=r.isPromiseLike(l)?yield a:a;void 0!==l&&l!==d.voidOperation?e.push(l):e.push(null)}return e});return function(c,a,e){return b.apply(this,arguments)}}())})}const y=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:u},
Symbol.toStringTag,{value:"Module"}));t.ArrayFunctions=y;t.registerFunctions=u});