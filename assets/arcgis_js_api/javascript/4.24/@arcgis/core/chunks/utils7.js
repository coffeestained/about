/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function t(t,e,r,n){return function(t){return"function"==typeof t}(t)?t(e,r,n):t}function e(t){return[t.r,t.g,t.b,t.a]}function r(t,e,r){const a=t=>{let e=t.length;for(;e--;)if(!" /-,\n".includes(t.charAt(e)))return!1;return!0},i=[];let o=0,s=-1;do{if(s=e.indexOf("[",o),s>=o){if(s>o){const t=e.substr(o,s-o);i.push([t,null,a(t)])}if(o=s+1,s=e.indexOf("]",o),s>=o){if(s>o){const r=t[e.substr(o,s-o)];r&&i.push([null,r,!1])}o=s+1}}}while(-1!==s);if(o<e.length-1){const t=e.substr(o);i.push([t,null,a(t)])}return t=>{let e="",a=null;for(const r of i){const[n,i,o]=r;if(n)o?a=n:(a&&(e+=a,a=null),e+=n);else{const r=t.attributes[i];r&&(a&&(e+=a,a=null),e+=r)}}return n(e,r)}}function n(t,e){switch("string"!=typeof t&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function a(t,e,r,n,a,i,o=!0){const s=e/a,c=r/i,l=Math.ceil(s/2),u=Math.ceil(c/2);for(let r=0;r<i;r++)for(let f=0;f<a;f++){const M=4*(f+(o?i-r-1:r)*a);let p=0,C=0,y=0,I=0,h=0,k=0,m=0;const d=(r+.5)*c;for(let n=Math.floor(r*c);n<(r+1)*c;n++){const r=Math.abs(d-(n+.5))/u,a=(f+.5)*s,i=r*r;for(let r=Math.floor(f*s);r<(f+1)*s;r++){let o=Math.abs(a-(r+.5))/l;const s=Math.sqrt(i+o*o);s>=-1&&s<=1&&(p=2*s*s*s-3*s*s+1,p>0&&(o=4*(r+n*e),m+=p*t[o+3],y+=p,t[o+3]<255&&(p=p*t[o+3]/250),I+=p*t[o],h+=p*t[o+1],k+=p*t[o+2],C+=p))}}n[M]=I/C,n[M+1]=h/C,n[M+2]=k/C,n[M+3]=m/y}}function i(t){return t?{r:t[0],g:t[1],b:t[2],a:t[3]/255}:{r:0,g:0,b:0,a:0}}function o(t){return t.data?.symbol}function s(t){return"CIMVectorMarker"===t.type||"CIMPictureMarker"===t.type||"CIMBarChartMarker"===t.type||"CIMCharacterMarker"===t.type||"CIMPieChartMarker"===t.type||"CIMStackedBarChartMarker"===t.type}function c(t){return"CIMGradientStroke"===t.type||"CIMPictureStroke"===t.type||"CIMSolidStroke"===t.type}function l(t){return"CIMGradientFill"===t.type||"CIMHatchFill"===t.type||"CIMPictureFill"===t.type||"CIMSolidFill"===t.type||"CIMWaterFill"===t.type}function u(t){return"CIMMarkerPlacementAlongLineRandomSize"===t.type||"CIMMarkerPlacementAlongLineSameSize"===t.type||"CIMMarkerPlacementAlongLineVariableSize"===t.type||"CIMMarkerPlacementAtExtremities"===t.type||"CIMMarkerPlacementAtMeasuredUnits"===t.type||"CIMMarkerPlacementAtRatioPositions"===t.type||"CIMMarkerPlacementOnLine"===t.type||"CIMMarkerPlacementOnVertices"===t.type}const f=t=>isNaN(t)||!t?0:t,M=t=>{if(!t)return!1;for(const e of t)switch(e.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":return!0}return!1};function p(){return import("./geometryEngineJSON.js").then((t=>t.g))}export{n as _,c as a,l as b,u as c,r as d,t as e,i as f,e as g,f as h,s as i,M as j,p as k,a as r,o as t};
