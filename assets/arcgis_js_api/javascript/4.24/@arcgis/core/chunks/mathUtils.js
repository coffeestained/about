/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{E as t,R as n}from"./common.js";function a(){return[0,0,0]}function r(t){return[t[0],t[1],t[2]]}function u(t,n,a){return[t,n,a]}function s(t){const n=[0,0,0],a=Math.min(3,t.length);for(let r=0;r<a;++r)n[r]=t[r];return n}function o(t,n){return new Float64Array(t,n,3)}function e(){return u(0,0,1)}const c=[0,0,0],i=u(1,1,1),h=e();function f(t){const n=t[0],a=t[1],r=t[2];return Math.sqrt(n*n+a*a+r*r)}function M(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function l(t,n,a,r){return t[0]=n,t[1]=a,t[2]=r,t}function m(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t}function b(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t}function x(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t}function q(t,n){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t}function g(t,n){return t[0]=Math.sign(n[0]),t[1]=Math.sign(n[1]),t[2]=Math.sign(n[2]),t}function p(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t}function v(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t}function y(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t}function N(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return Math.sqrt(a*a+r*r+u*u)}function _(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return a*a+r*r+u*u}function A(t){const n=t[0],a=t[1],r=t[2];return n*n+a*a+r*r}function P(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function j(t,n){const a=n[0],r=n[1],u=n[2];let s=a*a+r*r+u*u;return s>0&&(s=1/Math.sqrt(s),t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s),t}function z(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function L(t,n,a){const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2];return t[0]=u*c-s*e,t[1]=s*o-r*c,t[2]=r*e-u*o,t}function O(t,n,a,r){const u=n[0],s=n[1],o=n[2];return t[0]=u+r*(a[0]-u),t[1]=s+r*(a[1]-s),t[2]=o+r*(a[2]-o),t}function w(t,n,a){const r=n[0],u=n[1],s=n[2];return t[0]=a[0]*r+a[4]*u+a[8]*s+a[12],t[1]=a[1]*r+a[5]*u+a[9]*s+a[13],t[2]=a[2]*r+a[6]*u+a[10]*s+a[14],t}function D(t,n,a){const r=n[0],u=n[1],s=n[2];return t[0]=r*a[0]+u*a[3]+s*a[6],t[1]=r*a[1]+u*a[4]+s*a[7],t[2]=r*a[2]+u*a[5]+s*a[8],t}function E(t,n,a){const r=a[0],u=a[1],s=a[2],o=a[3],e=n[0],c=n[1],i=n[2];let h=u*i-s*c,f=s*e-r*i,M=r*c-u*e,l=u*M-s*f,m=s*h-r*M,d=r*f-u*h;const b=2*o;return h*=b,f*=b,M*=b,l*=2,m*=2,d*=2,t[0]=e+h+l,t[1]=c+f+m,t[2]=i+M+d,t}function I(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[0]*Math.cos(r)-u[1]*Math.sin(r),s[1]=u[0]*Math.sin(r)+u[1]*Math.cos(r),s[2]=u[2],t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t}const S=[0,0,0],F=[0,0,0];function Q(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function T(n,a){if(n===a)return!0;const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2];return Math.abs(r-o)<=t*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(u-e)<=t*Math.max(1,Math.abs(u),Math.abs(e))&&Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))}function G(t,n,a){const r=a[0]-n[0],u=a[1]-n[1],s=a[2]-n[2];let o=r*r+u*u+s*s;return o>0?(o=1/Math.sqrt(o),t[0]=r*o,t[1]=u*o,t[2]=s*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const R=d,X=b,Y=x,Z=N,k=_,B=f,C=A,H=Object.freeze(Object.defineProperty({__proto__:null,length:f,copy:M,set:l,add:m,subtract:d,multiply:b,divide:x,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},abs:q,sign:g,min:p,max:function(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:v,scaleAndAdd:y,distance:N,squaredDistance:_,squaredLength:A,negate:P,inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:j,dot:z,cross:L,lerp:O,hermite:function(t,n,a,r,u,s){const o=s*s,e=o*(2*s-3)+1,c=o*(s-2)+s,i=o*(s-1),h=o*(3-2*s);return t[0]=n[0]*e+a[0]*c+r[0]*i+u[0]*h,t[1]=n[1]*e+a[1]*c+r[1]*i+u[1]*h,t[2]=n[2]*e+a[2]*c+r[2]*i+u[2]*h,t},bezier:function(t,n,a,r,u,s){const o=1-s,e=o*o,c=s*s,i=e*o,h=3*s*e,f=3*c*o,M=c*s;return t[0]=n[0]*i+a[0]*h+r[0]*f+u[0]*M,t[1]=n[1]*i+a[1]*h+r[1]*f+u[1]*M,t[2]=n[2]*i+a[2]*h+r[2]*f+u[2]*M,t},random:function(t,a){a=a||1;const r=2*n()*Math.PI,u=2*n()-1,s=Math.sqrt(1-u*u)*a;return t[0]=Math.cos(r)*s,t[1]=Math.sin(r)*s,t[2]=u*a,t},transformMat4:w,transformMat3:D,transformQuat:E,rotateX:function(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[0],s[1]=u[1]*Math.cos(r)-u[2]*Math.sin(r),s[2]=u[1]*Math.sin(r)+u[2]*Math.cos(r),t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t},rotateY:function(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[2]*Math.sin(r)+u[0]*Math.cos(r),s[1]=u[1],s[2]=u[2]*Math.cos(r)-u[0]*Math.sin(r),t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t},rotateZ:I,angle:function(t,n){M(S,t),M(F,n),j(S,S),j(F,F);const a=z(S,F);return a>1?0:a<-1?Math.PI:Math.acos(a)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:Q,equals:T,direction:G,sub:R,mul:X,div:Y,dist:Z,sqrDist:k,len:B,sqrLen:C},Symbol.toStringTag,{value:"Module"}));function J(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function K(t,n,a,r,u){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t}function U(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function V(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function W(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t[3]=n[3]*a[3],t}function $(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t[3]=n[3]/a[3],t}function tt(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function nt(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],s=n[3]-t[3];return Math.sqrt(a*a+r*r+u*u+s*s)}function at(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],s=n[3]-t[3];return a*a+r*r+u*u+s*s}function rt(t){const n=t[0],a=t[1],r=t[2],u=t[3];return Math.sqrt(n*n+a*a+r*r+u*u)}function ut(t){const n=t[0],a=t[1],r=t[2],u=t[3];return n*n+a*a+r*r+u*u}function st(t,n){const a=n[0],r=n[1],u=n[2],s=n[3];let o=a*a+r*r+u*u+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=a*o,t[1]=r*o,t[2]=u*o,t[3]=s*o),t}function ot(t,n,a,r){const u=n[0],s=n[1],o=n[2],e=n[3];return t[0]=u+r*(a[0]-u),t[1]=s+r*(a[1]-s),t[2]=o+r*(a[2]-o),t[3]=e+r*(a[3]-e),t}function et(t,n,a){const r=n[0],u=n[1],s=n[2],o=n[3];return t[0]=a[0]*r+a[4]*u+a[8]*s+a[12]*o,t[1]=a[1]*r+a[5]*u+a[9]*s+a[13]*o,t[2]=a[2]*r+a[6]*u+a[10]*s+a[14]*o,t[3]=a[3]*r+a[7]*u+a[11]*s+a[15]*o,t}function ct(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}const it=V,ht=W,ft=$,Mt=nt,lt=at,mt=rt,dt=ut,bt=Object.freeze(Object.defineProperty({__proto__:null,copy:J,set:K,add:U,subtract:V,multiply:W,divide:$,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},min:function(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t[3]=Math.min(n[3],a[3]),t},max:function(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t[3]=Math.max(n[3],a[3]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:tt,scaleAndAdd:function(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t},distance:nt,squaredDistance:at,length:rt,squaredLength:ut,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},normalize:st,dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},lerp:ot,random:function(t,a){let r,u,s,o,e,c;a=a||1;do{r=2*n()-1,u=2*n()-1,e=r*r+u*u}while(e>=1);do{s=2*n()-1,o=2*n()-1,c=s*s+o*o}while(c>=1);const i=Math.sqrt((1-e)/c);return t[0]=a*r,t[1]=a*u,t[2]=a*s*i,t[3]=a*o*i,t},transformMat4:et,transformQuat:function(t,n,a){const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2],i=a[3],h=i*r+e*s-c*u,f=i*u+c*r-o*s,M=i*s+o*u-e*r,l=-o*r-e*u-c*s;return t[0]=h*i+l*-o+f*-c-M*-e,t[1]=f*i+l*-e+M*-o-h*-c,t[2]=M*i+l*-c+h*-e-f*-o,t[3]=n[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:ct,equals:function(n,a){const r=n[0],u=n[1],s=n[2],o=n[3],e=a[0],c=a[1],i=a[2],h=a[3];return Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-c)<=t*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(s-i)<=t*Math.max(1,Math.abs(s),Math.abs(i))&&Math.abs(o-h)<=t*Math.max(1,Math.abs(o),Math.abs(h))},sub:it,mul:ht,div:ft,dist:Mt,sqrDist:lt,len:mt,sqrLen:dt},Symbol.toStringTag,{value:"Module"})),xt=new Float32Array(1);function qt(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function gt(t,n,a){return Math.min(Math.max(t,n),a)}function pt(t,n){return 0===n?0:Math.round(t/n)*n}function vt(t){return 0==(t&t-1)}function yt(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function Nt(t){return 10**Math.ceil(Math.LOG10E*Math.log(t))}function _t(t,n,a){return t+(n-t)*a}function At(t){return t*Math.PI/180}function Pt(t){return 180*t/Math.PI}function jt(t,n=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),n)}function zt(t){return Math.acos(gt(t,-1,1))}function Lt(t){return Math.asin(gt(t,-1,1))}function Ot(t,n,a=1e-6){if(isNaN(t)||isNaN(n))return!1;if(t===n)return!0;const r=Math.abs(t-n),u=Math.abs(t),s=Math.abs(n);if(0===t||0===n||u<1e-12&&s<1e-12){if(r>.01*a)return!1}else if(r/(u+s)>a)return!1;return!0}function wt(t,n,a=1e-6){return!isNaN(t)&&!isNaN(n)&&(t>n?t-n:n-t)<=a}function Dt(t){return Et(Math.max(-Tt,Math.min(t,Tt)))}function Et(t){return xt[0]=t,xt[0]}function It(t,n,a){const r=gt((a-t)/(n-t),0,1);return r*r*(3-2*r)}function St(t,n){const a=f(t);return l(n,a,Lt(t[2]/a),Math.atan2(t[1]/a,t[0]/a)),n}function Ft(t,n,a){return K(t,n[0],n[1],n[2],n[3]*a)}function Qt(t){const n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],a=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(wt(n,1)&&wt(a,1)&&wt(r,1))}const Tt=Et(34028234663852886e22);export{Ot as $,G as A,ct as B,B as C,st as D,o as E,D as F,O as G,_t as H,qt as I,K as J,et as K,P as L,s as M,C as N,i as O,k as P,at as Q,Z as R,vt as S,E as T,h as U,yt as V,Nt as W,T as X,wt as Y,c as Z,Ft as _,M as a,Dt as a0,Tt as a1,It as a2,tt as a3,U as a4,e as a5,q as a6,p as a7,y as a8,g as a9,b as aa,H as ab,bt as ac,jt as ad,x as ae,pt as af,Qt as ag,I as ah,m as b,gt as c,d,f as e,u as f,At as g,a as h,Lt as i,z as j,L as k,ot as l,J as m,j as n,v as o,A as p,r as q,Pt as r,l as s,R as t,zt as u,N as v,w,St as x,_ as y,Q as z};
