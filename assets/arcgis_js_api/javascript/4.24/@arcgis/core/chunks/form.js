/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{c as e}from"./dom.js";import{h as t}from"../widgets/Widget.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.82
 */function n(e){return"checked"in e}const o=new WeakMap,a=new WeakSet;function r(e){var t;null===(t=e.formEl)||void 0===t||t.requestSubmit()}function d(e){var t;null===(t=e.formEl)||void 0===t||t.reset()}function l(t){const{el:r,value:d}=t,l=e(r,"form");if(!l||function(e,t){const n="calciteInternalFormComponentRegister";let o=!1;return e.addEventListener(n,(e=>{o=e.composedPath().some((e=>a.has(e))),e.stopPropagation()}),{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),o}(l,r))return;t.formEl=l,t.defaultValue=d,n(t)&&(t.defaultChecked=t.checked);const c=(t.onFormReset||u).bind(t);l.addEventListener("reset",c),o.set(t.el,c),a.add(r)}function u(){n(this)?this.checked=this.defaultChecked:this.value=this.defaultValue}function c(e){const{el:t,formEl:n}=e;if(!n)return;const r=o.get(t);n.removeEventListener("reset",r),o.delete(t),e.formEl=null,a.delete(t)}function s(e,t){e.defaultValue=t}function i(e,t,o){var a;const{defaultValue:r,disabled:d,name:l,required:u}=e;t.defaultValue=r,t.disabled=d,t.name=l,t.required=u,t.tabIndex=-1,n(e)?(t.defaultChecked=e.defaultChecked,t.value=e.checked?o||"on":"",d||e.checked||(t.disabled=!0)):t.value=o||"",null===(a=e.syncHiddenFormInput)||void 0===a||a.call(e,t)}const f=({component:e})=>(function(e){const{el:t,formEl:n,name:o,value:a}=e,{ownerDocument:r}=t,d=t.querySelectorAll('input[slot="hidden-form-input"]');if(!n||!o)return void d.forEach((e=>e.remove()));const l=Array.isArray(a)?a:[a],u=[],c=new Set;let s;d.forEach((t=>{const n=l.find((e=>e==t.value));null!=n?(c.add(n),i(e,t,n)):u.push(t)})),l.forEach((t=>{if(c.has(t))return;let n=u.pop();n||(n=r.createElement("input"),n.slot="hidden-form-input"),s||(s=r.createDocumentFragment()),s.append(n),i(e,n,t)})),s&&t.append(s),u.forEach((e=>e.remove()))}(e),t("slot",{name:"hidden-form-input"}));export{f as H,s as a,l as c,c as d,d as r,r as s};
