/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{A as s}from"../chunks/ArrayPool.js";import i from"../core/Handles.js";import{d as t}from"../chunks/maybe.js";import{watch as r,initial as a}from"../core/reactiveUtils.js";import{property as l}from"../core/accessorSupport/decorators/property.js";import"../core/lang.js";import"../chunks/ensureType.js";import{subclass as h}from"../core/accessorSupport/decorators/subclass.js";import"../core/Accessor.js";import"../chunks/get.js";import"../chunks/utils.js";import"../chunks/handleUtils.js";import"../chunks/metadata.js";import"../chunks/Logger.js";import"../config.js";import"../chunks/object.js";import"../chunks/string.js";import"../chunks/tracking.js";import"../chunks/watch.js";import"../core/scheduling.js";import"../chunks/nextTick.js";import"../core/promiseUtils.js";import"../core/Error.js";import"../core/Collection.js";import"../core/Evented.js";import"../chunks/shared.js";import"../chunks/SimpleObservable.js";const n={widthBreakpoint:{getValue(e){const s=e.viewSize[0],i=e.breakpoints,t=this.values;return s<=i.xsmall?t.xsmall:s<=i.small?t.small:s<=i.medium?t.medium:s<=i.large?t.large:t.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const s=e.viewSize[1],i=e.breakpoints,t=this.values;return s<=i.xsmall?t.xsmall:s<=i.small?t.small:s<=i.medium?t.medium:s<=i.large?t.large:t.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const s=e.viewSize,i=s[0],t=s[1],r=this.values;return t>=i?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},o={xsmall:544,small:768,medium:992,large:1200};function m(e,s){return s?n[e].valueToClassName[s].split(" "):[]}const g=g=>{let p=class extends g{constructor(...e){super(...e),this._breakpointsHandles=new i,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=o}initialize(){this._breakpointsHandles.add(r((()=>[this.breakpoints,this.size]),(()=>this._updateClassNames()),a))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=t(this._breakpointsHandles))}set breakpoints(e){if(e===this._get("breakpoints"))return;const s=function(e){const s=e;return s&&s.xsmall<s.small&&s.small<s.medium&&s.medium<s.large}(e);if(!s){const e=JSON.stringify(o,null,2);console.warn("provided breakpoints are not valid, using defaults:"+e)}e=s?e:o,this._set("breakpoints",{...e})}_updateClassNames(){if(!this.container)return;const e=s.acquire(),i=s.acquire();let t,r=!1;for(t in n){const s=this[t],a=n[t].getValue({viewSize:this.size,breakpoints:this.breakpoints});s!==a&&(r=!0,this[t]=a,m(t,s).forEach((e=>i.push(e))),m(t,a).forEach((s=>e.push(s))))}r&&(this._applyClassNameChanges(e,i),s.release(e),s.release(i))}_applyClassNameChanges(e,s){const i=this.container;i&&(s.forEach((e=>i.classList.remove(e))),e.forEach((e=>i.classList.add(e))))}_removeActiveClassNames(){const e=this.container;if(!e)return;let s;for(s in n)m(s,this[s]).forEach((s=>e.classList.remove(s)))}};return e([l()],p.prototype,"breakpoints",null),e([l()],p.prototype,"orientation",void 0),e([l()],p.prototype,"widthBreakpoint",void 0),e([l()],p.prototype,"heightBreakpoint",void 0),p=e([h("esri.views.BreakpointsOwner")],p),p};export{g as BreakpointsOwner};
