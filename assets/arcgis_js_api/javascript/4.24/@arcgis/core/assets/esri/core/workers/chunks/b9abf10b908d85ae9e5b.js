"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[4403],{64403:(t,n,e)=>{e.r(n),e.d(n,{M:()=>c,S:()=>x,a:()=>p,f:()=>w,i:()=>A,s:()=>y});var r,o,i,s,a,u,c,f,h=e(71252),l=e(76506),d=e(73173);function m(t){return(0,d.g)(`esri/libs/i3s/${t}`)}let M,b,g;function y(t){const n=t.modifications,e=g._malloc(8*n.length),r=new Float64Array(g.HEAPU8.buffer,e,n.length);for(let t=0;t<n.length;++t)r[t]=n[t];g.setModifications(t.context,e,n.length,t.isGeodetic),g._free(e)}function _(t,n){if(!g)return null;const{context:e,localOrigin:r,globalTrafo:o,mbs:i,obb:s,elevationOffset:a,geometryBuffer:c,geometryDescriptor:f,indexToVertexProjector:d,vertexToRenderProjector:m}=t,M=g._malloc(c.byteLength),b=g._malloc(33*Float64Array.BYTES_PER_ELEMENT),y=new Uint8Array(g.HEAPU8.buffer,M,c.byteLength);y.set(new Uint8Array(c));const _=new Float64Array(g.HEAPU8.buffer,b,33);P(_,r);let p=_.byteOffset+3*_.BYTES_PER_ELEMENT,w=new Float64Array(_.buffer,p);P(w,o),p+=16*_.BYTES_PER_ELEMENT,w=new Float64Array(_.buffer,p),P(w,i),p+=4*_.BYTES_PER_ELEMENT,(0,h.i)(s)&&(w=new Float64Array(_.buffer,p),P(w,s.center),p+=3*_.BYTES_PER_ELEMENT,w=new Float64Array(_.buffer,p),P(w,s.halfSize),p+=3*_.BYTES_PER_ELEMENT,w=new Float64Array(_.buffer,p),P(w,s.quaternion));const E=f,A={isDraco:!1,isLegacy:!1,color:t.layouts.some((t=>t.some((t=>"color"===t.name)))),normal:t.needNormals&&t.layouts.some((t=>t.some((t=>"normalCompressed"===t.name)))),uv0:t.layouts.some((t=>t.some((t=>"uv0"===t.name)))),uvRegion:t.layouts.some((t=>t.some((t=>"uvRegion"===t.name)))),featureIndex:E.featureIndex},S=g.process(e,!!t.obb,M,y.byteLength,E,A,b,a,d,m,t.normalReferenceFrame);if(g._free(b),g._free(M),S.error.length>0)throw`i3s.wasm: ${S.error}`;if(S.discarded)return null;const x=S.componentOffsets.length>0?(0,l.s)(S.componentOffsets):null,I=S.featureIds.length>0?(0,l.s)(S.featureIds):null,B=(0,l.s)(S.interleavedVertedData).buffer,R=S.indicesType===u.Int16?(0,l.s)(new Uint16Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/2)):(0,l.s)(new Uint32Array(S.indices.buffer,S.indices.byteOffset,S.indices.byteLength/4)),L=(0,l.s)(S.positions),T=S.positionIndicesType===u.Int16?(0,l.s)(new Uint16Array(S.positionIndices.buffer,S.positionIndices.byteOffset,S.positionIndices.byteLength/2)):(0,l.s)(new Uint32Array(S.positionIndices.buffer,S.positionIndices.byteOffset,S.positionIndices.byteLength/4)),v={layout:t.layouts[0],interleavedVertexData:B,indices:R,hasColors:S.hasColors,hasModifications:S.hasModifications,positionData:{data:L,indices:T}};return I&&n.push(I.buffer),x&&n.push(x.buffer),n.push(B),n.push(R.buffer),n.push(L.buffer),n.push(T.buffer),{componentOffsets:x,featureIds:I,transformedGeometry:v,obb:S.obb}}function p(t){return 0===t?o.Unmodified:1===t?o.PotentiallyModified:2===t?o.Culled:o.Unknown}function w(t){const{context:n,buffer:e}=t,r=g._malloc(e.byteLength),o=e.byteLength/Float64Array.BYTES_PER_ELEMENT,i=new Float64Array(g.HEAPU8.buffer,r,o),s=new Float64Array(e);i.set(s),g.filterOBBs(n,r,o),s.set(i),g._free(r)}function E(t){g&&g.destroy(t)}function P(t,n){for(let e=0;e<n.length;++e)t[e]=n[e]}function A(){return g?Promise.resolve():(b||(b=(M||(M=new Promise((t=>e.e(2599).then(e.bind(e,92599)).then((t=>t.i)).then((({default:n})=>{const e=n({locateFile:m,onRuntimeInitialized:()=>t(e)});delete e.then})))).catch((t=>{throw t}))),M).then((t=>{g=t,b=null}))),b)}e(60939),(f=r||(r={}))[f.Unmodified=0]="Unmodified",f[f.Culled=1]="Culled",f[f.NotChecked=2]="NotChecked",function(t){t[t.Unmodified=0]="Unmodified",t[t.PotentiallyModified=1]="PotentiallyModified",t[t.Culled=2]="Culled",t[t.Unknown=3]="Unknown",t[t.NotChecked=4]="NotChecked"}(o||(o={})),function(t){t[t.Unknown=0]="Unknown",t[t.Uncached=1]="Uncached",t[t.Cached=2]="Cached"}(i||(i={})),function(t){t[t.None=0]="None",t[t.MaxScreenThreshold=1]="MaxScreenThreshold",t[t.ScreenSpaceRelative=2]="ScreenSpaceRelative",t[t.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",t[t.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(s||(s={})),function(t){t[t.Hole=0]="Hole",t[t.Leaf=1]="Leaf"}(a||(a={})),function(t){t[t.None=0]="None",t[t.Int16=1]="Int16",t[t.Int32=2]="Int32"}(u||(u={})),function(t){t[t.Replace=0]="Replace",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Finished=3]="Finished"}(c||(c={}));const S={transform:_,destroy:E},x=Object.freeze(Object.defineProperty({__proto__:null,process:async function(t){await A();const n=[t.geometryBuffer];return{result:_(t,n),transferList:n}},dracoDecompressPointCloudData:async function(t){await A();const n=[t.geometryBuffer],{geometryBuffer:e}=t,r=e.byteLength,o=g._malloc(r),i=new Uint8Array(g.HEAPU8.buffer,o,r);i.set(new Uint8Array(e));const s=g.dracoDecompressPointCloudData(o,i.byteLength);if(g._free(o),s.error.length>0)throw`i3s.wasm: ${s.error}`;const a=s.featureIds?.length>0?(0,l.s)(s.featureIds):null,u=(0,l.s)(s.positions);return a&&n.push(a.buffer),n.push(u.buffer),{result:{positions:u,featureIds:a},transferList:n}},filterObbsForModifications:async function(t){await A(),w(t);const n={buffer:t.buffer};return{result:n,transferList:[n.buffer]}},setModifications:async function(t){await A(),y(t)},setLegacySchema:async function(t){await A(),g.setLegacySchema(t.context,t.jsonSchema)},destroyContext:function(t){E(t)},setModificationsSync:y,interpretObbModificationResults:p,filterObbsForModificationsSync:w,initialize:A,test:S},Symbol.toStringTag,{value:"Module"}))},79764:(t,n,e)=>{function r(t){return 32+t.length}function o(t){if(!t)return 0;let n=32;for(const e in t)if(t.hasOwnProperty(e)){const o=t[e];switch(typeof o){case"string":n+=r(o);break;case"number":n+=16;break;case"boolean":n+=4}}return n}function i(t,n){return 32+t.length*n}var s;e.d(n,{B:()=>s,a:()=>i,e:()=>o}),function(t){t[t.KILOBYTES=1024]="KILOBYTES",t[t.MEGABYTES=1048576]="MEGABYTES",t[t.GIGABYTES=1073741824]="GIGABYTES"}(s||(s={}))},29794:(t,n,e)=>{e.d(n,{E:()=>r,R:()=>o});const r=1e-6,o=Math.random;Math.PI},57532:(t,n,e)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function i(t,n){return new Float64Array(t,n,16)}e.d(n,{I:()=>s,a:()=>i,b:()=>o,c:()=>r});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},82426:(t,n,e)=>{e.d(n,{A:()=>O,B:()=>K,E:()=>u,F:()=>B,G:()=>x,H:()=>ct,I:()=>it,J:()=>z,M:()=>a,O:()=>f,S:()=>at,T:()=>R,V:()=>ut,Z:()=>c,a:()=>l,a0:()=>Mt,a8:()=>_,ae:()=>g,ag:()=>yt,b:()=>m,c:()=>st,d:()=>M,e:()=>h,f:()=>s,g:()=>ft,h:()=>o,i:()=>dt,j:()=>A,k:()=>S,m:()=>Y,n:()=>P,o:()=>y,p:()=>E,q:()=>i,r:()=>ht,s:()=>d,u:()=>lt,v:()=>p,w:()=>I,x:()=>gt,y:()=>w,z:()=>v});var r=e(29794);function o(){return[0,0,0]}function i(t){return[t[0],t[1],t[2]]}function s(t,n,e){return[t,n,e]}function a(t){const n=[0,0,0],e=Math.min(3,t.length);for(let r=0;r<e;++r)n[r]=t[r];return n}function u(t,n){return new Float64Array(t,n,3)}const c=[0,0,0],f=s(1,1,1);function h(t){const n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function l(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function d(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function m(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function M(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function b(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function g(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function y(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function _(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function p(t,n){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(e*e+r*r+o*o)}function w(t,n){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return e*e+r*r+o*o}function E(t){const n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function P(t,n){const e=n[0],r=n[1],o=n[2];let i=e*e+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i),t}function A(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function S(t,n,e){const r=n[0],o=n[1],i=n[2],s=e[0],a=e[1],u=e[2];return t[0]=o*u-i*a,t[1]=i*s-r*u,t[2]=r*a-o*s,t}function x(t,n,e,r){const o=n[0],i=n[1],s=n[2];return t[0]=o+r*(e[0]-o),t[1]=i+r*(e[1]-i),t[2]=s+r*(e[2]-s),t}function I(t,n,e){const r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r+e[4]*o+e[8]*i+e[12],t[1]=e[1]*r+e[5]*o+e[9]*i+e[13],t[2]=e[2]*r+e[6]*o+e[10]*i+e[14],t}function B(t,n,e){const r=n[0],o=n[1],i=n[2];return t[0]=r*e[0]+o*e[3]+i*e[6],t[1]=r*e[1]+o*e[4]+i*e[7],t[2]=r*e[2]+o*e[5]+i*e[8],t}function R(t,n,e){const r=e[0],o=e[1],i=e[2],s=e[3],a=n[0],u=n[1],c=n[2];let f=o*c-i*u,h=i*a-r*c,l=r*u-o*a,d=o*l-i*h,m=i*f-r*l,M=r*h-o*f;const b=2*s;return f*=b,h*=b,l*=b,d*=2,m*=2,M*=2,t[0]=a+f+d,t[1]=u+h+m,t[2]=c+l+M,t}s(0,0,1);const L=[0,0,0],T=[0,0,0];function v(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function O(t,n,e){const r=e[0]-n[0],o=e[1]-n[1],i=e[2]-n[2];let s=r*r+o*o+i*i;return s>0?(s=1/Math.sqrt(s),t[0]=r*s,t[1]=o*s,t[2]=i*s,t):(t[0]=0,t[1]=0,t[2]=0,t)}const q=M,F=b,C=g,U=p,N=w,k=h,D=E;function Y(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function z(t,n,e,r,o){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t}function j(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function V(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function G(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function H(t,n){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],i=n[3]-t[3];return Math.sqrt(e*e+r*r+o*o+i*i)}function Z(t,n){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],i=n[3]-t[3];return e*e+r*r+o*o+i*i}function Q(t){const n=t[0],e=t[1],r=t[2],o=t[3];return Math.sqrt(n*n+e*e+r*r+o*o)}function X(t){const n=t[0],e=t[1],r=t[2],o=t[3];return n*n+e*e+r*r+o*o}function K(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}Object.freeze(Object.defineProperty({__proto__:null,length:h,copy:l,set:d,add:m,subtract:M,multiply:b,divide:g,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},abs:function(t,n){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t},sign:function(t,n){return t[0]=Math.sign(n[0]),t[1]=Math.sign(n[1]),t[2]=Math.sign(n[2]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:y,scaleAndAdd:_,distance:p,squaredDistance:w,squaredLength:E,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:P,dot:A,cross:S,lerp:x,hermite:function(t,n,e,r,o,i){const s=i*i,a=s*(2*i-3)+1,u=s*(i-2)+i,c=s*(i-1),f=s*(3-2*i);return t[0]=n[0]*a+e[0]*u+r[0]*c+o[0]*f,t[1]=n[1]*a+e[1]*u+r[1]*c+o[1]*f,t[2]=n[2]*a+e[2]*u+r[2]*c+o[2]*f,t},bezier:function(t,n,e,r,o,i){const s=1-i,a=s*s,u=i*i,c=a*s,f=3*i*a,h=3*u*s,l=u*i;return t[0]=n[0]*c+e[0]*f+r[0]*h+o[0]*l,t[1]=n[1]*c+e[1]*f+r[1]*h+o[1]*l,t[2]=n[2]*c+e[2]*f+r[2]*h+o[2]*l,t},random:function(t,n){n=n||1;const e=2*(0,r.R)()*Math.PI,o=2*(0,r.R)()-1,i=Math.sqrt(1-o*o)*n;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=o*n,t},transformMat4:I,transformMat3:B,transformQuat:R,rotateX:function(t,n,e,r){const o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},rotateY:function(t,n,e,r){const o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},rotateZ:function(t,n,e,r){const o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},angle:function(t,n){l(L,t),l(T,n),P(L,L),P(T,T);const e=A(L,T);return e>1?0:e<-1?Math.PI:Math.acos(e)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:v,equals:function(t,n){if(t===n)return!0;const e=t[0],o=t[1],i=t[2],s=n[0],a=n[1],u=n[2];return Math.abs(e-s)<=r.E*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-a)<=r.E*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(i-u)<=r.E*Math.max(1,Math.abs(i),Math.abs(u))},direction:O,sub:q,mul:F,div:C,dist:U,sqrDist:N,len:k,sqrLen:D},Symbol.toStringTag,{value:"Module"}));const $=j,J=V,W=G,tt=H,nt=Z,et=Q,rt=X,ot=(Object.freeze(Object.defineProperty({__proto__:null,copy:Y,set:z,add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t},subtract:j,multiply:V,divide:G,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t},scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t},distance:H,squaredDistance:Z,length:Q,squaredLength:X,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},normalize:function(t,n){const e=n[0],r=n[1],o=n[2],i=n[3];let s=e*e+r*r+o*o+i*i;return s>0&&(s=1/Math.sqrt(s),t[0]=e*s,t[1]=r*s,t[2]=o*s,t[3]=i*s),t},dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},lerp:function(t,n,e,r){const o=n[0],i=n[1],s=n[2],a=n[3];return t[0]=o+r*(e[0]-o),t[1]=i+r*(e[1]-i),t[2]=s+r*(e[2]-s),t[3]=a+r*(e[3]-a),t},random:function(t,n){let e,o,i,s,a,u;n=n||1;do{e=2*(0,r.R)()-1,o=2*(0,r.R)()-1,a=e*e+o*o}while(a>=1);do{i=2*(0,r.R)()-1,s=2*(0,r.R)()-1,u=i*i+s*s}while(u>=1);const c=Math.sqrt((1-a)/u);return t[0]=n*e,t[1]=n*o,t[2]=n*i*c,t[3]=n*s*c,t},transformMat4:function(t,n,e){const r=n[0],o=n[1],i=n[2],s=n[3];return t[0]=e[0]*r+e[4]*o+e[8]*i+e[12]*s,t[1]=e[1]*r+e[5]*o+e[9]*i+e[13]*s,t[2]=e[2]*r+e[6]*o+e[10]*i+e[14]*s,t[3]=e[3]*r+e[7]*o+e[11]*i+e[15]*s,t},transformQuat:function(t,n,e){const r=n[0],o=n[1],i=n[2],s=e[0],a=e[1],u=e[2],c=e[3],f=c*r+a*i-u*o,h=c*o+u*r-s*i,l=c*i+s*o-a*r,d=-s*r-a*o-u*i;return t[0]=f*c+d*-s+h*-u-l*-a,t[1]=h*c+d*-a+l*-s-f*-u,t[2]=l*c+d*-u+f*-a-h*-s,t[3]=n[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:K,equals:function(t,n){const e=t[0],o=t[1],i=t[2],s=t[3],a=n[0],u=n[1],c=n[2],f=n[3];return Math.abs(e-a)<=r.E*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(o-u)<=r.E*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-c)<=r.E*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-f)<=r.E*Math.max(1,Math.abs(s),Math.abs(f))},sub:$,mul:J,div:W,dist:tt,sqrDist:nt,len:et,sqrLen:rt},Symbol.toStringTag,{value:"Module"})),new Float32Array(1));function it(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function st(t,n,e){return Math.min(Math.max(t,n),e)}function at(t){return 0==(t&t-1)}function ut(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function ct(t,n,e){return t+(n-t)*e}function ft(t){return t*Math.PI/180}function ht(t){return 180*t/Math.PI}function lt(t){return Math.acos(st(t,-1,1))}function dt(t){return Math.asin(st(t,-1,1))}function mt(t,n,e=1e-6){return!isNaN(t)&&!isNaN(n)&&(t>n?t-n:n-t)<=e}function Mt(t){return bt(Math.max(-_t,Math.min(t,_t)))}function bt(t){return ot[0]=t,ot[0]}function gt(t,n){const e=h(t);return d(n,e,dt(t[2]/e),Math.atan2(t[1]/e,t[0]/e)),n}function yt(t){const n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],e=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(mt(n,1)&&mt(e,1)&&mt(r,1))}const _t=bt(34028234663852886e22)},30773:(t,n,e)=>{e.d(n,{n:()=>o});const r=[];function o(t){r.push(t),1===r.length&&queueMicrotask((()=>{const t=r.slice();r.length=0;for(const n of t)n()}))}},45087:(t,n,e)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function o(t,n){return new Float64Array(t,n,9)}function i(){return[0,0,0,1]}function s(t){return[t[0],t[1],t[2],t[3]]}function a(t,n){return new Float64Array(t,n,4)}e.d(n,{I:()=>u,a:()=>a,b:()=>r,c:()=>o,d:()=>i,e:()=>s});const u=[0,0,0,1]},2420:(t,n,e)=>{e.d(n,{a:()=>a,c:()=>i,w:()=>s}),e(76506);var r=e(67592),o=e(82426);function i(t){return t?{origin:(0,o.q)(t.origin),direction:(0,o.q)(t.direction)}:{origin:(0,o.h)(),direction:(0,o.h)()}}function s(t,n){const e=u.get();return e.origin=t,e.direction=n,e}function a(t,n,e){const r=(0,o.j)(t.direction,(0,o.d)(e,n,t.origin));return(0,o.b)(e,t.origin,(0,o.o)(e,t.direction,r)),e}const u=new r.O((function(){return{origin:null,direction:null}}))},60939:(t,n,e)=>{e.d(n,{c:()=>d,d:()=>m,e:()=>b,g:()=>M,i:()=>_,q:()=>x}),e(76506);var r,o,i=e(92143),s=e(82426),a=e(71252),u=e(65775),c=e(68681),f=e(2420),h=e(67592);(o=r||(r={}))[o.X=0]="X",o[o.Y=1]="Y",o[o.Z=2]="Z",(0,s.h)(),(0,s.h)();const l=i.L.getLogger("esri.geometry.support.sphere");function d(){return(0,c.c)()}function m(t,n=d()){return(0,s.m)(n,t)}function M(t){return t[3]}function b(t){return t}function g(t,n,e){if((0,a.a)(n))return!1;const{origin:r,direction:o}=n,i=y;i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2];const s=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],u=2*(o[0]*i[0]+o[1]*i[1]+o[2]*i[2]),c=u*u-4*s*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(c<0)return!1;const f=Math.sqrt(c);let h=(-u-f)/(2*s);const l=(-u+f)/(2*s);return(h<0||l<h&&l>0)&&(h=l),!(h<0||(e&&(e[0]=r[0]+o[0]*h,e[1]=r[1]+o[1]*h,e[2]=r[2]+o[2]*h),0))}const y=(0,s.h)();function _(t,n){return g(t,n,null)}function p(t,n,e){const r=h.s.get(),o=h.a.get();(0,s.k)(r,n.origin,n.direction);const i=M(t);(0,s.k)(e,r,n.origin),(0,s.o)(e,e,1/(0,s.e)(e)*i);const a=E(t,n.origin),c=function(t,n){const e=(0,s.j)(t,n)/((0,s.e)(t)*(0,s.e)(n));return-(0,s.u)(e)}(n.origin,e);return(0,u.h)(o,c+a,r),(0,s.w)(e,e,o),e}function w(t,n,e){const r=(0,s.d)(h.s.get(),n,t),o=(0,s.o)(h.s.get(),r,t[3]/(0,s.e)(r));return(0,s.b)(e,o,t)}function E(t,n){const e=(0,s.d)(h.s.get(),n,t),r=(0,s.e)(e),o=M(t),i=o+Math.abs(o-r);return(0,s.u)(o/i)}const P=(0,s.h)();function A(t,n,e,o){const i=(0,s.d)(P,n,t);switch(e){case r.X:{const t=(0,s.x)(i,P)[2];return(0,s.s)(o,-Math.sin(t),Math.cos(t),0)}case r.Y:{const t=(0,s.x)(i,P),n=t[1],e=t[2],r=Math.sin(n);return(0,s.s)(o,-r*Math.cos(e),-r*Math.sin(e),Math.cos(n))}case r.Z:return(0,s.n)(o,i);default:return}}function S(t,n){const e=(0,s.d)(I,n,t);return(0,s.e)(e)-t[3]}function x(t,n){const e=(0,s.y)(t,n),r=M(t);return e<=r*r}const I=(0,s.h)(),B=d();Object.freeze(Object.defineProperty({__proto__:null,create:d,copy:m,fromCenterAndRadius:function(t,n){return(0,c.a)(t[0],t[1],t[2],n)},wrap:function(t){return t},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},fromRadius:function(t,n){return t[0]=t[1]=t[2]=0,t[3]=n,t},getRadius:M,getCenter:b,fromValues:function(t,n,e,r){return(0,c.a)(t,n,e,r)},elevate:function(t,n,e){return t!==e&&(0,s.a)(e,t),e[3]=t[3]+n,e},setExtent:function(t,n,e){return l.error("sphere.setExtent is not yet supported"),t===e?e:m(t,e)},intersectRay:g,intersectsRay:_,intersectRayClosestSilhouette:function(t,n,e){if(g(t,n,e))return e;const r=p(t,n,h.s.get());return(0,s.b)(e,n.origin,(0,s.o)(h.s.get(),n.direction,(0,s.v)(n.origin,r)/(0,s.e)(n.direction))),e},closestPointOnSilhouette:p,closestPoint:function(t,n,e){return g(t,n,e)?e:((0,f.a)(n,t,e),w(t,e,e))},projectPoint:w,distanceToSilhouette:function(t,n){const e=(0,s.d)(h.s.get(),n,t),r=(0,s.p)(e),o=t[3]*t[3];return Math.sqrt(Math.abs(r-o))},angleToSilhouette:E,axisAt:A,altitudeAt:S,setAltitudeAt:function(t,n,e,o){const i=S(t,n),a=A(t,n,r.Z,I),u=(0,s.o)(I,a,e-i);return(0,s.b)(o,n,u)},containsPoint:x,tmpSphere:B},Symbol.toStringTag,{value:"Module"}))},32191:(t,n,e)=>{function r(){return[0,0]}function o(t,n){return new Float64Array(t,n,2)}e.d(n,{Z:()=>i,a:()=>r,c:()=>o});const i=[0,0]},68681:(t,n,e)=>{function r(){return[0,0,0,0]}function o(t,n,e,r){return[t,n,e,r]}function i(t,n){return new Float64Array(t,n,4)}e.d(n,{a:()=>o,b:()=>i,c:()=>r}),o(1,1,1,1)},67592:(t,n,e)=>{e.d(n,{O:()=>f,a:()=>M,s:()=>m});var r=e(30773),o=e(79764),i=e(45087),s=e(57532),a=e(32191),u=e(82426),c=e(68681);class f{constructor(t){this.allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.n)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*h);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,h));t++)this._items.push(this.allocator())}}const h=1024;class l{constructor(t,n,e){this.itemByteSize=t,this.itemCreate=n,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(e/this.itemByteSize)}get(){0===this._itemsPtr&&(0,r.n)((()=>this._reset()));const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const t=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let n=0;n<this._itemsPerBuffer;++n)this._items.push(this.itemCreate(t,n*this.itemByteSize));this._buffers.push(t)}return this._items[this._itemsPtr++]}_reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(t=d){return new l(16,a.c,t)}static createVec3f64(t=d){return new l(24,u.E,t)}static createVec4f64(t=d){return new l(32,c.b,t)}static createMat3f64(t=d){return new l(72,i.c,t)}static createMat4f64(t=d){return new l(128,s.a,t)}static createQuatf64(t=d){return new l(32,i.a,t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const d=4*o.B.KILOBYTES,m=(l.createVec2f64(),l.createVec3f64());l.createVec4f64(),l.createMat3f64();const M=l.createMat4f64();l.createQuatf64()}}]);