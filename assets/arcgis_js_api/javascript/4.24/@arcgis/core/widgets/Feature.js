/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{substitute as t}from"../intl.js";import{watch as s,initial as r}from"../core/reactiveUtils.js";import{aliasOf as i}from"../core/accessorSupport/decorators/aliasOf.js";import"../core/lang.js";import{cast as o}from"../core/accessorSupport/decorators/cast.js";import{property as n}from"../core/accessorSupport/decorators/property.js";import{subclass as a}from"../core/accessorSupport/decorators/subclass.js";import l from"./Widget.js";import"../chunks/ensureType.js";import p from"./Attachments.js";import m,{F as c,a as d,b as u,c as h,d as f}from"./Feature/FeatureViewModel.js";import{H as j}from"../chunks/Heading.js";import{i as y}from"../chunks/widgetUtils.js";import{t as b}from"../chunks/jsxFactory.js";import{s as v}from"./Attachments/AttachmentsViewModel.js";import{isWidget as g,hasDomNode as k}from"./support/widget.js";import{r as _}from"../chunks/string.js";import{m as M}from"../chunks/messageBundle.js";import{e as w}from"../core/promiseUtils.js";import{d as I}from"../chunks/utils13.js";import{g as C}from"../chunks/locale.js";import{i as x}from"../chunks/themeUtils.js";import"../chunks/Logger.js";import"../chunks/number2.js";import"../chunks/jsonMap.js";import"../chunks/object.js";import"../chunks/maybe.js";import"../chunks/messages.js";import"../core/Error.js";import"../config.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../chunks/assets.js";import"../chunks/handleUtils.js";import"../chunks/watch.js";import"../chunks/ArrayPool.js";import"../core/scheduling.js";import"../chunks/nextTick.js";import"../chunks/get.js";import"../chunks/utils.js";import"../chunks/tracking.js";import"../chunks/metadata.js";import"../chunks/domUtils.js";import"../core/Evented.js";import"../core/Accessor.js";import"../core/Handles.js";import"../core/Collection.js";import"../chunks/shared.js";import"../chunks/SimpleObservable.js";import"../core/Promise.js";import"../chunks/uuid.js";import"../chunks/projector.js";import"../chunks/jsxWidgetSupport.js";import"../chunks/unitFormatUtils.js";import"../chunks/byteSizeEstimations.js";import"../chunks/Cyclical.js";import"../chunks/mathUtils.js";import"../chunks/common.js";import"../chunks/unitUtils.js";import"../chunks/projectionEllipsoid.js";import"../geometry/SpatialReference.js";import"../core/JSONSupport.js";import"../chunks/writer.js";import"../chunks/Ellipsoid.js";import"../Graphic.js";import"../geometry.js";import"../geometry/Extent.js";import"../geometry/Geometry.js";import"../chunks/reader.js";import"../geometry/Point.js";import"../geometry/support/webMercatorUtils.js";import"../geometry/Multipoint.js";import"../chunks/zmUtils.js";import"../geometry/Polygon.js";import"../chunks/extentUtils.js";import"../geometry/Polyline.js";import"../chunks/typeUtils.js";import"../geometry/support/jsonUtils.js";import"../PopupTemplate.js";import"../layers/support/fieldUtils.js";import"../chunks/arcadeOnDemand.js";import"../popup/content.js";import"../popup/content/AttachmentsContent.js";import"../popup/content/Content.js";import"../popup/content/CustomContent.js";import"../popup/content/ExpressionContent.js";import"../popup/ElementExpressionInfo.js";import"../popup/content/FieldsContent.js";import"../popup/FieldInfo.js";import"../chunks/enumeration.js";import"../popup/support/FieldInfoFormat.js";import"../chunks/date.js";import"../popup/content/MediaContent.js";import"../popup/content/BarChartMediaInfo.js";import"../popup/content/mixins/ChartMediaInfo.js";import"../popup/content/mixins/MediaInfo.js";import"../popup/content/support/ChartMediaInfoValue.js";import"../popup/content/support/ChartMediaInfoValueSeries.js";import"../chunks/chartMediaInfoUtils.js";import"../popup/content/ColumnChartMediaInfo.js";import"../popup/content/ImageMediaInfo.js";import"../popup/content/support/ImageMediaInfoValue.js";import"../popup/content/LineChartMediaInfo.js";import"../popup/content/PieChartMediaInfo.js";import"../popup/content/TextContent.js";import"../popup/ExpressionInfo.js";import"../popup/LayerOptions.js";import"../popup/RelatedRecordsInfo.js";import"../popup/support/RelatedRecordsInfoFieldOrder.js";import"../support/actions/ActionBase.js";import"../chunks/Identifiable.js";import"../support/actions/ActionButton.js";import"../support/actions/ActionToggle.js";import"../symbols.js";import"../symbols/CIMSymbol.js";import"../symbols/Symbol.js";import"../Color.js";import"../chunks/colorUtils.js";import"../symbols/ExtrudeSymbol3DLayer.js";import"../symbols/Symbol3DLayer.js";import"../chunks/utils2.js";import"../symbols/edges/Edges3D.js";import"../chunks/screenUtils.js";import"../chunks/materialUtils.js";import"../chunks/opacityUtils.js";import"../symbols/edges/SketchEdges3D.js";import"../symbols/edges/SolidEdges3D.js";import"../chunks/Symbol3DMaterial.js";import"../symbols/FillSymbol.js";import"../symbols/SimpleLineSymbol.js";import"../symbols/LineSymbol.js";import"../symbols/LineSymbolMarker.js";import"../chunks/lineMarkers.js";import"../symbols/FillSymbol3DLayer.js";import"../symbols/patterns/LineStylePattern3D.js";import"../symbols/patterns/StylePattern3D.js";import"../chunks/utils3.js";import"../chunks/colors.js";import"../chunks/symbolLayerUtils3D.js";import"../chunks/aaBoundingBox.js";import"../chunks/aaBoundingRect.js";import"../symbols/Font.js";import"../symbols/IconSymbol3DLayer.js";import"../chunks/persistableUrlUtils.js";import"../symbols/LabelSymbol3D.js";import"../symbols/Symbol3D.js";import"../chunks/collectionUtils.js";import"../portal/Portal.js";import"../core/Loadable.js";import"../portal/PortalQueryParams.js";import"../portal/PortalQueryResult.js";import"../portal/PortalUser.js";import"../portal/PortalFolder.js";import"../portal/PortalGroup.js";import"../symbols/LineSymbol3DLayer.js";import"../symbols/LineStyleMarker3D.js";import"../core/Clonable.js";import"../symbols/ObjectSymbol3DLayer.js";import"../symbols/PathSymbol3DLayer.js";import"../symbols/TextSymbol3DLayer.js";import"../symbols/WaterSymbol3DLayer.js";import"../chunks/Thumbnail.js";import"../chunks/Symbol3DVerticalOffset.js";import"../symbols/callouts/Callout3D.js";import"../symbols/callouts/LineCallout3D.js";import"../symbols/LineSymbol3D.js";import"../symbols/MarkerSymbol.js";import"../symbols/MeshSymbol3D.js";import"../symbols/PictureFillSymbol.js";import"../chunks/urlUtils.js";import"../symbols/PictureMarkerSymbol.js";import"../symbols/PointSymbol3D.js";import"../symbols/PolygonSymbol3D.js";import"../symbols/SimpleFillSymbol.js";import"../symbols/SimpleMarkerSymbol.js";import"../symbols/TextSymbol.js";import"../symbols/WebStyleSymbol.js";import"../chunks/throttle.js";import"../core/HandleOwner.js";import"../chunks/languageUtils.js";import"../chunks/datetime.js";import"../chunks/number.js";import"../layers/support/Field.js";import"../chunks/domains.js";import"../layers/support/CodedValueDomain.js";import"../layers/support/Domain.js";import"../layers/support/InheritedDomain.js";import"../layers/support/RangeDomain.js";import"../chunks/fieldType.js";import"../chunks/DataLayerSource.js";import"../chunks/executeQueryJSON.js";import"../chunks/utils5.js";import"../chunks/query.js";import"../geometry/support/normalizeUtils.js";import"../chunks/normalizeUtilsCommon.js";import"../chunks/pbfQueryUtils.js";import"../chunks/pbf.js";import"../chunks/OptimizedGeometry.js";import"../chunks/OptimizedFeatureSet.js";import"../chunks/queryZScale.js";import"../chunks/zscale.js";import"../rest/support/FeatureSet.js";import"../rest/support/Query.js";import"../TimeExtent.js";import"../chunks/timeUtils.js";import"../rest/support/StatisticDefinition.js";import"../chunks/featureConversionUtils.js";import"../rest/query/support/AttachmentInfo.js";import"../rest/support/AttachmentQuery.js";import"../rest/support/RelationshipQuery.js";import"../rest/support/TopFeaturesQuery.js";import"../rest/support/TopFilter.js";import"../layers/FeatureLayer.js";import"../renderers/ClassBreaksRenderer.js";import"../renderers/Renderer.js";import"../renderers/support/AuthoringInfo.js";import"../renderers/support/AuthoringInfoVisualVariable.js";import"../chunks/colorRamps.js";import"../rest/support/AlgorithmicColorRamp.js";import"../rest/support/ColorRamp.js";import"../rest/support/MultipartColorRamp.js";import"../renderers/mixins/VisualVariablesMixin.js";import"../renderers/visualVariables/ColorVariable.js";import"../renderers/visualVariables/VisualVariable.js";import"../chunks/LegendOptions.js";import"../renderers/visualVariables/support/ColorStop.js";import"../renderers/visualVariables/OpacityVariable.js";import"../renderers/visualVariables/support/OpacityStop.js";import"../renderers/visualVariables/RotationVariable.js";import"../renderers/visualVariables/SizeVariable.js";import"../renderers/visualVariables/support/SizeStop.js";import"../chunks/sizeVariableUtils.js";import"../chunks/visualVariableUtils.js";import"../chunks/compilerUtils.js";import"../chunks/lengthUtils.js";import"../renderers/support/ClassBreakInfo.js";import"../chunks/commonProperties2.js";import"../symbols/support/jsonUtils.js";import"../chunks/symbolConversion.js";import"../renderers/DictionaryRenderer.js";import"../chunks/DictionaryLoader.js";import"../chunks/LRUCache.js";import"../chunks/MemCache.js";import"../renderers/DotDensityRenderer.js";import"../renderers/support/AttributeColorInfo.js";import"../renderers/HeatmapRenderer.js";import"../renderers/support/HeatmapColorStop.js";import"../chunks/heatmapUtils.js";import"../chunks/vec4f64.js";import"../renderers/PieChartRenderer.js";import"../renderers/SimpleRenderer.js";import"../renderers/UniqueValueRenderer.js";import"../chunks/diffUtils.js";import"../renderers/support/UniqueValueInfo.js";import"../chunks/styleUtils2.js";import"../renderers/support/jsonUtils.js";import"../chunks/MultiOriginJSONSupport.js";import"../core/sql.js";import"../form/FormTemplate.js";import"../form/ExpressionInfo.js";import"../form/elements/GroupElement.js";import"../form/elements/Element.js";import"../form/support/elements.js";import"../form/elements/FieldElement.js";import"../form/elements/support/inputs.js";import"../form/elements/inputs/BarcodeScannerInput.js";import"../form/elements/inputs/TextInput.js";import"../form/elements/inputs/Input.js";import"../form/elements/inputs/ComboBoxInput.js";import"../form/elements/inputs/DateTimePickerInput.js";import"../form/elements/inputs/RadioButtonsInput.js";import"../form/elements/inputs/SwitchInput.js";import"../form/elements/inputs/TextAreaInput.js";import"../form/elements/inputs/TextBoxInput.js";import"../geometry/HeightModelInfo.js";import"../layers/Layer.js";import"../chunks/FeatureIndex.js";import"../core/workers/workers.js";import"../core/workers/Connection.js";import"../chunks/Queue.js";import"../core/workers/RemoteClient.js";import"../layers/mixins/APIKeyMixin.js";import"../chunks/ArcGISService.js";import"../chunks/arcgisLayerUrl.js";import"../layers/mixins/BlendLayer.js";import"../chunks/jsonUtils.js";import"../chunks/parser2.js";import"../chunks/mat4f32.js";import"../chunks/mat4.js";import"../chunks/_commonjsHelpers.js";import"../layers/mixins/CustomParametersMixin.js";import"../layers/mixins/FeatureEffectLayer.js";import"../layers/support/FeatureEffect.js";import"../layers/support/FeatureFilter.js";import"../chunks/OperationalLayer.js";import"../chunks/commonProperties.js";import"../support/timeUtils.js";import"../chunks/ElevationInfo.js";import"../chunks/unitConversionUtils.js";import"../layers/mixins/OrderedLayer.js";import"../layers/mixins/PortalLayer.js";import"../chunks/asyncUtils.js";import"../portal/PortalItem.js";import"../portal/PortalItemResource.js";import"../portal/PortalRating.js";import"../layers/mixins/RefreshableLayer.js";import"../layers/mixins/ScaleRangeLayer.js";import"../layers/mixins/TemporalLayer.js";import"../TimeInterval.js";import"../layers/support/TimeInfo.js";import"../layers/support/TimeReference.js";import"../chunks/featureReductionUtils.js";import"../chunks/FeatureReduction.js";import"../layers/support/FeatureReductionBinning.js";import"../layers/support/AggregateField.js";import"../layers/support/OutStatistic.js";import"../layers/support/LabelClass.js";import"../chunks/labelUtils.js";import"../chunks/defaultsJSON.js";import"../layers/support/FeatureReductionCluster.js";import"../layers/support/FeatureReductionSelection.js";import"../layers/support/FeatureTemplate.js";import"../layers/support/FeatureType.js";import"../chunks/fieldProperties.js";import"../layers/support/FieldsIndex.js";import"../layers/support/GeometryFieldsInfo.js";import"../chunks/labelingInfo.js";import"../layers/support/LayerFloorInfo.js";import"../layers/support/Relationship.js";import"../chunks/versionUtils.js";import"../chunks/styleUtils.js";import"../support/popupUtils.js";import"../chunks/accessibleHandler.js";import"../chunks/vmEvent.js";import"../chunks/numberUtils.js";import"../chunks/utils6.js";import"../chunks/ItemCache.js";import"../symbols/support/cimSymbolUtils.js";import"../chunks/utils7.js";let F=class extends l{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return b("div",{class:"esri-feature-element-info"},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:e}=this;return e?b(j,{level:this.headingLevel,class:"esri-feature-element-info__title"},e):null}renderDescription(){const{description:e}=this;return e?b("div",{key:"description",class:"esri-feature-element-info__description"},e):null}};e([n()],F.prototype,"description",void 0),e([n()],F.prototype,"headingLevel",void 0),e([n()],F.prototype,"title",void 0),F=e([a("esri.widgets.Feature.support.FeatureElementInfo")],F);const L=F;let S=class extends l{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attachmentsWidget=new p,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new c}initialize(){this._featureElementInfo=new L,this.own([s((()=>[this.viewModel?.description,this.viewModel?.title,this.headingLevel]),(()=>this._setupFeatureElementInfo()),r),s((()=>this.viewModel?.graphic),(e=>this.attachmentsWidget.graphic=e),r)])}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){const{attachmentsWidget:e}=this;return b("div",{class:"esri-feature-attachments"},this._featureElementInfo?.render(),e?.render())}_setupFeatureElementInfo(){const{description:e,title:t,headingLevel:s}=this;this._featureElementInfo.set({description:e,title:t,headingLevel:s})}};e([n({readOnly:!0})],S.prototype,"attachmentsWidget",void 0),e([i("viewModel.description")],S.prototype,"description",void 0),e([i("attachmentsWidget.displayType")],S.prototype,"displayType",void 0),e([i("viewModel.graphic")],S.prototype,"graphic",void 0),e([n()],S.prototype,"headingLevel",void 0),e([i("viewModel.title")],S.prototype,"title",void 0),e([n({type:c})],S.prototype,"viewModel",void 0),S=e([a("esri.widgets.Feature.FeatureAttachments")],S);const T=S;let E=class extends l{constructor(e,t){super(e,t),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=e=>{Array.from(e.querySelectorAll("a")).forEach((e=>{v(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))}}renderLoading(){return b("div",{class:"esri-feature-content__loader-container",key:"loader"},b("div",{class:"esri-feature-content__loader"}))}renderCreated(){const e=this.viewModel?.created;return e?e instanceof HTMLElement?b("div",{key:e,bind:e,afterCreate:this._attachToNode}):g(e)?b("div",{key:e},!e.destroyed&&e.render()):b("div",{key:e,innerHTML:e,afterCreate:this._addTargetToAnchors}):null}render(){const e=this.viewModel?.state;return b("div",{class:"esri-feature-content"},"loading"===e?this.renderLoading():this.renderCreated())}_attachToNode(e){e.appendChild(this)}};e([i("viewModel.creator")],E.prototype,"creator",void 0),e([i("viewModel.graphic")],E.prototype,"graphic",void 0),e([n({type:d})],E.prototype,"viewModel",void 0),E=e([a("esri.widgets.Feature.FeatureContent")],E);const U=E,R=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];let A=class extends l{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new u,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new L,this.own(s((()=>[this.viewModel?.description,this.viewModel?.title]),(()=>this._setupFeatureElementInfo()),r))}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(e,t){const{attributes:s}=this.viewModel,r=e.fieldName,i=e.label||r,o=s?null==s[r]?"":s[r]:"",n=!(!e.format||!e.format.dateFormat),a="number"!=typeof o||n?function(e,t){if("string"!=typeof t||!t)return t;const s=function(e){let t=null;return R.some((s=>(s.pattern.test(e)&&(t=s),!!t))),t}(t);if(!s)return t;const r=t.match(s.pattern),i=r&&r[2],o=_(_(s.label,{messages:e,hierPart:i}),{appName:s.appName}),n=s.target?` target="${s.target}"`:"",a="_blank"===s.target?' rel="noreferrer"':"";return t.replace(s.pattern,`<a${n} href="$1"${a}>${o}</a>`)}(this.messagesURIUtils,o):this._forceLTR(o),l={"esri-feature-fields__field-data--date":n};return b("tr",{key:`fields-element-info-row-${r}-${t}`},b("th",{key:`fields-element-info-row-header-${r}-${t}`,class:"esri-feature-fields__field-header",innerHTML:i}),b("td",{key:`fields-element-info-row-data-${r}-${t}`,class:this.classes("esri-feature-fields__field-data",l),innerHTML:a}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e?.length?b("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},b("tbody",null,e.map(((e,t)=>this.renderFieldInfo(e,t))))):null}render(){return b("div",{class:"esri-feature-fields"},this._featureElementInfo?.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};e([i("viewModel.attributes")],A.prototype,"attributes",void 0),e([i("viewModel.description")],A.prototype,"description",void 0),e([i("viewModel.expressionInfos")],A.prototype,"expressionInfos",void 0),e([i("viewModel.fieldInfos")],A.prototype,"fieldInfos",void 0),e([i("viewModel.title")],A.prototype,"title",void 0),e([n({type:u})],A.prototype,"viewModel",void 0),e([n(),M("esri/widgets/Feature/t9n/Feature")],A.prototype,"messages",void 0),e([n(),M("esri/widgets/support/t9n/uriUtils")],A.prototype,"messagesURIUtils",void 0),A=e([a("esri.widgets.Feature.FeatureFields")],A);const P=A;var D=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],W=[{name:"default",colors:[].concat(D.slice(30,39),D.slice(28,30).reverse())},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];const V=new Map([["ar",()=>import("../chunks/ar.js").then((e=>e.a))],["bg-bg",()=>import("../chunks/bg_BG.js").then((e=>e.b))],["bs-ba",()=>import("../chunks/bs_BA.js").then((e=>e.b))],["ca-es",()=>import("../chunks/ca_ES.js").then((e=>e.c))],["cs-cz",()=>import("../chunks/cs_CZ.js").then((e=>e.c))],["da-dk",()=>import("../chunks/da_DK.js").then((e=>e.d))],["de-de",()=>import("../chunks/de_DE.js").then((e=>e.d))],["de-ch",()=>import("../chunks/de_CH.js").then((e=>e.d))],["el-gr",()=>import("../chunks/el_GR.js").then((e=>e.e))],["en-us",()=>import("../chunks/en_US.js").then((e=>e.e))],["en-ca",()=>import("../chunks/en_CA.js").then((e=>e.e))],["es-es",()=>import("../chunks/es_ES.js").then((e=>e.e))],["et-ee",()=>import("../chunks/et_EE.js").then((e=>e.e))],["fi-fi",()=>import("../chunks/fi_FI.js").then((e=>e.f))],["fr-fr",()=>import("../chunks/fr_FR.js").then((e=>e.f))],["he-il",()=>import("../chunks/he_IL.js").then((e=>e.h))],["hr-hr",()=>import("../chunks/hr_HR.js").then((e=>e.h))],["hu-hu",()=>import("../chunks/hu_HU.js").then((e=>e.h))],["id-id",()=>import("../chunks/id_ID.js").then((e=>e.i))],["it-it",()=>import("../chunks/it_IT.js").then((e=>e.i))],["ja-jp",()=>import("../chunks/ja_JP.js").then((e=>e.j))],["ko-kr",()=>import("../chunks/ko_KR.js").then((e=>e.k))],["lt-lt",()=>import("../chunks/lt_LT.js").then((e=>e.l))],["lv-lv",()=>import("../chunks/lv_LV.js").then((e=>e.l))],["nb-no",()=>import("../chunks/nb_NO.js").then((e=>e.n))],["nl-nl",()=>import("../chunks/nl_NL.js").then((e=>e.n))],["pl-pl",()=>import("../chunks/pl_PL.js").then((e=>e.p))],["pt-br",()=>import("../chunks/pt_BR.js").then((e=>e.p))],["pt-pt",()=>import("../chunks/pt_PT.js").then((e=>e.p))],["ro-ro",()=>import("../chunks/ro_RO.js").then((e=>e.r))],["ru-ru",()=>import("../chunks/ru_RU.js").then((e=>e.r))],["sk-sk",()=>import("../chunks/sk_SK.js").then((e=>e.s))],["sl-sl",()=>import("../chunks/sl_SL.js").then((e=>e.s))],["sr-rs",()=>import("../chunks/sr_RS.js").then((e=>e.s))],["sv-se",()=>import("../chunks/sv_SE.js").then((e=>e.s))],["th-th",()=>import("../chunks/th_TH.js").then((e=>e.t))],["tr-tr",()=>import("../chunks/tr_TR.js").then((e=>e.t))],["uk-ua",()=>import("../chunks/uk_UA.js").then((e=>e.u))],["vi-vn",()=>import("../chunks/vi_VN.js").then((e=>e.v))],["zh-cn",()=>import("../chunks/zh_Hans.js").then((e=>e.z))],["zh-hk",()=>import("../chunks/zh_Hant.js").then((e=>e.z))],["zh-tw",()=>import("../chunks/zh_Hant.js").then((e=>e.z))]]);let $,z;async function N(e=C()){if(e=function(e){return e?V.has(e.toLowerCase())?e.toLowerCase():function(e){const t=e.split("-")[0].toLowerCase();let s=null;for(const e of V.keys())if(e.startsWith(t)){s=e;break}return s}(e)||"en-us":"en-us"}(e),$&&e===z)return $;$=import("../chunks/index.js").then((e=>e.i)),z=e;try{const[t,s]=await Promise.all([$,V.get(z)()]);z===e&&(t.am4core.options.defaultLocale=s.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return $=null,z=null,null}return $}const B="esri-feature-media__icon";let H=class extends l{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new h,this.messages=null,this._getChartDependencies=async e=>{const t=await N(),{destroyed:s,viewModel:r}=this;if(s||!r||!e)return;const{activeMediaInfo:i}=r,o=await this._getRendererColors(t);this._renderChart({chartDiv:e,mediaInfo:i,chartsModule:t,colorMap:o})}}initialize(){this._featureElementInfo=new L,this.own([s((()=>[this.viewModel?.activeMediaInfo,this.viewModel?.activeMediaInfoIndex]),(()=>this._setupMediaRefreshTimer()),r),s((()=>[this.viewModel?.description,this.viewModel?.title]),(()=>this._setupFeatureElementInfo()),r)])}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){return b("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},this._featureElementInfo?.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e}=this.viewModel;return e?b("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:s,formattedMediaInfoCount:r}=this.viewModel,{value:i,refreshInterval:o,altText:n,title:a,type:l}=e,{sourceURL:p,linkURL:m}=i,c=v(m)?"_blank":"_self",d="_blank"===c?"noreferrer":"",u=o?t:null,h=u?u.timestamp:0,f=u?u.sourceURL:p,j=b("img",{alt:n||a,key:`media-${l}-${s}-${r}-${h}`,src:f});return(m?b("a",{title:a,href:m,rel:d,target:c},j):null)||j}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:s}=this.viewModel;return b("div",{key:`media-${e.type}-${t}-${s}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?"image"===e.type?this.renderImageMediaInfo(e):e.type.includes("chart")?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const t=e.title?b("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:e.title}):null,s=e.caption?b("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:e.caption}):null;return b("div",{key:"media-container",class:"esri-feature-media__item-container"},b("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()),t,s)}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const t="previous"===e,s=t?this.messages.previous:this.messages.next,r=t?this.classes("esri-feature-media__button","esri-feature-media__previous"):this.classes("esri-feature-media__button","esri-feature-media__next"),i=t?this.classes(B,"esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):this.classes(B,"esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),o=t?this.classes(B,"esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes(B,"esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow"),n=t?"media-previous":"media-next",a=t?this._previous:this._next;return b("button",{type:"button",key:n,title:s,"aria-label":s,tabIndex:0,class:r,bind:this,onclick:a},b("span",{"aria-hidden":"true",class:i}),b("span",{"aria-hidden":"true",class:o}))}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}async _getRendererColors(e){const{am4core:t}=e,s=this.viewModel?.layer,r=new Map;if(!s)return r;const i=await I(s.renderer);return i.delete(null),Array.from(i.values()).every((e=>1===e?.length))?(r.set("default-line-value",t.color({r:50,g:50,b:50,a:1})),Array.from(i.keys()).forEach((e=>{e&&r.set(e,t.color(i.get(e)[0].toCss(!0)))})),r):r}_handleMediaKeyup(e){const t=w(e);"ArrowLeft"===t&&(e.stopPropagation(),this.viewModel.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.viewModel.next())}_renderChart(e){const{abilities:t}=this.viewModel,{chartsModule:s,chartDiv:r,mediaInfo:i,colorMap:o}=e,{value:n,type:a}=i,{am4core:l}=s,p=function(e,t="default"){const s=W.find((e=>e.name===t));return s?s.colors.map((t=>e.color(t))):null}(l);x()&&l.useTheme(s.am4themes_dark);const m=window.matchMedia("(prefers-reduced-motion: reduce)");t.chartAnimation&&!m.matches?l.useTheme(s.am4themes_animated):l.unuseTheme(s.am4themes_animated),l.useTheme((function(e){e instanceof l.ColorSet&&p&&(e.list=p)}));const c="pie-chart"===a?this._createPieChart(e):this._createXYChart(e);r.setAttribute("aria-label",i.altText||i.title),c.data=n.series.map((e=>({tooltip:e.tooltip,value:e.value,color:o.get(e.fieldName)}))).filter((e=>"pie-chart"!==a||e.value>0))}_customizeChartTooltip(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}_createPieChart(e){const{chartDiv:t,chartsModule:s}=e,{am4core:r,am4charts:i}=s,o=r.create(t,i.PieChart);o.rtl=y(this.container);const n=o.series.push(new i.PieSeries);return n.labels.template.disabled=!0,n.ticks.template.disabled=!0,n.dataFields.value="value",n.dataFields.category="tooltip",this._customizeChartTooltip(n.tooltip,r),n.slices.template.tooltipText=o.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",n.slices.template.propertyFields.fill="color",n.slices.template.propertyFields.stroke="color",o}_getMinSeriesValue(e){let t=0;return e.forEach((e=>t=Math.min(e.value,t))),t}_createColumnChart(e,t){const{chartsModule:s,mediaInfo:r}=t,{value:i}=r,{am4core:o,am4charts:n}=s,a=e.xAxes.push(new n.CategoryAxis);a.dataFields.category="tooltip",a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,o),a.tooltip.events.on("sizechanged",(()=>{a.tooltip.dy=-a.tooltip.contentHeight}));const l=e.yAxes.push(new n.ValueAxis),p=l.renderer.labels.template;l.renderer.minLabelPosition=.05,l.renderer.maxLabelPosition=.95,l.min=this._getMinSeriesValue(i.series),this._customizeChartTooltip(l.tooltip,o),p.wrap=!0;const m=e.series.push(new n.ColumnSeries);m.dataFields.valueY="value",m.dataFields.categoryX="tooltip",m.columns.template.propertyFields.fill="color",m.columns.template.propertyFields.stroke="color",e.cursor=new n.XYCursor,i.series.length>15&&(e.scrollbarX=new o.Scrollbar)}_createBarChart(e,t){const{chartsModule:s,mediaInfo:r}=t,{value:i}=r,{am4core:o,am4charts:n}=s,a=e.yAxes.push(new n.CategoryAxis);a.dataFields.category="tooltip",a.renderer.inversed=!0,a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,o),a.tooltip.events.on("sizechanged",(()=>{a.tooltip.dx=a.tooltip.contentWidth}));const l=e.xAxes.push(new n.ValueAxis),p=l.renderer.labels.template;l.renderer.minLabelPosition=.05,l.renderer.maxLabelPosition=.95,l.min=this._getMinSeriesValue(i.series),this._customizeChartTooltip(l.tooltip,o),p.wrap=!0;const m=e.series.push(new n.ColumnSeries);m.dataFields.valueX="value",m.dataFields.categoryY="tooltip",m.columns.template.propertyFields.fill="color",m.columns.template.propertyFields.stroke="color",e.cursor=new n.XYCursor,i.series.length>15&&(e.scrollbarY=new o.Scrollbar)}_createLineChart(e,t){const{chartsModule:s,mediaInfo:r,colorMap:i}=t,{value:o}=r,{am4core:n,am4charts:a}=s,l=e.xAxes.push(new a.CategoryAxis);l.dataFields.category="tooltip",l.renderer.labels.template.disabled=!0,this._customizeChartTooltip(l.tooltip,n),l.tooltip.events.on("sizechanged",(()=>{l.tooltip.dy=-l.tooltip.contentHeight}));const p=e.yAxes.push(new a.ValueAxis),m=p.renderer.labels.template;p.renderer.minLabelPosition=.05,p.renderer.maxLabelPosition=.95,p.min=this._getMinSeriesValue(o.series),this._customizeChartTooltip(p.tooltip,n),m.wrap=!0;const c=e.series.push(new a.LineSeries);c.dataFields.categoryX="tooltip",c.dataFields.valueY="value",c.strokeWidth=1;const d=i.get("default-line-value");d&&(c.stroke=d);const u=c.bullets.push(new a.CircleBullet);u.propertyFields.fill="color",u.propertyFields.stroke="color",e.cursor=new a.XYCursor,o.series.length>15&&(e.scrollbarX=new n.Scrollbar)}_createXYChart(e){const{chartDiv:t,chartsModule:s,mediaInfo:r}=e,{type:i}=r,{am4core:o,am4charts:n}=s,a=o.create(t,n.XYChart);return a.rtl=y(this.container),"column-chart"===i&&this._createColumnChart(a,e),"bar-chart"===i&&this._createBarChart(a,e),"line-chart"===i&&this._createLineChart(a,e),a}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;e&&"image"===e.type&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:s}=e;if(!t)return;const r=6e4*t;this._updateMediaInfoTimestamp(s.sourceURL);const i=setInterval((()=>{this._updateMediaInfoTimestamp(s.sourceURL)}),r);this._refreshTimer=i}_getImageSource(e,t){const s=e.includes("?")?"&":"?",[r,i=""]=e.split("#");return`${r}${s}timestamp=${t}${i?"#":""}${i}`}};e([i("viewModel.attributes")],H.prototype,"attributes",void 0),e([i("viewModel.activeMediaInfoIndex")],H.prototype,"activeMediaInfoIndex",void 0),e([i("viewModel.description")],H.prototype,"description",void 0),e([i("viewModel.fieldInfoMap")],H.prototype,"fieldInfoMap",void 0),e([i("viewModel.layer")],H.prototype,"layer",void 0),e([i("viewModel.mediaInfos")],H.prototype,"mediaInfos",void 0),e([i("viewModel.popupTemplate")],H.prototype,"popupTemplate",void 0),e([i("viewModel.relatedInfos")],H.prototype,"relatedInfos",void 0),e([i("viewModel.title")],H.prototype,"title",void 0),e([n({type:h})],H.prototype,"viewModel",void 0),e([n(),M("esri/widgets/Feature/t9n/Feature")],H.prototype,"messages",void 0),H=e([a("esri.widgets.Feature.FeatureMedia")],H);const O=H;let q=class extends l{constructor(e,t){super(e,t),this.viewModel=new f}initialize(){this.own(s((()=>this.viewModel?.contentElementViewModel),(()=>this._setupExpressionWidget()),r))}destroy(){this._destroyContentWidget()}renderLoading(){return b("div",{key:"loading-container",class:"esri-feature__loading-container"},b("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}render(){const{state:e}=this.viewModel;return b("div",{class:"esri-feature-expression"},"loading"===e?this.renderLoading():"disabled"===e?null:this._contentWidget?.render())}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,s=t?.type;this._destroyContentWidget();const r=e?"fields"===s?new P({viewModel:e}):"media"===s?new O({viewModel:e}):"text"===s?new U({viewModel:e}):null:null;this._contentWidget=r,this.scheduleRender()}};e([n({type:f})],q.prototype,"viewModel",void 0),q=e([a("esri.widgets.Feature.FeatureExpression")],q);const K=q,X=t=>{let s=class extends t{constructor(){super(...arguments),this.renderNodeContent=e=>g(e)&&!e.destroyed?b("div",{key:e},e.render()):e instanceof HTMLElement?b("div",{key:e,bind:e,afterCreate:this._attachToNode}):k(e)?b("div",{key:e,bind:e.domNode,afterCreate:this._attachToNode}):null}_attachToNode(e){e.appendChild(this)}};return s=e([a("esri.widgets.Feature.ContentMixin")],s),s},Y="esri-feature__content-element",G={title:!0,content:!0,lastEditedInfo:!0};let Q=class extends(X(l)){constructor(e,t){super(e,t),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements={...G},this.map=null,this.view=null,this.viewModel=new m}initialize(){this.own(s((()=>this.viewModel?.contentViewModels),(()=>this._setupContentWidgets()),r))}loadDependencies(){return import("../chunks/calcite-notice.js")}destroy(){this._destroyContentWidgets()}castVisibleElements(e){return{...G,...e}}render(){const{state:e}=this.viewModel,t=b("div",{class:"esri-feature__size-container",key:"container"},this.renderTitle(),"error"===e?this.renderError():"loading"===e?this.renderLoading():this.renderContentContainer());return b("div",{class:this.classes("esri-feature","esri-widget")},t)}setActiveMedia(e,t){this.viewModel.setActiveMedia(e,t)}nextMedia(e){this.viewModel.nextMedia(e)}previousMedia(e){this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:s}=this;return b("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},s.title?b("div",{key:"error-title",slot:"title"},e.errorMessage):null,b("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return b("div",{key:"loading-container",class:"esri-feature__loading-container"},b("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?b("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?b(j,{level:this.headingLevel,class:"esri-feature__title",innerHTML:t}):null}renderContent(){const e=this.viewModel.content;if(!e)return null;if(Array.isArray(e))return e.length?b("div",{key:"content-content-elements"},e.map(this.renderContentElement,this)):null;if("string"==typeof e){const e=this._contentWidgets[0];return!e||e.destroyed?null:b("div",{key:"content-content"},e.render())}return this.renderNodeContent(e)}renderContentElement(e,t){const{visibleElements:s}=this;if("boolean"!=typeof s.content&&!s.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:s,attachmentInfos:r}=t.viewModel;return"loading"===s||r.length>0?b("div",{key:this._buildKey("attachments-element",e),class:this.classes(Y)},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:b("div",{key:this._buildKey("expression-element",e),class:Y},t.render())}renderCustom(e,t){const{creator:s}=e,r=this._contentWidgets[t];return!r||r.destroyed?null:s?b("div",{key:this._buildKey("custom-element",t),class:Y},r.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:b("div",{key:this._buildKey("fields-element",e),class:Y},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:b("div",{key:this._buildKey("media-element",e),class:Y},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:s}=this,{lastEditInfo:r}=this.viewModel;if(!r||!e.lastEditedInfo)return null;const{date:i,user:o}=r,n="edit"===r.type?o?s.lastEditedByUser:s.lastEdited:o?s.lastCreatedByUser:s.lastCreated,a=t(n,{date:i,user:o});return b("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",Y)},a)}renderText(e,t){const s=e.text,r=this._contentWidgets[t];return!r||r.destroyed?null:s?b("div",{key:this._buildKey("text-element",t),class:this.classes(Y,"esri-feature__text")},r.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach((e=>this._destroyContentWidget(e))),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,s=this.get("viewModel.content"),{contentViewModels:r}=this.viewModel;if(Array.isArray(s))s.forEach(((s,i)=>{"attachments"===s.type&&(this._contentWidgets[i]=new T({displayType:s.displayType,headingLevel:t.title?e+1:e,viewModel:r[i]})),"fields"===s.type&&(this._contentWidgets[i]=new P({viewModel:r[i]})),"media"===s.type&&(this._contentWidgets[i]=new O({viewModel:r[i]})),"text"===s.type&&(this._contentWidgets[i]=new U({viewModel:r[i]})),"custom"===s.type&&(this._contentWidgets[i]=new U({viewModel:r[i]})),"expression"===s.type&&(this._contentWidgets[i]=new K({viewModel:r[i]}))}),this);else{const e=r[0];e&&!e.destroyed&&(this._contentWidgets[0]=new U({viewModel:e}))}this.scheduleRender()}};e([i("viewModel.graphic")],Q.prototype,"graphic",void 0),e([i("viewModel.defaultPopupTemplateEnabled")],Q.prototype,"defaultPopupTemplateEnabled",void 0),e([n()],Q.prototype,"headingLevel",void 0),e([n({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Q.prototype,"label",void 0),e([n(),M("esri/widgets/Feature/t9n/Feature")],Q.prototype,"messages",void 0),e([n(),M("esri/t9n/common")],Q.prototype,"messagesCommon",void 0),e([n(),M("esri/widgets/support/t9n/uriUtils")],Q.prototype,"messagesURIUtils",void 0),e([i("viewModel.spatialReference")],Q.prototype,"spatialReference",void 0),e([i("viewModel.title")],Q.prototype,"title",void 0),e([n()],Q.prototype,"visibleElements",void 0),e([o("visibleElements")],Q.prototype,"castVisibleElements",null),e([i("viewModel.map")],Q.prototype,"map",void 0),e([i("viewModel.view")],Q.prototype,"view",void 0),e([n({type:m})],Q.prototype,"viewModel",void 0),Q=e([a("esri.widgets.Feature")],Q);const J=Q;export{X as F,J as default,N as l};
